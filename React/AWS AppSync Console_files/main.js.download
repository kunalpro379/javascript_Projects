(()=>{var fy={37062:(S,we,v)=>{var i={"./de.json":[53624,5588],"./en.json":[6660,5116],"./es.json":[65571,1163],"./fr.json":[34527,8479],"./id.json":[84858,22],"./it.json":[32938,8998],"./ja.json":[95986,4662],"./ko.json":[76881,9897],"./pt_BR.json":[50220,2858],"./th.json":[5631,8611],"./tr.json":[2785,649],"./translation.schema.json":[56343,1518],"./zh_CN.json":[99919,8397],"./zh_TW.json":[92063,4665]};function $e(Se){if(!v.o(i,Se))return Promise.resolve().then(()=>{var ce=new Error("Cannot find module '"+Se+"'");throw ce.code="MODULE_NOT_FOUND",ce});var te=i[Se],Ye=te[0];return v.e(te[1]).then(()=>v.t(Ye,19))}$e.keys=()=>Object.keys(i),$e.id=37062,S.exports=$e},36506:(S,we,v)=>{"use strict";v.r(we);var i=v(13764);v(15237).defineMode("graphql-schema",te=>{const Ye=(0,i.onlineParser)({eatWhitespace:ce=>ce.eatWhile(i.isIgnored),lexRules:i.LexRules,parseRules:i.ParseRules,editorConfig:{tabSize:te.tabSize}});return{config:te,startState:Ye.startState,token:Ye.token,indent:Se,electricInput:/^\s*[})\]]/,fold:"brace",lineComment:"#",closeBrackets:{pairs:'()[]{}""',explode:"()[]{}"}}});function Se(te,Ye){const{levels:ce}=te;return(!ce||ce.length===0?te.indentLevel:ce[ce.length-1]-(this.electricInput.test(Ye)?1:0))*this.config.indentUnit}},4684:(S,we,v)=>{"use strict";v.r(we),v.d(we,{hintList:()=>Se});const i=v(93574),$e=v(8364);function Se(je,lt){return te(lt,ce(je.string))}function te(je,lt){if(!lt)return Ye(je,function(Ne){return!Ne.isDeprecated});const Re=je.map(function(Ne){return{entry:Ne,proximity:T(ce(Ne.label),lt)}});return Ye(Ye(Re,function(Ne){return Ne.proximity<=2}),function(Ne){return!Ne.entry.isDeprecated}).sort(function(Ne,_){return(Ne.entry.isDeprecated?1:0)-(_.entry.isDeprecated?1:0)||Ne.proximity-_.proximity||Ne.entry.label.length-_.entry.label.length}).map(function(Ne){return Ne.entry})}function Ye(je,lt){const Re=je.filter(lt);return Re.length===0?je:Re}function ce(je){return je.toLowerCase().replace(/\W/g,"")}function T(je,lt){let Re=dt(lt,je);return je.length>lt.length&&(Re-=je.length-lt.length-1,Re+=je.indexOf(lt)===0?0:.5),Re}function dt(je,lt){let Re,D;const k=[],Ne=je.length,_=lt.length;for(Re=0;Re<=Ne;Re++)k[Re]=[Re];for(D=1;D<=_;D++)k[0][D]=D;for(Re=1;Re<=Ne;Re++)for(D=1;D<=_;D++){const l=je[Re-1]===lt[D-1]?0:1;k[Re][D]=Math.min(k[Re-1][D]+1,k[Re][D-1]+1,k[Re-1][D-1]+l),Re>1&&D>1&&je[Re-1]===lt[D-2]&&je[Re-2]===lt[D-1]&&(k[Re][D]=Math.min(k[Re][D],k[Re-2][D-2]+l))}return k[Ne][_]}},71923:(S,we,v)=>{"use strict";v.d(we,{C:()=>Ye});const i=v(93574),$e=v(13764),Se=v(80865),te=v(4684);function Ye(Re,D,k,Ne){const _=k||ce(Re,D),l=_.state.kind==="Invalid"?_.state.prevState:_.state,{line:yt}=D;if(!l)return[];const{kind:st}=l;let Dn=[],oa=[],Er=[],La=[],ka=[];st!=="ObjectTypeDef"&&st!=="InputDef"&&(Dn=dt(Re,"OBJECT"),oa=dt(Re,"INPUT"),Er=dt(Re,"ENUM"),La=dt(Re,"INTERFACE"),ka=dt(Re,"UNION"));const tn=Dn.map(function(Ke){return{label:Ke}}),Ma=oa.map(function(Ke){return{label:Ke}}),ds=Er.map(function(Ke){return{label:Ke}}),N=La.map(function(Ke){return{label:Ke}}),Fa=ka.map(function(Ke){return{label:Ke}});if(st==="Document")return te.hintList(_,[{label:"directive"},{label:"enum"},{label:"input"},{label:"interface"},{label:"scalar"},{label:"schema"},{label:"type"},{label:"union"}]);if(st==="Directive"){const Ke=[{label:"skip"},{label:"include"},{label:"deprecated"},{label:"hidden"},{label:"canonical"},{label:"renamed"},{label:"aws_iam"},{label:"aws_cognito_user_pools"},{label:"aws_api_key"},{label:"aws_oidc"},{label:"aws_subscribe"},{label:"aws_auth"},{label:"aws_lambda"}];return te.hintList(_,Ke)}if(st==="NamedType"){const Ke=je(Ne,D),oe=[{label:"Boolean"},{label:"Float"},{label:"ID"},{label:"Int"},{label:"String"},{label:"AWSDate"},{label:"AWSTime"},{label:"AWSDateTime"},{label:"AWSTimestamp"},{label:"AWSEmail"},{label:"AWSJSON"},{label:"AWSURL"},{label:"AWSPhone"},{label:"AWSIPAddress"}];let nt;switch(Ke){case"FieldDef":nt=[].concat(oe,tn,N,Fa,ds);break;case"InputValueDef":nt=[].concat(oe,Ma,ds);break;case"UnionDef":nt=tn;break;case"Implements":nt=N;break;default:break}return te.hintList(_,nt)}return[]}function ce(Re,D){let k=null,Ne=null,_=null;const l=T(Re,function(yt,st,Dn,oa){if(oa===D.line&&yt.getCurrentPosition()>=D.character)return k=Dn,Ne=extendsVar({},st),_=yt.current(),"BREAK"});return{end:l.end,start:l.start,state:Ne||l.state,string:_||l.string,style:k||l.style}}function T(Re,D){const k=Re.split(`
`),Ne=$e.onlineParser();let _=Ne.startState(),l="",yt=new $e.CharacterStream("");for(let st=0;st<k.length;st++){for(yt=new $e.CharacterStream(k[st]);!yt.eol()&&(l=Ne.token(yt,_),D(yt,_,l,st)!=="BREAK"););D(yt,_,l,st),_.kind||(_=Ne.startState())}return{end:yt.getCurrentPosition(),start:yt.getStartOfToken(),state:_,string:yt.current(),style:l}}function dt(Re,D){const k=Re.split(`
`),Ne=$e.onlineParser();let _=Ne.startState(),l="";const yt=[];let st=new $e.CharacterStream("");for(let Dn=0;Dn<k.length;Dn++){for(st=new $e.CharacterStream(k[Dn]);!st.eol();)switch(l=Ne.token(st,_),D){case"OBJECT":_.kind==="ObjectTypeDef"&&l==="atom"&&Se.indexOf(yt,st.current())===-1&&yt.push(st.current());break;case"INPUT":_.kind==="InputDef"&&l==="atom"&&Se.indexOf(yt,st.current())===-1&&yt.push(st.current());break;case"ENUM":_.kind==="EnumDef"&&l==="atom"&&Se.indexOf(yt,st.current())===-1&&yt.push(st.current());break;case"INTERFACE":_.kind==="InterfaceDef"&&l==="atom"&&Se.indexOf(yt,st.current())===-1&&yt.push(st.current());break;case"UNION":_.kind==="UnionDef"&&l==="atom"&&Se.indexOf(yt,st.current())===-1&&yt.push(st.current());break;default:break}_.kind||(_=Ne.startState())}return yt}function je(Re,D){let k;const{line:Ne}=D,{ch:_}=D,l=Re.getLineTokens(Ne),yt=lt(l),st=yt[0],Dn=yt[1];let oa=Re.getTokenAt(D),Er="NONE",La=!1,ka=!1;for(k=0;k<l.length;k++){if(oa=l[k],Er=oa.state.kind,Er==="UnionDef"||Er==="Implements")return Er;if(Er==="InputValueDef")La=!0;else if(Er==="FieldDef")ka=!0;else continue}return ka&&La?st===-1?_<Dn?"InputValueDef":"INVALID":_>st?_<Dn||Dn===-1?"InputValueDef":"FieldDef":"INVALID":La?"InputValueDef":ka?"FieldDef":"NONE"}function lt(Re){let D,k,Ne,_=-1,l=-1;for(D=0;D<Re.length;D++)if(k=Re[D],Ne=k.string,Ne==="(")_=k.start;else if(Ne===")")l=k.end;else continue;return[_,l]}},1794:(S,we,v)=>{"use strict";v.r(we);var i=v(71923);const $e=v(15237);$e.registerHelper("hint","graphql-schema",(Se,te)=>{const Ye=Se.getCursor(),ce=Se.getTokenAt(Ye),T=(0,i.C)(Se.getValue(),Ye,ce,Se),dt=ce.type!==null&&/"|\w/.test(ce.string[0])?ce.start:ce.end,je={list:T.map(lt=>({text:lt.label,description:lt.documentation,isDeprecated:lt.isDeprecated,deprecationReason:lt.deprecationReason})),from:{line:Ye.line,column:dt},to:{line:Ye.line,column:ce.end}};return je&&je.list&&je.list.length>0&&(je.from=$e.Pos(je.from.line,je.from.column),je.to=$e.Pos(je.to.line,je.to.column),$e.signal(Se,"hasCompletion",Se,je,ce)),je})},27537:(S,we,v)=>{var i={"./mode-abap":[3459,3459],"./mode-abap.js":[3459,3459],"./mode-abc":[1221,1221],"./mode-abc.js":[1221,1221],"./mode-actionscript":[79340,9340],"./mode-actionscript.js":[79340,9340],"./mode-ada":[71657,1657],"./mode-ada.js":[71657,1657],"./mode-alda":[45011,5011],"./mode-alda.js":[45011,5011],"./mode-apache_conf":[1496,1496],"./mode-apache_conf.js":[1496,1496],"./mode-apex":[88533,8533],"./mode-apex.js":[88533,8533],"./mode-applescript":[6205,8586],"./mode-applescript.js":[6205,8586],"./mode-aql":[46503,6503],"./mode-aql.js":[46503,6503],"./mode-asciidoc":[80270,270],"./mode-asciidoc.js":[80270,270],"./mode-asl":[66181,6181],"./mode-asl.js":[66181,6181],"./mode-assembly_arm32":[21137,1137],"./mode-assembly_arm32.js":[21137,1137],"./mode-assembly_x86":[88628,8628],"./mode-assembly_x86.js":[88628,8628],"./mode-astro":[22030,2030],"./mode-astro.js":[22030,2030],"./mode-autohotkey":[996,996],"./mode-autohotkey.js":[996,996],"./mode-batchfile":[63419,3419],"./mode-batchfile.js":[63419,3419],"./mode-bibtex":[82067,2067],"./mode-bibtex.js":[82067,2067],"./mode-c9search":[55677,5677],"./mode-c9search.js":[55677,5677],"./mode-c_cpp":[87826,7826],"./mode-c_cpp.js":[87826,7826],"./mode-cirru":[81450,1450],"./mode-cirru.js":[81450,1450],"./mode-clojure":[31001,1001],"./mode-clojure.js":[31001,1001],"./mode-cobol":[77406,7406],"./mode-cobol.js":[77406,7406],"./mode-coffee":[81898,9517],"./mode-coffee.js":[81898,9517],"./mode-coldfusion":[21843,1843],"./mode-coldfusion.js":[21843,1843],"./mode-crystal":[96199,6199],"./mode-crystal.js":[96199,6199],"./mode-csharp":[90830,830],"./mode-csharp.js":[90830,830],"./mode-csound_document":[47145,7145],"./mode-csound_document.js":[47145,7145],"./mode-csound_orchestra":[39417,9417],"./mode-csound_orchestra.js":[39417,9417],"./mode-csound_score":[64420,4420],"./mode-csound_score.js":[64420,4420],"./mode-csp":[36627,6627],"./mode-csp.js":[36627,6627],"./mode-css":[43158,3158],"./mode-css.js":[43158,3158],"./mode-curly":[90616,616],"./mode-curly.js":[90616,616],"./mode-cuttlefish":[98996,8996],"./mode-cuttlefish.js":[98996,8996],"./mode-d":[55113,5113],"./mode-d.js":[55113,5113],"./mode-dart":[57936,7936],"./mode-dart.js":[57936,7936],"./mode-diff":[38470,8470],"./mode-diff.js":[38470,8470],"./mode-django":[64570,4570],"./mode-django.js":[64570,4570],"./mode-dockerfile":[61507,1507],"./mode-dockerfile.js":[61507,1507],"./mode-dot":[38918,8918],"./mode-dot.js":[38918,8918],"./mode-drools":[72376,2376],"./mode-drools.js":[72376,2376],"./mode-edifact":[63135,3135],"./mode-edifact.js":[63135,3135],"./mode-eiffel":[80902,902],"./mode-eiffel.js":[80902,902],"./mode-ejs":[30897,897],"./mode-ejs.js":[30897,897],"./mode-elixir":[80638,638],"./mode-elixir.js":[80638,638],"./mode-elm":[96809,6809],"./mode-elm.js":[96809,6809],"./mode-erlang":[38506,8506],"./mode-erlang.js":[38506,8506],"./mode-flix":[45814,5814],"./mode-flix.js":[45814,5814],"./mode-forth":[56746,6746],"./mode-forth.js":[56746,6746],"./mode-fortran":[17247,7247],"./mode-fortran.js":[17247,7247],"./mode-fsharp":[46811,6811],"./mode-fsharp.js":[46811,6811],"./mode-fsl":[13452,3452],"./mode-fsl.js":[13452,3452],"./mode-ftl":[31255,1255],"./mode-ftl.js":[31255,1255],"./mode-gcode":[38749,8749],"./mode-gcode.js":[38749,8749],"./mode-gherkin":[311,311],"./mode-gherkin.js":[311,311],"./mode-gitignore":[51183,1183],"./mode-gitignore.js":[51183,1183],"./mode-glsl":[73781,3781],"./mode-glsl.js":[73781,3781],"./mode-gobstones":[90731,731],"./mode-gobstones.js":[90731,731],"./mode-golang":[72887,2887],"./mode-golang.js":[72887,2887],"./mode-graphqlschema":[95883,5883],"./mode-graphqlschema.js":[95883,5883],"./mode-groovy":[24499,4499],"./mode-groovy.js":[24499,4499],"./mode-haml":[46623,6623],"./mode-haml.js":[46623,6623],"./mode-handlebars":[62797,2797],"./mode-handlebars.js":[62797,2797],"./mode-haskell":[61305,1305],"./mode-haskell.js":[61305,1305],"./mode-haskell_cabal":[14742,2361],"./mode-haskell_cabal.js":[14742,2361],"./mode-haxe":[41293,1293],"./mode-haxe.js":[41293,1293],"./mode-hjson":[86187,6187],"./mode-hjson.js":[86187,6187],"./mode-html":[29072,9072],"./mode-html.js":[29072,9072],"./mode-html_elixir":[67772,7772],"./mode-html_elixir.js":[67772,7772],"./mode-html_ruby":[28507,8507],"./mode-html_ruby.js":[28507,8507],"./mode-ini":[69687,9687],"./mode-ini.js":[69687,9687],"./mode-io":[97665,7665],"./mode-io.js":[97665,7665],"./mode-ion":[95399,5399],"./mode-ion.js":[95399,5399],"./mode-jack":[13622,3622],"./mode-jack.js":[13622,3622],"./mode-jade":[5243,5243],"./mode-jade.js":[5243,5243],"./mode-java":[80569,569],"./mode-java.js":[80569,569],"./mode-javascript":[1766,1766],"./mode-javascript.js":[1766,1766],"./mode-jexl":[51004,1004],"./mode-jexl.js":[51004,1004],"./mode-json":[82327,2327],"./mode-json.js":[82327,2327],"./mode-json5":[63780,3780],"./mode-json5.js":[63780,3780],"./mode-jsoniq":[33537,3537],"./mode-jsoniq.js":[33537,3537],"./mode-jsp":[64108,4108],"./mode-jsp.js":[64108,4108],"./mode-jssm":[87406,5025],"./mode-jssm.js":[87406,5025],"./mode-jsx":[93236,3236],"./mode-jsx.js":[93236,3236],"./mode-julia":[33204,3204],"./mode-julia.js":[33204,3204],"./mode-kotlin":[2540,2540],"./mode-kotlin.js":[2540,2540],"./mode-latex":[38297,8297],"./mode-latex.js":[38297,8297],"./mode-latte":[96679,6679],"./mode-latte.js":[96679,6679],"./mode-less":[82628,2628],"./mode-less.js":[82628,2628],"./mode-liquid":[19249,9249],"./mode-liquid.js":[19249,9249],"./mode-lisp":[98769,8769],"./mode-lisp.js":[98769,8769],"./mode-livescript":[13124,3124],"./mode-livescript.js":[13124,3124],"./mode-logiql":[74413,4413],"./mode-logiql.js":[74413,4413],"./mode-logtalk":[39669,9669],"./mode-logtalk.js":[39669,9669],"./mode-lsl":[44330,4330],"./mode-lsl.js":[44330,4330],"./mode-lua":[80335,335],"./mode-lua.js":[80335,335],"./mode-luapage":[65408,5408],"./mode-luapage.js":[65408,5408],"./mode-lucene":[63471,3471],"./mode-lucene.js":[63471,3471],"./mode-makefile":[2045,2045],"./mode-makefile.js":[2045,2045],"./mode-markdown":[90008,8],"./mode-markdown.js":[90008,8],"./mode-mask":[11281,1281],"./mode-mask.js":[11281,1281],"./mode-matlab":[10472,472],"./mode-matlab.js":[10472,472],"./mode-maze":[99010,9010],"./mode-maze.js":[99010,9010],"./mode-mediawiki":[45029,5029],"./mode-mediawiki.js":[45029,5029],"./mode-mel":[11239,1239],"./mode-mel.js":[11239,1239],"./mode-mips":[2586,2586],"./mode-mips.js":[2586,2586],"./mode-mixal":[58382,8382],"./mode-mixal.js":[58382,8382],"./mode-mushcode":[23097,3097],"./mode-mushcode.js":[23097,3097],"./mode-mysql":[82555,2555],"./mode-mysql.js":[82555,2555],"./mode-nasal":[86902,6902],"./mode-nasal.js":[86902,6902],"./mode-nginx":[79685,9685],"./mode-nginx.js":[79685,9685],"./mode-nim":[85085,5085],"./mode-nim.js":[85085,5085],"./mode-nix":[11842,1842],"./mode-nix.js":[11842,1842],"./mode-nsis":[3082,3082],"./mode-nsis.js":[3082,3082],"./mode-nunjucks":[41170,1170],"./mode-nunjucks.js":[41170,1170],"./mode-objectivec":[23257,3257],"./mode-objectivec.js":[23257,3257],"./mode-ocaml":[73477,3477],"./mode-ocaml.js":[73477,3477],"./mode-odin":[37633,7633],"./mode-odin.js":[37633,7633],"./mode-partiql":[11788,1788],"./mode-partiql.js":[11788,1788],"./mode-pascal":[58045,8045],"./mode-pascal.js":[58045,8045],"./mode-perl":[17e3,7e3],"./mode-perl.js":[17e3,7e3],"./mode-pgsql":[94194,4194],"./mode-pgsql.js":[94194,4194],"./mode-php":[48077,8077],"./mode-php.js":[48077,8077],"./mode-php_laravel_blade":[7802,7802],"./mode-php_laravel_blade.js":[7802,7802],"./mode-pig":[1325,1325],"./mode-pig.js":[1325,1325],"./mode-plain_text":[65111,5111],"./mode-plain_text.js":[65111,5111],"./mode-plsql":[34817,4817],"./mode-plsql.js":[34817,4817],"./mode-powershell":[72456,2456],"./mode-powershell.js":[72456,2456],"./mode-praat":[9753,9753],"./mode-praat.js":[9753,9753],"./mode-prisma":[21901,1901],"./mode-prisma.js":[21901,1901],"./mode-prolog":[61594,1594],"./mode-prolog.js":[61594,1594],"./mode-properties":[87632,7632],"./mode-properties.js":[87632,7632],"./mode-protobuf":[52602,2602],"./mode-protobuf.js":[52602,2602],"./mode-prql":[18334,8334],"./mode-prql.js":[18334,8334],"./mode-puppet":[31835,1835],"./mode-puppet.js":[31835,1835],"./mode-python":[40975,975],"./mode-python.js":[40975,975],"./mode-qml":[10499,499],"./mode-qml.js":[10499,499],"./mode-r":[34163,4163],"./mode-r.js":[34163,4163],"./mode-raku":[62632,2632],"./mode-raku.js":[62632,2632],"./mode-razor":[63489,3489],"./mode-razor.js":[63489,3489],"./mode-rdoc":[38909,8909],"./mode-rdoc.js":[38909,8909],"./mode-red":[5438,5438],"./mode-red.js":[5438,5438],"./mode-redshift":[57108,7108],"./mode-redshift.js":[57108,7108],"./mode-rhtml":[2682,2682],"./mode-rhtml.js":[2682,2682],"./mode-robot":[19557,9557],"./mode-robot.js":[19557,9557],"./mode-rst":[87624,7624],"./mode-rst.js":[87624,7624],"./mode-ruby":[47281,7281],"./mode-ruby.js":[47281,7281],"./mode-rust":[6147,6147],"./mode-rust.js":[6147,6147],"./mode-sac":[72496,2496],"./mode-sac.js":[72496,2496],"./mode-sass":[14527,4527],"./mode-sass.js":[14527,4527],"./mode-scad":[64442,4442],"./mode-scad.js":[64442,4442],"./mode-scala":[97359,7359],"./mode-scala.js":[97359,7359],"./mode-scheme":[93534,3534],"./mode-scheme.js":[93534,3534],"./mode-scrypt":[56742,6742],"./mode-scrypt.js":[56742,6742],"./mode-scss":[79869,9869],"./mode-scss.js":[79869,9869],"./mode-sh":[44286,4286],"./mode-sh.js":[44286,4286],"./mode-sjs":[29755,9755],"./mode-sjs.js":[29755,9755],"./mode-slim":[96332,6332],"./mode-slim.js":[96332,6332],"./mode-smarty":[51057,1057],"./mode-smarty.js":[51057,1057],"./mode-smithy":[71540,9159],"./mode-smithy.js":[71540,9159],"./mode-snippets":[47387,7387],"./mode-snippets.js":[47387,7387],"./mode-soy_template":[77385,7385],"./mode-soy_template.js":[77385,7385],"./mode-space":[70471,471],"./mode-space.js":[70471,471],"./mode-sparql":[70316,316],"./mode-sparql.js":[70316,316],"./mode-sql":[14973,4973],"./mode-sql.js":[14973,4973],"./mode-sqlserver":[57881,262],"./mode-sqlserver.js":[57881,262],"./mode-stylus":[63767,3767],"./mode-stylus.js":[63767,3767],"./mode-svg":[76667,6667],"./mode-svg.js":[76667,6667],"./mode-swift":[73330,3330],"./mode-swift.js":[73330,3330],"./mode-tcl":[69170,9170],"./mode-tcl.js":[69170,9170],"./mode-terraform":[42049,2049],"./mode-terraform.js":[42049,2049],"./mode-tex":[68648,8648],"./mode-tex.js":[68648,8648],"./mode-text":[2070,2070],"./mode-text.js":[2070,2070],"./mode-textile":[15692,5692],"./mode-textile.js":[15692,5692],"./mode-toml":[85477,5477],"./mode-toml.js":[85477,5477],"./mode-tsx":[90846,846],"./mode-tsx.js":[90846,846],"./mode-turtle":[31723,1723],"./mode-turtle.js":[31723,1723],"./mode-twig":[8992,8992],"./mode-twig.js":[8992,8992],"./mode-typescript":[24854,4854],"./mode-typescript.js":[24854,4854],"./mode-vala":[32499,2499],"./mode-vala.js":[32499,2499],"./mode-vbscript":[74142,4142],"./mode-vbscript.js":[74142,4142],"./mode-velocity":[30470,470],"./mode-velocity.js":[30470,470],"./mode-verilog":[61079,1079],"./mode-verilog.js":[61079,1079],"./mode-vhdl":[1655,1655],"./mode-vhdl.js":[1655,1655],"./mode-visualforce":[79258,9258],"./mode-visualforce.js":[79258,9258],"./mode-vue":[44417,4417],"./mode-vue.js":[44417,4417],"./mode-wollok":[61777,1777],"./mode-wollok.js":[61777,1777],"./mode-xml":[69776,9776],"./mode-xml.js":[69776,9776],"./mode-xquery":[67705,7705],"./mode-xquery.js":[67705,7705],"./mode-yaml":[30766,766],"./mode-yaml.js":[30766,766],"./mode-zeek":[71496,9115],"./mode-zeek.js":[71496,9115],"./mode-zig":[72823,2823],"./mode-zig.js":[72823,2823]};function $e(Se){if(!v.o(i,Se))return Promise.resolve().then(()=>{var ce=new Error("Cannot find module '"+Se+"'");throw ce.code="MODULE_NOT_FOUND",ce});var te=i[Se],Ye=te[0];return v.e(te[1]).then(()=>v.t(Ye,23))}$e.keys=()=>Object.keys(i),$e.id=27537,S.exports=$e},74265:()=>{},80480:()=>{},5723:()=>{},75177:()=>{},71713:(S,we,v)=>{"use strict";var i=v(96540),$e=v.t(i,2),Se=v(5338),te=v(61225),Ye=v(84976);function ce(...t){return t.join("/")}var T=v(9404),dt=v(50246),je=v(46083);const lt={SupportedRegionOptions:[{disabled:!1,id:"us-east-1",label:"US-EAST-1"},{disabled:!1,id:"us-east-2",label:"US-EAST-2"},{disabled:!1,id:"us-west-1",label:"US-WEST-1"},{disabled:!1,id:"us-west-2",label:"US-WEST-2"},{disabled:!1,id:"ap-south-1",label:"AP-SOUTH-1"},{disabled:!1,id:"ap-northeast-1",label:"AP-NORTHEAST-1"},{disabled:!1,id:"ap-northeast-2",label:"AP-NORTHEAST-2"},{disabled:!1,id:"ap-southeast-1",label:"AP-SOUTHEAST-1"},{disabled:!1,id:"ap-southeast-2",label:"AP-SOUTHEAST-2"},{disabled:!1,id:"eu-central-1",label:"EU-CENTRAL-1"},{disabled:!1,id:"eu-north-1",label:"EU-NORTH-1"},{disabled:!1,id:"eu-west-1",label:"EU-WEST-1"},{disabled:!1,id:"eu-west-2",label:"EU-WEST-2"},{disabled:!1,id:"eu-west-3",label:"EU-WEST-3"},{disabled:!1,id:"ca-central-1",label:"CA-CENTRAL-1"},{disabled:!1,id:"me-south-1",label:"ME-SOUTH-1"},{disabled:!1,id:"sa-east-1",label:"SA-EAST-1"}]};var Re=(t=>(t.COGNITO_IDP="cognitoidp",t.RDS_DATA="rdsdataservice",t))(Re||{}),D=(t=>(t.INIT="DEEPDISH_INIT",t.DELAYED_DISPATCH="DELAYED_DISPATCH",t.CREATE_BEGIN="CREATE.BEGIN",t.CREATE_SUCCESS="CREATE.SUCCESS",t.CREATE_FAILURE="CREATE.FAILURE",t.CREATE_DONE="CREATE.DONE",t.UPDATE_BEGIN="UPDATE.BEGIN",t.UPDATE_SUCCESS="UPDATE.SUCCESS",t.UPDATE_FAILURE="UPDATE.FAILURE",t.DELETE_BEGIN="DELETE.BEGIN",t.DELETE_SUCCESS="DELETE.SUCCESS",t.DELETE_FAILURE="DELETE.FAILURE",t.LIST_BEGIN="LIST.BEGIN",t.LIST_WORKLOW_BEGIN="LIST.WORKFLOW.BEGIN",t.LIST_SUCCESS="LIST.SUCCESS",t.LIST_FAILURE="LIST.FAILURE",t.PUT_ENTITY="PUT.ENTITY",t.PUT_ENTITIES="PUT.ENTITIES",t.ADD_ITEM_TO_PAGE="ADD.ITEM.TO.PAGE",t.REMOVE_ITEM_FROM_PAGE="REMOVE.ITEM.FROM.PAGE",t.GET_BEGIN="GET.BEGIN",t.GET_SUCCESS="GET.SUCCESS",t.GET_FAILURE="GET.FAILURE",t.MERGE_LOCAL_SCHEMA_RECORD="MERGE_LOCAL_SCHEMA_RECORD",t.UPDATE_LOCAL_SCHEMA="UPDATE.LOCAL_SCHEMA",t.CANCEL_LOCAL_SCHEMA_EDITS="CANCEL.LOCAL_SCHEMA_EDITS",t.CLEAR_LOCAL_SCHEMA="CLEAR.LOCAL_SCHEMA",t.INITIALIZE_LOCAL_SCHEMA="INITIALIZE.LOCAL_SCHEMA",t.SET_AT_KEY="SET_AT_KEY",t.REMOVE_FROM_AT_KEY="REMOVE_FROM_AT_KEY",t.DISMISS_ERROR="DISMISS.ERROR",t.DISMISS_ALL_ERRORS="DISMISS_ALL_ERRORS",t.SET_SELECTED_NAV="SET_SELECTED_NAV",t.TOGGLE_HELP="TOGGLE.HELP",t.SET_HELP="SET.HELP",t.TOGGLE_NAVIGATION="TOGGLE.NAVIGATION",t.SET_NAVIGATION="SET.NAVIGATION",t.SET_CONTENT_TYPE="SET.CONTENT.TYPE",t.SET_PROMPT_ON_NAV="SET.PROMPT_ON_NAV",t.SET_HELP_SLUG="SET.HELP_SLUG",t.SET_SELECTED_GRAPHQLAPI_ID="SET.SELECTED.GRAPHQLAPI.ID",t.SET_SELECTED_API_KEY_ID="SET.SELECTED.API.KEY.ID",t.SET_SELECTED_ADDITIONAL_AUTH="SET.SELECTED.ADDITIONAL.AUTH",t.SET_SELECTED_VERSION_ID="SET.SELECTED.VERSION.ID",t.SET_CREATE_API_STATUS="SET.CREATE.API.STATUS",t.TAG_RESOURCE_BEGIN="TAG.RESOURCE.BEGIN",t.TAG_RESOURCE_SUCCESS="TAG.RESOURCE.SUCCESS",t.TAG_RESOURCE_FAILURE="TAG.RESOURCE.FAILURE",t.UNTAG_RESOURCE_BEGIN="UNTAG.RESOURCE.BEGIN",t.UNTAG_RESOURCE_SUCCESS="UNTAG.RESOURCE.SUCCESS",t.UNTAG_RESOURCE_FAILURE="UNTAG.RESOURCE.FAILURE",t.UPDATE_TAG_STATUS="UPDATE.TAG.STATUS",t.UPDATE_UNTAG_STATUS="UPDATE.UNTAG.STATUS",t.FLUSH_CACHE_BEGIN="CACHE.FLUSH.BEGIN",t.FLUSH_CACHE_SUCCESS="CACHE.FLUSH.SUCCESS",t.FLUSH_CACHE_FAILURE="CACHE.FLUSH.FAILURE",t.ELASTICSEARCH_LIST_CLUSTERS_BEGIN="ELASTICSEARCH.LIST.CLUSTERS.BEGIN",t.ELASTICSEARCH_LIST_CLUSTERS_SUCCESS="ELASTICSEARCH.LIST.CLUSTERS.SUCCESS",t.ELASTICSEARCH_LIST_CLUSTERS_FAILURE="ELASTICSEARCH.LIST.CLUSTERS.FAILURE",t.DYNAMODB_LIST_TABLES_BEGIN="DYNAMODB.LIST.TABLES.BEGIN",t.DYNAMODB_LIST_TABLES_SUCCESS="DYNAMODB.LIST.TABLES.SUCCESS",t.DYNAMODB_LIST_TABLES_FAILURE="DYNAMODB.LIST.TABLES.FAILURE",t.EVENT_BRIDGE_LIST_BUSES_BEGIN="EVENT.BRIDGE.LIST.BUSES.BEGIN",t.EVENT_BRIDGE_LIST_BUSES_SUCCESS="EVENT.BRIDGE.LIST.BUSES.SUCCESS",t.EVENT_BRIDGE_LIST_BUSES_FAILURE="EVENT.BRIDGE.LIST.BUSES.FAILURE",t.LAMBDA_LIST_FUNCTIONS_BEGIN="LAMBDA.LIST.FUNCTIONS.BEGIN",t.LAMBDA_LIST_FUNCTIONS_SUCCESS="LAMBDA.LIST.FUNCTIONS.SUCCESS",t.LAMBDA_LIST_FUNCTIONS_FAILURE="LAMBDA.LIST.FUNCTIONS.FAILURE",t.RDS_DESCRIBE_CLUSTERS_BEGIN="RDS.DESCRIBE.CLUSTERS.BEGIN",t.RDS_DESCRIBE_CLUSTERS_SUCCESS="RDS.DESCRIBE.CLUSTERS.SUCCESS",t.RDS_DESCRIBE_CLUSTERS_FAILURE="RDS.DESCRIBE.CLUSTERS.FAILURE",t.SECRETS_MANAGER_LIST_SECRETS_BEGIN="SECRETS.MANAGER.LIST.SECRETS.BEGIN",t.SECRETS_MANAGER_LIST_SECRETS_SUCCESS="SECRETS.MANAGER.LIST.SECRETS.SUCCESS",t.SECRETS_MANAGER_LIST_SECRETS_FAILURE="SECRETS.MANAGER.LIST.SECRETS.FAILURE",t.IAM_LIST_ROLES_BEGIN="IAM.LIST.ROLES.BEGIN",t.IAM_LIST_ROLES_SUCCESS="IAM.LIST.ROLES.SUCCESS",t.IAM_LIST_ROLES_FAILURE="IAM.LIST.ROLES.FAILURE",t.INITIALIZE_API="INITIALIZE.API",t.UPDATE_STATUS="UPDATE.STATUS",t.START_PROVISION_SAMPLE="START_PROVISION_SAMPLE",t.LIST_USERPOOL_BEGIN="LIST_USERPOOL_BEGIN",t.LIST_USERPOOL_SUCCESS="LIST_USERPOOL_SUCCESS",t.LIST_USERPOOL_FAILURE="LIST_USERPOOL_FAILURE",t.LOGOUT_VIA_USERPOOL="LOGOUT_VIA_USERPOOL",t.LOGIN_VIA_USERPOOL="LOGIN_VIA_USERPOOL",t.LOGIN_VIA_USERPOOL_SUCCESS="LOGIN_VIA_USERPOOL_SUCCESS",t.LOGIN_VIA_USERPOOL_FAILURE="LOGIN_VIA_USERPOOL_FAILURE",t.FIRE_WORKFLOW="FIRE_WORKFLOW",t.PUT_SCHEMA_FAILURE="PUT_SCHEMA_FAILURE",t.UPDATE_WORKFLOW_STATUS="UPDATE_WORKFLOW_STATUS",t.FLASHBAR_CREATE="FLASHBAR_CREATE",t.FLASHBAR_UPDATE="FLASHBAR_UPDATE",t.FLASHBAR_DELETE="FLASHBAR_DELETE",t.SET_USER_PREFERENCE="SET_USER_PREFERENCE_BEGIN",t.SET_USER_PREFERENCE_SUCCESS="SET_USER_PREFERENCE_SUCCESS",t.SET_USER_PREFERENCE_FAILURE="SET_USER_PREFERENCE_FAILURE",t.GET_USER_PREFERENCE="GET_USER_PREFERENCE",t.GET_USER_PREFERENCE_SUCCESS="GET_USER_PREFERENCE_SUCCESS",t.GET_USER_PREFERENCE_FAILURE="GET_USER_PREFERENCE_FAILURE",t.RECORD_TIMING_METRIC_START="RECORD_TIMING_METRIC_START",t.RECORD_TIMING_METRIC_STOP="RECORD_TIMING_METRIC_STOP",t.CONVERT_RESOLVER_TO_PIPELINE="CONVERT_RESOLVER_TO_PIPELINE",t.GET_COGNITO_SESSION="GET_COGNITO_SESSION",t.GET_COGNITO_SESSION_FAILURE="GET_COGNITO_SESSION_FAILURE",t.ASSOCIATE_WAF_WEB_ACL_BEGIN="ASSOCIATE_WAF_WEB_ACL_BEGIN",t.ASSOCIATE_WAF_WEB_ACL_SUCCESS="ASSOCIATE_WAF_WEB_ACL_SUCCESS",t.ASSOCIATE_WAF_WEB_ACL_FAILURE="ASSOCIATE_WAF_WEB_ACL_FAILURE",t.DISASSOCIATE_WAF_WEB_ACL_BEGIN="DISASSOCIATE_WAF_WEB_ACL_BEGIN",t.DISASSOCIATE_WAF_WEB_ACL_SUCCESS="DISASSOCIATE_WAF_WEB_ACL_SUCCESS",t.DISASSOCIATE_WAF_WEB_ACL_FAILURE="DISASSOCIATE_WAF_WEB_ACL_FAILURE",t.LIST_WAF_WEB_ACL_BEGIN="LIST_WAF_WEB_ACL_BEGIN",t.LIST_WAF_WEB_ACL_SUCCESS="LIST_WAF_WEB_ACL_SUCCESS",t.LIST_WAF_WEB_ACL_FAILURE="LIST_WAF_WEB_ACL_FAILURE",t.ADD_ALERT="ADD_ALERT",t.REMOVE_ALERT="REMOVE_ALERT",t.CREATE_NEW_MERGED_API="CREATE_NEW_MERGED_API",t.START_MANUAL_MERGE="START_MANUAL_MERGE",t.ADD_MERGED_API_ASSOCIATIONS="ADD_MERGED_API_ASSOCIATIONS",t.GET_SCHEMA_BY_ASSOCIATION="GET_SCHEMA_BY_ASSOCIATION",t))(D||{}),k=(t=>(t.API_KEY="API_KEY",t.IAM="AWS_IAM",t.USER_POOLS="AMAZON_COGNITO_USER_POOLS",t.OIDC="OPENID_CONNECT",t.LAMBDA="AWS_LAMBDA",t))(k||{}),Ne=(t=>(t.NONE="NONE",t.FULL_REQUEST="FULL_REQUEST_CACHING",t.PER_RESOLVER="PER_RESOLVER_CACHING",t.OPERATION_LEVEL="OPERATION_LEVEL_CACHING",t))(Ne||{}),_=(t=>(t.DYNAMODB="AMAZON_DYNAMODB",t.DDB_DELTA_SYNC="AMAZON_DYNAMODB_DELTA_SYNC",t.ELASTIC_SEARCH="AMAZON_ELASTICSEARCH",t.OPEN_SEARCH="AMAZON_OPENSEARCH_SERVICE",t.LAMBDA="AWS_LAMBDA",t.RDS="RELATIONAL_DATABASE",t.HTTP="HTTP",t.NONE="NONE",t.EVENT_BRIDGE="AMAZON_EVENTBRIDGE",t))(_||{}),l=v(48170);const yt=()=>[{text:(0,l.Ay)`General`,items:[{id:"getItem",text:(0,l.Ay)`Get an item`,value:v(91355)},{id:"listItems",text:(0,l.Ay)`List items`,value:v(5276)},{id:"putItem",text:(0,l.Ay)`Create an item`,value:v(12514)},{id:"deleteItem",text:(0,l.Ay)`Delete an item`,value:v(51876)}]},{text:(0,l.Ay)`Queries`,items:[{id:"simple-query",text:(0,l.Ay)`Simple query`,value:v(94651)},{id:"pagination",text:(0,l.Ay)`Use pagination in a query`,value:v(4480)},{id:"with-contains-expression",text:(0,l.Ay)`Query with contains expression`,value:v(47879)},{id:"with-filter-on-index",text:(0,l.Ay)`Query with an index`,value:v(60924)},{id:"with-greater-than",text:(0,l.Ay)`Query with greater than expression`,value:v(17857)},{id:"all-items-today",text:(0,l.Ay)`Get all items created today`,value:v(47890)}]},{text:(0,l.Ay)`Batch operations`,items:[{id:"batchGetItems",text:(0,l.Ay)`Send a batch get request`,value:v(80240)},{id:"batchPutItems",text:(0,l.Ay)`Send a batch put request`,value:v(80379)},{id:"batchDeleteItems",text:(0,l.Ay)`Send a batch delete request`,value:v(60965)}]}],st=()=>[{id:"PutEvents",text:(0,l.Ay)`Put events`,value:v(75698)}],Dn=()=>[{id:"getToApiGW",text:(0,l.Ay)`Send GET request to an HTTP endpoint`,value:v(67088)},{id:"putToApiGW",text:(0,l.Ay)`Send a PUT request to an HTTP endpoint`,value:v(96955)},{id:"forward",text:(0,l.Ay)`Forward headers and arguments to an HTTP request`,value:v(61558)},{id:"publishToSNS",text:(0,l.Ay)`Publish a message to an SNS topic`,value:v(4589)},{id:"translate",text:(0,l.Ay)`Send a translation request to AWS Translate`,value:v(45129)}],oa=()=>[{id:"invoke",text:(0,l.Ay)`Invoke a Lambda function`,value:v(55960)}],Er=()=>[{id:"localPublish",text:(0,l.Ay)`Locally publish a message`,value:v(16337)},{id:"enhancedSubscription",text:(0,l.Ay)`Set up an enhanced subscription`,value:v(13720)}],La=()=>[{id:"simpleSearch",text:(0,l.Ay)`Simple search`,value:v(94027)},{id:"paginate",text:(0,l.Ay)`Paginate with fixed-size pages`,value:v(80052)},{id:"getById",text:(0,l.Ay)`Get a document by ID`,value:v(85254)},{id:"geo",text:(0,l.Ay)`Get all documents within a 20 mile radius`,value:v(73130)}],ka=()=>[{text:(0,l.Ay)`MySQL`,items:[{id:"selectWithCountMySQL",text:(0,l.Ay)`Select with count`,value:v(94463)},{id:"getItemMySQL",text:(0,l.Ay)`Get an item`,value:v(35378)},{id:"listItemsMySQL",text:(0,l.Ay)`List items`,value:v(38305)},{id:"createItemMySQL",text:(0,l.Ay)`Create an item`,value:v(20952)},{id:"updateItemMySQL",text:(0,l.Ay)`Update an item`,value:v(90837)},{id:"deleteItemMySQL",text:(0,l.Ay)`Delete an item`,value:v(61131)}]},{text:(0,l.Ay)`PostgreSQL`,items:[{id:"selectWithCountPg",text:(0,l.Ay)`Select with count`,value:v(96024)},{id:"getItemPg",text:(0,l.Ay)`Get an item`,value:v(49463)},{id:"listItemsPg",text:(0,l.Ay)`List items`,value:v(37616)},{id:"createItemPg",text:(0,l.Ay)`Create an item`,value:v(10591)},{id:"updateItemPg",text:(0,l.Ay)`Update an item`,value:v(95174)},{id:"deleteItemPg",text:(0,l.Ay)`Delete an item`,value:v(73888)}]}],tn={resolver:v(43152),function:v(81356),[_.DYNAMODB]:yt(),[_.EVENT_BRIDGE]:st(),[_.HTTP]:Dn(),[_.LAMBDA]:oa(),[_.OPEN_SEARCH]:La(),[_.RDS]:ka(),[_.NONE]:Er()};var Ma=(t=>(t.AUTO="AUTOMERGE",t.OPTIMISTIC="OPTIMISTIC_CONCURRENCY",t.LAMBDA="LAMBDA",t))(Ma||{});const ds=[{value:"AUTOMERGE",label:(0,l.Ay)`Automatic (Auto-merge)`},{value:"OPTIMISTIC_CONCURRENCY",label:(0,l.Ay)`Optimistic Concurrency`},{value:"LAMBDA",label:(0,l.Ay)`Lambda`}];var N=(t=>(t.RESOLVER="RESOLVER",t.DATA_SOURCE="DATA.SOURCE",t.CUSTOM_DOMAIN="CUSTOM_DOMAIN",t.API="API",t.SHARED_GRAPHQLAPI="SHARED_GRAPHQLAPI",t.SCHEMA_VERSION="SCHEMA.VERSION",t.TYPE="TYPE",t.API_KEY="API_KEY",t.SOURCE_API_ASSOCIATION="SOURCE_API_ASSOCIATION",t.SCHEMA="SCHEMA",t.RESOLVER_FUNCTION="RESOLVER_FUNCTION",t.API_CACHE="API_CACHE",t.ENVIRONMENT_VARIABLE="ENVIRONMENT_VARIABLE",t.ELASTICSEARCH_CLUSTER="ELASTICSEARCH_CLUSTER",t.EVENT_BUS="AMAZON_EVENTBRIDGE",t.DYNAMODB_TABLE="DYNAMODB_TABLE",t.LAMBDA_FUNCTION="LAMBDA_FUNCTION",t.IAM_ROLE="IAM_ROLE",t.USER_POOL="USER_POOL",t.RDS_CLUSTER="RDS_CLUSTER",t.SECRETS_MANAGER_SECRET="SECRETS_MANAGER_SECRET",t.AWS_RESOURCES="AWS_RESOURCES",t.COGNITO_SESSION="COGNITO_SESSION",t.WAF_WEB_ACL="WAF_WEB_ACL",t))(N||{}),Fa=(t=>(t.ACCESS_DENIED="AccessDeniedException",t.AUTHORIZER_FAILED="AuthorizerFailureException",t.ENTITY_ALREADY_EXISTS="EntityAlreadyExistsException",t.GRAPHQL_SCHEMA="GraphQLSchemaException",t.NOT_FOUND="NotFoundException",t))(Fa||{});const Ke={ConfigureModelTableForm:"ConfigureModelTableForm",ObjectTypeDefinitionForm:"ObjectTypeDefinitionForm",ImportTableForm:"ImportTableForm",CreateGraphQLApiForm:"CreateGraphQLApiForm",ResolverForm:"resolverForm",FunctionForm:"functionForm",CacheForm:"cacheForm",SettingsForm:"SettingsFormV2",ProvisionTypesForm:"provisionTypeForm"};var oe=v(45722),nt=(t=>(t.GRAPHQL="GRAPHQL",t.MERGED="MERGED",t))(nt||{});const E_="GRAPHQL";var We=(t=>(t.BLANK="blank",t.IMPORT_TABLE="importTable",t.RDS="rds",t.REALTIME="realtime",t))(We||{}),Pi=(t=>(t.GLOBAL="GLOBAL",t.PRIVATE="PRIVATE",t))(Pi||{});const b_="GLOBAL";var Dt=(t=>(t.ROLE_NEW="ROLE_NEW",t.ROLE_EXISTING="ROLE_EXISTING",t))(Dt||{});const CEe="ROLE_NEW",Ay=oe.DO.ENABLED,Ey={AmzUserAgent:{"X-Amz-User-Agent":"AWS-Console-AppSync/"}},by={MAX_ADDITIONAL_AUTHENTICATION_PROVIDERS:50,MAX_COGNITO_CLIENT_ID_FETCH_RESULTS:15,MAX_LAMBDA_AUTH_TTL_IN_SECONDS:3600},rr={MIN_QUERY_DEPTH_LIMIT:1,MAX_QUERY_DEPTH_LIMIT:75,MIN_RESOLVER_COUNT_LIMIT:1,MAX_RESOLVER_COUNT_LIMIT:1e4,DEFAULT_QUERY_DEPTH_LIMIT:0,DEFAULT_RESOLVER_COUNT_LIMIT:0};var Ge=(t=>(t.SCHEMA_DOWNLOAD="downloadTime_schema",t.DATA_SOURCE_DOWNLOAD="downloadTime_dataSource",t.RESOLVER_DOWNLOAD="downloadTime_resolver",t.SCHEMA_DOWNLOAD_ERROR="error_schemaDownload",t.SCHEMA_SAVE_ERROR="error_saveSchema",t.PARSE_ERROR="ParseError",t.PARSE_FAULT="ParseFault",t.PREVENT_DEFAULT_ERROR="PreventDefaultError",t.JSON_PARSE_ERROR="JSONParseError",t.SET_UPS_ERROR="SetUserPreferenceError",t.GET_UPS_ERROR="GetUserPreferenceError",t.SUBSCRIPTION_REGISTRATION_ERROR="SubscriptionRegistrationError",t.PARSE_TYPES_ERROR="ParseTypesError",t.GET_AWS_ACCOUNT_ID_ERROR="GetAwsAccountIdError",t.FMS_CLIENT_ERROR="FMSClientError",t.GET_GLOBAL_CONSOLE_ENDPOINT_ERROR="GetGlobalConsoleEndpointError",t.GET_REGIONALIZED_CONSOLE_ENDPOINT_ERROR="getRegionalizedConsoleEndpointError",t.INITIALIZE_JS_ERROR="timeToInitialize_JS_error",t.INITIALIZE_TS_ERROR="timeToInitialize_TS_error",t.INITIALIZE_ACE_ERROR="timeToInitialize_ace_error",t.AUTOCOMPLETE_VTL_ERROR="autocompleteVtlError",t.AUTOCOMPLETE_GRAPHQL_ERROR="autocompleteGraphqlError",t.CONVERT_TO_PIPELINE_ERROR="error_convertToPipeline",t.CONVERT_TO_PIPELINE_SUCCESS="success_convertToPipeline",t.SCHEMA_PARSE_DURATION="parseDuration_schema",t.BEGIN_API_CREATION="apiCreate_begin",t.API_CREATED_FROM_MODEL="apiCreatedFrom_model",t.API_CREATED_FROM_TABLE="apiCreatedFrom_table",t.API_CREATED_FROM_SCRATCH="apiCreatedFrom_scratch",t.API_CREATED_FROM_REALTIME="apiCreatedFrom_realtime",t.API_CREATE_FROM_RDS="apiCreatedFrom_rds",t.API_CREATED_FROM_SAMPLE_CHAT="apiCreatedFrom_sample_chat",t.API_CREATED_FROM_SAMPLE_EVENTS="apiCreatedFrom_sample_events",t.API_CREATED_FROM_SAMPLE_RDS="apiCreatedFrom_sample_rds",t.API_CREATED_FROM_SAMPLE_COGNITO="apiCreatedFrom_sample_cognito",t.API_CREATED_STEP_DETAILS="apiCreatedStep_details",t.API_CREATED_STEP_REVIEW_MERGED="apiCreatedStep_review_merged",t.API_CREATED_STEP_REVIEW_GRAPHQL="apiCreatedStep_review_graphql",t.API_CREATED_STEP_ASSOCIATE="apiCreatedStep_associate",t.API_CREATED_STEP_SCHEMA="apiCreatedStep_schema",t.API_CREATED_STEP_AUTH_MODE="apiCreatedStep_authMode",t.API_CREATED_STEP_REALTIME="apiCreatedStep_realtime",t.API_CREATED_STEP_API_TYPE="apiCreatedStep_apiType",t.CREATE_PRIVATE_API="privateApi_create",t.CREATE_REALTIME_UNCHECKED="create_realtime_unchecked",t.API_CREATED_FROM_MERGED="apiCreatedFrom_merged",t.TIME_TO_INITIALIZE_ACE="timeToInitialize_ace",t.TIME_TO_INITIALIZE_TS="timeToInitialize_TS",t.TIME_TO_INITIALIZE_PARSER="timeToInitialize_parser",t.TIME_TO_INITIALIZE_JS="timeToInitialize_JS",t.UNKNOWN_SAGA_ERROR="unknownSagaError",t.PARSE_COGNITO_SESSION="ERROR_PARSING_COGNITO_SESSION",t.APP_ERROR_BOUNDARY="appErrorBoundary",t.RESOLVER_ERROR_BOUNDARY="resolverErrorBoundary",t.FUNCTION_ERROR_BOUNDARY="functionErrorBoundary",t))(Ge||{});const bn={COGNITO:60,DEFAULT:10,DYNAMODB:100,ELASTIC_SEARCH:200,IAM:200,LAMBDA:200,EVENT_BUS:100,RDS:100,SECRETS_MANAGER:100,WAF_ACL:100,APIS:25},br="aws-cn",v_="aws";var yd=(t=>(t.IAD="us-east-1",t.CMH="us-east-2",t.SFO="us-west-1",t.PDX="us-west-2",t.CPT="af-south-1",t.NRT="ap-northeast-1",t.ICN="ap-northeast-2",t.KIX="ap-northeast-3",t.SIN="ap-southeast-1",t.SYD="ap-southeast-2",t.CGK="ap-southeast-3",t.HKG="ap-east-1",t.BOM="ap-south-1",t.HYD="ap-south-2",t.YUL="ca-central-1",t.FRA="eu-central-1",t.ZRH="eu-central-2",t.ARN="eu-north-1",t.MXP="eu-south-1",t.ZAZ="eu-south-2",t.DUB="eu-west-1",t.LHR="eu-west-2",t.CDG="eu-west-3",t.DXB="me-central-1",t.BAH="me-south-1",t.GRU="sa-east-1",t.BJS="cn-north-1",t.ZHY="cn-northwest-1",t.TLV="il-central-1",t.MEL="ap-southeast-4",t))(yd||{});const S_=["us-east-1","us-east-2","us-west-1","us-west-2","af-south-1","ap-south-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-southeast-1","ap-southeast-2","ap-southeast-3","ap-southeast-4","ap-east-1","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","eu-central-2","eu-south-2","me-central-1","ap-south-2","il-central-1"],T_=["cn-north-1","cn-northwest-1"],{BJS:I_}=yd,{ZHY:C_}=yd;var vy=(t=>(t.V_1_0_0="1.0.0",t))(vy||{}),Sy=(t=>(t.V_2018_05_29="2018-05-29",t))(Sy||{}),Ve=(t=>(t.APPSYNC_JS="APPSYNC_JS",t.VTL="VTL",t))(Ve||{});const gd="APPSYNC_JS",Ad="1.0.0",Ty="2018-05-29";var pt=(t=>(t.FUNCTION="Function",t.UNIT_RESOLVER="Unit Resolver",t.PIPELINE_RESOLVER="Pipeline Resolver",t))(pt||{});const R_=t=>({"Pipeline Resolver":"PIPELINE","Unit Resolver":"UNIT",Function:""})[t],Ed=t=>({PIPELINE:"Pipeline Resolver",UNIT:"Unit Resolver"})[t],Iy={SERVICE_PRINCIPAL:"appsync.amazonaws.com",BETA_SERVICE_PRINCIPAL:"deepdish.aws.internal",RESOURCE_TYPE_DDB_TABLE:"DDBTable",RESOURCE_TYPE_ES_CLUSTER:"ESCluster",DDBTable_TEMPLATE_NAME:"appsync_datasource_ddbtable",DDBTable_TEMPLATE_VERSION:1,DDBTable_TEMPLATE_ROLENAME:"AppSync_DataSource_Table_",DDBTable_TEMPLATE_POLICYNAME:"AppSync_Policy_DataSource_Table_",ESCluster_TEMPLATE_NAME:"appsync_datasource_escluster",ESCluster_TEMPLATE_VERSION:1,ESCluster_TEMPLATE_ROLENAME:"AppSync_DataSource_Domain_",ESCluster_TEMPLATE_POLICYNAME:"AppSync_Policy_DataSource_Domain_"};var H=(t=>(t.NONE="NONE",t.CREATING="CREATING",t.GETTING="GETTING",t.UPDATING="UPDATING",t.DELETING="DELETING",t.FLUSHING="FLUSHING",t.CREATE_SUCCESS="CREATE_SUCCESS",t.GET_SUCCESS="GET.SUCCESS",t.UPDATE_SUCCESS="UPDATE.SUCCESS",t.DELETE_SUCCESS="DELETE_SUCCESS",t.FLUSH_SUCCESS="FLUSH_SUCCESS",t.ERRORED="ERRORED",t.FLUSH_ERROR="FLUSH_ERROR",t.INFO="INFO",t))(H||{});const Oi=t=>t==="CREATE_SUCCESS"||t==="DELETE_SUCCESS"||t==="GET.SUCCESS"||t==="UPDATE.SUCCESS"||t==="FLUSH_SUCCESS",vn=t=>t==="CREATING"||t==="DELETING"||t==="GETTING"||t==="UPDATING"||t==="FLUSHING",bd=t=>t==="ERRORED"||t==="FLUSH_ERROR",ps="xamzcognitosession",vd="xamzcognitosessionclientid",Cy="xamzcognitousername",Ry="graphiql_config",ms=["$context.args","$context.arguments","$context.source","$context.identity","$context.identity.accountId","$context.identity.claims","$context.identity.cognitoIdentityId","$context.identity.cognitoIdentityPoolId","$context.identity.defaultAuthStrategy","$context.identity.issuer","$context.identity.sourceIp","$context.identity.sub","$context.identity.user","$context.identity.userArn","$context.identity.username","$context.identity.resolverContext"],w_=Object.freeze({JS:"JS",IOS:"IOS",ANDROID:"ANDROID"});var Di=(t=>(t.MANUAL_MERGE="MANUAL_MERGE",t.AUTO_MERGE="AUTO_MERGE",t))(Di||{});const P_="MANUAL_MERGE";var kt=(t=>(t.MERGE_SCHEDULED="MERGE_SCHEDULED",t.MERGE_FAILED="MERGE_FAILED",t.MERGE_SUCCESS="MERGE_SUCCESS",t.NEVER_MERGED="NEVER_MERGED",t.MERGE_IN_PROGRESS="MERGE_IN_PROGRESS",t.AUTO_MERGE_SCHEDULE_FAILED="AUTO_MERGE_SCHEDULE_FAILED",t.DELETION_SCHEDULED="DELETION_SCHEDULED",t.DELETION_IN_PROGRESS="DELETION_IN_PROGRESS",t.DELETION_FAILED="DELETION_FAILED",t))(kt||{});const O_="NEVER_MERGED",Lr="-";var Sd=(t=>(t.DARK="awsdark",t.LIGHT="awslight",t.RO_DARK="readonly-awsdark",t.RO_LIGHT="readonly-awslight",t))(Sd||{}),Gl=v(75177),Q=v(93574),Ni=v(55127);const rt=t=>t?t.charAt(0).toUpperCase()+t.slice(1):"",zl="ModelSizeInput",wy="ModelSortDirection",D_={String:!0,Int:!0,Float:!0,Boolean:!0,ID:!0},Td={...{BigInteger:!0,BigDecimal:!0,Long:!0,Short:!0,Char:!0},...{AWSDate:!0,AWSTime:!0,AWSDateTime:!0,AWSTimestamp:!0,AWSEmail:!0,AWSJSON:!0,AWSURL:!0,AWSPhone:!0,AWSIPAddress:!0}},N_={...D_,...Td},ql={Boolean:"B",String:"S",ID:"S",AWSDate:"S",AWSTime:"S",AWSDateTime:"S",AWSEmail:"S",AWSJSON:null,AWSURL:"S",AWSPhone:"S",AWSIPAddress:"S",Char:"S",BigInteger:"N",BigDecimal:"N",Int:"N",Float:"N",AWSTimestamp:"N",Long:"N",Short:"N"},Py={AWSDate:"String",AWSTime:"String",AWSDateTime:"String",AWSTimestamp:"Int",AWSEmail:"String",AWSJSON:"String",AWSURL:"String",AWSPhone:"String",AWSIPAddress:"String",Char:"String",Long:"String",BigDecimal:"String",Short:"Int",BigInteger:"Int"},Oy=["TableStringFilterInput","TableIDFilterInput","TableBooleanFilterInput","TableIntFilterInput","TableFloatFilterInput",zl];function Dy(t,n){return!!(N_[t.name.value]||n&&n[t.name.value])}function ar(t,n){return t.kind==="ListType"||t.kind==="NonNullType"?ar(t.type,n):Dy(t,n)}function Kl(t,n){return t.kind==="ListType"||t.kind==="NonNullType"?Kl(t.type,n):ql[t.name.value]===null?!1:Dy(t,n)}function go(t){return t.trim()?t.split(/\s+|-+|_+|\.+/).map(n=>n.replace(/(\w)(\w*)/g,(a,o,s)=>o.toUpperCase()+s)).join(""):""}const Ny="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function Ao(t){let n="";for(let a=0;a<t;a++)n+=Ny.charAt(Math.floor(Math.random()*Ny.length));return n}function De(t){if(!t.trim())return"";const n=t.replace(/^[^_A-Za-z]+|[^_0-9A-Za-z]/g,"");return!n||!n.length?`unknown${Ao(3)}`:n}function __(t,n){const a={};let o=[];for(const c of t)for(const u of c.definitions)switch(u.kind){case"TypeExtensionDefinition":{const p=u.definition.name.value,h=a[p];if(h&&h.kind==="ObjectTypeDefinition"&&u.definition.fields){a[p]={...h,interfaces:[...h.interfaces,...u.definition.interfaces],directives:[...h.directives,...u.definition.directives],fields:[...h.fields,...u.definition.fields]};break}throw new Error(`Could not find a type named ${p} to extend.`)}case"ObjectTypeDefinition":{const p=u.name.value,h=a[p];if(h){if(h.kind==="ObjectTypeDefinition"){a[p]=n.typeCollisionHandler(h,u,n.fieldCollisionHandler);break}}else{a[p]=u;break}throw new Error(`Found two type definitions named ${p}`)}case"ScalarTypeDefinition":case"InputObjectTypeDefinition":case"InterfaceTypeDefinition":case"UnionTypeDefinition":case"EnumTypeDefinition":{const p=u.name.value;a[p]=u;break}case"SchemaDefinition":a.XAMZSCHEMA=u;break;default:o=[...o,u]}return{kind:"Document",definitions:Object.keys(a).map(c=>a[c])}}function _y(t){switch(t.kind){case"ObjectTypeDefinition":case"InterfaceTypeDefinition":case"UnionTypeDefinition":case"EnumTypeDefinition":case"ScalarTypeDefinition":return t.name.value;case"TypeExtensionDefinition":return t.definition.name.value;default:return""}}const PEe=(t,n)=>{throw new Error(`Found more than one type with name ${_y(n)}. Failing. `)},x_=(t,n,a,o)=>{throw new Error(`Found more than one field: ${_y(a)}.${o.name.value}`)},L_=(t,n,a)=>{switch(t.kind){case"ObjectTypeDefinition":case"InterfaceTypeDefinition":if(n.kind==="ObjectTypeDefinition"||n.kind==="InterfaceTypeDefinition")return{...t,fields:[...t.fields,...n.fields]};break;case"UnionTypeDefinition":case"EnumTypeDefinition":case"ScalarTypeDefinition":default:break}};function Mn(t){if(t.kind==="NamedType")return t.name.value;if(t.kind==="ListType"||t.kind==="NonNullType")return Mn(t.type);throw new Error("Invalid TypeNode kind.")}function Id(t){if(t.kind==="NamedType")return!1;if(t.kind==="ListType")return!0;if(t.kind==="NonNullType")return Id(t.type);throw new Error("Invalid TypeNode kind.")}function Bn(t){return{kind:"NamedType",name:{kind:"Name",value:t}}}function hs(t){return{kind:"ListType",type:t}}function fs(t){return!!(t.KeySchema&&t.KeySchema.length===1&&t.KeySchema[0].AttributeName==="id"&&t.AttributeDefinitions.find(o=>o.AttributeName==="id").AttributeType==="S")}var xy=v(84923);const k_=(0,xy.JF)().processString;var Eo;(function(t){t.PENDING="PENDING",t.LOADING="LOADING",t.SUCCESS="SUCCESS",t.FAILED="FAILED",t.NOOP="NOOP"})(Eo||(Eo={}));class Cd{constructor({key:n,handler:a,next:o,onEnter:s,onSuccess:c,onError:u,retrier:p}){this.key=n,this._handler=a,this.next=o,this._onEnter=s,this._onSuccess=c,this._onError=u,p&&(this._retrier=p.prepare(this)),this.status=Eo.PENDING}async executeHandler(n){return this._handler(n)}async execute(n){try{this.status=Eo.LOADING,this._onEnter&&this._onEnter(n);const a=this._retrier?await this._retrier.execute(n):await this._handler(n);return this.status=Eo.SUCCESS,this._onSuccess&&this._onSuccess(a),this.next?this.next.execute(a):a}catch(a){throw this.status=Eo.FAILED,this._onError&&this._onError(a),a}}}class OEe{constructor({key:n,duration:a,next:o}){this.key=n,this._duration=a,this.next=o,this.status=StateStatus.PENDING}async execute(n){return this.status=StateStatus.LOADING,new Promise(a=>{setTimeout(()=>(this.status=StateStatus.SUCCESS,this.next?a(this.next.execute(n)):a(n)),this._duration)})}}class Rd{constructor(n,a,o,s){this._duration=n,this._backoffPolicy=a,this._maxRetries=o,this._shouldRetry=s||(()=>!0)}prepare(n){return this._state=n,this}async execute(n,a=1){if(!this._state)throw new Error("Retrier must first be prepared in order to execute");try{return await this._state.executeHandler(n)}catch(o){if(a>this._maxRetries||!this._shouldRetry(o))throw o;return this._duration=this._backoffPolicy(this._duration),new Promise(s=>{setTimeout(()=>{s(this.execute(n,a+=1))},this._duration)})}}}function M_(t){return n=>n.name.value!==t}function F_(t,n,a,o=ar,s=!1){const c=t.KeySchema.reduce((h,f)=>({...h,[De(f.AttributeName)]:!0}),{});let u=n.fields.filter(h=>o(h.type,a)).map(h=>{let{type:f}=h;return c[h.name.value]&&h.type.kind!=="NonNullType"&&(f={kind:"NonNullType",type:h.type}),{kind:"InputValueDefinition",name:{kind:"Name",value:h.name.value},type:f,directives:[]}});const p=fs(t);if(s&&p&&(u=u.filter(M_("id"))),u.length===0)throw new Error('Input types must contain at least one field. If the table has a single hash key named "id" of type "S" add another field to the type definition.');return{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:`Create${rt(n.name.value)}Input`},directives:[],fields:u}}function U_(t,n,a,o=ar){const s=t.KeySchema.reduce((u,p)=>({...u,[De(p.AttributeName)]:!0}),{}),c=n.fields.filter(u=>o(u.type,a)).map(u=>{let{type:p}=u;return s[u.name.value]?u.type.kind!=="NonNullType"&&(p={kind:"NonNullType",type:u.type}):u.type.kind==="NonNullType"&&(p=u.type.type),{kind:"InputValueDefinition",name:{kind:"Name",value:u.name.value},type:p,directives:[]}});return{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:`Update${rt(n.name.value)}Input`},directives:[],fields:c}}function $_(t,n,a=ar){const o=t.KeySchema.reduce((c,u)=>({...c,[De(u.AttributeName)]:!0}),{}),s=n.fields.filter(c=>a(c.type)&&o[c.name.value]).map(c=>{let{type:u}=c;return c.type.kind!=="NonNullType"&&(u={kind:"NonNullType",type:c.type}),{kind:"InputValueDefinition",name:{kind:"Name",value:c.name.value},type:u,directives:[]}});return{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:`Delete${rt(n.name.value)}Input`},directives:[],fields:s}}function wd(t){return{kind:"TypeExtensionDefinition",definition:{kind:"ObjectTypeDefinition",name:t.name,fields:t.fields}}}function Ly(t){return t.kind==="NonNullType"?t:{kind:"NonNullType",type:t}}function Wl(t){return t.kind==="NonNullType"?t.type:t}function ys(t){return{kind:"ObjectTypeDefinition",name:{kind:"Name",value:`${t.name.value}Connection`},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"items"},arguments:[],type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:t.name.value}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"nextToken"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}]}}const ky=t=>De(`get${rt(t)}`),My=t=>De(`list${rt((0,Ni.plural)(t))}`),Fy=t=>De(`create${rt(t)}`),Uy=t=>De(`update${rt(t)}`),$y=t=>De(`delete${rt(t)}`),gs=t=>`Table${rt(t)}FilterInput`,jy=t=>`OrderBy${rt(t)}Input`,Hl=t=>`Enum${rt(t)}FilterInput`;function Vy(t){return[{kind:"InputValueDefinition",name:{kind:"Name",value:"and"},type:hs(Bn(t)),directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"or"},type:hs(Bn(t)),directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"not"},type:hs(Bn(t)),directives:[]}]}function _i({input:t,variable:n,nonNull:a}){const o=t.name.value,s=a?j_(o):Bn(o);return{kind:"InputValueDefinition",name:{kind:"Name",value:n},type:s}}function j_(t){return{kind:"NonNullType",type:Bn(t)}}function V_(t,n){return n.map(a=>{let{type:o}=a;return t.primaryKey.includes(a.name.value)&&o.kind==="NonNullType"&&(o=o.type),{...a,type:o}})}var Pd;(function(t){t.V_1_0_0="1.0.0"})(Pd||(Pd={}));var Od;(function(t){t.V_2018_05_29="2018-05-29"})(Od||(Od={}));var le;(function(t){t.APPSYNC_JS="APPSYNC_JS",t.VTL="VTL"})(le||(le={}));var bo;(function(t){t.UNIT="UNIT",t.PIPELINE="PIPELINE"})(bo||(bo={}));const DEe=le.APPSYNC_JS,ir=Pd.V_1_0_0,NEe=Od.V_2018_05_29,B_=t=>new Error(`Unexpected resolver kind found. Expected one of ${Object.keys(bo).join(", ")}. Found ${t}.`),nn=(t,n=[])=>new Error(`Unsupported runtime. Expected one of ${n.join(", ")}. Found ${t}.`);function Gn(t,n){const a=Q_(t),{typeName:o,filterName:s}=G_(t,n),c=a.map(u=>{let p;switch(u){case"between":p=hs(Bn(o));break;case"attributeExists":p=Bn("Boolean");break;case"size":p=Bn(zl);break;default:p=Bn(o)}return{kind:"InputValueDefinition",name:{kind:"Name",value:u},type:p,directives:[]}});return{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:s},directives:[],fields:c}}function G_(t,n){return X_(t)?{typeName:n,filterName:Hl(n)}:Z_(t)?{typeName:"Int",filterName:zl}:{typeName:t,filterName:gs(t)}}const z_=["ne","eq","le","lt","ge","gt","contains","notContains","between","beginsWith","attributeExists","size"],q_=["ne","eq","le","lt","ge","gt","contains","notContains","between","beginsWith","attributeExists","size"],K_=["ne","eq","le","lt","ge","gt","between","attributeExists"],W_=["ne","eq","le","lt","ge","gt","between","attributeExists"],H_=["ne","eq","attributeExists"],J_=["ne","eq","attributeExists"],Y_=["ne","eq","le","lt","ge","gt","between"];function Q_(t){switch(t){case"String":return z_;case"ID":return q_;case"Int":return K_;case"Float":return W_;case"Boolean":return H_;case"Enum":return J_;case"Size":return Y_;default:throw new Error("Valid types are String, ID, Int, Float, Boolean, Enum, Size")}}const X_=t=>t==="Enum",Z_=t=>t==="Size";function By(t,n=[],a=!1){let o=t.fields.filter(c=>Kl(c.type)||zy(c.type,n)).map(c=>{const u=zy(c.type,n)?Hl(Mn(c.type)):gs(Gy(Mn(c.type)));return{kind:"InputValueDefinition",name:c.name,type:Bn(u),directives:[]}});const s=gs(t.name.value);return a&&(o=o.concat(Vy(s))),{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:s},directives:[],fields:o}}function Gy(t){return t in Py?Py[t]:t}function zy(t,n){return n.some(a=>a.name.value===Mn(t))}function ex(){return[{kind:"InputValueDefinition",name:{kind:"Name",value:"first"},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"InputValueDefinition",name:{kind:"Name",value:"after"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}]}function qy({obj:t,includeOrderBy:n}){return[{kind:"InputValueDefinition",name:{kind:"Name",value:"filter"},type:{kind:"NamedType",name:{kind:"Name",value:gs(t.name.value)}}},{kind:"InputValueDefinition",name:{kind:"Name",value:"limit"},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},...n?[{kind:"InputValueDefinition",name:{kind:"Name",value:"orderBy"},type:hs(Bn(jy(t.name.value)))}]:[],{kind:"InputValueDefinition",name:{kind:"Name",value:"nextToken"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}]}const Ky={kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}};function Wy(t,n=Ky){return{kind:"InputValueDefinition",name:{kind:"Name",value:De(t.AttributeName)},type:Ly(n)}}function tx(t,n,a){const o=a.fields.reduce((c,u)=>({...c,[u.name.value]:u.type}),{}),s=n.map(c=>Wy(c,o[De(c.AttributeName)]));return{kind:"FieldDefinition",name:{kind:"Name",value:t},type:{kind:"NamedType",name:{kind:"Name",value:a.name.value}},arguments:s}}function nx(t,n,a){return{kind:"FieldDefinition",name:{kind:"Name",value:t},type:{kind:"NamedType",name:{kind:"Name",value:ys(a).name.value}},arguments:qy({obj:a})}}function Hy(t,n,a,o){const s=De(`query${rt((0,Ni.plural)(t))}By${go(n)}`),c=a.find(f=>f.KeyType==="HASH"),u=o.fields.find(f=>f.name.value===De(c.AttributeName)),p=u?u.type:Ky,h=[Wy(c,p),...ex()];return{kind:"FieldDefinition",name:{kind:"Name",value:s},type:{kind:"NamedType",name:{kind:"Name",value:ys(o).name.value}},arguments:h}}function rx(t,n,a="Query"){const o=t.LocalSecondaryIndexes?t.LocalSecondaryIndexes:[],s=t.GlobalSecondaryIndexes?t.GlobalSecondaryIndexes:[],c=tx(De(`get${rt(n.name.value)}`),t.KeySchema,n),u=nx(De(`list${rt((0,Ni.plural)(n.name.value))}`),t.KeySchema,n),p=o.reduce((f,y)=>[...f,Hy(n.name.value,y.IndexName,y.KeySchema,n)],[]),h=s.reduce((f,y)=>[...f,Hy(n.name.value,y.IndexName,y.KeySchema,n)],[]);return{kind:"ObjectTypeDefinition",name:{kind:"Name",value:a},fields:[c,u,...p,...h]}}function Dd(t,n,a,o){return{kind:"FieldDefinition",name:{kind:"Name",value:t},type:{kind:"NamedType",name:{kind:"Name",value:o.name.value}},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"input"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:a.name.value}}}}]}}function ax(t,n,a,o,s="Mutation"){const c=Dd(De(`create${rt(t.name.value)}`),`Create a record of type ${t.name.value}.`,n,t),u=Dd(De(`update${rt(t.name.value)}`),`Update a record of type ${t.name.value}.`,a,t),p=Dd(De(`delete${rt(t.name.value)}`),`Delete a record of type ${t.name.value}.`,o,t);return{kind:"ObjectTypeDefinition",name:{kind:"Name",value:s},fields:[c,u,p]}}function ix(t,n,a,o){const s=a.fields.filter(c=>ar(c.type,o)).map(c=>({kind:"InputValueDefinition",name:{kind:"Name",value:c.name.value},type:Wl(c.type)}));return{kind:"FieldDefinition",name:{kind:"Name",value:t},type:{kind:"NamedType",name:{kind:"Name",value:a.name.value}},directives:[{kind:"Directive",name:{kind:"Name",value:"aws_subscribe"},arguments:[{kind:"Argument",name:{kind:"Name",value:"mutations"},value:{kind:"ListValue",values:[{kind:"StringValue",value:n}]}}]}],arguments:s.slice(0,5)}}function ox(t,n,a,o="Subscription"){const c=n.fields.map(u=>ix(De(`on${rt(u.name.value)}`).substring(0,50),u.name.value,t,a));return{kind:"ObjectTypeDefinition",name:{kind:"Name",value:o},fields:c}}const _t="    ";function sx(t,n=""){return t.inline?`if (${Qe(t.predicate)}) ${Qe(t.expr)};`:`if (${Qe(t.predicate)}) {
${n}${_t}${Qe(t.expr,n+_t)}
${n}}`}function lx(t,n=""){return t.inline?`${Jy({...t,kind:"Ternary",includeSemicolon:!0},n)}`:`if (${Qe(t.predicate)}) {
${n}${_t}${Qe(t.ifExpr,n+_t)}
${n}} else {
${n}${_t}${Qe(t.elseExpr,n+_t)}
${n}}`}function Jy(t,n=""){return t.inline?`${Qe(t.predicate)} ? ${Qe(t.ifExpr)} : ${Qe(t.elseExpr)}${t.includeSemicolon?";":""}`:`${Qe(t.predicate,n)} ?
${n}${_t}${Qe(t.ifExpr)}
${n}${_t}: ${Qe(t.elseExpr)}`}function cx(t){return`${Qe(t.ifPredicateExpr)} ?? ${Qe(t.elseExpr)}`}function ux(t){return t.expressions.map(n=>Qe(n)).join(" && ")}function dx(t){return t.expressions.map(n=>Qe(n)).join(" || ")}function px(t){return`(${Qe(t.expr)})`}function mx(t){return`${Qe(t.leftExpr)} == ${Qe(t.rightExpr)}`}function hx(t){return`${Qe(t.leftExpr)} === ${Qe(t.rightExpr)}`}function fx(t){return`${Qe(t.leftExpr)} != ${Qe(t.rightExpr)}`}function yx(t,n=""){return`${t.collection.value}.forEach((${t.key.value}) => {
${n}${_t}${t.expressions.map(a=>Qe(a,n+_t)).join(`
${n}${_t}`)}
${n}});`}function gx(t,n=""){const a=t.expressions.map(o=>`${n}${_t}${Qe(o,n+_t)}`).join(`
`);return`for (const ${Qe(t.key)} in ${Qe(t.collection)}) {
${a}
${n}}`}function Yy(t,n){if(t.multiline){const a=`
${n} `;return`/**
 * ${t.value.split(`
`).map(s=>s.trim()).join(`${a}* `)}${a}*/
`}return`// ${t.value}`}function Ax(t,n=""){return`${t.keyword?`${t.keyword} `:""}${t.variable} = ${Qe(t.expr,n)};`}function Ex(t){return`'${t.value}'`}function bx(t){return`${t.value}`}function vx(t){return`${t.value}`}function Sx(t){return`"${Qe(t.expr)}"`}function Tx(t){return"null"}function Ix(t){return""}function Cx(t,n=""){return`return ${Qe(t.expr,n)}`}function Rx(t){return`\`\${${t.value}}\``}function wx(t,n=""){return`${t.expressions.map((o,s)=>`${s?n:""}${Qe(o,n)}`).join(`
`)}`}function Px(t,n=""){const a=t.inline?", ":`,
${n}${_t}`,o=t.values.map(s=>Qe(s,n+_t)).join(a);return`[${t.inline?" ":`
`}${t.inline?"":`${n}${_t}`}${o}${t.inline?"":`
`}${t.inline?" ":n}]`}function Ox(t,n=""){const a=t.variable?[t.variable]:[];for(const o of t.methods){const s=o.args.length>2,c=s?`,
${n}${_t}`:", ",u=o.args.map(f=>Qe(f,n)).join(c);let p="(",h=")";s&&(p=`${p}
${n}${_t}`,h=`
${n}${h}`),a.push(`${o.name}${p}${u}${h}`)}return a.join(".")}function Dx(t,n=""){return`{
${t.attributes.map(o=>Nx(o,n)).join(`
`)}
${n}}`}function Nx(t,n=""){const a=t[1].kind;let o,s;switch(a){case"Shorthand":[o]=t,s="";break;case"Spread":o=`...${t[0]}`,s="";break;default:[o]=t,s=`: ${Qe(t[1],n+_t)}`}return`${n}${_t}${o}${s},`}function _x(t,n=""){return xx(t)?kx(t,n):Lx(t,n)}function xx(t){return t.inline===!0}function Lx(t,n=""){const a=t.code.map(s=>`${n}${_t}${Qe(s,n+_t)}`).join(`
`);return`${t.function.comment?Yy(t.function.comment,n):""}${n}${t.function.export?"export ":""}function ${t.function.name}(${t.function.args}) {
${a}
${n}}`}function kx(t,n=""){const a=Qe(t.code,n);return`(${t.function.args}) => ${a}`}function Qe(t,n=""){if(!t)return"";switch(t.kind){case"If":return sx(t,n);case"IfElse":return lx(t,n);case"Ternary":return Jy(t,n);case"NullishCoalescing":return cx(t);case"And":return ux(t);case"Or":return dx(t);case"Parens":return px(t);case"Equals":return mx(t);case"StrictEquals":return hx(t);case"NotEquals":return fx(t);case"ForEach":return yx(t,n);case"ForIn":return gx(t,n);case"String":return Ex(t);case"Int":return bx(t);case"Raw":return vx(t);case"Quotes":return Sx(t);case"Null":return Tx(t);case"Newline":return Ix(t);case"Return":return Cx(t,n);case"Reference":return Rx(t);case"List":return wx(t,n);case"Object":return Dx(t,n);case"Function":return _x(t,n);case"Comment":return Yy(t,n);case"Assignment":return Ax(t,n);case"Method":return Ox(t,n);case"Array":return Px(t,n);default:return""}}function Rt(t){return Qe(t)}function Mx(){return{kind:"Function",function:{name:"request",args:"ctx",export:!0,comment:{kind:"Comment",value:`Called before the request function of the first AppSync function in the pipeline.
@param ctx The context object that holds contextual information about the function invocation.`,multiline:!0}},code:[{kind:"Return",expr:{kind:"Raw",value:"{};"}}]}}function Fx(){return{kind:"Function",function:{name:"response",args:"ctx",export:!0,comment:{kind:"Comment",value:`Called after the response function of the last AppSync function in the pipeline.
@param ctx The context object that holds contextual information about the function invocation.`,multiline:!0}},code:[{kind:"Return",expr:{kind:"Raw",value:"ctx.prev.result;"}}]}}function or(t,n,a=[],o=["import { util } from '@aws-appsync/utils';"]){return`${o.join(`
`)}

${t}

${n}
${a.length?`
`:""}${a.join(`

`)}${a.length?`
`:""}`}function Ux(t,n,a){let o;switch(t){case le.APPSYNC_JS:o=$x();break;default:throw nn(t,[le.APPSYNC_JS])}return{typeName:a,fieldName:n,kind:"PIPELINE",pipelineConfig:{functions:[]},...o}}function $x(){const t=Rt(Mx()),n=Rt(Fx());return{runtime:{name:le.APPSYNC_JS,runtimeVersion:ir},code:or(t,n)}}function jx(t,n=null,a="2017-02-28"){const o=t.KeySchema,s=t.AttributeDefinitions.reduce((p,h)=>({...p,[h.AttributeName]:h.AttributeType}),{}),c={kind:"Object",attributes:o.map(p=>s[p.AttributeName]==="B"?[p.AttributeName,{kind:"Raw",value:`$util.dynamodb.toBinaryJson($ctx.args.${De(p.AttributeName)})`}]:[p.AttributeName,{kind:"Raw",value:`$util.dynamodb.toDynamoDBJson($ctx.args.${De(p.AttributeName)})`}])},u=[["version",{kind:"String",value:a}],["operation",{kind:"String",value:"GetItem"}],["key",c]];return n&&u.push(["index",{kind:"String",value:n}]),{kind:"Object",attributes:u}}function Vx(){return{kind:"Raw",value:"$util.toJson($context.result)"}}const vo="  ";function Bx(t,n=""){return t.inline?`#if( ${Nt(t.predicate)} ) ${Nt(t.expr)} #end`:`${n}#if( ${Nt(t.predicate)} )
${n}${vo}${Nt(t.expr)}
${n}#end`}function Gx(t,n=""){return t.inline?`#if( ${Nt(t.predicate)} ) ${Nt(t.ifExpr)} #else ${Nt(t.elseExpr)} #end`:`${n}#if( ${Nt(t.predicate)} )
${n}${vo}${Nt(t.ifExpr)}
${n}#else
${n}${vo}${Nt(t.elseExpr)}
${n}#end`}function zx(t){return t.expressions.map(n=>Nt(n)).join(" && ")}function qx(t){return t.expressions.map(n=>Nt(n)).join(" || ")}function Kx(t){return`(${Nt(t.expr)})`}function Wx(t){return`${Nt(t.leftExpr)} == ${Nt(t.rightExpr)}`}function Hx(t){return`${Nt(t.leftExpr)} != ${Nt(t.rightExpr)}`}function Jx(t,n=""){return`${n}#foreach( ${Nt(t.key)} in ${Nt(t.collection)} )
${t.expressions.map(a=>Nt(a,n+vo)).join(`
`)}${n}#end`}function Yx(t){return`"${t.value}"`}function Qx(t){return`${t.value}`}function Xx(t){return`"${Nt(t.expr)}"`}function Zx(t){return`${t.value}`}function eL(t){return`${t.value}`}function tL(t){return"null"}function nL(t){return`\${${t.value}}`}function rL(t){return`$!{${t.value}}`}function Nd(t,n=""){return`{
${t.attributes.map(o=>`${n}${vo}"${o[0]}": ${Nt(o[1],n+vo)},`).join(`
`)}
${n}}`}function aL(t){return`[${t.expressions.map(a=>Nt(a)).join(", ")}]`}function Nt(t,n=""){if(!t)return"";switch(t.kind){case"If":return Bx(t,n);case"IfElse":return Gx(t,n);case"And":return zx(t);case"Or":return qx(t);case"Parens":return Kx(t);case"Equals":return Wx(t);case"NotEquals":return Hx(t);case"ForEach":return Jx(t);case"String":return Yx(t);case"Raw":return Qx(t);case"Quotes":return Xx(t);case"Float":return eL(t);case"Int":return Zx(t);case"Null":return tL(t);case"Reference":return nL(t);case"QuietReference":return rL(t);case"Object":return Nd(t,n);case"List":return aL(t);default:return""}}function sr(t){return Nt(t)}function iL(t,n=null,a="2017-02-28"){const o=t.KeySchema.map(c=>c.AttributeName);return n&&[["version",{kind:"String",value:a}],["operation",{kind:"String",value:"GetItem"}],["key",o]].push(["index",{kind:"String",value:n}]),{kind:"Function",function:{name:"request",args:"ctx",export:!0,comment:{kind:"Comment",value:`Sends a request to get an item with ${o.map(c=>`${c} \`ctx.args.${c}\``).join(" and ")} from the DynamoDB table.
                    @param {import('@aws-appsync/utils').Context<{${o.map(c=>`${c}: unknown;`).join(" ")}}>} ctx the context
                    @returns {import('@aws-appsync/utils').DynamoDBGetItemRequest} the request`,multiline:!0}},code:[{kind:"Raw",value:`const { ${o.join(", ")} } = ctx.args;`},{kind:"Raw",value:`const key = { ${o.join(", ")} };`},{kind:"Return",expr:{kind:"Method",methods:[{name:"get",args:[{kind:"Object",attributes:[["key",{kind:"Shorthand"}]]}]}]}}]}}const oL=`Returns the result or throws an error if the operation failed.
@param {import('@aws-appsync/utils').Context} ctx the context
@returns {*} the result`;function As(t=oL){return{kind:"Function",function:{name:"response",args:"ctx",comment:{kind:"Comment",value:t,multiline:!0},export:!0},code:[{kind:"Raw",value:"const { error, result } = ctx;"},{kind:"If",inline:!1,predicate:{kind:"Raw",value:"error"},expr:{kind:"Return",expr:{kind:"Raw",value:"util.appendError(error.message, error.type, result);"}}},{kind:"Return",expr:{kind:"Raw",value:"result;"}}]}}function sL(t){const{runtime:n,fieldName:a,tableDescription:o,dataSource:s}=t;let c;switch(n){case le.APPSYNC_JS:c=Qy(o);break;default:throw nn(n,[le.APPSYNC_JS])}return{name:`${a}Function`,dataSourceName:s.name,...c}}function Qy(t){const n=Rt(iL(t)),o=Rt(As(`Returns the fetched DynamoDB item.
@param {import('@aws-appsync/utils').Context} ctx the context
@returns {*} the DynamoDB item`)),s=["import { util } from '@aws-appsync/utils';","import { get } from '@aws-appsync/utils/dynamodb';"];return{runtime:{name:le.APPSYNC_JS,runtimeVersion:ir},code:or(n,o,[],s)}}function lL(){return{kind:"Function",function:{name:"request",args:"ctx",comment:{kind:"Comment",value:"Scans the DynamoDB datasource. Scans up to the provided `limit` and stards from the provided `NextToken` (optional).\n@param {import('@aws-appsync/utils').Context<{filter?: any; limit?: number; nextToken?: string}>} ctx the context\n@returns {import('@aws-appsync/utils').DynamoDBScanRequest} the request",multiline:!0},export:!0},code:[{kind:"Raw",value:"const { filter, limit, nextToken } = ctx.args;"},{kind:"Newline"},{kind:"Return",expr:{kind:"Method",methods:[{name:"scan",args:[{kind:"Object",attributes:[["limit",{kind:"Shorthand"}],["nextToken",{kind:"Shorthand"}],["filter",{kind:"Shorthand"}]]}]}]}}]}}function cL(){return{kind:"Function",function:{name:"response",args:"ctx",comment:{kind:"Comment",value:`Returns a list of items and a token.
@param {import('@aws-appsync/utils').Context} ctx the context
@returns {{items: any[]; nextToken?: string}} the result`,multiline:!0},export:!0},code:[{kind:"Raw",value:"const { error, result } = ctx;"},{kind:"If",inline:!1,predicate:{kind:"Raw",value:"error"},expr:{kind:"Return",expr:{kind:"Raw",value:"util.appendError(error.message, error.type, result);"}}},{kind:"Raw",value:"const { items = [], nextToken } = result;"},{kind:"Return",expr:{kind:"Raw",value:"{ items, nextToken };"}}]}}function uL(t){const{runtime:n,fieldName:a,dataSource:o}=t;let s;switch(n){case le.APPSYNC_JS:s=Xy();break;default:throw nn(n,[le.APPSYNC_JS])}return{name:`${a}Function`,dataSourceName:o.name,...s}}function Xy(){const t=Rt(lL()),n=Rt(cL()),a=["import { util } from '@aws-appsync/utils';","import { scan } from '@aws-appsync/utils/dynamodb';"];return{runtime:{name:le.APPSYNC_JS,runtimeVersion:ir},code:or(t,n,[],a)}}function dL(t,n){return t?pL():mL(n)}function pL(){return{kind:"Function",function:{name:"request",args:"ctx",comment:{kind:"Comment",value:`Puts an item into the DynamoDB table using an auto-generated ID.
@param {import('@aws-appsync/utils').Context<{input: any}>} ctx the context
@returns {import('@aws-appsync/utils').DynamoDBPutItemRequest} the request`,multiline:!0},export:!0},code:[{kind:"Raw",value:"const { input: values } = ctx.args;"},{kind:"Raw",value:"const key = { id: util.autoId() };"},{kind:"Raw",value:"const condition = { and: [{ id: { attributeExists: false } }] };"},{kind:"Newline"},{kind:"Return",expr:{kind:"Method",methods:[{name:"put",args:[{kind:"Object",attributes:[["key",{kind:"Shorthand"}],["item",{kind:"Raw",value:"ctx.args.input"}],["condition",{kind:"Shorthand"}]]}]}]}}]}}function mL(t){const n=t.KeySchema.map(a=>a.AttributeName);return{kind:"Function",function:{name:"request",args:"ctx",comment:{kind:"Comment",value:`Puts an item into the DynamoDB table.
@param {import('@aws-appsync/utils').Context<{input: any}>} ctx the context
@returns {import('@aws-appsync/utils').DynamoDBPutItemRequest} the request`,multiline:!0},export:!0},code:[{kind:"Raw",value:`const { ${n.join(", ")} } = ctx.args.input;`},{kind:"Raw",value:`const key = { ${n.join(", ")} };`},{kind:"Raw",value:"const condition = { and: [] };"},{kind:"ForIn",key:{kind:"Raw",value:"k"},collection:{kind:"Raw",value:"key"},expressions:[{kind:"Raw",value:"condition.and.push({ [k]: { attributeExists: false } });"}]},{kind:"Newline"},{kind:"Return",expr:{kind:"Method",methods:[{name:"put",args:[{kind:"Object",attributes:[["key",{kind:"Shorthand"}],["item",{kind:"Raw",value:"ctx.args.input"}],["condition",{kind:"Shorthand"}]]}]}]}}]}}function hL(t){const{runtime:n,fieldName:a,tableDescription:o,dataSource:s,enableAutoID:c}=t,u=fs(o);let p;switch(n){case le.APPSYNC_JS:p=Zy(u&&c,o);break;default:throw nn(n,[le.APPSYNC_JS])}return{name:`${a}Function`,dataSourceName:s.name,...p}}function Zy(t,n){const a=Rt(dL(t,n)),s=Rt(As(`Returns the item or throws an error if the operation failed.
@param {import('@aws-appsync/utils').Context} ctx the context
@returns {*} the result`)),c=["import { util } from '@aws-appsync/utils';","import { put } from '@aws-appsync/utils/dynamodb';"];return{runtime:{name:le.APPSYNC_JS,runtimeVersion:ir},code:or(a,s,[],c)}}const eg={name:"dynamodbQueryRequest",args:"key, value, index, limit, nextToken",export:!1,comment:{kind:"Comment",value:`Helper function to format a DynamoDB query request
@param  {string} key key name
@param  {any} value key value
@param  {string} index name of the index to query
@param  {number} limit max number of items to return
@param  {string} nextToken? token specifying where the query should start reading from
@returns {*} the request`,multiline:!0}};function fL(t,n){const a=t.find(s=>s.KeyType==="HASH"),o=De(a.AttributeName);return{kind:"Function",function:{name:"request",args:"ctx",comment:{kind:"Comment",multiline:!0,value:`Queries a DynamoDB table for items.
@param {import('@aws-appsync/utils').Context} ctx the context
@returns {import('@aws-appsync/utils').DynamoDBQueryRequest} the request`},export:!0},code:[{kind:"Raw",value:`const { ${o}, first = 20, after } = ctx.args;`},{kind:"Raw",value:`const index = '${n}';`},{kind:"Return",expr:{kind:"Raw",value:`${eg.name}('${o}', ${o}, index, first, after );`}}]}}function yL(){return{kind:"Function",function:eg,code:[{kind:"Raw",value:"const expression = `#key = :key`;"},{kind:"Raw",value:"const expressionNames = { '#key': key };"},{kind:"Raw",value:"const expressionValues = util.dynamodb.toMapValues({ ':key': value });"},{kind:"Newline"},{kind:"Return",expr:{kind:"Object",attributes:[["operation",{kind:"String",value:"Query"}],["query",{kind:"Raw",value:"{ expression, expressionNames, expressionValues }"}],["index",{kind:"Shorthand"}],["limit",{kind:"Shorthand"}],["nextToken",{kind:"Shorthand"}],["scanIndexForward",{kind:"Raw",value:"true"}],["select",{kind:"String",value:"ALL_ATTRIBUTES"}]]}}]}}function gL(t){const{runtime:n,fieldName:a,dataSource:o,keySchema:s,index:c}=t;let u;switch(n){case le.APPSYNC_JS:u=tg(s,c);break;default:throw nn(n,[le.APPSYNC_JS])}return{name:`${a}Function`,dataSourceName:o.name,...u}}function tg(t,n){const a=Rt(fL(t,n)),o=Rt(As()),s=Rt(yL());return{runtime:{name:le.APPSYNC_JS,runtimeVersion:ir},code:or(a,o,[s])}}function AL(t){const n=t.KeySchema.map(a=>a.AttributeName);return{kind:"Function",function:{name:"request",args:"ctx",export:!0,comment:{kind:"Comment",value:`Deletes an item with ${n.map(a=>`${a} \`ctx.args.input.${a}\``).join(" and ")} from the DynamoDB table.
@param {import('@aws-appsync/utils').Context<{input: {${n.map(a=>`${a}: unknown;`).join(" ")}}}>} ctx the context
@returns {import('@aws-appsync/utils').DynamoDBDeleteItemRequest} the request`,multiline:!0}},code:[{kind:"Raw",value:`const { ${n.join(", ")} } = ctx.args.input;`},{kind:"Raw",value:`const key = { ${n.join(", ")} };`},{kind:"Return",expr:{kind:"Method",methods:[{name:"remove",args:[{kind:"Object",attributes:[["key",{kind:"Shorthand"}]]}]}]}}]}}function EL(t){const{runtime:n,fieldName:a,tableDescription:o,dataSource:s}=t;let c;switch(n){case le.APPSYNC_JS:c=ng(o);break;default:throw nn(n,[le.APPSYNC_JS])}return{name:`${a}Function`,dataSourceName:s.name,...c}}function ng(t){const n=Rt(AL(t)),o=Rt(As(`Returns the deleted item. Throws an error if the operation failed.
@param {import('@aws-appsync/utils').Context} ctx the context
@returns {*} the deleted item`)),s=["import { util } from '@aws-appsync/utils';","import { remove } from '@aws-appsync/utils/dynamodb';"];return{runtime:{name:le.APPSYNC_JS,runtimeVersion:ir},code:or(n,o,[],s)}}function bL(t){const n=t.KeySchema.map(a=>a.AttributeName);return{kind:"Function",function:{name:"request",args:"ctx",comment:{kind:"Comment",value:`Updates an item in a DynamoDB table, if an item with the given key exists.
@param {import('@aws-appsync/utils').Context<{input: any}>} ctx the context
@returns {import('@aws-appsync/utils').DynamoDBUpdateItemRequest} the request`,multiline:!0},export:!0},code:[{kind:"Raw",value:`const { ${n.join(", ")}, ...values } = ctx.args.input;`},{kind:"Raw",value:`const key = { ${n.join(", ")} };`},{kind:"Raw",value:"const condition = {};"},{kind:"ForIn",key:{kind:"Raw",value:"k"},collection:{kind:"Raw",value:"key"},expressions:[{kind:"Raw",value:"condition[k] = { attributeExists: true };"}]},{kind:"Newline"},{kind:"Return",expr:{kind:"Method",methods:[{name:"update",args:[{kind:"Object",attributes:[["key",{kind:"Shorthand"}],["update",{kind:"Raw",value:"values"}],["condition",{kind:"Shorthand"}]]}]}]}}]}}function vL(t){const{runtime:n,fieldName:a,tableDescription:o,dataSource:s}=t;let c;switch(n){case le.APPSYNC_JS:c=rg(o);break;default:throw nn(n,[le.APPSYNC_JS])}return{name:`${a}Function`,dataSourceName:s.name,...c}}function rg(t){const n=Rt(bL(t)),o=Rt(As(`Returns the updated item or throws an error if the operation failed.
@param {import('@aws-appsync/utils').Context} ctx the context
@returns {*} the result`)),s=["import { util } from '@aws-appsync/utils';","import { update } from '@aws-appsync/utils/dynamodb';"];return{runtime:{name:le.APPSYNC_JS,runtimeVersion:ir},code:or(n,o,[],s)}}function SL(t,n,a,o,s=null,c="Query"){let u;switch(t){case le.APPSYNC_JS:u=Qy(a);break;case le.VTL:u=TL(a,s);break;default:throw nn(t,[le.APPSYNC_JS,le.VTL])}return{typeName:c,fieldName:n,dataSourceName:o.name,...u}}const TL=(t,n)=>({requestMappingTemplate:sr(jx(t,n)),responseMappingTemplate:sr(Vx())});function IL(t=null,n="2017-02-28"){const a=[["version",{kind:"String",value:n}],["operation",{kind:"String",value:"Scan"}],["filter",{kind:"Raw",value:"#if($context.args.filter) $util.transform.toDynamoDBFilterExpression($ctx.args.filter) #else null #end"}],["limit",{kind:"Raw",value:"$util.defaultIfNull($ctx.args.limit, 20)"}],["nextToken",{kind:"Raw",value:"$util.toJson($util.defaultIfNullOrEmpty($ctx.args.nextToken, null))"}]];return t&&a.push(["index",t]),{kind:"Object",attributes:a}}function ag(){return{kind:"Raw",value:"$util.toJson($context.result)"}}function CL(t,n,a,o="Query",s=null){let c;switch(t){case le.APPSYNC_JS:c=Xy();break;case le.VTL:c=RL(s);break;default:throw nn(t,[le.APPSYNC_JS,le.VTL])}return{typeName:o,fieldName:n,dataSourceName:a.name,...c}}const RL=t=>({requestMappingTemplate:sr(IL(t)),responseMappingTemplate:sr(ag())});function wL(t,n="2017-02-28",a=!1){const o=t.KeySchema,s=t.AttributeDefinitions.reduce((y,g)=>({...y,[g.AttributeName]:g.AttributeType}),{}),c=fs(t),u={kind:"Object",attributes:o.map(y=>s[y.AttributeName]==="B"?[y.AttributeName,{kind:"Raw",value:`$util.dynamodb.toBinaryJson($ctx.args.input.${De(y.AttributeName)})`}]:a&&c?[y.AttributeName,{kind:"Raw",value:"$util.dynamodb.toDynamoDBJson($util.autoId())"}]:[y.AttributeName,{kind:"Raw",value:`$util.dynamodb.toDynamoDBJson($ctx.args.input.${De(y.AttributeName)})`}])},p=o.map(y=>[`#${De(y.AttributeName)}`,{kind:"String",value:y.AttributeName}]),h={kind:"String",value:o.map(y=>`attribute_not_exists(#${De(y.AttributeName)})`).join(" AND ")};return{kind:"Object",attributes:[["version",{kind:"String",value:n}],["operation",{kind:"String",value:"PutItem"}],["key",u],["attributeValues",{kind:"Raw",value:"$util.dynamodb.toMapValuesJson($ctx.args.input)"}],["condition",{kind:"Object",attributes:[["expression",h],["expressionNames",{kind:"Object",attributes:p}]]}]]}}function PL(){return{kind:"Raw",value:"$util.toJson($context.result)"}}function OL(t,n,a,o,s="Mutation",c=!1){const u=fs(a);let p;switch(t){case le.APPSYNC_JS:p=Zy(u&&c,a);break;case le.VTL:p=DL(a,c);break;default:throw nn(t,[le.APPSYNC_JS,le.VTL])}return{typeName:s,fieldName:n,dataSourceName:o.name,...p}}const DL=(t,n)=>({requestMappingTemplate:sr(wL(t,"2017-02-28",n)),responseMappingTemplate:sr(PL())});function NL(t,n,a,o="2017-02-28"){const s=t.find(h=>h.KeyType==="HASH"),c=De(s.AttributeName),u=n.reduce((h,f)=>({...h,[f.AttributeName]:f.AttributeType}),{});return{kind:"Object",attributes:[["version",{kind:"String",value:o}],["operation",{kind:"String",value:"Query"}],["query",{kind:"Object",attributes:[["expression",{kind:"String",value:`#${c} = :${c}`}],["expressionNames",{kind:"Object",attributes:[[`#${c}`,{kind:"String",value:`${s.AttributeName}`}]]}],["expressionValues",{kind:"Object",attributes:[[`:${c}`,{kind:"Raw",value:u[s.AttributeName]==="B"?`$util.dynamodb.toBinaryJson($ctx.args.${c})`:`$util.dynamodb.toDynamoDBJson($ctx.args.${c})`}]]}]]}],["index",{kind:"String",value:a}],["limit",{kind:"Raw",value:"$util.defaultIfNull($ctx.args.first, 20)"}],["nextToken",{kind:"Raw",value:"$util.toJson($util.defaultIfNullOrEmpty($ctx.args.after, null))"}],["scanIndexForward",{kind:"Raw",value:"true"}],["select",{kind:"String",value:"ALL_ATTRIBUTES"}]]}}function ig(t,n,a,o,s,c,u="Query"){let p;switch(t){case le.APPSYNC_JS:p=tg(a,c);break;case le.VTL:p=_L(a,o,c);break;default:throw nn(t,[le.APPSYNC_JS,le.VTL])}return{typeName:u,fieldName:n,dataSourceName:s.name,...p}}const _L=(t,n,a)=>({requestMappingTemplate:sr(NL(t,n,a)),responseMappingTemplate:sr(ag())});function xL(t,n="2017-02-28"){const a=t.KeySchema,o=t.AttributeDefinitions.reduce((u,p)=>({...u,[p.AttributeName]:p.AttributeType}),{}),s={kind:"Object",attributes:a.map(u=>o[u.AttributeName]==="B"?[u.AttributeName,{kind:"Raw",value:`$util.dynamodb.toBinaryJson($ctx.args.input.${De(u.AttributeName)})`}]:[u.AttributeName,{kind:"Raw",value:`$util.dynamodb.toDynamoDBJson($ctx.args.input.${De(u.AttributeName)})`}])};return{kind:"Object",attributes:[["version",{kind:"String",value:n}],["operation",{kind:"String",value:"DeleteItem"}],["key",s]]}}function LL(){return{kind:"Raw",value:"$util.toJson($context.result)"}}function kL(t,n,a,o,s="Mutation",c=null){let u;switch(t){case le.APPSYNC_JS:u=ng(a);break;case le.VTL:u=ML(a);break;default:throw nn(t,[le.APPSYNC_JS,le.VTL])}return{typeName:s,fieldName:n,dataSourceName:o.name,...u}}const ML=t=>({requestMappingTemplate:sr(xL(t)),responseMappingTemplate:sr(LL())});function FL(t,n){return`{
  "version": "2017-02-28",
  "operation": "UpdateItem",
  "key": ${Nd(t,"  ")},

  ## Set up some space to keep track of things we're updating **
  #set( $expNames  = {} )
  #set( $expValues = {} )
  #set( $expSet = {} )
  #set( $expAdd = {} )
  #set( $expRemove = [] )

  ## Iterate through each argument, skipping keys **
  #foreach( $entry in $util.map.copyAndRemoveAllKeys($ctx.args.input, [${t.attributes.map(a=>`"${a[0]}"`).join(", ")}]).entrySet() )
    #if( $util.isNull($entry.value) )
      ## If the argument is set to "null", then remove that attribute from the item in DynamoDB **

      #set( $discard = \${expRemove.add("#\${entry.key}")} )
      $!{expNames.put("#\${entry.key}", "\${entry.key}")}
    #else
      ## Otherwise set (or update) the attribute on the item in DynamoDB **

      $!{expSet.put("#\${entry.key}", ":\${entry.key}")}
      $!{expNames.put("#\${entry.key}", "\${entry.key}")}
      $!{expValues.put(":\${entry.key}", $util.dynamodb.toDynamoDB($entry.value))}
    #end
  #end

  ## Start building the update expression, starting with attributes we're going to SET **
  #set( $expression = "" )
  #if( !\${expSet.isEmpty()} )
    #set( $expression = "SET" )
    #foreach( $entry in $expSet.entrySet() )
      #set( $expression = "\${expression} \${entry.key} = \${entry.value}" )
      #if ( $foreach.hasNext )
        #set( $expression = "\${expression}," )
      #end
    #end
  #end

  ## Continue building the update expression, adding attributes we're going to ADD **
  #if( !\${expAdd.isEmpty()} )
    #set( $expression = "\${expression} ADD" )
    #foreach( $entry in $expAdd.entrySet() )
      #set( $expression = "\${expression} \${entry.key} \${entry.value}" )
      #if ( $foreach.hasNext )
        #set( $expression = "\${expression}," )
      #end
    #end
  #end

  ## Continue building the update expression, adding attributes we're going to REMOVE **
  #if( !\${expRemove.isEmpty()} )
    #set( $expression = "\${expression} REMOVE" )

    #foreach( $entry in $expRemove )
      #set( $expression = "\${expression} \${entry}" )
      #if ( $foreach.hasNext )
        #set( $expression = "\${expression}," )
      #end
    #end
  #end

  ## Finally, write the update expression into the document, along with any expressionNames and expressionValues **
  "update": {
    "expression": "\${expression}",
    #if( !\${expNames.isEmpty()} )
      "expressionNames": $utils.toJson($expNames),
    #end
    #if( !\${expValues.isEmpty()} )
      "expressionValues": $utils.toJson($expValues),
    #end
  },

  "condition": ${Nd(n,"  ")}
}`}function UL(t,n="2017-02-28"){const a=t.KeySchema,o=t.AttributeDefinitions.reduce((p,h)=>({...p,[h.AttributeName]:h.AttributeType}),{}),s={kind:"Object",attributes:a.map(p=>o[p.AttributeName]==="B"?[p.AttributeName,{kind:"Raw",value:`$util.dynamodb.toBinaryJson($ctx.args.input.${De(p.AttributeName)})`}]:[p.AttributeName,{kind:"Raw",value:`$util.dynamodb.toDynamoDBJson($ctx.args.input.${De(p.AttributeName)})`}])},c=a.map(p=>[`#${De(p.AttributeName)}`,{kind:"String",value:p.AttributeName}]),u={kind:"String",value:a.map(p=>`attribute_exists(#${De(p.AttributeName)})`).join(" AND ")};return{kind:"Raw",value:FL(s,{kind:"Object",attributes:[["expression",u],["expressionNames",{kind:"Object",attributes:c}]]})}}function $L(){return{kind:"Raw",value:"$util.toJson($context.result)"}}function jL(t,n,a,o,s="Mutation"){let c;switch(t){case le.APPSYNC_JS:c=rg(a);break;case le.VTL:c=VL(a);break;default:throw nn(t,[le.APPSYNC_JS,le.VTL])}return{typeName:s,fieldName:n,dataSourceName:o.name,...c}}const VL=t=>({requestMappingTemplate:sr(UL(t)),responseMappingTemplate:sr($L())});function BL(t,n,a){const o=t.TableArn.split(":"),s=o&&o.length>3?o[3]:"us-west-2";return{name:a||t.TableName,description:`DataSource for Amazon DynamoDB table ${t.TableName} (${t.TableArn})`,type:"AMAZON_DYNAMODB",serviceRoleArn:n,dynamodbConfig:{tableName:t.TableName,awsRegion:s}}}class Jl{constructor(n){this.config=n,this.resolverFunctionReference={get:{makeFunction:sL,pluralize:!1,suffixes:[""],additionalArgs:[{tableDescription:this.config.tableDescription}]},list:{makeFunction:uL,pluralize:!0,suffixes:[""],additionalArgs:[{}]},create:{makeFunction:hL,pluralize:!1,suffixes:[""],typeName:"Mutation",additionalArgs:[{enableAutoID:this.config.enableAutoID,tableDescription:this.config.tableDescription}]},update:{makeFunction:vL,suffixes:[""],typeName:"Mutation",pluralize:!1,additionalArgs:[{tableDescription:this.config.tableDescription}]},delete:{makeFunction:EL,suffixes:[""],typeName:"Mutation",pluralize:!1,additionalArgs:[{tableDescription:this.config.tableDescription}]},query:{makeFunction:gL,suffixes:[],pluralize:!1,additionalArgs:[]}}}getDataSources(){return[BL(this.config.tableDescription,this.config.serviceRoleArn,this.config.dataSourceName)]}getCreateDataSourceRequests(){return this.getDataSources().map(n=>({apiId:this.config.apiId,...n}))}buildResolverFunctionReference(){const n=this.config.tableDescription.LocalSecondaryIndexes?this.config.tableDescription.LocalSecondaryIndexes:[],a=this.config.tableDescription.GlobalSecondaryIndexes?this.config.tableDescription.GlobalSecondaryIndexes:[],o=[],s=[];a.forEach(c=>{o.push(`By${go(c.IndexName)}`),s.push({keySchema:c.KeySchema,index:c.IndexName})}),n.forEach(c=>{o.push(`By${go(c.IndexName)}`),s.push({keySchema:c.KeySchema,index:c.IndexName})}),this.resolverFunctionReference.query.suffixes=o,this.resolverFunctionReference.query.additionalArgs=s}getFunctions(n,a=!1){this.buildResolverFunctionReference();const o=this.getDataSources()[0],s={};for(const c in this.resolverFunctionReference){if(!this.resolverFunctionReference[c])continue;const u=this.resolverFunctionReference[c];u.suffixes.forEach((p,h)=>{const f=this.generateFieldName(c,u.pluralize,p);s[f]=u.makeFunction?.({...u.additionalArgs[h],runtime:n,fieldName:f,dataSource:o}),a&&(s[f].functionId=f)})}return s}getCreateFunctionRequests(n,a=!1){const o=this.getFunctions(n,a),s={};for(const c in o)o[c]&&(s[c]={...o[c],apiId:this.config.apiId});return s}getResolverInputs(n=le.VTL,a=bo.UNIT,o){let s;switch(a){case bo.UNIT:s=this.getUnitResolvers(n);break;case bo.PIPELINE:s=this.getPipelineResolvers(n);break;default:throw B_(a)}return s.map(c=>({...c,apiId:this.config.apiId,typeName:c.typeName,fieldName:c.fieldName,...o?{pipelineConfig:{functions:[o[c.fieldName]?.functionId]}}:{}}))}getPipelineResolvers(n){const a=[];for(const o in this.resolverFunctionReference){if(!this.resolverFunctionReference[o])continue;const s=this.resolverFunctionReference[o];s.suffixes.forEach(c=>{const u=this.generateFieldName(o,s.pluralize,c);a.push(Ux(n,u,s.typeName??"Query"))})}return a}getUnitResolvers(n=le.VTL){const a=this.getDataSources()[0],o=SL(n,De(`get${rt(this.config.typeDefinition.name.value)}`),this.config.tableDescription,a),s=CL(n,De(`list${rt((0,Ni.plural)(this.config.typeDefinition.name.value))}`),a),u=(this.config.tableDescription.LocalSecondaryIndexes?this.config.tableDescription.LocalSecondaryIndexes:[]).reduce((A,E)=>[...A,ig(n,De(`query${rt((0,Ni.plural)(this.config.typeDefinition.name.value))}By${go(E.IndexName)}`),E.KeySchema,this.config.tableDescription.AttributeDefinitions,a,E.IndexName)],[]),h=(this.config.tableDescription.GlobalSecondaryIndexes?this.config.tableDescription.GlobalSecondaryIndexes:[]).reduce((A,E)=>[...A,ig(n,De(`query${rt((0,Ni.plural)(this.config.typeDefinition.name.value))}By${go(E.IndexName)}`),E.KeySchema,this.config.tableDescription.AttributeDefinitions,a,E.IndexName)],[]),f=OL(n,De(`create${rt(this.config.typeDefinition.name.value)}`),this.config.tableDescription,a,"Mutation",this.config.enableAutoID),y=jL(n,De(`update${rt(this.config.typeDefinition.name.value)}`),this.config.tableDescription,a),g=kL(n,De(`delete${rt(this.config.typeDefinition.name.value)}`),this.config.tableDescription,a);return[o,s,f,y,g,...u,...h]}getCreateInput(){if(!this.createInput){const n=F_(this.config.tableDescription,this.config.typeDefinition,this.config.enumScalars,this.config.isValidInputType||ar,this.config.enableAutoID);this.createInput=n}return this.createInput}getUpdateInput(){if(!this.updateInput){const n=U_(this.config.tableDescription,this.config.typeDefinition,this.config.enumScalars,this.config.isValidInputType||ar);this.updateInput=n}return this.updateInput}getDeleteInput(){if(!this.deleteInput){const n=$_(this.config.tableDescription,this.config.typeDefinition,this.config.isValidInputType||ar);this.deleteInput=n}return this.deleteInput}getTableStringFilterInput(){return this.tableStringFilterInput||(this.tableStringFilterInput=Gn("String")),this.tableStringFilterInput}getTableIntFilterInput(){return this.tableIntFilterInput||(this.tableIntFilterInput=Gn("Int")),this.tableIntFilterInput}getTableFloatFilterInput(){return this.tableFloatFilterInput||(this.tableFloatFilterInput=Gn("Float")),this.tableFloatFilterInput}getTableBooleanFilterInput(){return this.tableBooleanFilterInput||(this.tableBooleanFilterInput=Gn("Boolean")),this.tableBooleanFilterInput}getTableIDFilterInput(){return this.tableIDFilterInput||(this.tableIDFilterInput=Gn("ID")),this.tableIDFilterInput}getModelSizeFilterInput(){return this.modelSizeInput||(this.modelSizeInput=Gn("Size")),this.modelSizeInput}getExistingDefinition(){return this.config.existingDefinitions}getTableXFilterInput(){if(!this.tableXFilterInput){const n=By(this.config.typeDefinition);this.tableXFilterInput=n}return this.tableXFilterInput}getSDL(){return this.getTypeDefinitions().map(n=>(0,Q.print)(n)).join(`

`)}getTypeDefinitions(){const n=this.config.typeDefinition,a=ys(this.config.typeDefinition),o=this.getCreateInput(),s=this.getUpdateInput(),c=this.getDeleteInput(),u=[],p={TableStringFilterInput:{getFilterInput:()=>this.getTableStringFilterInput()},TableIDFilterInput:{getFilterInput:()=>this.getTableIDFilterInput()},TableBooleanFilterInput:{getFilterInput:()=>this.getTableBooleanFilterInput()},TableIntFilterInput:{getFilterInput:()=>this.getTableIntFilterInput()},TableFloatFilterInput:{getFilterInput:()=>this.getTableFloatFilterInput()},[zl]:{getFilterInput:()=>this.getModelSizeFilterInput()}},h=this.config.existingDefinitions||[],f=this.getExistingFilters(h);Oy.forEach(R=>{if(!f[R]&&p[R]){const L=p[R].getFilterInput();u.push(L)}});const y=this.getTableXFilterInput(),g=rx(this.config.tableDescription,n),A=ax(n,o,s,c),E=ox(n,A,this.config.enumScalars),b=wd(g),C=wd(A),I=wd(E);return[b,C,I,y,o,s,c,a].concat(u)}getExistingFilters(n){const a={};for(const o of n)if(o.kind==="InputObjectTypeDefinition"){const s=o?.name?.value;Oy.includes(s)&&(a[s]=!0)}return a}generateFieldName(n,a,o){return De(n+rt(a?(0,Ni.plural)(this.config.typeDefinition.name.value):this.config.typeDefinition.name.value)+o)}get apiId(){return this.config?.apiId}}var GL=v(51182),zL=v(38990),sa=v(1980),qL=v(15232);const _d={Query:"Query",Mutation:"Mutation",Subscription:"Subscription"},KL="primaryKey",og={Type:"RELATIONAL_DATABASE",RDSType:"RDS_HTTP_ENDPOINT"},xd={Waiting:"WAITING",NotInitialized:"Adapter not initialized. Initialize Adapter before use."};var xi;(function(t){t.All="ALL",t.Queries="QUERIES"})(xi||(xi={}));function sg(){return{TableIDFilterInput:{create:()=>Gn("ID"),supportingFilters:[Gl.MODEL_SIZE_NAME]},TableStringFilterInput:{create:()=>Gn("String"),supportingFilters:[Gl.MODEL_SIZE_NAME]},TableBooleanFilterInput:{create:()=>Gn("Boolean"),supportingFilters:[]},TableIntFilterInput:{create:()=>Gn("Int"),supportingFilters:[]},TableFloatFilterInput:{create:()=>Gn("Float"),supportingFilters:[]},[Gl.MODEL_SIZE_NAME]:{create:()=>Gn("Size"),supportingFilters:[]}}}class WL{constructor(n){this.kind="ObjectTypeDefinition",this.fields=[],this._name={kind:"Name",value:""},this._tableName="",this._primaryKey=null,this._enabled=!0;const{type:a,enumTypes:o}=(0,qL.convertModelToGraphQLTypeDefinition)(n);this._enums=o;const{name:{value:s},fields:c}=a;this.setName(rt(s)),this._tableName=s,KL in n&&(this._primaryKey=n.primaryKey.fields),this.fields=c.map(u=>({...u,enabled:!0}))}getTypeDefinition(){if(!this._enabled)return null;const n=this.fields.filter(a=>a.enabled);return{kind:this.kind,name:this._name,fields:n}}get name(){return this._name}setName(n){this._name={kind:"Name",value:De(n)}}get enums(){return this._enums}get enabled(){return this._enabled}set enabled(n){this._enabled=n}get tableName(){return this._tableName}get primaryKey(){return this._primaryKey}}function HL(t,n){return{kind:"InputValueDefinition",name:{kind:"Name",value:De(n)},type:Ly(t.find(a=>a.name.value===n).type)}}function JL(t){const n=ky(t.name.value),a=t.primaryKey.map(o=>HL(t.fields,o));return{kind:"FieldDefinition",name:{kind:"Name",value:n},type:{kind:"NamedType",name:{kind:"Name",value:t.name.value}},arguments:a}}function YL(t){const n=t.getTypeDefinition();return{kind:"FieldDefinition",name:{kind:"Name",value:My(n.name.value)},type:{kind:"NamedType",name:{kind:"Name",value:ys(n).name.value}},arguments:qy({obj:n,includeOrderBy:!0})}}function QL(t){const n=[YL(t)];return t.primaryKey&&n.unshift(JL(t)),n}function XL(t,n,a){return{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:`Create${rt(t.name.value)}Input`},directives:[],fields:a==="pg"?V_(t,n):n}}function ZL(t,n){return n.filter(o=>!t.primaryKey.includes(o.name.value)).length?{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:`Update${rt(t.name.value)}Input`},directives:[],fields:n.map(o=>({...o,type:t.primaryKey.includes(o.name.value)?o.type:Wl(o.type)}))}:null}function ek(t,n){const a=n.filter(o=>t.primaryKey.includes(o.name.value));return{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:`Delete${rt(t.name.value)}Input`},directives:[],fields:a}}function tk(t,n,a){const o=n.filter(c=>!t.primaryKey.includes(c.name.value)).filter(c=>Kl(c.type,a)).map(c=>{const u=Gy(Mn(c.type)),p=!!a[Mn(c.type)];return{kind:"InputValueDefinition",name:c.name,type:Bn(p?Hl(u):gs(u)),directives:[]}});if(!o.length)return null;const s=`Table${rt(t.name.value)}ConditionInput`;return{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:s},directives:[],fields:o.concat(Vy(s)).map(c=>({...c,type:Wl(c.type)}))}}function nk(t,n){const a=t.getTypeDefinition(),o={};t.enums.forEach(c=>{o[c.name.value]=!0});const s=a.fields.filter(c=>ar(c.type,o)).map(c=>{let{type:u}=c;return t.primaryKey.includes(c.name.value)&&c.type.kind!=="NonNullType"&&(u={kind:"NonNullType",type:c.type}),{kind:"InputValueDefinition",name:{kind:"Name",value:c.name.value},type:u,directives:[]}});return{create:XL(t,s,n),update:ZL(t,s),delete:ek(t,s),condition:tk(t,s,o)}}function Ld(t,n,a){return{kind:"FieldDefinition",name:{kind:"Name",value:t},type:{kind:"NamedType",name:{kind:"Name",value:a.name.value}},arguments:n}}function rk(t,n){const a=t.getTypeDefinition(),o=Ld(Fy(t.name.value),[_i({variable:"input",input:n.create,nonNull:!0})],a);let s;if(n.update){const p=n.condition?[_i({variable:"input",input:n.update,nonNull:!0}),_i({variable:"condition",input:n.condition,nonNull:!1})]:[_i({variable:"input",input:n.update,nonNull:!0})];s=Ld(Uy(t.name.value),p,a)}const c=n.condition?[_i({variable:"input",input:n.delete,nonNull:!0}),_i({variable:"condition",input:n.condition,nonNull:!1})]:[_i({variable:"input",input:n.delete,nonNull:!0})],u=Ld($y(t.name.value),c,a);return[o,...s?[s]:[],u]}function ak(t,n,a){const o=n.name.value,s=t.fields.filter(c=>ar(c.type,a)).map(c=>({kind:"InputValueDefinition",name:{kind:"Name",value:c.name.value},type:Wl(c.type)}));return{kind:"FieldDefinition",name:{kind:"Name",value:`on${rt(o)}`},type:{kind:"NamedType",name:t.name},directives:[{kind:"Directive",name:{kind:"Name",value:"aws_subscribe"},arguments:[{kind:"Argument",name:{kind:"Name",value:"mutations"},value:{kind:"ListValue",values:[{kind:"StringValue",value:o}]}}]}],arguments:s.slice(0,5)}}function ik(t,n){const a=t.getTypeDefinition(),o={};return t.enums.forEach(s=>{o[s.name.value]=!0}),n.map(s=>ak(a,s,o))}const kr=t=>({mysql:"createMySQLStatement",pg:"createPgStatement"})[t],ok=["pg"],Fn=t=>ok.includes(t),sk=`Returns the result or throws an error if the operation failed.
@param {import('@aws-appsync/utils').Context} ctx the context
@returns {*} the result`;function Es({itemAccessor:t,comment:n,includeNextToken:a}){return{kind:"Function",function:{name:"response",args:"ctx",comment:{kind:"Comment",value:n??sk,multiline:!0},export:!0},code:[{kind:"Assignment",keyword:"const",variable:a?"{ args: { limit = 100, nextToken }, error, result }":"{ error, result }",expr:{kind:"Raw",value:"ctx"}},{kind:"If",inline:!1,predicate:{kind:"Raw",value:"error"},expr:{kind:"Return",expr:{kind:"Method",variable:"util",methods:[{name:"appendError",args:[{kind:"Raw",value:"error.message"},{kind:"Raw",value:"error.type"},{kind:"Raw",value:"result"}]}]}}},...a?ck(t):lk(t)]}}const lk=t=>[{kind:"Return",expr:{kind:"Raw",value:`toJsonObject(result)${t}`}}],ck=t=>[{kind:"Assignment",keyword:"const",variable:"offset",expr:{kind:"Ternary",inline:!0,includeSemicolon:!1,predicate:{kind:"Raw",value:"nextToken"},ifExpr:{kind:"Method",variable:"+util",methods:[{name:"base64Decode",args:[{kind:"Raw",value:"nextToken"}]}]},elseExpr:{kind:"Raw",value:"0"}}},{kind:"Assignment",keyword:"const",variable:"items",expr:{kind:"Raw",value:`toJsonObject(result)${t}`}},{kind:"Assignment",keyword:"const",variable:"endOfResults",expr:{kind:"Raw",value:"items?.length < limit"}},{kind:"Assignment",keyword:"const",variable:"token",expr:{kind:"Ternary",inline:!0,includeSemicolon:!1,predicate:{kind:"Raw",value:"endOfResults"},ifExpr:{kind:"Null"},elseExpr:{kind:"Method",variable:"util",methods:[{name:"base64Encode",args:[{kind:"Reference",value:"offset + limit"}]}]}}},{kind:"Return",expr:{kind:"Object",attributes:[["items",{kind:"Shorthand"}],["nextToken",{kind:"Raw",value:"token"}]]}}];function uk(t,n){return{kind:"Function",function:{name:"request",args:"ctx",export:!0,comment:{kind:"Comment",value:`Sends a request to get an item with ${t.primaryKey.map(a=>`${a} \`ctx.args.${a}\``).join(" and ")} from the ${t.tableName} table.
                    @param {import('@aws-appsync/utils').Context} ctx the context
                    @returns {*} the request`,multiline:!0}},code:[{kind:"Assignment",keyword:"const",variable:`{ ${t.primaryKey.join(", ")} }`,expr:{kind:"Raw",value:"ctx.args"}},{kind:"Assignment",keyword:"const",variable:"where",expr:{kind:"Object",attributes:t.primaryKey.map(a=>[a,{kind:"Object",attributes:[["eq",{kind:"Raw",value:a}]]}])}},Yl(t,"statement"),{kind:"Return",expr:{kind:"Method",methods:[{name:kr(n),args:[{kind:"Raw",value:"statement"}]}]}}]}}const Yl=(t,n)=>({kind:"Assignment",keyword:"const",variable:n,expr:{kind:"Method",methods:[{name:"select",args:[{kind:"Object",attributes:[["table",{kind:"String",value:t.tableName}],["columns",{kind:"String",value:"*"}],["where",{kind:"Shorthand"}],["limit",{kind:"Int",value:1}]]}]}]}}),dk=(t,n)=>{const a=Rt(uk(t,n)),o=Rt(Es({includeNextToken:!1,itemAccessor:"[0][0]"})),s=["import { util } from '@aws-appsync/utils';",`import { select, ${kr(n)}, toJsonObject } from '@aws-appsync/utils/rds';`];return{runtime:{name:le.APPSYNC_JS,runtimeVersion:ir},code:or(a,o,[],s)}};function pk({table:t,runtime:n,fieldName:a,engine:o,dataSource:s}){let c={};switch(n){case le.APPSYNC_JS:c=dk(t,o);break;default:throw nn(n,[le.APPSYNC_JS])}return{typeName:"Query",fieldName:a,dataSourceName:s.name,...c}}function mk(t,n){return{kind:"Function",function:{name:"request",args:"ctx",export:!0,comment:{kind:"Comment",value:"Lists items in the table. Lists up to the provided `limit` and starts from the provided `nextToken` (optional).\n                        @param {import('@aws-appsync/utils').Context} ctx the context\n                        @returns {*} the request",multiline:!0}},code:[{kind:"Assignment",keyword:"const",variable:"{ filter = {}, limit = 100, orderBy: _o = [], nextToken }",expr:{kind:"Raw",value:"ctx.args"}},{kind:"Assignment",keyword:"const",variable:"offset",expr:{kind:"Ternary",inline:!0,includeSemicolon:!1,predicate:{kind:"Raw",value:"nextToken"},ifExpr:{kind:"Method",variable:"+util",methods:[{name:"base64Decode",args:[{kind:"Raw",value:"nextToken"}]}]},elseExpr:{kind:"Raw",value:"0"}}},{kind:"Assignment",keyword:"const",variable:"orderBy",expr:{kind:"Method",variable:"_o",methods:[{name:"map",args:[{kind:"Function",inline:!0,function:{args:"x"},code:{kind:"Method",variable:"Object",methods:[{name:"entries",args:[{kind:"Raw",value:"x"}]}]}}]},{name:"flat",args:[]},{name:"map",args:[{kind:"Function",inline:!0,function:{args:"[ column, dir ]"},code:{kind:"Raw",value:"({ column, dir })"}}]}]}},{kind:"Assignment",keyword:"const",variable:"statement",expr:{kind:"Method",methods:[{name:"select",args:[{kind:"Object",attributes:[["table",{kind:"String",value:t.tableName}],["columns",{kind:"String",value:"*"}],["limit",{kind:"Shorthand"}],["offset",{kind:"Shorthand"}],["where",{kind:"Raw",value:"filter"}],["orderBy",{kind:"Shorthand"}]]}]}]}},{kind:"Return",expr:{kind:"Method",methods:[{name:kr(n),args:[{kind:"Raw",value:"statement"}]}]}}]}}const hk=(t,n)=>{const a=Rt(mk(t,n)),o=Rt(Es({itemAccessor:"[0]",includeNextToken:!0})),s=["import { util } from '@aws-appsync/utils';",`import { select, ${kr(n)}, toJsonObject } from '@aws-appsync/utils/rds';`];return{runtime:{name:le.APPSYNC_JS,runtimeVersion:ir},code:or(a,o,[],s)}};function fk({table:t,runtime:n,fieldName:a,engine:o,dataSource:s}){let c={};switch(n){case le.APPSYNC_JS:c=hk(t,o);break;default:throw nn(n,[le.APPSYNC_JS])}return{typeName:"Query",fieldName:a,dataSourceName:s.name,...c}}const lg="insertStatement",cg="selectStatement";function yk(t,n){return{kind:"Function",function:{name:"request",args:"ctx",export:!0,comment:{kind:"Comment",value:`Puts an item into the ${t.tableName} table using the supplied input.
                        @param {import('@aws-appsync/utils').Context} ctx the context
                        @returns {*} the request`,multiline:!0}},code:[{kind:"Assignment",keyword:"const",variable:"{ input }",expr:{kind:"Raw",value:"ctx.args"}},{kind:"Assignment",keyword:"const",variable:lg,expr:{kind:"Method",methods:[{name:"insert",args:[{kind:"Object",attributes:[["table",{kind:"String",value:t.tableName}],["values",{kind:"Raw",value:"input"}],...gk(n)]}]}]}},...Ak(t,n),{kind:"Return",expr:{kind:"Method",methods:[{name:kr(n),args:Ek(n)}]}}]}}const gk=t=>Fn(t)?[["returning",{kind:"String",value:"*"}]]:[],Ak=(t,n)=>Fn(n)?[]:[{kind:"Assignment",keyword:"const",variable:`{ ${t.primaryKey.join(", ")} }`,expr:{kind:"Raw",value:"input"}},{kind:"Assignment",keyword:"const",variable:"where",expr:{kind:"Object",attributes:t.primaryKey.map(a=>[a,{kind:"Object",attributes:[["eq",{kind:"Raw",value:a}]]}])}},Yl(t,cg)],Ek=t=>{const n={kind:"Raw",value:lg},a={kind:"Raw",value:cg};return Fn(t)?[n]:[n,a]},bk=(t,n)=>{const a=Fn(n)?["insert"]:["insert","select"],o=Rt(yk(t,n)),s=Fn(n)?"[0][0]":"[1][0]",c=Rt(Es({includeNextToken:!1,itemAccessor:s})),u=["import { util } from '@aws-appsync/utils';",`import { ${a.join(", ")}, ${kr(n)}, toJsonObject } from '@aws-appsync/utils/rds';`];return{runtime:{name:le.APPSYNC_JS,runtimeVersion:ir},code:or(o,c,[],u)}};function vk({table:t,runtime:n,fieldName:a,engine:o,dataSource:s}){let c={};switch(n){case le.APPSYNC_JS:c=bk(t,o);break;default:throw nn(n,[le.APPSYNC_JS])}return{typeName:"Mutation",fieldName:a,dataSourceName:s.name,...c}}const ug="updateStatement",dg="selectStatement";function Sk(t,n){return{kind:"Function",function:{name:"request",args:"ctx",export:!0,comment:{kind:"Comment",value:`Updates an item in the ${t.tableName} table, if an item with the given key exists.
                        @param {import('@aws-appsync/utils').Context} ctx the context
                        @returns {*} the request`,multiline:!0}},code:[{kind:"Assignment",keyword:"const",variable:`{ input: { ${t.primaryKey.join(", ")}, ...values }, condition = {} }`,expr:{kind:"Raw",value:"ctx.args"}},{kind:"Assignment",keyword:"const",variable:"where",expr:{kind:"Object",attributes:[["condition",{kind:"Spread"}],...t.primaryKey.map(a=>[a,{kind:"Object",attributes:[["eq",{kind:"Raw",value:a}]]}])]}},{kind:"Assignment",keyword:"const",variable:ug,expr:{kind:"Method",methods:[{name:"update",args:[{kind:"Object",attributes:[["table",{kind:"String",value:t.tableName}],["values",{kind:"Shorthand"}],["where",{kind:"Shorthand"}],...Tk(n)]}]}]}},...Ik(t,n),{kind:"Return",expr:{kind:"Method",methods:[{name:kr(n),args:Ck(n)}]}}]}}const Tk=t=>Fn(t)?[["returning",{kind:"String",value:"*"}]]:[],Ik=(t,n)=>Fn(n)?[]:[Yl(t,dg)],Ck=t=>{const n={kind:"Raw",value:ug},a={kind:"Raw",value:dg};return Fn(t)?[n]:[n,a]},Rk=(t,n)=>{const a=Fn(n)?["update"]:["update","select"],o=Rt(Sk(t,n)),s=Fn(n)?"[0][0]":"[1][0]",c=Rt(Es({includeNextToken:!1,itemAccessor:s})),u=["import { util } from '@aws-appsync/utils';",`import { ${a.join(", ")}, ${kr(n)}, toJsonObject } from '@aws-appsync/utils/rds';`];return{runtime:{name:le.APPSYNC_JS,runtimeVersion:ir},code:or(o,c,[],u)}};function wk({table:t,runtime:n,fieldName:a,engine:o,dataSource:s}){let c={};switch(n){case le.APPSYNC_JS:c=Rk(t,o);break;default:throw nn(n,[le.APPSYNC_JS])}return{typeName:"Mutation",fieldName:a,dataSourceName:s.name,...c}}const pg="deleteStatement",mg="selectStatement";function Pk(t,n){return{kind:"Function",function:{name:"request",args:"ctx",export:!0,comment:{kind:"Comment",value:`Deletes an item with ${t.primaryKey.map(a=>`${a} \`ctx.args.input.${a}\``).join(" and ")} from the ${t.tableName} table.
                        @param {import('@aws-appsync/utils').Context} ctx the context
                        @returns {*} the request`,multiline:!0}},code:[{kind:"Assignment",keyword:"const",variable:`{ input: { ${t.primaryKey.join(", ")} }, condition = {} }`,expr:{kind:"Raw",value:"ctx.args"}},{kind:"Assignment",keyword:"const",variable:"where",expr:{kind:"Object",attributes:[["condition",{kind:"Spread"}],...t.primaryKey.map(a=>[a,{kind:"Object",attributes:[["eq",{kind:"Raw",value:a}]]}])]}},...Dk(t,n),{kind:"Assignment",keyword:"const",variable:pg,expr:{kind:"Method",methods:[{name:"remove",args:[{kind:"Object",attributes:[["table",{kind:"String",value:t.tableName}],["where",{kind:"Shorthand"}],...Ok(n)]}]}]}},{kind:"Return",expr:{kind:"Method",methods:[{name:kr(n),args:Nk(n)}]}}]}}const Ok=t=>Fn(t)?[["returning",{kind:"String",value:"*"}]]:[],Dk=(t,n)=>Fn(n)?[]:[Yl(t,mg)],Nk=t=>{const n={kind:"Raw",value:mg},a={kind:"Raw",value:pg};return Fn(t)?[a]:[n,a]},_k=(t,n)=>{const a=Fn(n)?["remove"]:["remove","select"],o=Rt(Pk(t,n)),s=Rt(Es({includeNextToken:!1,itemAccessor:"[0][0]"})),c=["import { util } from '@aws-appsync/utils';",`import { ${a.join(", ")}, ${kr(n)}, toJsonObject } from '@aws-appsync/utils/rds';`];return{runtime:{name:le.APPSYNC_JS,runtimeVersion:ir},code:or(o,s,[],c)}};function xk({table:t,runtime:n,fieldName:a,engine:o,dataSource:s}){let c={};switch(n){case le.APPSYNC_JS:c=_k(t,o);break;default:throw nn(n,[le.APPSYNC_JS])}return{typeName:"Mutation",fieldName:a,dataSourceName:s.name,...c}}function Lk(t,n){const a=t.fields.filter(s=>Kl(s.type)||kk(s.type,n)).map(s=>{const c=wy;return{kind:"InputValueDefinition",name:s.name,type:Bn(c),directives:[]}});return{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:jy(t.name.value)},directives:[],fields:a}}function kk(t,n){return n.some(a=>a.name.value===Mn(t))}function Mk(){return{kind:"EnumTypeDefinition",name:{kind:"Name",value:wy},directives:[],values:[{kind:"EnumValueDefinition",name:{kind:"Name",value:"ASC"}},{kind:"EnumValueDefinition",name:{kind:"Name",value:"DESC"}}]}}class Fk{constructor(n){this.selectedQueryConfiguration=xi.All,this._initialized=!1,this._scalarFilterMap=sg(),this._dataSourceConfig={name:"",role:null},this._existingDefinitions=[],this._tables=[],this.config=n,this._dataSourceConfig.name=n.databaseName}async initialize(){const n=await this.startIntrospectionAndWait();this._tables=n.map(a=>new WL(a)),this._initialized=!0}getTable(n){return this.requireInitialization(),this._tables.find(a=>a.tableName===n)??null}get tables(){return this._tables}getTypeDefinitions(){return this.requireInitialization(),this._tables.reduce((a,o)=>{const s=o.getTypeDefinition();return s&&a.push(s),a},[])}getSDL(n){const a=this.getTypeDefinitions();if(this._scalarFilterMap=sg(),n.includeBaseTypes){let o={},s={};const c=kd(_d.Query),u=kd(_d.Mutation),p=kd(_d.Subscription);this.tables.forEach(g=>{if(!g.enabled)return;const E=!g.primaryKey||this.selectedQueryConfiguration===xi.Queries;if(c.fields=c.fields.concat(QL(g)),n.includeAdditionalTypes){const b=g.getTypeDefinition(),C=By(b,g.enums,!0);if(s=this.addEnumsToScalarFilterMap(g,s),this.isMissingFilterInputs(o))for(const I of C.fields){const R=this.buildRequiredFilterInputs({typeName:Mn(I.type),filterInputs:o});o={...o,...R}}a.push(C,Lk(g,g.enums),ys(b))}if(!E){const b=nk(g,this.config.engineType),C=rk(g,b);u.fields=u.fields.concat(C),p.fields=p.fields.concat(ik(g,C)),n.includeAdditionalTypes&&a.push(...Object.values(b).filter(Boolean))}}),n.includeAdditionalTypes&&a.push(...Object.values(o),...Object.values(s),Mk()),c.fields.length&&a.push(c),u.fields.length&&a.push(u),p.fields.length&&a.push(p)}return a.map(Q.print).join(`

`)}get dataSourceConfig(){return this._dataSourceConfig}setDataSourceRole(n){this._dataSourceConfig.role=n??null}getUnitResolvers(n){if(this.requireInitialization(),n!==Ve.APPSYNC_JS)throw(0,Gl.UnsupportedRuntimeException)(n,[Ve.APPSYNC_JS]);const a=this.getDataSources()[0],o=[];return this.tables.forEach(s=>{if(!s.enabled)return;const c=s.name.value,u={table:s,runtime:n,engine:this.config.engineType,dataSource:a},p=fk({...u,fieldName:My(c)});if(o.push(p),!s.primaryKey)return;const h=pk({...u,fieldName:ky(c)});if(o.push(h),this.selectedQueryConfiguration===xi.All){const f=vk({...u,fieldName:Fy(c)}),y=xk({...u,fieldName:$y(c)});if(s.fields.length>s.primaryKey.length){const g=wk({...u,fieldName:Uy(c)});o.push(g)}o.push(f,y)}}),o}getDataSources(){return[{name:this.dataSourceConfig.name,type:og.Type,serviceRoleArn:this.dataSourceConfig.role,relationalDatabaseConfig:{relationalDatabaseSourceType:og.RDSType,rdsHttpEndpointConfig:{awsRegion:(0,sa.qg)(this.config.clusterArn).region,dbClusterIdentifier:this.config.clusterArn,databaseName:this.config.databaseName,awsSecretStoreArn:this.config.secretStoreArn}}}]}requireInitialization(){if(!this._initialized)throw Uk()}addEnumsToScalarFilterMap(n,a){const o={...a};return n.enums.forEach(s=>{const c=s.name.value;o[c]||(o[c]=s,this._scalarFilterMap[Hl(c)]={create:()=>Gn("Enum",c),supportingFilters:[]})}),o}isMissingFilterInputs(n){return Object.keys(n).length!==Object.keys(this._scalarFilterMap).length}buildRequiredFilterInputs({typeName:n,filterInputs:a}){let o={...a};const s=this._scalarFilterMap[n];return!o[n]&&s&&this.isMissingFilterInputs(a)&&(o[n]=s.create(),s.supportingFilters.forEach(c=>{const u=this.buildRequiredFilterInputs({typeName:c,filterInputs:o});o={...o,...u}})),o}async startIntrospectionAndWait(){const{introspectionId:n}=await this.startIntrospection(),a=new Cd({key:"Waiting",handler:()=>this.pollDataSourceIntrospection(n),retrier:new Rd(1e3,c=>c,100,c=>c.message===xd.Waiting)});let{models:o,nextToken:s}=await a.execute(null);for(;s;){const c=await this.getDataSourceIntrospectionStatus(n,s);o.push(...c.introspectionResult.models),s=c.introspectionResult.nextToken}return o}async startIntrospection(){const n={rdsDataApiConfig:{resourceArn:this.config.clusterArn,secretArn:this.config.secretStoreArn,databaseName:this.config.databaseName}};return this.config.sdkClient.send(new GL.P(n))}async getDataSourceIntrospectionStatus(n,a){const o={introspectionId:n,nextToken:a};return this.config.sdkClient.send(new zL.o(o))}async pollDataSourceIntrospection(n){const{introspectionStatus:a,introspectionResult:o,introspectionStatusDetail:s}=await this.getDataSourceIntrospectionStatus(n);if(a==="SUCCESS")return o;throw a==="FAILED"?new Error(s):new Error(xd.Waiting)}}const Uk=()=>new Error(xd.NotInitialized),kd=t=>({kind:"ObjectTypeDefinition",name:{kind:"Name",value:t},fields:[]});class un{constructor(n){this.makeValue=n}getMockValue(){return this.makeValue()}getFieldMocker(){return null}}class hg{constructor(n){this.config=n}getMockArguments(n){return this.config.fieldDefinition.kind==="FieldDefinition"?this.config.fieldDefinition.arguments.reduce((o,s)=>{const c=this.config.resolveTypeMocker(Mn(s.type));return c?{...o,[s.name.value]:c.getMockValue(n)}:o},{}):{}}getMockResult(n){const a=Mn(this.config.fieldDefinition.type),o=this.config.resolveTypeMocker(a);if(!o)return null;const s=o.getMockValue(n);return Id(this.config.fieldDefinition.type)?[s,s,s]:s}getMockSource(n){const a=this.config.sourceTypeDefinition?this.config.sourceTypeDefinition.name.value:null,o=this.config.resolveTypeMocker(a);return o?o.getMockValue(n):{}}}const $k=3;class fg{constructor(n,a){this.definition=n,this.resolveTypeMocker=a,this.fieldMockers=new Map}getMockValue(n=$k){if(!(n<=0))switch(this.definition.kind){case"ScalarTypeDefinition":return"Unknown Scalar";case"ObjectTypeDefinition":return this.getObjectValue(this.definition,n);case"InterfaceTypeDefinition":return this.getInterfaceValue(this.definition,n);case"UnionTypeDefinition":return this.getRandomUnionValue(this.definition);case"EnumTypeDefinition":return this.getRandomEnumValue(this.definition);case"InputObjectTypeDefinition":return this.getInputObjectValue(this.definition,n);default:return 1}}getFieldMocker(n){if(this.fieldMockers.has(n))return this.fieldMockers.get(n);if(this.definition.kind==="ObjectTypeDefinition"||this.definition.kind==="InterfaceTypeDefinition"){const a=this.definition.fields.find(s=>s.name.value===n);a||this.error(`No field named ${n}`);const o=new hg({fieldDefinition:a,sourceTypeDefinition:this.definition,resolveTypeMocker:this.resolveTypeMocker});return this.fieldMockers.set(n,o),o}if(this.definition.kind==="InputObjectTypeDefinition"){const a=this.definition.fields.find(s=>s.name.value===n);a||this.error(`No field named ${n}`);const o=new hg({fieldDefinition:a,sourceTypeDefinition:this.definition,resolveTypeMocker:this.resolveTypeMocker});return this.fieldMockers.set(n,o),o}throw new Error("You can only call getFieldMocker() on objects, interfaces, and input objects.")}error(n){throw new Error(n)}resolveValueForTypeNode(n,a){switch(n.kind){case"NamedType":{const o=n.name.value,s=this.resolveTypeMocker(o);if(s)return s.getMockValue(a-1);throw new Error(`Could not mock value for type ${o}`)}case"ListType":{const o=this.resolveValueForTypeNode(n.type,a);return o===void 0?void 0:[o,o,o]}case"NonNullType":return this.resolveValueForTypeNode(n.type,a);default:throw new Error("Invalid field type")}}getObjectValue(n,a){const o={};for(const s of n.fields){const c=this.resolveValueForTypeNode(s.type,a);c!==void 0&&(o[s.name.value]=c)}return o}getInterfaceValue(n,a){const o={};for(const s of n.fields){const c=this.resolveValueForTypeNode(s.type,a);c!==void 0&&(o[s.name.value]=c)}return o}getInputObjectValue(n,a){const o={};for(const s of n.fields){const c=this.resolveValueForTypeNode(s.type,a);c!==void 0&&(o[s.name.value]=c)}return o}getRandomEnumValue(n){const a=Math.floor(Math.random()*n.values.length)-1;return n.values[a>=0?a:0].name.value}getRandomUnionValue(n){const a=Math.floor(Math.random()*n.types.length)-1,o=n.types[a>=0?a:0],s=this.resolveTypeMocker(o.name.value);if(s)return s.getMockValue();throw new Error(`Could not find a type mocker for type: ${o.name.value}`)}}class yg{constructor(n,a){if(this.getTypeMocker=o=>this.typeMockerMap.get(o),this.typeMockerMap=new Map,this.typeMockerMap.set("String",new un(()=>"Hello, world!")),this.typeMockerMap.set("Int",new un(()=>Math.round(Math.random()*200)-100)),this.typeMockerMap.set("BigInt",new un(()=>Math.round(Math.random()*1e7))),this.typeMockerMap.set("Float",new un(()=>Math.random()*100)),this.typeMockerMap.set("Double",new un(()=>Math.random()*1e7)),this.typeMockerMap.set("Boolean",new un(()=>Math.random()>.5)),this.typeMockerMap.set("ID",new un(()=>Ao(32))),this.typeMockerMap.set("AWSDate",new un(()=>"1970-01-01Z")),this.typeMockerMap.set("AWSTime",new un(()=>"12:30Z")),this.typeMockerMap.set("AWSDateTime",new un(()=>"1970-01-01T12:30:00.000Z")),this.typeMockerMap.set("AWSTimestamp",new un(()=>Math.round(Date.now()/1e3))),this.typeMockerMap.set("AWSEmail",new un(()=>"username@example.com")),this.typeMockerMap.set("AWSJSON",new un(()=>JSON.stringify({key:"value"}))),this.typeMockerMap.set("AWSURL",new un(()=>"https://aws.amazon.com/appsync/")),this.typeMockerMap.set("AWSPhone",new un(()=>"800-867-5309")),this.typeMockerMap.set("AWSIPAddress",new un(()=>"127.0.0.1")),a)for(const o of Object.keys(a)){const s=a[o];this.typeMockerMap.set(o,new un(s))}for(const o of n.definitions)switch(o.kind){case"ScalarTypeDefinition":case"ObjectTypeDefinition":case"InterfaceTypeDefinition":case"UnionTypeDefinition":case"EnumTypeDefinition":case"InputObjectTypeDefinition":this.typeMockerMap.set(o.name.value,new fg(o,this.getTypeMocker));break;case"SchemaDefinition":case"TypeExtensionDefinition":case"DirectiveDefinition":default:break}}}function gg(t,n,a){let o,s,c,u,p,h,f;for(const b of t.definitions)if(b.kind==="ObjectTypeDefinition"&&b.name.value===n){o=b;break}for(const b of o.fields)if(b.name.value===a){s=b,c=b.type;break}const y=jk(t,c.name.value);if(s.arguments.length>0&&(u=s.arguments.filter(b=>b.type.kind==="NonNullType")),u.length>0){for(const C of t.definitions)C.kind==="InputObjectTypeDefinition"&&C.name.value===Mn(u[0].type)&&(p=C);f=new yg(t),h=new fg(p,f.getTypeMocker).getMockValue()}const g=u.length>0?Mn(u[0].type).toLowerCase():"";let A,E={};return u.length>0?(A=Gk(n,a,y,u[0].name.value,p.name.value,g),E[g]=h):(A=Bk(n,a,y),E=void 0),{operation:A,variables:E}}function jk(t,n){const a=new Map;for(const o of t.definitions)if(o.kind==="ObjectTypeDefinition"&&o.name.value===n)for(const s of o.fields){if(s.name.value==="nextToken")break;ar(s.type)?a.set(s.name.value,[]):Id(s.type)&&a.set(s.name.value,Vk(t,Mn(s.type)))}return a}function Vk(t,n){const a=new Array;for(const o of t.definitions)if(o.kind==="ObjectTypeDefinition"&&o.name.value===n)for(const s of o.fields){if(s.name.value==="nextToken")break;ar(s.type)&&a.push(s.name.value)}return a}function Bk(t,n,a){let o;return o=`${t.toLowerCase()} ${n} {
  ${n} {
`,a.forEach((s,c)=>{if(o+=c,s.length>0){o+=` {
`;for(const u of s)o+=`${u}
`;o+="}"}o+=`
`}),o+=`}
}`,o}function Gk(t,n,a,o,s,c){let u;return u=`${t.toLowerCase()} ${n} ($${c}: ${s}!) {
  ${n} (${o}: $${c}) {
`,a.forEach((p,h)=>{if(u+=h,p.length>0){u+=` {
`;for(const f of p)u+=`${f}
`;u+=`}
`}u+=`
`}),u+=`}
}`,u}const _Ee={kind:"Document",definitions:[{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"Comment"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"eventId"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"commentId"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"content"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"createdAt"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}]},{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"CommentConnection"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"items"},arguments:[],type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"Comment"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"nextToken"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}]},{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:"CreateEventInput"},directives:[],fields:[{kind:"InputValueDefinition",name:{kind:"Name",value:"name"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"where"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"when"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"description"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}]},{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:"DeleteEventInput"},directives:[],fields:[{kind:"InputValueDefinition",name:{kind:"Name",value:"id"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}]},{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"Event"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"id"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"name"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"where"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"when"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"description"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"comments"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"limit"},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"10"},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"nextToken"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],type:{kind:"NamedType",name:{kind:"Name",value:"CommentConnection"}},directives:[]}]},{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"EventConnection"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"items"},arguments:[],type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"Event"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"nextToken"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}]},{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"Mutation"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"createThing"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"Event"}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"createEvent"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"input"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateEventInput"}}},directives:[]}],type:{kind:"NamedType",name:{kind:"Name",value:"Event"}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"updateEvent"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"input"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateEventInput"}}},directives:[]}],type:{kind:"NamedType",name:{kind:"Name",value:"Event"}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"deleteEvent"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"input"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteEventInput"}}},directives:[]}],type:{kind:"NamedType",name:{kind:"Name",value:"Event"}},directives:[]}]},{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"Query"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"getThing"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"Event"}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"getEvent"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"id"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],type:{kind:"NamedType",name:{kind:"Name",value:"Event"}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"listEvents"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"filter"},type:{kind:"NamedType",name:{kind:"Name",value:"TableEventFilterInput"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"limit"},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"nextToken"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],type:{kind:"NamedType",name:{kind:"Name",value:"EventConnection"}},directives:[]}]},{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"Subscription"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"onCreateEvent"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"id"},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"name"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"where"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"when"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"description"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],type:{kind:"NamedType",name:{kind:"Name",value:"Event"}},directives:[{kind:"Directive",name:{kind:"Name",value:"aws_subscribe"},arguments:[{kind:"Argument",name:{kind:"Name",value:"mutations"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"createEvent",block:!1}]}}]}]},{kind:"FieldDefinition",name:{kind:"Name",value:"onUpdateEvent"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"id"},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"name"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"where"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"when"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"description"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],type:{kind:"NamedType",name:{kind:"Name",value:"Event"}},directives:[{kind:"Directive",name:{kind:"Name",value:"aws_subscribe"},arguments:[{kind:"Argument",name:{kind:"Name",value:"mutations"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"updateEvent",block:!1}]}}]}]},{kind:"FieldDefinition",name:{kind:"Name",value:"onDeleteEvent"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"id"},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"name"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"where"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"when"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"description"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],type:{kind:"NamedType",name:{kind:"Name",value:"Event"}},directives:[{kind:"Directive",name:{kind:"Name",value:"aws_subscribe"},arguments:[{kind:"Argument",name:{kind:"Name",value:"mutations"},value:{kind:"ListValue",values:[{kind:"StringValue",value:"deleteEvent",block:!1}]}}]}]}]},{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:"TableBooleanFilterInput"},directives:[],fields:[{kind:"InputValueDefinition",name:{kind:"Name",value:"ne"},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"eq"},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}]},{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:"TableEventFilterInput"},directives:[],fields:[{kind:"InputValueDefinition",name:{kind:"Name",value:"id"},type:{kind:"NamedType",name:{kind:"Name",value:"TableIDFilterInput"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"name"},type:{kind:"NamedType",name:{kind:"Name",value:"TableStringFilterInput"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"where"},type:{kind:"NamedType",name:{kind:"Name",value:"TableStringFilterInput"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"when"},type:{kind:"NamedType",name:{kind:"Name",value:"TableStringFilterInput"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"description"},type:{kind:"NamedType",name:{kind:"Name",value:"TableStringFilterInput"}},directives:[]}]},{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:"TableFloatFilterInput"},directives:[],fields:[{kind:"InputValueDefinition",name:{kind:"Name",value:"ne"},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"eq"},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"le"},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"lt"},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"ge"},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"gt"},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"contains"},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"notContains"},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"between"},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"Float"}}},directives:[]}]},{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:"TableIDFilterInput"},directives:[],fields:[{kind:"InputValueDefinition",name:{kind:"Name",value:"ne"},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"eq"},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"le"},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"lt"},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"ge"},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"gt"},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"contains"},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"notContains"},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"between"},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"beginsWith"},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}]},{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:"TableIntFilterInput"},directives:[],fields:[{kind:"InputValueDefinition",name:{kind:"Name",value:"ne"},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"eq"},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"le"},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"lt"},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"ge"},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"gt"},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"contains"},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"notContains"},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"between"},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}]},{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:"TableStringFilterInput"},directives:[],fields:[{kind:"InputValueDefinition",name:{kind:"Name",value:"ne"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"eq"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"le"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"lt"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"ge"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"gt"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"contains"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"notContains"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"between"},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"beginsWith"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}]},{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:"UpdateEventInput"},directives:[],fields:[{kind:"InputValueDefinition",name:{kind:"Name",value:"id"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"name"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"where"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"when"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"description"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}]},{kind:"SchemaDefinition",directives:[],operationTypes:[{kind:"OperationTypeDefinition",operation:"query",type:{kind:"NamedType",name:{kind:"Name",value:"Query"}}},{kind:"OperationTypeDefinition",operation:"mutation",type:{kind:"NamedType",name:{kind:"Name",value:"Mutation"}}},{kind:"OperationTypeDefinition",operation:"subscription",type:{kind:"NamedType",name:{kind:"Name",value:"Subscription"}}}]}]};var Be=(t=>(t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.INPUT_OBJECT="INPUT_OBJECT",t.INTERFACE="INTERFACE",t.ENUM="ENUM",t.UNION="UNION",t.LIST="LIST",t.NON_NULL="NON_NULL",t.DIRECTIVE="DIRECTIVE",t))(Be||{});const zk=(0,T.Record)({kind:null,name:"",ofType:null}),Md=t=>!!Md;class Un extends zk{toJS(){return super.toJS()}withRequired(n){return this.kind===Be.NON_NULL&&!n&&this.ofType?this.ofType:this.kind!==Be.NON_NULL&&n?new Un({kind:Be.NON_NULL,ofType:this}):this}withList(n){return this.kind===Be.LIST&&!n&&this.ofType?this.ofType:this.kind===Be.OBJECT&&n?new Un({kind:Be.LIST,ofType:this}):this.kind===Be.NON_NULL&&this.ofType?new Un({kind:Be.NON_NULL,ofType:this.ofType.withList(n)}):this}withSimpleTypeName(n){if(this.kind===Be.LIST&&this.ofType||this.kind===Be.NON_NULL&&this.ofType)return this.set("ofType",this.ofType.withSimpleTypeName(n));if(Md(this))return this.merge({name:n});throw new Error("Encountered invalid TypeKind.")}getSimpleTypeName(){if(this.kind===Be.LIST&&this.ofType||this.kind===Be.NON_NULL&&this.ofType)return this.ofType.getSimpleTypeName();if(Md(this))return this.name;throw new Error("Encountered invalid TypeKind.")}isRequired(){return this.kind===Be.NON_NULL}isList(){return this.kind===Be.LIST?!0:this.kind===Be.NON_NULL&&this.ofType?this.ofType.isList():!1}}function Ua(t){return t?new Un({name:t.get("name"),ofType:Ua(t.get("ofType")),kind:t.get("kind")}):null}const qk=(0,T.Record)({name:"",value:""});class Ag extends qk{}function Kk(t){return new Ag({value:t.get("value"),name:t.get("name")})}const Wk=(0,T.Record)({args:(0,T.List)(),name:""});class Eg extends Wk{}function Fd(t){return new Eg({name:t.get("name"),args:t.has("args")?t.get("args").map(n=>Kk(n)):[]})}const Hk=(0,T.Record)({defaultValue:null,description:"",name:"",type:new Un});class bs extends Hk{}function bg(t){return new bs({description:t.get("description"),name:t.get("name"),type:Ua(t.get("type")),defaultValue:t.get("defaultValue")})}const Jk=(0,T.Record)({args:(0,T.List)(),isDeprecated:!1,deprecationReason:null,description:null,directives:(0,T.List)(),name:"",type:new Un({kind:"SCALAR",name:"String"})});function Ud(t){return t.kind===Be.NON_NULL||t.kind===Be.LIST?t.ofType?Ud(t.ofType):null:t.name}function vg(t){return t.kind===Be.NON_NULL?t.ofType?vg(t.ofType):!1:t.kind===Be.LIST}class $d extends Jk{constructor(){super(...arguments),this.getBaseType=()=>Ud(this.type),this.isOfDynamoDBScalarType=n=>{const a=Ud(this.type);return!!(ql[a]||n.get(a))},this.isList=()=>vg(this.type)}toNonNullInputValue(){return new bs({name:this.name,type:this.type.isRequired()?this.type:this.type.withRequired(!0),description:this.description,isDeprecated:this.isDeprecated})}}function Yk(t){return new $d({args:t.get("args",(0,T.List)()).map(n=>bg(n)),description:t.get("description"),name:t.get("name"),type:Ua(t.get("type")),directives:t.get("directives",(0,T.List)()).map(n=>Fd(n)),isDeprecated:t.get("isDeprecated"),deprecationReason:t.get("deprecationReason")})}const Qk=(0,T.Record)({isDeprecated:!1,deprecatedReason:null,description:null,directives:(0,T.List)(),name:""});class Sg extends Qk{}function Xk(t){return new Sg({description:t.get("description"),name:t.get("name"),deprecatedReason:t.get("deprecatedReason"),isDeprecated:t.get("isDeprecated"),directives:t.get("directives",(0,T.List)()).map(n=>Fd(n))})}const Zk=(0,T.Record)({args:(0,T.List)(),name:""});class Tg extends Zk{}const eM=(0,T.Record)({description:null,directives:(0,T.List)(),enumValues:(0,T.List)(),fields:(0,T.List)(),inputFields:(0,T.List)(),interfaces:(0,T.List)(),kind:"OBJECT",mutationType:null,name:"",possibleTypes:(0,T.List)(),queryType:null,subscriptionType:null});class la extends eM{}function tM(t){return new la({description:t.get("description"),kind:t.get("kind"),name:t.get("name"),fields:(t.get("fields")||(0,T.List)()).map(n=>Yk(n)),inputFields:(t.get("inputFields")||(0,T.List)()).map(n=>bg(n)),enumValues:(t.get("enumValues")||(0,T.List)()).map(n=>Xk(n)),interfaces:(t.get("interfaces")||(0,T.List)()).map(n=>Ua(n)),directives:(t.get("directives")||(0,T.List)()).map(n=>Fd(n)),possibleTypes:(t.get("possibleTypes")||(0,T.List)()).map(n=>Ua(n)),queryType:Ua(t.get("queryType")),mutationType:Ua(t.get("mutationType")),subscriptionType:Ua(t.get("subscriptionType"))})}const nM=(0,T.Record)({status:H.NONE,message:"",code:void 0,detail:void 0});class fe extends nM{}var rM=Object.defineProperty,aM=Object.defineProperties,iM=Object.getOwnPropertyDescriptors,Ig=Object.getOwnPropertySymbols,oM=Object.prototype.hasOwnProperty,sM=Object.prototype.propertyIsEnumerable,Cg=(t,n,a)=>n in t?rM(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,lM=(t,n)=>{for(var a in n||(n={}))oM.call(n,a)&&Cg(t,a,n[a]);if(Ig)for(var a of Ig(n))sM.call(n,a)&&Cg(t,a,n[a]);return t},cM=(t,n)=>aM(t,iM(n));const uM=(0,T.Record)({description:"",apiId:"",arn:"",typeConfig:new la,definition:"",format:"JSON",recordStatus:new fe,associationIds:(0,T.OrderedSet)(),originTypeMap:(0,T.Map)()});class Mr extends uM{static getKey(n,a){return ce(n,"v1","type",a)}print(){return sS(this)}toJS(){return super.toJS()}getKey(){return Mr.getKey(this.apiId,this.typeConfig.name)}}function Rg(t,n){const a=t.definition?JSON.parse(t.definition):{},o=tM((0,T.fromJS)(a));return new Mr(cM(lM({},t),{typeConfig:o,apiId:n}))}function dM(t){return Bd((0,Q.parse)(t).definitions[0])}var ca=v(98568),jd=v(13461),pM=Object.defineProperty,wg=Object.getOwnPropertySymbols,mM=Object.prototype.hasOwnProperty,hM=Object.prototype.propertyIsEnumerable,Pg=(t,n,a)=>n in t?pM(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,fM=(t,n)=>{for(var a in n||(n={}))mM.call(n,a)&&Pg(t,a,n[a]);if(wg)for(var a of wg(n))hM.call(n,a)&&Pg(t,a,n[a]);return t};const Og=ca.lq.getInstance();class Dg{constructor(){this.crLogged=!1,this.startTimer=n=>{performance.mark(n)},this.stopTimer=n=>{performance.measure(n,n)},this.customerReady=()=>{var n;(n=window?.AWSC)!=null&&n.Timer&&window.AWSC.Timer.customerReady(),this.crLogged||(performance.measure("clickToCustomerReady"),this.crLogged=!0)},this.consoleLogger=new jd.C("Analytics")}logOperationalError(n,a){this.consoleLogger.error(n,a),Og.addError(a,{path:window.location.pathname,key:n,level:"ERROR",type:"error",value:1})}logInfo(n,a){this.consoleLogger.info(n,a),Og.addEvent(fM({key:n,level:"INFO",type:"info"},a))}}Dg.getTime=()=>window.performance?performance.now():new Date().getTime();const Ql=t=>t.split(`
`).reduce((n,a)=>(a=a.trim(),a.length===0?n:n.concat(a)),[]),at=new Dg;var yM=Object.defineProperty,gM=Object.defineProperties,AM=Object.getOwnPropertyDescriptors,Ng=Object.getOwnPropertySymbols,EM=Object.prototype.hasOwnProperty,bM=Object.prototype.propertyIsEnumerable,_g=(t,n,a)=>n in t?yM(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,vM=(t,n)=>{for(var a in n||(n={}))EM.call(n,a)&&_g(t,a,n[a]);if(Ng)for(var a of Ng(n))bM.call(n,a)&&_g(t,a,n[a]);return t},SM=(t,n)=>gM(t,AM(n));function TM(t){const n=t.operationTypes.find(g=>g.operation==="query"),a=t.operationTypes.find(g=>g.operation==="mutation"),o=t.operationTypes.find(g=>g.operation==="subscription"),s=n?n.type.name.value:null;let c;s&&(c=new Un({name:s}));const u=a?a.type.name.value:null;let p;u&&(p=new Un({name:u}));const h=o?o.type.name.value:null;let f;h&&(f=new Un({name:h}));const y=new la({kind:"SCHEMA",name:"schema",description:$n(t),mutationType:p,queryType:c,subscriptionType:f,directives:t.directives?(0,T.List)(t.directives.map(ua)):(0,T.List)()});return new Mr({kind:"SCHEMA",name:"schema",typeConfig:y,typeDefinition:y.toJS(),typeDefinitionFormat:"JSON",typeStatus:"ACTIVE",description:$n(t)})}function IM(t){const n=Xl(t.value);return{name:t.name.value,value:n}}function Xl(t){if(!t)return null;try{switch(t.kind){case"IntValue":return parseInt(t.value,10);case"FloatValue":return parseFloat(t.value);case"StringValue":return t.value;case"BooleanValue":return!!t.value;case"NullValue":return null;case"EnumValue":return t.value;case"ListValue":return t.values.map(Xl);case"ObjectValue":return t.fields.map(IM).reduce((n,a)=>SM(vM({},n),{[a.name]:a.value}),{});case"Variable":default:return null}}catch(n){return at.logOperationalError(Ge.PARSE_TYPES_ERROR,n),null}}function So(t){switch(t.kind){case"NamedType":return new Un({name:t.name.value});case"ListType":return new Un({kind:"LIST",ofType:So(t.type)});case"NonNullType":return new Un({kind:"NON_NULL",ofType:So(t.type)});default:return at.logOperationalError(Ge.PARSE_TYPES_ERROR,{name:Ge.PARSE_TYPES_ERROR,message:"Error building type reference. This should never be hit."}),new Un}}function Vd(t){return new bs({defaultValue:Xl(t.defaultValue),name:t.name.value,type:So(t.type),description:$n(t)})}function CM(t){return new Ag({name:t.name.value,value:Xl(t.value),description:$n(t)})}function ua(t){return new Eg({description:$n(t),args:t&&t.arguments?(0,T.List)(t.arguments.map(CM)):(0,T.List)(),name:t.name.value})}function Zl(t){return new $d({args:(0,T.List)(t.arguments.map(Vd)),directives:t.directives?(0,T.List)(t.directives.map(ua)):(0,T.List)(),name:t.name.value,description:$n(t),type:So(t.type)})}function Bd(t){const n=new la({directives:t.directives?(0,T.List)(t.directives.map(ua)):(0,T.List)(),fields:(0,T.List)(t.fields.map(Zl)),interfaces:t.interfaces?(0,T.List)(t.interfaces.map(So)):(0,T.List)(),kind:"OBJECT",name:t.name.value,description:$n(t)});return new Mr({typeConfig:n,typeDefinition:JSON.stringify(n.toJS())})}function RM(t){const n=new la({directives:t.directives?(0,T.List)(t.directives.map(ua)):(0,T.List)(),fields:(0,T.List)(t.fields.map(Zl)),kind:"INTERFACE",name:t.name.value,description:$n(t)});return new Mr({typeConfig:n,typeDefinition:JSON.stringify(n.toJS())})}function wM(t){return new Sg({directives:t.directives?t.directives.map(ua):(0,T.List)(),description:$n(t),name:t.name.value})}function PM(t){const n=new la({directives:t.directives?t.directives.map(ua):(0,T.List)(),enumValues:(0,T.List)(t.values.map(wM)),kind:"ENUM",name:t.name.value,description:$n(t)});return new Mr({typeConfig:n,typeDefinition:JSON.stringify(n.toJS())})}function OM(t){const n=new la({directives:t.directives?t.directives.map(ua):(0,T.List)(),kind:"SCALAR",name:t.name.value,description:$n(t)});return new Mr({typeConfig:n,typeDefinition:JSON.stringify(n.toJS())})}function DM(t){const n=new la({directives:t.directives?t.directives.map(ua):(0,T.List)(),kind:"UNION",name:t.name.value,possibleTypes:(0,T.List)(t.types.map(So)),description:$n(t)});return new Mr({typeConfig:n,typeDefinition:JSON.stringify(n.toJS())})}function NM(t){const n=new la({directives:t.directives?t.directives.map(ua):(0,T.List)(),inputFields:(0,T.List)(t.fields.map(Vd)),kind:"INPUT_OBJECT",name:t.name.value,description:$n(t)});return new Mr({typeConfig:n,typeDefinition:JSON.stringify(n.toJS())})}function _M(t){return new Tg({args:t.arguments?t.arguments.map(Vd):(0,T.List)(),description:$n(t),name:t.name.value})}function Gd(t){return(0,T.List)(t.map(n=>{switch(n.kind){case"SchemaDefinition":return TM(n);case"ScalarTypeDefinition":return OM(n);case"ObjectTypeDefinition":return Bd(n);case"InterfaceTypeDefinition":return RM(n);case"EnumTypeDefinition":return PM(n);case"UnionTypeDefinition":return DM(n);case"InputObjectTypeDefinition":return NM(n);case"DirectiveDefinition":return _M(n);case"FragmentDefinition":case"OperationDefinition":case"TypeExtensionDefinition":default:return null}}).filter(n=>n!==null))}function xM(t){let n=0;for(;n<t.length&&t[n]===" ";n++);return n}function $n(t){const{loc:n}=t;if(!n)return null;const a=[];let o,s=n.startToken.prev;for(;s&&s.kind===je.TokenKind.COMMENT&&s.next&&s.prev&&s.line+1===s.next.line&&s.line!==s.prev.line;){const c=String(s.value),u=xM(c);(o===void 0||u<o)&&(o=u),a.push(c),s=s.prev}return a.reverse().join(`
#`)}function xg(t){return Gd((0,dt.parse)(t).definitions)}function LM(t,n){return t.reduce((a,o)=>{const s=n(o);return a.has(s)?a.set(s,a.get(s).push(o)):a.set(s,(0,T.List)([o]))},(0,T.Map)())}const kM="console.amazonaws.cn",MM="console.aws.amazon.com";var Lg=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const FM=()=>Lg(void 0,null,function*(){const t=Mg(),n=yield ES(),a=yield AS();return n?`https://${a}.${t}`:`https://${t}`}),kg=t=>Lg(void 0,null,function*(){const n=yield AS(),a=yield ES(),o=mt(),s=t||o,c=Mg(s),u=a?`https://${n}.${s}.${c}`:`https://${s}.${c}`;return t===o?window.origin.includes("aws-dev")?u:window.origin:u}),Mg=t=>{const n=rn(t);let a;return br===n?a=kM:a=MM,a},UM=ca.V8.getInstance(),mt=()=>UM.getCustomContext("region"),rn=t=>{switch(t??mt()){case I_:case C_:return br;default:return v_}},$M=(0,T.Record)({key:"",value:""}),jM=/^(?!aws:)[ a-zA-Z+-=._:/]+$/;class Fg extends $M{toJS(){return[this.key,this.value]}toObject(){return{[this.key]:this.value}}isSystemTag(){return this.key.startsWith("aws:")}isValid(){return this.isKeyValid()===void 0&&this.isValueValid()===void 0}isKeyValid(){const n=this.key.length;if(n<1)return(0,l.Ay)`Key cannot be blank`;if(n>128)return(0,l.Ay)`Key cannot be longer than 128 characters`;if(!jM.test(this.key))return(0,l.Ay)`Key cannot have special characters or begin with aws:`}isValueValid(){return this.value.length<=256?void 0:(0,l.Ay)`Value must be 256 characters or fewer`}isEmpty(){return this.key.length===0&&this.value.length===0}}function Ug([t,n]){return new Fg({key:t,value:n})}const VM=(0,T.Record)({systemTags:(0,T.List)(),userTags:(0,T.List)(),addTagStatus:new fe,deleteTagStatus:new fe});class $g extends VM{hasUserTags(){return!this.userTags.isEmpty()}toUserTagMap(){return tc(this.userTags)}userTagsEquals(n){return this.userTags.equals(n.userTags)}getTagsUpdatedFrom(n){return GM(n.userTags,this.userTags)}getTagsDeletedFrom(n){return zM(n.userTags,this.userTags)}mergeUserTags(n){const a=(0,T.Map)(n).map((o,s)=>Ug([s,o])).toMap().asMutable();return this.update("userTags",o=>o.map(s=>{const c=s.key,u=a.get(s.key);return u?(a.delete(c),u):s}).concat((0,T.List)(a.values())))}}function ec(t={}){const n=BM(t),a=c=>c.isSystemTag(),o=n.filter(a),s=n.filterNot(a);return new $g({systemTags:o,userTags:s})}function tc(t=(0,T.List)()){return t.reduce((n,a)=>(n[a.key]=a.value,n),{})}function BM(t={}){const n=Object.entries(t).map(Ug);return(0,T.List)(n)}function GM(t,n){return n.toSet().subtract(t).filter(a=>!a.isEmpty())}function zM(t,n){const a=jg(t),o=jg(n);return a.subtract(o)}function jg(t){return t.map(n=>n.key).toSet()}function qM(t,n){return{resourceArn:t,tags:tc(n)}}function KM(t,n){return{resourceArn:t,tagKeys:n.toArray()}}function WM(t){return t.every(n=>n.isEmpty()||n.isValid())?void 0:(0,l.Ay)`One or more tags are not valid.`}const HM=(0,T.Record)({authType:null});class Vg extends HM{toJS(){return super.toJS()}}const zd=t=>new Vg({authType:t.authType}),JM=(0,T.Record)({issuer:null,clientId:null,iatTTL:null,authTTL:null});class $a extends JM{toJS(){return super.toJS()}}var YM=Object.defineProperty,QM=Object.defineProperties,XM=Object.getOwnPropertyDescriptors,Bg=Object.getOwnPropertySymbols,ZM=Object.prototype.hasOwnProperty,eF=Object.prototype.propertyIsEnumerable,Gg=(t,n,a)=>n in t?YM(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,zg=(t,n)=>{for(var a in n||(n={}))ZM.call(n,a)&&Gg(t,a,n[a]);if(Bg)for(var a of Bg(n))eF.call(n,a)&&Gg(t,a,n[a]);return t},tF=(t,n)=>QM(t,XM(n));const nF=(0,T.Record)({appIdClientRegex:null,userPoolId:null,awsRegion:null,defaultAction:oe._K.ALLOW});class qd extends nF{toCognitoConfig(){return zg({},super.toJS())}toUserPoolConfig(){return tF(zg({},super.toJS()),{defaultAction:this.defaultAction})}toJS(){return super.toJS()}}const rF=(0,T.Record)({authorizerResultTtlInSeconds:300,authorizerUri:null,identityValidationExpression:null});class da extends rF{toJS(){return super.toJS()}}var Fr=v(56584);function Ur(t){return(0,sa.qg)(t).region||""}function aF(t,n){try{return`${n}/dynamodb/home?region=${t.dynamodbConfig.awsRegion}#tables:selected=${t.dynamodbConfig.tableName}`}catch{return null}}function iF(t,n){const{domainName:a}=t.openSearchServiceConfig,o=t.openSearchServiceConfig.awsRegion;try{return`${n}/aos/home?region=${o}#opensearch/domains/${a}`}catch{return null}}function oF(t,n){const a=t.elasticsearchConfig.endpoint;try{const o=/https:\/\/([0-9a-zA-z-_]*)\./,c=a.match(o)[1].split("-"),u=c.slice(1,c.length-1),p=t.elasticsearchConfig.awsRegion;return`${n}/aos/home?region=${p}#opensearch/domains/${u.join("-")}`}catch{return null}}function sF(t){try{return(0,Fr.getResourceUrl)(t.lambdaConfig.lambdaFunctionArn)}catch{return null}}function lF(t){try{return(0,Fr.getResourceUrl)(t.eventBridgeConfig.eventBusArn)}catch{return null}}function cF(t,n){try{const a=/arn:aws:rds:([0-9a-zA-Z_-]*):(.*):([0-9a-zA-Z_-]*$)/,o=t.relationalDatabaseConfig.dbClusterIdentifier.match(a),[s,c,u,p]=o;return`${n}/rds/home?region=${c}#cluster:ids=${p}`}catch{return null}}function uF(t,n){return t.type===_.DYNAMODB?aF(t,n):t.type===_.OPEN_SEARCH?iF(t,n):t.type===_.ELASTIC_SEARCH?oF(t,n):t.type===_.LAMBDA?sF(t):t.type===_.EVENT_BRIDGE?lF(t):t.type===_.RDS?cF(t,n):null}function qg(t){const n=t.split("/"),{length:a}=n;return new qs({id:n[a-1],entityName:n[a-2],arn:t})}const dF=(0,T.Record)({authType:void 0,openIDConnectConfig:void 0,userPoolConfig:void 0,lambdaAuthorizerConfig:void 0,lambdaAuthorizerConfigRegion:null});class Kg extends dF{getAuthProviderRequest(){var n,a,o;return this.authType===k.OIDC?{authType:this.authType,openIDConnectConfig:(n=this.openIDConnectConfig)==null?void 0:n.toJS()}:this.authType===k.USER_POOLS?{authType:this.authType,cognitoConfig:(a=this.cognitoConfig)==null?void 0:a.toUserPoolConfig()}:this.authType===k.LAMBDA?{authType:this.authType,lambdaAuthorizerConfig:(o=this.lambdaAuthorizerConfig)==null?void 0:o.toJS()}:{authType:this.authType}}toJS(){return this.getAuthProviderRequest()}}function pF(t){return new Kg({authType:t.authType,openIDConnectConfig:t.openIDConnectConfig?new $a(t.openIDConnectConfig):void 0,cognitoConfig:t.cognitoConfig?new qd(t.cognitoConfig):void 0,lambdaAuthorizerConfig:t.lambdaAuthorizerConfig?new da(t.lambdaAuthorizerConfig):void 0,lambdaAuthorizerConfigRegion:t.lambdaAuthorizerConfig?Ur(t.lambdaAuthorizerConfig.authorizerUri):null})}const mF=(0,T.Record)({authProviders:(0,T.List)(),connectionAuthModes:(0,T.List)(),defaultPublishAuthModes:(0,T.List)(),defaultSubscribeAuthModes:(0,T.List)()});class Wg extends mF{toJS(){return{authProviders:this.authProviders.toJS(),connectionAuthModes:this.connectionAuthModes.toJS(),defaultPublishAuthModes:this.defaultPublishAuthModes.toJS(),defaultSubscribeAuthModes:this.defaultSubscribeAuthModes.toJS()}}}const hF=t=>new Wg({authProviders:(0,T.List)(t.authProviders.map(pF)),connectionAuthModes:(0,T.List)(t.connectionAuthModes.map(zd)),defaultPublishAuthModes:(0,T.List)(t.defaultPublishAuthModes.map(zd)),defaultSubscribeAuthModes:(0,T.List)(t.defaultSubscribeAuthModes.map(zd))}),fF=(0,T.Record)({authenticationType:void 0,openIDConnectConfig:void 0,userPoolConfig:void 0,lambdaAuthorizerConfig:void 0,lambdaAuthorizerConfigRegion:null});class vs extends fF{getAdditionalAuthenticationProviderRequest(){return this.authenticationType===k.OIDC?{authenticationType:this.authenticationType,openIDConnectConfig:this.openIDConnectConfig?this.openIDConnectConfig.toJS():void 0}:this.authenticationType===k.USER_POOLS?{authenticationType:this.authenticationType,userPoolConfig:this.userPoolConfig?this.userPoolConfig.toJS():void 0}:this.authenticationType===k.LAMBDA?{authenticationType:this.authenticationType,lambdaAuthorizerConfig:this.lambdaAuthorizerConfig?this.lambdaAuthorizerConfig.toJS():void 0}:{authenticationType:this.authenticationType}}toJS(){return super.toJS()}}function Kd(t,n){return t.authenticationType!==n.authenticationType?!1:t.authenticationType===k.OIDC?!t.openIDConnectConfig||!n.openIDConnectConfig?!1:t.openIDConnectConfig.issuer===n.openIDConnectConfig.issuer:t.authenticationType===k.USER_POOLS?t.userPoolConfig===void 0||n.userPoolConfig===void 0?!1:t.userPoolConfig.awsRegion===n.userPoolConfig.awsRegion&&t.userPoolConfig.userPoolId===n.userPoolConfig.userPoolId:t.authenticationType===k.LAMBDA?t.lambdaAuthorizerConfig===void 0||n.lambdaAuthorizerConfig===void 0?!1:t.lambdaAuthorizerConfig.authorizerUri===n.lambdaAuthorizerConfig.authorizerUri:!0}function xEe(t,n){return t===void 0||n===void 0?!1:t.awsRegion===n.awsRegion&&t.userPoolId===n.userPoolId}function LEe(t,n){return t===void 0||n===void 0?!1:t.issuer===n.issuer}function kEe(t,n){return t===void 0||n===void 0?!1:t.authorizerUri===n.authorizerUri}function yF(t){return new vs({authenticationType:t.authenticationType,openIDConnectConfig:t.openIDConnectConfig?new $a(t.openIDConnectConfig):void 0,userPoolConfig:t.userPoolConfig?new qd(t.userPoolConfig):void 0,lambdaAuthorizerConfig:t.lambdaAuthorizerConfig?new da(t.lambdaAuthorizerConfig):void 0,lambdaAuthorizerConfigRegion:t.lambdaAuthorizerConfig?Ur(t.lambdaAuthorizerConfig.authorizerUri):null})}const gF=(0,T.Record)({resolverLevelMetricsBehavior:"",dataSourceLevelMetricsBehavior:"",operationLevelMetricsConfig:""});class Ss extends gF{isEnhancedMetricsEnabled(){return!!(this.resolverLevelMetricsBehavior||this.dataSourceLevelMetricsBehavior||this.operationLevelMetricsConfig)}toJS(){return super.toJS()}}const AF=(0,T.Record)({cloudWatchLogsRoleArn:null,fieldLogLevel:"NONE",excludeVerboseContent:!1});class nc extends AF{isLoggingEnabled(){return typeof this.cloudWatchLogsRoleArn=="string"&&this.cloudWatchLogsRoleArn.startsWith("arn:")}getCloudwatchRoleName(){const n=this.cloudWatchLogsRoleArn.split("role/");return n[n.length-1]}toJS(){return super.toJS()}}const EF=(0,T.Record)({appIdClientRegex:null,userPoolId:null,awsRegion:null,defaultAction:"ALLOW"});class Ts extends EF{toJS(){return super.toJS()}}var bF=Object.defineProperty,vF=Object.defineProperties,SF=Object.getOwnPropertyDescriptors,Hg=Object.getOwnPropertySymbols,TF=Object.prototype.hasOwnProperty,IF=Object.prototype.propertyIsEnumerable,Jg=(t,n,a)=>n in t?bF(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,CF=(t,n)=>{for(var a in n||(n={}))TF.call(n,a)&&Jg(t,a,n[a]);if(Hg)for(var a of Hg(n))IF.call(n,a)&&Jg(t,a,n[a]);return t},RF=(t,n)=>vF(t,SF(n));const wF=(0,T.Record)({GRAPHQL:null,REALTIME:null});class Wd extends wF{toJS(){return super.toJS()}}const PF=(0,T.Record)({authenticationType:"API_KEY",uris:new Wd,openIDConnectConfig:new $a,userPoolConfig:new Ts,lambdaAuthorizerConfig:new da,lambdaAuthorizerConfigRegion:null,logConfig:new nc,roleSource:Dt.ROLE_NEW,additionalAuthenticationProviders:(0,T.List)(),hasAdditionalApiKeyAuth:!1,hasAdditionalIamAuth:!1,hasAdditionalUserPoolsAuth:!1,hasAdditionalOidcAuth:!1,hasAdditionalLambdaAuth:!1,updateLambdaAuthorizers:[],apiType:void 0,mergedApiExecutionRoleArn:void 0,visibility:b_,introspectionConfig:Ay,queryDepthEnabled:!1,queryDepthLimit:0,resolverCountEnabled:!1,resolverCountLimit:0,enhancedMetricsConfig:new Ss});class ja extends PF{isLoggingEnabled(){return this.logConfig!=null&&this.logConfig.isLoggingEnabled()}isEnhancedMetricsEnabled(){return this.enhancedMetricsConfig.isEnhancedMetricsEnabled()}isPrivate(){return this.visibility===Pi.PRIVATE}isMergedApi(){return this.apiType===nt.MERGED}isIntrospectionEnabled(){return this.introspectionConfig===oe.DO.ENABLED}getExecutionRoleName(){if(!this.mergedApiExecutionRoleArn)return"";const n=this.mergedApiExecutionRoleArn.split("/");return n[n.length-1]}toJS(){return super.toJS()}}const OF=t=>{var n,a,o,s;let c=!1,u=!1,p=!1,h=!1,f=!1,y=null;t.authenticationType===k.LAMBDA&&t.lambdaAuthorizerConfig&&(y=Ur(t.lambdaAuthorizerConfig.authorizerUri));const g=t.logConfig&&t.logConfig.cloudWatchLogsRoleArn?Dt.ROLE_EXISTING:Dt.ROLE_NEW;t.additionalAuthenticationProviders!==void 0&&t.additionalAuthenticationProviders.length>0&&t.additionalAuthenticationProviders.forEach(b=>{switch(b.authenticationType){case k.API_KEY:c=!0;break;case k.IAM:u=!0;break;case k.USER_POOLS:p=!0;break;case k.LAMBDA:h=!0,b.lambdaAuthorizerConfig instanceof da&&(y=Ur(b.lambdaAuthorizerConfig.authorizerUri));break;case k.OIDC:f=!0;break;default:break}});const A=t.additionalAuthenticationProviders?t.additionalAuthenticationProviders.map(b=>yF(b)):[],E=(0,T.List)(A);return new ja(RF(CF({},t),{roleSource:g,openIDConnectConfig:t.openIDConnectConfig?new $a(t.openIDConnectConfig):new $a,userPoolConfig:t.userPoolConfig?new Ts(t.userPoolConfig):new Ts,lambdaAuthorizerConfig:t.lambdaAuthorizerConfig?new da(t.lambdaAuthorizerConfig):new da,lambdaAuthorizerConfigRegion:y,additionalAuthenticationProviders:E,logConfig:t.logConfig?new nc(t.logConfig):new nc,uris:t.uris?new Wd(t.uris):new Wd,hasAdditionalApiKeyAuth:c,hasAdditionalIamAuth:u,hasAdditionalUserPoolsAuth:p,hasAdditionalOidcAuth:f,hasAdditionalLambdaAuth:h,apiType:(n=t.apiType)!=null?n:E_,mergedApiExecutionRoleArn:t.mergedApiExecutionRoleArn,introspectionConfig:(a=t.introspectionConfig)!=null?a:Ay,queryDepthEnabled:!!t.queryDepthLimit,queryDepthLimit:(o=t.queryDepthLimit)!=null?o:rr.DEFAULT_QUERY_DEPTH_LIMIT,resolverCountEnabled:!!t.resolverCountLimit,resolverCountLimit:(s=t.resolverCountLimit)!=null?s:rr.DEFAULT_RESOLVER_COUNT_LIMIT,enhancedMetricsConfig:t.enhancedMetricsConfig?new Ss(t.enhancedMetricsConfig):new Ss}))};var DF=Object.defineProperty,NF=Object.defineProperties,_F=Object.getOwnPropertyDescriptors,Yg=Object.getOwnPropertySymbols,xF=Object.prototype.hasOwnProperty,LF=Object.prototype.propertyIsEnumerable,Qg=(t,n,a)=>n in t?DF(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,pa=(t,n)=>{for(var a in n||(n={}))xF.call(n,a)&&Qg(t,a,n[a]);if(Yg)for(var a of Yg(n))LF.call(n,a)&&Qg(t,a,n[a]);return t},To=(t,n)=>NF(t,_F(n));const kF={arn:"",apiId:"",name:"",ownerContact:"",entityTags:new $g,recordStatus:new fe,xrayEnabled:!1,wafWebAclArn:"",shouldUpdateWaf:!1,eventConfig:null,graphqlConfig:null},MF=(0,T.Record)(kF);class $r extends MF{static getKey(n){return n}getKey(){return $r.getKey(this.apiId)}isGraphQLApi(){return!!this.graphqlConfig}isEventApi(){return!this.isGraphQLApi()}getCommonRequestFields(){return{name:this.name,ownerContact:this.ownerContact,xrayEnabled:this.xrayEnabled}}getCommonUpdateRequestFields(){return To(pa({},this.getCommonRequestFields()),{xrayEnabled:this.xrayEnabled,apiId:this.apiId})}getCommonCreateRequestFields(){var n;return To(pa({},this.getCommonRequestFields()),{tags:((n=this.entityTags.userTags)==null?void 0:n.size)>0?this.entityTags.toUserTagMap():void 0})}getPrimaryAuthFields(){switch(this.graphqlConfig.authenticationType){case oe.h_.AMAZON_COGNITO_USER_POOLS:return{userPoolConfig:this.graphqlConfig.userPoolConfig.toJS(),lambdaAuthorizerConfig:void 0,openIDConnectConfig:void 0};case oe.h_.AWS_LAMBDA:return{userPoolConfig:void 0,lambdaAuthorizerConfig:this.graphqlConfig.lambdaAuthorizerConfig.toJS(),openIDConnectConfig:void 0};case oe.h_.OPENID_CONNECT:return{userPoolConfig:void 0,lambdaAuthorizerConfig:void 0,openIDConnectConfig:this.graphqlConfig.openIDConnectConfig.toJS()};default:return{userPoolConfig:void 0,lambdaAuthorizerConfig:void 0,openIDConnectConfig:void 0}}}getCommonGraphqlApiRequestFields(){var n,a;return To(pa({authenticationType:this.graphqlConfig.authenticationType},this.getPrimaryAuthFields()),{additionalAuthenticationProviders:(n=this.graphqlConfig.additionalAuthenticationProviders)==null?void 0:n.toJS(),logConfig:(a=this.graphqlConfig)!=null&&a.isLoggingEnabled()?this.graphqlConfig.logConfig.toJS():void 0,introspectionConfig:this.graphqlConfig.introspectionConfig,queryDepthLimit:this.graphqlConfig.queryDepthEnabled?this.graphqlConfig.queryDepthLimit:rr.DEFAULT_QUERY_DEPTH_LIMIT,resolverCountLimit:this.graphqlConfig.resolverCountEnabled?this.graphqlConfig.resolverCountLimit:rr.DEFAULT_RESOLVER_COUNT_LIMIT,enhancedMetricsConfig:this.graphqlConfig.isEnhancedMetricsEnabled()?this.graphqlConfig.enhancedMetricsConfig.toJS():void 0,mergedApiExecutionRoleArn:this.graphqlConfig.mergedApiExecutionRoleArn})}getCreateApiRequest(){return this.graphqlConfig?To(pa(pa({},this.getCommonCreateRequestFields()),this.getCommonGraphqlApiRequestFields()),{visibility:this.graphqlConfig.visibility,apiType:this.graphqlConfig.apiType}):this.isEventApi()?To(pa({},this.getCommonCreateRequestFields()),{eventConfig:this.eventConfig.toJS()}):null}getUpdateApiRequest(){return this.graphqlConfig?pa(pa({},this.getCommonUpdateRequestFields()),this.getCommonGraphqlApiRequestFields()):this.eventConfig?To(pa({},this.getCommonUpdateRequestFields()),{eventConfig:this.eventConfig.toJS()}):null}getDeleteApiRequest(){return{apiId:this.apiId}}}const Is=t=>{const n={arn:t.arn,apiId:t.apiId,name:t.name,ownerContact:t.ownerContact,entityTags:ec(t.tags),xrayEnabled:t.xrayEnabled||!1,wafWebAclArn:t.wafWebAclArn||"",shouldUpdateWaf:!1,eventConfig:null,graphqlConfig:OF(t),recordStatus:new fe};return new $r(n)},Xg=t=>{const n={arn:"",apiId:t.apiId,name:t.name,ownerContact:t.ownerContact,entityTags:ec(t.tags),xrayEnabled:t?.xrayEnabled||!1,wafWebAclArn:t?.wafWebAclArn||"",shouldUpdateWaf:!1,eventConfig:t.eventConfig?hF(t.eventConfig):null,graphqlConfig:null,recordStatus:new fe};return new $r(n)},FF=(0,T.Record)({apiKeys:(0,T.List)(),environmentVariables:(0,T.List)(),sourceApiAssociations:(0,T.List)(),dataSources:(0,T.List)(),apis:(0,T.List)(),sharedGraphqlApis:(0,T.List)(),localSchema:(0,T.List)(),resolvers:(0,T.List)(),schemaVersions:(0,T.List)(),functions:(0,T.List)(),apiCache:(0,T.List)(),awsResources:(0,T.List)(),dynamodbTable:(0,T.List)(),putSchema:(0,T.List)(),cognitoSession:(0,T.List)()});class UF extends FF{}function $F(t){return(0,T.Record)({isInvalidated:!1,isLoading:!1,items:(0,T.OrderedSet)(),lastUpdated:null,nextToken:null,pageSize:t??bn.DEFAULT,resourceMetadata:null})}class ke extends $F(){}const jF=(0,T.Record)({dataSourcesByGraphqlApiVersion:(0,T.Map)(),apis:new ke,sharedGraphqlApis:new ke,resolversByGraphqlApiVersionType:(0,T.Map)(),schemaVersionsByGraphqlApi:(0,T.Map)(),typesByGraphqlApiVersion:(0,T.Map)(),apiKeysByGraphqlApi:(0,T.Map)(),sourceApiAssociationsByGraphqlApi:(0,T.Map)(),functionsByGraphqlApiVersion:(0,T.Map)(),resolversByGraphqlApiVersionTypeFunctionId:(0,T.Map)(),elasticsearchClustersByRegion:(0,T.Map)(),dynamoDBTablesByRegion:(0,T.Map)(),eventBridgeBusesByRegion:(0,T.Map)(),lambdaFunctionsByRegion:(0,T.Map)(),rdsClustersByRegion:(0,T.Map)(),secretsManagerSecretsByRegion:(0,T.Map)(),iamRoles:new ke({pageSize:bn.IAM}),userPoolsByRegion:(0,T.Map)(),wafWebAcls:(0,T.Map)()});class VF extends jF{}var Io=(t=>(t.JSON="JSON",t.SDL="SDL",t))(Io||{}),It=v(42693);function BF(){return i.createElement(It.A,null,i.createElement("p",null,(0,l.Ay)`AWS AppSync’s server-side data caching capabilities reduce the need to directly access data sources by making data available in a high speed in-memory cache, improving performance and decreasing latency. In order to take advantage of server-side caching in your AppSync API, define the desired behavior:`),i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`None:`)," ",(0,l.Ay)`No server-side caching.`),i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Full request caching:`)," ",(0,l.Ay)`If the data is not in the cache, it’ll be retrieved from the data source populating the cache until the TTL expiration.* *All requests to your API will be returned from the cache, which means data sources won’t be contacted directly. `)),i.createElement("p",null,(0,l.Ay)`Once the cache behavior is selected, configure the cache settings:`),i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Instance type:`)," ",(0,l.Ay)`select a cache instance according to memory and network performance requirements.`),i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Cache time to live:`)," ",(0,l.Ay)`define* *the amount of time cached entries will be stored in memory. The maximum TTL is 3600s (1h), after which entries will be automatically deleted.`),i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Cache encryption:`)," ",(0,l.Ay)`select all encryption options that apply, namely.`,i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Encryption in transit:`)," ",(0,l.Ay)`requests between AppSync, data sources (except for HTTP data sources connecting to http endpoints instead of https) and the cache will be encrypted at the network level.`),i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Encryption at rest:`)," ",(0,l.Ay)`Data saved to disk from memory during swap operations will be encrypted at the cache instance.`)))))}const GF=()=>[(0,l.Ay)`Caching`,i.createElement(BF,{key:"help-panel-content"}),null];var ue=v(29530);function zF(){return i.createElement(It.A,null,i.createElement("h2",null,(0,l.Ay)`Data Sources`),i.createElement("p",null,(0,l.Ay)`Data sources are AWS resources in your account that AWS AppSync can access on your behalf.`),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"http://docs.aws.amazon.com/appsync/latest/devguide/tutorials.html"},(0,l.Ay)`Learn more`),i.createElement("h2",null,(0,l.Ay)`Versioning`),i.createElement("p",null,(0,l.Ay)`AppSync can automatically create versions of data, when using DynamoDB, for each request when multiple clients are trying to update data at the same time. Versioning is used to keep and maintain multiple variants of data for conflict detection and resolution purposes.`),i.createElement("h2",null,(0,l.Ay)`Base table time to live (TTL)`),i.createElement("p",null,(0,l.Ay)`The amount of time (in minutes) items should be kept in the main table when deleted. Set to 0 to delete items in the main table immediately.`),i.createElement("h2",null,(0,l.Ay)`Delta sync time to live (TTL)`),i.createElement("p",null,(0,l.Ay)`The amount of time (in minutes) the delta sync table will keep track of changes.`))}const qF=()=>[(0,l.Ay)`API Datasources`,i.createElement(zF,{key:"help-panel-content"}),null];function KF(){return i.createElement(It.A,null,i.createElement("h2",null,(0,l.Ay)`Data Sources`),i.createElement("p",null,(0,l.Ay)`Data sources are AWS resources in your account that AppSync can access on your behalf.`),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"http://docs.aws.amazon.com/appsync/latest/devguide/tutorials.html"},(0,l.Ay)`Learn more`),i.createElement("h2",null,(0,l.Ay)`Role`),i.createElement("p",null,(0,l.Ay)`Create or use an existing role that allows AWS AppSync to interact with your selected data source.`),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"http://docs.aws.amazon.com/appsync/latest/devguide/attaching-a-data-source.html"},(0,l.Ay)`Learn more`),i.createElement("h2",null,(0,l.Ay)`Generating GraphQL`),i.createElement("p",null,(0,l.Ay)`When selecting an Amazon DynamoDB table as a data source, AWS AppSync can automatically configure your API to work with it. After selecting a table and enabling the feature you will see a new GraphQL object type preconfigured with your table's key attributes. Use the first text editor to add any additional, non-key attributes and watch as the generated schema adapts. Enabling this flow will also automatically configure resolvers for each new field.`),i.createElement("h2",null,(0,l.Ay)`Versioning`),i.createElement("p",null,(0,l.Ay)`AppSync can automatically create versions of data, when using DynamoDB, for each request when multiple clients are trying to update data at the same time. Versioning is used to keep and maintain multiple variants of data for conflict detection and resolution purposes.`),i.createElement("h2",null,(0,l.Ay)`Base table time to live (TTL)`),i.createElement("p",null,(0,l.Ay)`The amount of time (in minutes) items should be kept in the main table when deleted. Set to 0 to delete items in the main table immediately.`),i.createElement("h2",null,(0,l.Ay)`Delta sync time to live (TTL)`),i.createElement("p",null,(0,l.Ay)`The amount of time (in minutes) the delta sync table will keep track of changes.`))}const WF=()=>[(0,l.Ay)`Creating or Updating a Datasource`,i.createElement(KF,{key:"help-panel-content"}),null];function HF({api:t}){var n;return i.createElement(It.A,null,i.createElement("h4",null,(0,l.Ay)`Writing Queries`),i.createElement("p",null,(0,l.Ay)`The query editor is an in-browser tool for writing, validating, and testing GraphQL operations, including queries, mutations, and subscriptions.`),i.createElement("p",null,(0,l.Ay)`A query might look like:`),i.createElement("p",null,i.createElement("pre",null,`query GetPost {
    getPost(id: 123) {
        id
        title
    }
}`)),i.createElement("p",null,i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"http://docs.aws.amazon.com/appsync/latest/devguide/graphql-overview.html"},(0,l.Ay)`Learn more`)),i.createElement("h4",null,(0,l.Ay)`Query Variables`),i.createElement("p",null,(0,l.Ay)`Instead of hard-coding values in an operation, typed arguments can be named in a query like so:`),i.createElement("p",null,i.createElement("pre",null,`query GetPost($postId:Int!) {
    getPost(id: $postId) {
        id
        title
    }
}`)),i.createElement("p",null,(0,l.Ay)`With values specified in the "Query Variables" pane as JSON:`),i.createElement("p",null,i.createElement("pre",null,`{
    "postId": 123
}`)),i.createElement("h4",null,(0,l.Ay)`GraphQL Documentation`),i.createElement("p",null,(0,l.Ay)`GraphQL APIs are fully self documenting. Use the documentation explorer on the right of the query editor to view your API definition. Add comments above the fields and types in the schema page to add your own documentation, which will be visible here.`),t&&((n=t.graphqlConfig)==null?void 0:n.isPrivate())&&i.createElement(i.Fragment,null,i.createElement("h4",null,(0,l.Ay)`Private APIs`),i.createElement("p",null,(0,l.Ay)`You must have network access to your private API from the console to test your API with the Query Editor`)))}const JF=t=>[(0,l.Ay)`Queries`,i.createElement(HF,{api:t,key:"help-panel-content"}),null];var G=v(47767),he=v(2543),YF=Object.defineProperty,QF=Object.defineProperties,XF=Object.getOwnPropertyDescriptors,Zg=Object.getOwnPropertySymbols,ZF=Object.prototype.hasOwnProperty,eU=Object.prototype.propertyIsEnumerable,eA=(t,n,a)=>n in t?YF(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,tU=(t,n)=>{for(var a in n||(n={}))ZF.call(n,a)&&eA(t,a,n[a]);if(Zg)for(var a of Zg(n))eU.call(n,a)&&eA(t,a,n[a]);return t},nU=(t,n)=>QF(t,XF(n)),vt=(t=>(t.LANDING="landing",t.APIS="apis",t.SCHEMA="schema",t.PROVISION_TYPES="provisionTypes",t.DATA_SOURCES="dataSources",t.FUNCTIONS="functions",t.UNIT_RESOLVERS="unitResolvers",t.PIPELINE_RESOLVERS="pipelineResolvers",t.QUERIES="queries",t.CACHING="caching",t.SETTINGS="settings",t.API_KEYS="apiKeys",t.ENVIRONMENT_VARIABLES="environmentVariables",t.MERGED_API_ASSOCIATIONS="mergedApiAssociations",t.CUSTOM_DOMAIN_ASSOCIATIONS="customDomainAssociations",t.MONITORING="monitoring",t.CUSTOM_DOMAINS="customDomains",t.CREATE_API="createApi",t))(vt||{}),ct=(t=>(t.CREATE_RESOURCE="createResource",t.EDIT_RESOURCE="editResource",t.DELETE_RESOURCE="deleteResource",t.VIEW_RESOURCE="viewResource",t.LIST_RESOURCE="listResource",t))(ct||{}),Va=(t=>(t.CREATE_API="createApi",t.CREATE_MERGED_API="createMergedApi",t.CREATE_BLANK_API="createBlankApi",t.CREATE_IMPORT_TABLE_API="createImportTableApi",t.CREATE_REALTIME_API="createRealtimeApi",t.CREATE_RDS_API="createRdsApi",t))(Va||{}),U=(t=>(t.SERVICE="service",t.SERVICE_SUB_SECTION="serviceSubSection",t.SERVICE_CONSOLE_PAGE="serviceConsolePage",t.EVENT_CONTEXT="eventContext",t.EVENT_DETAIL="eventDetail",t.EVENT_VALUE="eventValue",t.FUNNEL="funnel",t.TASK_ID="taskId",t))(U||{});const rU="{}",aU="0",jr=window?.panorama,rc=()=>typeof window<"u"&&typeof jr=="function"&&jr?.enabled,tA=()=>{at.customerReady()},Sn=t=>{var n,a;rc()&&jr("trackCustomEvent",nU(tU({},t),{eventDetail:(n=t.eventDetail)!=null?n:rU,eventValue:(a=t.eventValue)!=null?a:aU,timestamp:Date.now()}))},Vt=(t,n)=>{const a=(0,G.zy)();(0,i.useEffect)(()=>{tA(),Sn({eventType:"pageVisit",eventContext:t,eventDetail:n})},[a]),rc()&&(jr("updateCommonAttribute","serviceSubSection",t),jr("updateCommonAttribute","serviceConsolePage",n))},Li=(t,n)=>{tA(),Sn({eventType:"pageVisit",eventContext:t,eventDetail:n}),rc()&&(jr("updateCommonAttribute","serviceSubSection",t),jr("updateCommonAttribute","serviceConsolePage",n))},MEe=t=>{useEffect(()=>{Sn(t)},[t])},iU=(t,n)=>{rc()&&(jr("updateCommonAttribute","serviceSubSection",t),jr("updateCommonAttribute","serviceConsolePage",n))},FEe=()=>{iU("","")},et=t=>{if(!t)return t;const a=["graphQL","GraphQL","iOS"].reduce((o,s)=>o.replace(s,he.capitalize(s)),t);return he.camelCase(a)};var oU=Object.defineProperty,ac=Object.getOwnPropertySymbols,nA=Object.prototype.hasOwnProperty,rA=Object.prototype.propertyIsEnumerable,aA=(t,n,a)=>n in t?oU(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,sU=(t,n)=>{for(var a in n||(n={}))nA.call(n,a)&&aA(t,a,n[a]);if(ac)for(var a of ac(n))rA.call(n,a)&&aA(t,a,n[a]);return t},lU=(t,n)=>{var a={};for(var o in t)nA.call(t,o)&&n.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&ac)for(var o of ac(t))n.indexOf(o)<0&&rA.call(t,o)&&(a[o]=t[o]);return a};function gt(t){var n=t,{href:a,text:o,variant:s,panoramaTag:c,ariaLabel:u}=n,p=lU(n,["href","text","variant","panoramaTag","ariaLabel"]);return i.createElement(ue.A,sU({external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:a,variant:s,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(`${c??o}Link`),ariaLabel:u},p),l.Ay.translate(o))}function cU(){return i.createElement(It.A,null,i.createElement("h2",null,(0,l.Ay)`Designing Your Schema`),i.createElement("p",null,(0,l.Ay)`Every GraphQL API is defined by a single schema that’s written in the GraphQL Schema Definition Language (SDL).`,i.createElement("br",null),i.createElement(gt,{text:"Learn more",href:"https://docs.aws.amazon.com/appsync/latest/devguide/tutorials-js.html"})),i.createElement("h2",null,(0,l.Ay)`Attaching Resolvers`),i.createElement("p",null,(0,l.Ay)`Resolvers connect your GraphQL schema to your data source.`,"\xA0",(0,l.Ay)`They tell AWS AppSync how to translate an incoming GraphQL request into instructions for your backend data source and the response from that data source back into a GraphQL response.`,"\xA0",(0,l.Ay)`JavaScript resolvers and functions run on the AppSync JavaScript (APPSYNC_JS) runtime.`,i.createElement("br",null),i.createElement(gt,{text:"Learn more",href:"https://docs.aws.amazon.com/appsync/latest/devguide/tutorials-js.html"})),i.createElement("h2",null,(0,l.Ay)`Creating Resources`),i.createElement("p",null,(0,l.Ay)`You can use the Create Resources button to quickly create an Amazon DynamoDB table from a type in your schema.`,"\xA0",(0,l.Ay)`The new table is automatically wired up with queries and mutations for common operations.`,i.createElement("br",null),i.createElement(gt,{text:"Learn more",href:"https://docs.aws.amazon.com/appsync/latest/devguide/attaching-a-data-source.html"})))}const uU=()=>[(0,l.Ay)`Schema`,i.createElement(cU,{key:"help-panel-content"}),null];var Tn=v(96279);function dU(){return i.createElement(It.A,null,i.createElement("div",null,i.createElement("h3",null,(0,l.Ay)`Authorization Types`),i.createElement("p",null,(0,l.Ay)`Multiple authorization mechanisms are available to protect your API.`),i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`API key`),":"," ",(0,l.Ay)`The simplest auth strategy. All requests must include an API key under the 'x-api-key' request header. Expired API keys are kept for 60 days after the expiration time.`),i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`AWS Identity and Access Management (IAM)`),":"," ",(0,l.Ay)`The AWS IAM auth strategy authorizes that all requests are sigv4 signed.`),i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Amazon Cognito User Pools`),":"," ",(0,l.Ay)`Authorize your users via Amazon Cognito User Pools to achieve more fine-grained control.`))),i.createElement("div",null,i.createElement("h4",null,(0,l.Ay)`AWS X-Ray Integration`),i.createElement("p",null,(0,l.Ay)`AWS X-Ray collects data about requests that your application serves, and provides tools you can use to view, filter, and gain insights into that data to identify issues and opportunities for optimization.`),i.createElement("p",null,(0,l.Ay)`When enabling X-Ray tracing, AppSync will create a IAM Service-Linked Role in your account with permissions to write X-Ray traces. Standard X-Ray rates apply.`)),i.createElement("div",null,i.createElement("h4",null,(0,l.Ay)`Enhanced Monitoring`),i.createElement("p",null,(0,l.Ay)`By default, your API has basic monitoring enabled.`," ",(0,l.Ay)`You can optionally enable enhanced monitoring for an additional charge.`),i.createElement("p",null,(0,l.Ay)`Enhanced monitoring provides additional granular metrics to give more detailed visibility into your AppSync usage.`," ",(0,l.Ay)`You can configure extra enhanced metrics for your resolvers, data sources, and GraphQL operations.`),i.createElement("p",null,(0,l.Ay)`For resolver and data source metrics, you can choose to enable metrics on all resources ("Full Request Resolver Metrics" and "Full Request Data Source Metrics").`," ",(0,l.Ay)`Alternatively, select "Per Resolver" to configure metrics for specific resolvers only or "Per Data Source" to add metrics for particular data sources.`," "),i.createElement("p",null,(0,l.Ay)`See the AppSync documentation for a list of supported enhanced metrics.`)))}function pU(){return i.createElement("div",null,i.createElement("h3",null,(0,l.Ay)`Learn more`," ",i.createElement("span",{role:"img","aria-label":(0,l.Ay)`Opens in a new tab`},i.createElement(Tn.A,{name:"external"}))),i.createElement("ul",null,i.createElement("li",null,i.createElement(ue.A,{href:"https://docs.aws.amazon.com/xray/latest/devguide/aws-xray.html",target:"_blank"},(0,l.Ay)`What is AWS X-Ray?`)),i.createElement("li",null,i.createElement(ue.A,{href:"https://docs.aws.amazon.com/appsync/latest/devguide/monitoring.html",target:"_blank"},(0,l.Ay)`Monitoring and logging`))))}const iA=()=>[(0,l.Ay)`API Settings`,i.createElement(dU,{key:"help-panel-content"}),i.createElement(pU,{key:"help-panel-footer"})];function mU(){return i.createElement(It.A,null,i.createElement("p",null,(0,l.Ay)`Welcome to AppSync!`),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"http://docs.aws.amazon.com/appsync/latest/devguide/designing-a-graphql-api.html"},(0,l.Ay)`Learn more`))}const Cs=(t=!1)=>[t?(0,l.Ay)`Dashboard`:(0,l.Ay)`AWS AppSync`,i.createElement(mU,{key:"help-panel-content"}),null];function hU(){const t=[(0,l.Ay)`Select a type to use as a template for a new Amazon DynamoDB table. This allows you to think about your application in terms of your API types while we automatically convert them into the underlying tables.`,(0,l.Ay)`JavaScript resolvers and functions run on the AppSync JavaScript (APPSYNC_JS) runtime.`,(0,l.Ay)`Alternatively, you can use the Velocity Template Language (VTL).`];return i.createElement(It.A,null,i.createElement("h2",null,(0,l.Ay)`What is this?`),i.createElement("p",null,(0,l.Ay)`Creating resources allows you to jumpstart your API development by provisioning an Amazon DynamoDB table and automatically wiring it up to your API with commonly used queries and mutations.`),i.createElement("h2",null,(0,l.Ay)`Configure the table`),i.createElement("p",null,t.join(" ")),i.createElement("p",null,(0,l.Ay)`Select a primary key and a sort key for your table from the fields on the selected type. The fields you select will dictate which queries, mutations, and resolvers are added to your schema. Try selecting different fields to see what queries and mutations will be generated. You can change these yourself at any time even after creating resources.`),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Introduction.html"},(0,l.Ay)`Learn more`))}const fU=()=>[(0,l.Ay)`Create Resources`,i.createElement(hU,{key:"help-panel-content"}),null];function yU(){return i.createElement(It.A,null,i.createElement("h2",null,(0,l.Ay)`Model builder`),i.createElement("p",null,(0,l.Ay)`Navigate to the Schema page and design your schema using the GraphQL schema definition language (SDL). Use SDL to define the types, interfaces and enums that define the shape of your API.`),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"http://docs.aws.amazon.com/appsync/latest/devguide/designing-a-graphql-api.html"},(0,l.Ay)`Schema reference`),i.createElement("h2",null,(0,l.Ay)`Integrate your API`),i.createElement("p",null,(0,l.Ay)`Once you have deployed your API, easily add it to your application with one of our powerful SDKs or using popular tools such as Apollo Client and Relay.`),i.createElement("h2",null,(0,l.Ay)`Verify that your API is working`),i.createElement("p",null,(0,l.Ay)`After deploying, run sample queries against your API to ensure its behavior is what you expect.`,"`"))}const gU=()=>[(0,l.Ay)`API Homepage`,i.createElement(yU,{key:"help-panel-content"}),null];function AU(){return i.createElement(It.A,null,i.createElement("h2",null,(0,l.Ay)`API metrics`),i.createElement("p",null,(0,l.Ay)`AWS AppSync integrates with Amazon CloudWatch to help you monitor, trace and debug your GraphQL APIs. AppSync automatically reports metrics to CloudWatch on your API's behalf. These metrics include total requests, latency, and error rates.`),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"https://docs.aws.amazon.com/appsync/latest/devguide/monitoring.html#cw-metrics"},(0,l.Ay)`Learn more`))}const EU=()=>[(0,l.Ay)`API Monitoring`,i.createElement(AU,{key:"help-panel-content"}),null];function bU(){return i.createElement(It.A,null,i.createElement("p",null,(0,l.Ay)`You can use simple, memorable endpoint URLs for the AWS AppSync APIs in your account by creating custom domain names.`),i.createElement("p",null,(0,l.Ay)`The API association shows which API is associated with a custom domain name, as well as the connection status.`),i.createElement("p",null,(0,l.Ay)`To set up a custom domain name, you must have a registered internet domain name. You can register a domain name using Amazon Route 53 domain registration or a third-party domain registrar of your choice.`),i.createElement("h2",null,(0,l.Ay)`Learn more`),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"https://docs.aws.amazon.com/appsync/latest/devguide/custom-domain-name.html"},(0,l.Ay)`Configuring custom domain names`),i.createElement("br",null),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/Welcome.html"},(0,l.Ay)`What is Amazon Route 53?`))}const vU=()=>[(0,l.Ay)`Custom domain names`,i.createElement(bU,{key:"help-panel-content"}),null];function SU(){return i.createElement(It.A,null,i.createElement("p",null,(0,l.Ay)`To create a custom domain name, provide a domain name that you own and an AWS Certificate Manager (ACM) certificate that covers the domain name.`),i.createElement("h2",null,(0,l.Ay)`Learn more`),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"https://docs.aws.amazon.com/appsync/latest/devguide/custom-domain-name.html#appsynclong-configure-custom-domain"},(0,l.Ay)`Creating a custom domain name in AWS AppSync`))}const TU=()=>[(0,l.Ay)`Create domain name`,i.createElement(SU,{key:"help-panel-content"}),null];function IU(){return i.createElement(It.A,null,i.createElement("p",null,(0,l.Ay)`The details page shows information about your custom domain.`),i.createElement("p",null,i.createElement("strong",null,(0,l.Ay)`AWS AppSync domain name`),i.createElement("br",null),(0,l.Ay)`The domain name that AWS AppSync provides.`),i.createElement("p",null,i.createElement("strong",null,(0,l.Ay)`AWS AppSync GraphQL endpoint`),i.createElement("br",null),(0,l.Ay)`The endpoint for making GraphQL queries and mutations.`),i.createElement("p",null,i.createElement("strong",null,(0,l.Ay)`AWS AppSync real-time endpoint`),i.createElement("br",null),(0,l.Ay)`The endpoint for receiving real-time subscription notifications over WebSockets.`),i.createElement("h2",null,(0,l.Ay)`Learn more`),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"https://docs.aws.amazon.com/appsync/latest/devguide/graphql-overview.html"},(0,l.Ay)`GraphQL Overview`),i.createElement("br",null),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"https://docs.aws.amazon.com/appsync/latest/devguide/aws-appsync-real-time-data.html"},(0,l.Ay)`GraphQL Schema Subscription Directives`))}const CU=()=>[(0,l.Ay)`Domain name details`,i.createElement(IU,{key:"help-panel-content"}),null];function RU(){return i.createElement(It.A,null,i.createElement("p",null,(0,l.Ay)`You can assign a custom domain name to any API in your account.`,"\xA0",(0,l.Ay)`Note: private APIs are not supported by custom domain names.`),i.createElement("h2",null,(0,l.Ay)`Learn more`),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"https://docs.aws.amazon.com/appsync/latest/devguide/custom-domain-name.html"},(0,l.Ay)`Configuring custom domain names`))}const wU=()=>[(0,l.Ay)`Edit association`,i.createElement(RU,{key:"help-panel-content"}),null];function PU(){return i.createElement(It.A,null,i.createElement("p",null,(0,l.Ay)`After configuring a custom domain name, you can change only its description.`),i.createElement("h2",null,(0,l.Ay)`Learn more`),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"https://docs.aws.amazon.com/appsync/latest/devguide/custom-domain-name.html"},(0,l.Ay)`Configuring custom domain names`))}const OU=()=>[(0,l.Ay)`Edit domain`,i.createElement(PU,{key:"help-panel-content"}),null];function DU(){return i.createElement("div",null,i.createElement("h4",null,(0,l.Ay)`Authorization Types`),i.createElement("p",null,(0,l.Ay)`Multiple authorization mechanisms are available to protect your API.`),i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`API key`,": "),(0,l.Ay)`The simplest auth strategy.`,"\xA0",(0,l.Ay)`All requests must include an API key under the 'x-api-key' request header.`,"\xA0",(0,l.Ay)`Expired API keys are kept for 60 days after the expiration time.`)),i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`AWS Identity and Access Management (IAM)`,": "),(0,l.Ay)`The AWS IAM auth strategy authorizes that all requests are sigv4 signed.`)),i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Amazon Cognito User Pools`,": "),(0,l.Ay)`Authorize your users via Amazon Cognito User Pools to achieve more fine-grained control.`)),i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`AWS Lambda Authorizers`,": "),(0,l.Ay)`A serverless function that allows you to authenticate and authorize access to your AWS AppSync API using custom logic.`)),i.createElement(ue.A,{external:!0,href:"https://docs.aws.amazon.com/appsync/latest/devguide/security-authz.html"},(0,l.Ay)`Learn more about authorization mode configuration`),i.createElement("h4",null,(0,l.Ay)`Authorization Configuration`),i.createElement("p",null,(0,l.Ay)`Authorization of a Merged API is jointly configured by the Merged and Source API owners.`),i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Primary authorization mode`,": "),(0,l.Ay)`In a Merged API the primary authorization mode is set and configured by the Merged API Owner.`)),i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Secondary authorization modes`,": "),(0,l.Ay)`A merged API inherits its associated Source APIs primary and secondary authorization modes.`,"\xA0",(0,l.Ay)`It is the responsibility of the Merged API owner to configure the authorization logic of those authorization modes, which can be the or different from the authorization logic defined in the Source APIs.`)))}const NU=()=>[(0,l.Ay)`Authorization Types`,i.createElement(DU,{key:"help-panel-content"}),void 0];function _U({hasImportTable:t,hasServiceRole:n}){return i.createElement("div",null,i.createElement("h3",null,(0,l.Ay)`API details`),i.createElement("p",null,(0,l.Ay)`Provide an API name and optional contact information.`,"\xA0",(0,l.Ay)`Adding contact information for the team that owns this API will help source API and merged API owners and teams collaborate with each other if issues arise.`),i.createElement("h3",null,(0,l.Ay)`Private API configuration`),i.createElement("p",null,(0,l.Ay)`Specify if access to this API's endpoints should be limited to a VPC. This setting cannot be changed later.`),n&&i.createElement(i.Fragment,null,i.createElement("h4",null,(0,l.Ay)`Service roles`),i.createElement("p",null,(0,l.Ay)`An AWS service role is an AWS Identity and Access Management (IAM) role that is used by AWS services to perform tasks on your behalf.`,"\xA0",(0,l.Ay)`When you create a service role, you define the permissions that the service needs to perform its tasks, and then you grant those permissions to the service by attaching the role to the service.`,"\xA0",(0,l.Ay)`This allows the service to access the resources it needs without requiring you to share your AWS security credentials.`,"\xA0",(0,l.Ay)`In this context, a service role is necessary for your Merged API to access data sources contained in the source APIs you will associate in the next step.`,"\xA0",(0,l.Ay)`Select “Create and use a new service role” and an appropriate service role will be generated for you.`,"\xA0",(0,l.Ay)`You can view its details by clicking on the “View permission details” link.`,"\xA0",(0,l.Ay)`Alternatively, you can use a service role that you create.`)),t&&i.createElement(i.Fragment,null,i.createElement("h4",null,(0,l.Ay)`Import from DynamoDB table`),i.createElement("p",null,(0,l.Ay)`Specify a DynamoDB table to import your type definition from. Your table will be configured as a data source.`)))}function xU(){return i.createElement(ue.A,{href:"https://docs.aws.amazon.com/appsync/latest/devguide/aws-appsync-real-time-create-generic-api-serverless-websocket.html",target:"_blank"},(0,l.Ay)`Create and configure pub-sub APIs`)}function LU(){return i.createElement(ue.A,{href:"https://docs.aws.amazon.com/appsync/latest/devguide/quickstart.html",target:"_blank"},(0,l.Ay)`Getting started: Creating your first GraphQL API`)}function kU({hasRealTime:t}){return i.createElement("div",null,i.createElement("h3",null,(0,l.Ay)`Learn more`," ",i.createElement("span",{role:"img","aria-label":(0,l.Ay)`Opens in a new tab`},i.createElement(Tn.A,{name:"external"}))),i.createElement("ul",null,i.createElement("li",null,t?i.createElement(xU,null):i.createElement(LU,null))))}const MU=({hasImportTable:t,hasServiceRole:n,hasRealTime:a})=>[(0,l.Ay)`Specify API details`,i.createElement(_U,{hasImportTable:t,hasServiceRole:n,key:"help-panel-content"}),i.createElement(kU,{hasRealTime:a,key:"help-panel-footer"})];function FU(){return i.createElement(i.Fragment,null,(0,l.Ay)`Once your API has been created, you will be able to`,":",i.createElement("ul",null,i.createElement("li",null,(0,l.Ay)`Update its schema, operations, resolvers, data sources, and auth modes.`),i.createElement("li",null,(0,l.Ay)`Generate test queries, mutations, and subscriptions using the query editor tab.`),i.createElement("li",null,(0,l.Ay)`Configure advanced settings for your API, which includes turning on AWS CloudWatch for logging, AWS X-Ray for tracing, AWS WAF for security, and optional caching for enhanced performance.`)))}const UU=(0,l.Ay)`Once your API is created you will then be able to update its schema and its operations, resolvers, datasources, and auth modes, generate test queries, mutations, and subscriptions using the query editor tab, and configure advanced setting for you API, including turning on Amazon CloudWatch for logging, AWS X-Ray for tracing, AWS WAF for security, and optional caching for enhanced performance.`;function $U({apiSource:t}){return t===We.RDS?i.createElement(FU,null):i.createElement("p",null,UU)}function jU(){return i.createElement("p",null,(0,l.Ay)`Once your API is created you will then be able to browse your merged schema and its operations, resolvers, and datasources, update authorization configurations, generate test queries and mutations using the query editor tab, and configure advanced setting for you Merged API, including turning on Amazon CloudWatch for logging, AWS X-Ray for tracing, AWS WAF for security, and optional caching for enhanced performance.`)}function VU({apiType:t,apiSource:n}){return i.createElement("div",null,i.createElement("h4",null,(0,l.Ay)`What happens next?`),t===nt.GRAPHQL&&i.createElement($U,{apiSource:n}),t===nt.MERGED&&i.createElement(jU,null))}function BU(){return i.createElement(ue.A,{href:"https://docs.aws.amazon.com/appsync/latest/devguide/designing-a-graphql-api.html",target:"_blank"},(0,l.Ay)`Designing a GraphQL API`)}function GU(){return i.createElement(ue.A,{href:"https://docs.aws.amazon.com/appsync/latest/devguide/merged-api",target:"_blank"},(0,l.Ay)`Using Merged APIs`)}function zU({apiType:t}){return i.createElement("div",null,i.createElement("h3",null,(0,l.Ay)`Learn more`," ",i.createElement("span",{role:"img","aria-label":(0,l.Ay)`Opens in a new tab`},i.createElement(Tn.A,{name:"external"}))),i.createElement("ul",null,i.createElement("li",null,t===nt.GRAPHQL&&i.createElement(BU,null),t===nt.MERGED&&i.createElement(GU,null))))}const oA=({apiType:t,apiSource:n})=>[(0,l.Ay)`Review and create`,i.createElement(VU,{apiType:t,apiSource:n,key:"help-panel-content"}),i.createElement(zU,{apiType:t,key:"help-panel-footer"})];function qU(){return i.createElement("div",null,i.createElement("h4",null,(0,l.Ay)`Your AWS account`),i.createElement("p",null,(0,l.Ay)`Select the “Add source APIs” button to generate a list of other AppSync APIs in the same account as your Merged API.`,"\xA0",(0,l.Ay)`You can then select from this list the APIs that you want use as source APIs for your Merged API.`,"\xA0"),i.createElement("h4",null,(0,l.Ay)`Other AWS accounts`),i.createElement("p",null,(0,l.Ay)`Select the “Add source APIs” button to generate a list of AppSync APIs that owners of APIs in other AWS accounts have made available to your account for use as source APIs in Merged APIs that you may create.`,"\xA0",(0,l.Ay)`You can then select from this list the APIs that you want use as source APIs for your Merged API.`))}const KU=()=>[(0,l.Ay)`Select Source APIs`,i.createElement(qU,{key:"help-panel-content"}),void 0],ne=te.useSelector,de=te.useDispatch;var WU=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});function Hd(){const t="000000000000",[n,a]=(0,i.useState)(t),o=()=>WU(this,null,function*(){try{const s=yield Oo();a(s)}catch(s){at.logOperationalError(Ge.GET_AWS_ACCOUNT_ID_ERROR,s)}});return(0,i.useEffect)(()=>{o()},[]),n}function UEe(){return useAppSelector(t=>{const n={};return t.workflows.forEach((a,o)=>{!a||a.status===Status.NONE||(n[o]=a)}),n})}function sA(){return{type:D.TOGGLE_HELP}}const Co=t=>({type:D.SET_HELP,isOpen:t});function $Ee(){return{type:ActionType.TOGGLE_NAVIGATION}}const Vr=t=>({type:D.SET_NAVIGATION,isOpen:t}),Nn=t=>({type:D.SET_CONTENT_TYPE,contentType:t}),Br=t=>({type:D.SET_PROMPT_ON_NAV,promptOnNav:t}),Ct=t=>({type:D.SET_HELP_SLUG,helpSlug:t});function Gr(t){return{type:D.MERGE_LOCAL_SCHEMA_RECORD,value:t}}function HU(t){return{type:D.UPDATE_LOCAL_SCHEMA,value:t}}function JU(){return{type:D.CANCEL_LOCAL_SCHEMA_EDITS}}function YU(){return{type:D.CLEAR_LOCAL_SCHEMA}}function QU(){return{type:D.INITIALIZE_LOCAL_SCHEMA}}function lA(t){return n=>({key:t,type:D.SET_AT_KEY,value:n})}function jEe(t,n){return{index:n,key:t,type:ActionType.REMOVE_FROM_AT_KEY}}var VEe=v(5723),XU=Object.defineProperty,ZU=Object.defineProperties,e$=Object.getOwnPropertyDescriptors,cA=Object.getOwnPropertySymbols,t$=Object.prototype.hasOwnProperty,n$=Object.prototype.propertyIsEnumerable,uA=(t,n,a)=>n in t?XU(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Jd=(t,n)=>{for(var a in n||(n={}))t$.call(n,a)&&uA(t,a,n[a]);if(cA)for(var a of cA(n))n$.call(n,a)&&uA(t,a,n[a]);return t},Yd=(t,n)=>ZU(t,e$(n));function ki(t){return n=>Yd(Jd({},n),{entityType:t,type:D.CREATE_BEGIN})}function ic(t){return n=>Yd(Jd({},n),{entityType:t,type:D.CREATE_SUCCESS})}function dA(t){return n=>Yd(Jd({},n),{entityType:t,type:D.CREATE_FAILURE})}var r$=Object.defineProperty,a$=Object.defineProperties,i$=Object.getOwnPropertyDescriptors,pA=Object.getOwnPropertySymbols,o$=Object.prototype.hasOwnProperty,s$=Object.prototype.propertyIsEnumerable,mA=(t,n,a)=>n in t?r$(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,oc=(t,n)=>{for(var a in n||(n={}))o$.call(n,a)&&mA(t,a,n[a]);if(pA)for(var a of pA(n))s$.call(n,a)&&mA(t,a,n[a]);return t},sc=(t,n)=>a$(t,i$(n));function Ba(t){return n=>sc(oc({},n),{entityType:t,type:D.UPDATE_BEGIN})}function Rs(t){return n=>sc(oc({},n),{entityType:t,type:D.UPDATE_SUCCESS})}function l$(t){return n=>sc(oc({},n),{entityType:t,type:D.UPDATE_FAILURE})}function Kt(t){return n=>sc(oc({},n),{entityType:t,type:D.UPDATE_STATUS})}var c$=Object.defineProperty,u$=Object.defineProperties,d$=Object.getOwnPropertyDescriptors,hA=Object.getOwnPropertySymbols,p$=Object.prototype.hasOwnProperty,m$=Object.prototype.propertyIsEnumerable,fA=(t,n,a)=>n in t?c$(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Qd=(t,n)=>{for(var a in n||(n={}))p$.call(n,a)&&fA(t,a,n[a]);if(hA)for(var a of hA(n))m$.call(n,a)&&fA(t,a,n[a]);return t},Xd=(t,n)=>u$(t,d$(n));function Mi(t){return n=>Xd(Qd({},n),{entityType:t,type:D.DELETE_BEGIN})}function Zd(t){return n=>Xd(Qd({},n),{entityType:t,type:D.DELETE_SUCCESS})}function h$(t){return n=>Xd(Qd({},n),{entityType:t,type:D.DELETE_FAILURE})}var f$=Object.defineProperty,y$=Object.defineProperties,g$=Object.getOwnPropertyDescriptors,yA=Object.getOwnPropertySymbols,A$=Object.prototype.hasOwnProperty,E$=Object.prototype.propertyIsEnumerable,gA=(t,n,a)=>n in t?f$(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Ga=(t,n)=>{for(var a in n||(n={}))A$.call(n,a)&&gA(t,a,n[a]);if(yA)for(var a of yA(n))E$.call(n,a)&&gA(t,a,n[a]);return t},za=(t,n)=>y$(t,g$(n));function ma(t){return n=>za(Ga({},n),{entityType:t,type:D.LIST_BEGIN})}function BEe(t){return n=>za(Ga({},n),{entityType:t,type:ActionType.LIST_WORKLOW_BEGIN})}function ep(t){return n=>za(Ga({},n),{entityType:t,type:D.LIST_SUCCESS})}function b$(t){return n=>za(Ga({},n),{entityType:t,type:D.LIST_FAILURE})}function v$(t){return n=>za(Ga({},n),{entityType:t,type:D.PUT_ENTITIES})}function zr(t){return n=>za(Ga({},n),{entityType:t,type:D.PUT_ENTITY})}function Ro(t){return n=>za(Ga({},n),{entityType:t,type:D.ADD_ITEM_TO_PAGE})}function S$(t){return n=>za(Ga({},n),{entityType:t,type:D.REMOVE_ITEM_FROM_PAGE})}var T$=Object.defineProperty,I$=Object.defineProperties,C$=Object.getOwnPropertyDescriptors,AA=Object.getOwnPropertySymbols,R$=Object.prototype.hasOwnProperty,w$=Object.prototype.propertyIsEnumerable,EA=(t,n,a)=>n in t?T$(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,tp=(t,n)=>{for(var a in n||(n={}))R$.call(n,a)&&EA(t,a,n[a]);if(AA)for(var a of AA(n))w$.call(n,a)&&EA(t,a,n[a]);return t},np=(t,n)=>I$(t,C$(n));function qa(t){return n=>np(tp({},n),{entityType:t,type:D.GET_BEGIN})}function bA(t){return n=>np(tp({},n),{entityType:t,type:D.GET_SUCCESS})}function vA(t){return n=>np(tp({},n),{entityType:t,type:D.GET_FAILURE})}var P$=Object.defineProperty,O$=Object.defineProperties,D$=Object.getOwnPropertyDescriptors,SA=Object.getOwnPropertySymbols,N$=Object.prototype.hasOwnProperty,_$=Object.prototype.propertyIsEnumerable,TA=(t,n,a)=>n in t?P$(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,IA=(t,n)=>{for(var a in n||(n={}))N$.call(n,a)&&TA(t,a,n[a]);if(SA)for(var a of SA(n))_$.call(n,a)&&TA(t,a,n[a]);return t},CA=(t,n)=>O$(t,D$(n));function wo(t){return n=>CA(IA({},n),{entityType:t,type:D.DISMISS_ERROR})}function RA(t){return CA(IA({},t),{type:D.DISMISS_ERROR})}function Fi(t){return{entityType:t,type:D.DISMISS_ALL_ERRORS}}const x$=Ba(N.DATA_SOURCE),L$=ki(N.DATA_SOURCE),k$=Mi(N.DATA_SOURCE),wA=ma(N.DATA_SOURCE),GEe=qa(N.DATA_SOURCE),zEe=wo(N.DATA_SOURCE);var M$=Object.defineProperty,F$=Object.defineProperties,U$=Object.getOwnPropertyDescriptors,PA=Object.getOwnPropertySymbols,$$=Object.prototype.hasOwnProperty,j$=Object.prototype.propertyIsEnumerable,OA=(t,n,a)=>n in t?M$(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Ka=(t,n)=>{for(var a in n||(n={}))$$.call(n,a)&&OA(t,a,n[a]);if(PA)for(var a of PA(n))j$.call(n,a)&&OA(t,a,n[a]);return t},Wa=(t,n)=>F$(t,U$(n));function V$(t){return n=>Wa(Ka({},n),{entityType:t,type:D.TAG_RESOURCE_BEGIN})}function B$(t){return n=>Wa(Ka({},n),{entityType:t,type:D.TAG_RESOURCE_SUCCESS})}function G$(t){return n=>Wa(Ka({},n),{entityType:t,type:D.TAG_RESOURCE_FAILURE})}function z$(t){return n=>Wa(Ka({},n),{entityType:t,type:D.UNTAG_RESOURCE_BEGIN})}function q$(t){return n=>Wa(Ka({},n),{entityType:t,type:D.UNTAG_RESOURCE_SUCCESS})}function K$(t){return n=>Wa(Ka({},n),{entityType:t,type:D.UNTAG_RESOURCE_FAILURE})}function rp(t){return n=>Wa(Ka({},n),{entityType:t,type:D.UPDATE_TAG_STATUS})}function ap(t){return n=>Wa(Ka({},n),{entityType:t,type:D.UPDATE_UNTAG_STATUS})}const ws=Ba(N.API),ip=ki(N.API),W$=Mi(N.API),H$=ma(N.API),J$=ma(N.SHARED_GRAPHQLAPI),qEe=qa(N.API),Y$=V$(N.API),Q$=z$(N.API),Po=t=>({entity:new $r({recordStatus:t}),entityType:N.API,type:D.SET_CREATE_API_STATUS}),DA=Ba(N.RESOLVER),X$=ki(N.RESOLVER),Z$=Mi(N.RESOLVER),ej=ma(N.RESOLVER),tj=qa(N.RESOLVER),nj=ma(N.RESOLVER),KEe=wo(N.RESOLVER),NA=Ba(N.RESOLVER_FUNCTION),_A=ki(N.RESOLVER_FUNCTION),xA=Mi(N.RESOLVER_FUNCTION),LA=ma(N.RESOLVER_FUNCTION),kA=qa(N.RESOLVER_FUNCTION),WEe=wo(N.RESOLVER_FUNCTION);var rj=Object.defineProperty,aj=Object.defineProperties,ij=Object.getOwnPropertyDescriptors,MA=Object.getOwnPropertySymbols,oj=Object.prototype.hasOwnProperty,sj=Object.prototype.propertyIsEnumerable,FA=(t,n,a)=>n in t?rj(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,op=(t,n)=>{for(var a in n||(n={}))oj.call(n,a)&&FA(t,a,n[a]);if(MA)for(var a of MA(n))sj.call(n,a)&&FA(t,a,n[a]);return t},sp=(t,n)=>aj(t,ij(n));function lj(t){return n=>sp(op({},n),{entityType:t,type:D.FLUSH_CACHE_BEGIN})}function HEe(t){return n=>sp(op({},n),{entityType:t,type:ActionType.FLUSH_CACHE_SUCCESS})}const cj=t=>sp(op({},t),{entityType:N.API_CACHE,type:D.FLUSH_CACHE_FAILURE}),uj=Ba(N.API_KEY),lp=ki(N.API_KEY),cp=Mi(N.API_KEY),UA=ma(N.API_KEY),JEe=qa(N.API_KEY),YEe=wo(N.API_KEY),QEe=ki(N.IAM_ROLE),dj=Ba(N.API_CACHE),pj=ki(N.API_CACHE),mj=Mi(N.API_CACHE),up=qa(N.API_CACHE),hj=lj(N.API_CACHE),XEe=wo(N.API_CACHE),fj=Ba(N.SOURCE_API_ASSOCIATION),$A=Mi(N.SOURCE_API_ASSOCIATION),dp=ma(N.SOURCE_API_ASSOCIATION),ZEe=qa(N.SOURCE_API_ASSOCIATION),ebe=wo(N.SOURCE_API_ASSOCIATION),yj=Ba(N.ENVIRONMENT_VARIABLE),gj=qa(N.ENVIRONMENT_VARIABLE);function Ps(t){return{type:D.SET_SELECTED_GRAPHQLAPI_ID,value:t}}function lc(t){return{type:D.SET_SELECTED_API_KEY_ID,value:t}}function Aj(t){return{type:D.SET_SELECTED_ADDITIONAL_AUTH,value:t}}function jA(t){return{type:D.SET_SELECTED_VERSION_ID,value:t}}var Ej=Object.defineProperty,bj=Object.defineProperties,vj=Object.getOwnPropertyDescriptors,VA=Object.getOwnPropertySymbols,Sj=Object.prototype.hasOwnProperty,Tj=Object.prototype.propertyIsEnumerable,BA=(t,n,a)=>n in t?Ej(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,pp=(t,n)=>{for(var a in n||(n={}))Sj.call(n,a)&&BA(t,a,n[a]);if(VA)for(var a of VA(n))Tj.call(n,a)&&BA(t,a,n[a]);return t},mp=(t,n)=>bj(t,vj(n));function Ij(t){return mp(pp({},t),{entityType:N.ELASTICSEARCH_CLUSTER,type:D.ELASTICSEARCH_LIST_CLUSTERS_BEGIN})}function Cj(t){return mp(pp({},t),{entityType:N.ELASTICSEARCH_CLUSTER,type:D.ELASTICSEARCH_LIST_CLUSTERS_SUCCESS})}function Rj(t){return mp(pp({},t),{errors:t.errors,entityType:N.ELASTICSEARCH_CLUSTER,type:D.ELASTICSEARCH_LIST_CLUSTERS_FAILURE})}var wj=Object.defineProperty,Pj=Object.defineProperties,Oj=Object.getOwnPropertyDescriptors,GA=Object.getOwnPropertySymbols,Dj=Object.prototype.hasOwnProperty,Nj=Object.prototype.propertyIsEnumerable,zA=(t,n,a)=>n in t?wj(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,hp=(t,n)=>{for(var a in n||(n={}))Dj.call(n,a)&&zA(t,a,n[a]);if(GA)for(var a of GA(n))Nj.call(n,a)&&zA(t,a,n[a]);return t},fp=(t,n)=>Pj(t,Oj(n));function _j(t){return fp(hp({},t),{entityType:N.DYNAMODB_TABLE,type:D.DYNAMODB_LIST_TABLES_BEGIN})}function xj(t){return fp(hp({},t),{entityType:N.DYNAMODB_TABLE,type:D.DYNAMODB_LIST_TABLES_SUCCESS})}function Lj(t){return fp(hp({},t),{errors:t.errors,entityType:N.DYNAMODB_TABLE,type:D.DYNAMODB_LIST_TABLES_FAILURE})}var kj=Object.defineProperty,Mj=Object.defineProperties,Fj=Object.getOwnPropertyDescriptors,qA=Object.getOwnPropertySymbols,Uj=Object.prototype.hasOwnProperty,$j=Object.prototype.propertyIsEnumerable,KA=(t,n,a)=>n in t?kj(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,yp=(t,n)=>{for(var a in n||(n={}))Uj.call(n,a)&&KA(t,a,n[a]);if(qA)for(var a of qA(n))$j.call(n,a)&&KA(t,a,n[a]);return t},gp=(t,n)=>Mj(t,Fj(n));function WA(t){return gp(yp({},t),{entityType:N.LAMBDA_FUNCTION,type:D.LAMBDA_LIST_FUNCTIONS_BEGIN})}function jj(t){return gp(yp({},t),{entityType:N.LAMBDA_FUNCTION,type:D.LAMBDA_LIST_FUNCTIONS_SUCCESS})}function Vj(t){return gp(yp({},t),{errors:t.errors,entityType:N.LAMBDA_FUNCTION,type:D.LAMBDA_LIST_FUNCTIONS_FAILURE})}var Bj=Object.defineProperty,Gj=Object.defineProperties,zj=Object.getOwnPropertyDescriptors,HA=Object.getOwnPropertySymbols,qj=Object.prototype.hasOwnProperty,Kj=Object.prototype.propertyIsEnumerable,JA=(t,n,a)=>n in t?Bj(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Ap=(t,n)=>{for(var a in n||(n={}))qj.call(n,a)&&JA(t,a,n[a]);if(HA)for(var a of HA(n))Kj.call(n,a)&&JA(t,a,n[a]);return t},Ep=(t,n)=>Gj(t,zj(n));function YA(t){return Ep(Ap({},t),{entityType:N.IAM_ROLE,type:D.IAM_LIST_ROLES_BEGIN})}function Wj(t){return Ep(Ap({},t),{entityType:N.IAM_ROLE,type:D.IAM_LIST_ROLES_SUCCESS})}function Hj(t){return Ep(Ap({},t),{entityType:N.IAM_ROLE,type:D.IAM_LIST_ROLES_FAILURE})}function Jj(t){return{paginateRecord:new ke({pageSize:bn.IAM}),paginationKey:{key:t},entityType:N.IAM_ROLE,type:D.IAM_LIST_ROLES_SUCCESS}}var Yj=Object.defineProperty,Qj=Object.defineProperties,Xj=Object.getOwnPropertyDescriptors,QA=Object.getOwnPropertySymbols,Zj=Object.prototype.hasOwnProperty,e1=Object.prototype.propertyIsEnumerable,XA=(t,n,a)=>n in t?Yj(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,bp=(t,n)=>{for(var a in n||(n={}))Zj.call(n,a)&&XA(t,a,n[a]);if(QA)for(var a of QA(n))e1.call(n,a)&&XA(t,a,n[a]);return t},vp=(t,n)=>Qj(t,Xj(n));function t1(t){return vp(bp({},t),{entityType:N.RDS_CLUSTER,type:D.RDS_DESCRIBE_CLUSTERS_BEGIN})}function n1(t){return vp(bp({},t),{entityType:N.RDS_CLUSTER,type:D.RDS_DESCRIBE_CLUSTERS_SUCCESS})}function r1(t){return vp(bp({},t),{errors:t.errors,entityType:N.RDS_CLUSTER,type:D.RDS_DESCRIBE_CLUSTERS_FAILURE})}var a1=Object.defineProperty,i1=Object.defineProperties,o1=Object.getOwnPropertyDescriptors,ZA=Object.getOwnPropertySymbols,s1=Object.prototype.hasOwnProperty,l1=Object.prototype.propertyIsEnumerable,eE=(t,n,a)=>n in t?a1(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Sp=(t,n)=>{for(var a in n||(n={}))s1.call(n,a)&&eE(t,a,n[a]);if(ZA)for(var a of ZA(n))l1.call(n,a)&&eE(t,a,n[a]);return t},Tp=(t,n)=>i1(t,o1(n));function c1(t){return Tp(Sp({},t),{entityType:N.SECRETS_MANAGER_SECRET,type:D.SECRETS_MANAGER_LIST_SECRETS_BEGIN})}function u1(t){return Tp(Sp({},t),{entityType:N.SECRETS_MANAGER_SECRET,type:D.SECRETS_MANAGER_LIST_SECRETS_SUCCESS})}function d1(t){return Tp(Sp({},t),{errors:t.errors,entityType:N.SECRETS_MANAGER_SECRET,type:D.SECRETS_MANAGER_LIST_SECRETS_FAILURE})}var p1=Object.defineProperty,m1=Object.defineProperties,h1=Object.getOwnPropertyDescriptors,tE=Object.getOwnPropertySymbols,f1=Object.prototype.hasOwnProperty,y1=Object.prototype.propertyIsEnumerable,nE=(t,n,a)=>n in t?p1(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Ip=(t,n)=>{for(var a in n||(n={}))f1.call(n,a)&&nE(t,a,n[a]);if(tE)for(var a of tE(n))y1.call(n,a)&&nE(t,a,n[a]);return t},Cp=(t,n)=>m1(t,h1(n));function rE(t){return Cp(Ip({},t),{entityType:N.USER_POOL,type:D.LIST_USERPOOL_BEGIN})}function g1(t){return Cp(Ip({},t),{entityType:N.USER_POOL,type:D.LIST_USERPOOL_SUCCESS})}function A1(t){return Cp(Ip({},t),{entityType:N.USER_POOL,type:D.LIST_USERPOOL_FAILURE})}var E1=Object.defineProperty,b1=Object.defineProperties,v1=Object.getOwnPropertyDescriptors,aE=Object.getOwnPropertySymbols,S1=Object.prototype.hasOwnProperty,T1=Object.prototype.propertyIsEnumerable,iE=(t,n,a)=>n in t?E1(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Rp=(t,n)=>{for(var a in n||(n={}))S1.call(n,a)&&iE(t,a,n[a]);if(aE)for(var a of aE(n))T1.call(n,a)&&iE(t,a,n[a]);return t},wp=(t,n)=>b1(t,v1(n));function I1(t){return wp(Rp({},t),{entityType:N.WAF_WEB_ACL,type:D.LIST_WAF_WEB_ACL_BEGIN})}function C1(t){return wp(Rp({},t),{entityType:N.WAF_WEB_ACL,type:D.LIST_WAF_WEB_ACL_SUCCESS})}function R1(t){return wp(Rp({},t),{errors:t.errors,entityType:N.WAF_WEB_ACL,type:D.LIST_WAF_WEB_ACL_FAILURE})}var w1=Object.defineProperty,P1=Object.defineProperties,O1=Object.getOwnPropertyDescriptors,oE=Object.getOwnPropertySymbols,D1=Object.prototype.hasOwnProperty,N1=Object.prototype.propertyIsEnumerable,sE=(t,n,a)=>n in t?w1(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Pp=(t,n)=>{for(var a in n||(n={}))D1.call(n,a)&&sE(t,a,n[a]);if(oE)for(var a of oE(n))N1.call(n,a)&&sE(t,a,n[a]);return t},Op=(t,n)=>P1(t,O1(n));function _1(t){return Op(Pp({},t),{entityType:N.EVENT_BUS,type:D.EVENT_BRIDGE_LIST_BUSES_BEGIN})}function x1(t){return Op(Pp({},t),{entityType:N.EVENT_BUS,type:D.EVENT_BRIDGE_LIST_BUSES_SUCCESS})}function L1(t){return Op(Pp({},t),{errors:t.errors,entityType:N.EVENT_BUS,type:D.EVENT_BRIDGE_LIST_BUSES_FAILURE})}function Dp(t){return{type:D.START_PROVISION_SAMPLE,workflowParams:t}}var k1=Object.defineProperty,lE=Object.getOwnPropertySymbols,M1=Object.prototype.hasOwnProperty,F1=Object.prototype.propertyIsEnumerable,cE=(t,n,a)=>n in t?k1(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,U1=(t,n)=>{for(var a in n||(n={}))M1.call(n,a)&&cE(t,a,n[a]);if(lE)for(var a of lE(n))F1.call(n,a)&&cE(t,a,n[a]);return t};function uE(t){return U1({type:D.FIRE_WORKFLOW},t)}var dE=v(80947),$1=v(82350),j1=v(79351),V1=v(8749),pE=v(29176),mE=v(34287),hE=v(52314),Np=v(81125),B1=v(28971),G1=v(35086),z1=v(22745),q1=v(34100),_p=v(24295),cc=v(26463),fE=v(143),uc=v(86199),dc=v(54799),yE=v(6152),xp=v(16997),gE=v(39994),AE=v(80377),EE=v(94304),bE=v(56304),vE=v(12576),pc=v(74561),SE=v(80294),TE=v(83519),K1=v(95196),W1=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const Os=t=>(0,sa.qg)(t).accountId,Oo=()=>W1(void 0,null,function*(){return yield Gt.getAccountId()});var ha=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const Pe=class{static get longLivedFeatureFlags(){if(this.LONG_LIVED_FEATURE_FLAGS)return this.LONG_LIVED_FEATURE_FLAGS;const n=Gt.getCustomContext("longLivedFeatureFlags");return this.LONG_LIVED_FEATURE_FLAGS=JSON.parse(n),this.LONG_LIVED_FEATURE_FLAGS}};Pe.LONG_LIVED_FEATURE_FLAGS=null,Pe.DISABLE_SPECIFIC_CACHE_INSTANCE_TYPE="disable-specific-cache-instance-type",Pe.CUSTOM_DOMAIN_ACCESS_FLAG="custom-domain-access",Pe.WAF_FLAG="waf",Pe.ENABLE_NEW_APPSYNC_UTILS_SUPPORT="enable-new-appsync-utils-support",Pe.RDS="rds",Pe.EVENT_API="event-api",Pe.ENHANCED_LOGGING="enhanced-logging",Pe.OPERATION_LEVEL_CACHING="operation-level-caching",Pe.BEDROCK_RUNTIME_DATA_SOURCE="bedrock-runtime-data-source",Pe.isEnabledSync=t=>{var n;return!!((n=Pe.longLivedFeatureFlags)!=null&&n[t])},Pe.isEnabled=t=>ha(Pe,null,function*(){if(t in Pe.longLivedFeatureFlags)return Pe.isEnabledSync(t);const n=xe.getFMSClient(),a=yield Oo(),o=mt();return n.evaluateFeature({visitorId:a,evaluationContext:{accountId:a,region:o},featureId:t})}),Pe.isSpecificCacheInstanceTypeDisabled=()=>ha(Pe,null,function*(){return!Pe.isEnabled(Pe.DISABLE_SPECIFIC_CACHE_INSTANCE_TYPE)}),Pe.areCustomDomainsEnabled=()=>ha(Pe,null,function*(){return Pe.isEnabled(Pe.CUSTOM_DOMAIN_ACCESS_FLAG)}),Pe.isWAFEnabled=()=>Pe.isEnabledSync(Pe.WAF_FLAG),Pe.isNewUtilsSupportEnabled=()=>ha(Pe,null,function*(){return Pe.isEnabled(Pe.ENABLE_NEW_APPSYNC_UTILS_SUPPORT)}),Pe.isRDSEnabled=()=>ha(Pe,null,function*(){return Pe.isEnabled(Pe.RDS)}),Pe.isEventApiEnabled=()=>ha(Pe,null,function*(){return Pe.isEnabled(Pe.EVENT_API)}),Pe.isEnhancedLoggingEnabled=()=>ha(Pe,null,function*(){return Pe.isEnabled(Pe.ENHANCED_LOGGING)}),Pe.isOperationLevelCachingEnabled=()=>ha(Pe,null,function*(){return Pe.isEnabled(Pe.OPERATION_LEVEL_CACHING)}),Pe.isBedrockRuntimeDataSourceEnabled=()=>ha(Pe,null,function*(){return Pe.isEnabled(Pe.BEDROCK_RUNTIME_DATA_SOURCE)});let Bt=Pe;var H1=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const Gt=ca.V8.getInstance(),ut=ca.lq.getInstance(),At=ca.xQ.getInstance().getTangerineBoxCredentials(),IE=Gt.getCustomContext("stage").toLowerCase(),Tt=Gt.getCustomContext("region"),CE=IE==="prod",RE=IE==="preprod",wE=t=>t===br?"cn-north-1":"us-east-1";class xe{static getCredentials(){return H1(this,null,function*(){return this.credentials?this.credentials:(this.credentials=yield At(),this.credentials)})}static getAppSyncClient(n){if(!n||n===Tt){if(!this.appsync){const s={credentials:At,region:Tt};!CE&&!RE&&(s.endpoint=Gt.getCustomContext("controlPlaneEndpoint")),this.appsync=new pc.M(s),ut.emitAwsSdkMetrics(this.appsync)}return this.appsync}const a={credentials:At,region:n};!CE&&!RE&&(a.endpoint=Gt.getCustomContext("controlPlaneEndpoint"));const o=new pc.M(a);return ut.emitAwsSdkMetrics(o),o}static getWafClient(n){if(!Bt.isWAFEnabled())return null;if(typeof n>"u"||n===Tt)return this.wafv2||(this.wafv2=new cc.m({credentials:At,region:Tt}),ut.emitAwsSdkMetrics(this.wafv2)),this.wafv2;const a=new cc.m({credentials:At,region:n});return ut.emitAwsSdkMetrics(a),a}static getDynamodbClient(n){if(typeof n>"u"||n===Tt)return this.dynamodb||(this.dynamodb=new fE.M({credentials:At,region:Tt}),ut.emitAwsSdkMetrics(this.dynamodb)),this.dynamodb;const a=new fE.M({credentials:At,region:n});return ut.emitAwsSdkMetrics(a),a}static getEventBridgeClient(n){if(typeof n>"u"||n===Tt)return this.eventBridge||(this.eventBridge=new EE.L({credentials:At,region:Tt}),ut.emitAwsSdkMetrics(this.eventBridge)),this.eventBridge;const a=new EE.L({credentials:At,region:n});return ut.emitAwsSdkMetrics(a),a}static getLambdaClient(n){if(typeof n>"u"||n===Tt)return this.lambda||(this.lambda=new uc.N({credentials:At,region:Tt}),ut.emitAwsSdkMetrics(this.lambda)),this.lambda;const a=new uc.N({credentials:At,region:n});return ut.emitAwsSdkMetrics(a),a}static getAcmClient(n){if(typeof n>"u"||n===Tt)return this.acm||(this.acm=new yE.B({credentials:At,region:Tt}),ut.emitAwsSdkMetrics(this.acm)),this.acm;const a=new yE.B({credentials:At,region:n});return ut.emitAwsSdkMetrics(a),a}static getIamClient(n){if(typeof n>"u"||n===Tt)return this.iam||(this.iam=new xp.h({credentials:At,region:Tt}),ut.emitAwsSdkMetrics(this.iam)),this.iam;const a=new xp.h({credentials:At,region:n});return ut.emitAwsSdkMetrics(a),a}static getElasticsearchClient(n){if(typeof n>"u"||n===Tt)return this.elasticsearch||(this.elasticsearch=new AE.U({credentials:At,region:Tt}),ut.emitAwsSdkMetrics(this.elasticsearch)),this.elasticsearch;const a=new AE.U({credentials:At,region:n});return ut.emitAwsSdkMetrics(a),a}static getRdsClient(n){if(typeof n>"u"||n===Tt)return this.rds||(this.rds=new gE.r({credentials:At,region:Tt}),ut.emitAwsSdkMetrics(this.rds)),this.rds;const a=new gE.r({credentials:At,region:n});return ut.emitAwsSdkMetrics(a),a}static getSecretsManagerClient(n){if(typeof n>"u"||n===Tt)return this.secretsManager||(this.secretsManager=new bE._({credentials:At,region:Tt}),ut.emitAwsSdkMetrics(this.secretsManager)),this.secretsManager;const a=new bE._({credentials:At,region:n});return ut.emitAwsSdkMetrics(a),a}static getCognitoIDPClient(n){if(typeof n>"u"||n===Tt)return this.cognitoIDP||(this.cognitoIDP=new dc.k({credentials:At,region:Tt}),ut.emitAwsSdkMetrics(this.cognitoIDP)),this.cognitoIDP;const a=new dc.k({credentials:At,region:n});return ut.emitAwsSdkMetrics(a),a}static getCloudWatchLogsClient(n){if(typeof n>"u"||n===Tt)return this.cloudWatchLogs||(this.cloudWatchLogs=new vE.T({credentials:At,region:Tt}),ut.emitAwsSdkMetrics(this.cloudWatchLogs)),this.cloudWatchLogs;const a=new vE.T({credentials:At,region:n});return ut.emitAwsSdkMetrics(a),a}static getUserPreferencesClient(n){if(typeof n>"u"||n===Tt)return this.userPreferences||(this.userPreferences=new SE.a({credentials:At,endpoint:Gt.getCustomContext("upsEndpoint"),region:Tt}),ut.emitAwsSdkMetrics(this.userPreferences)),this.userPreferences;const a=new SE.a({credentials:At,endpoint:Gt.getCustomContext("upsEndpoint"),region:n});return ut.emitAwsSdkMetrics(a),a}static getIAMAdminClient(n){if(typeof n>"u"||n===Tt)return this.iamAdmin||(this.iamAdmin=new TE.g({credentials:At,endpoint:Gt.getCustomContext("iamadminEndpoint"),region:wE(rn())}),ut.emitAwsSdkMetrics(this.iamAdmin)),this.iamAdmin;const a=new TE.g({credentials:At,endpoint:Gt.getCustomContext("iamadminEndpoint"),region:wE(rn())});return ut.emitAwsSdkMetrics(a),a}static getFMSClient(){if(this.fmsClient)return this.fmsClient;const n=mt(),a=Gt.getCustomContext("fmsProjectId");return this.fmsClient=new K1.Features({region:n,projectId:a}),this.fmsClient}}var Ui=(t=>(t.ALPHA="alpha",t.BETA="beta",t.GAMMA="gamma",t.PROD="prod",t))(Ui||{});function Ds(){const t=Gt.getCustomContext("stage").toLowerCase();if(!Object.values(Ui).includes(t))throw new Error(`Unexpected value for TangerineBox custom context stage '${t}'`);return t==="alpha"?"beta":t}const PE=-1,OE=t=>t?t.map(({location:n,value:a})=>({row:n.line+PE,column:n.column+PE,text:a,type:"error"})):[],mc=t=>{var n,a;switch(t?.reason){case oe.rL.CODE_ERROR:{const o=(a=(n=t?.detail)==null?void 0:n.codeErrors)!=null?a:[];return OE(o)}default:return}};var DE=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const zn=jE(Ds(),mt()),qn="appsync",Lp=12,NE=20,kp=6,Mp=6,Fp=6,_E=`${qn}.amazonaws.com`,xE="deepdish.aws.internal",Do="Allows the AWS AppSync service to access your data source.",J1=_.DYNAMODB,Y1=_.ELASTIC_SEARCH,Q1=_.OPEN_SEARCH,LE=_.LAMBDA,kE=_.EVENT_BRIDGE,ME=_.RDS,FE="AMAZON_CLOUDWATCH_LOGS",X1="appsync_datasource_ddbtable",Z1=2,eV="appsync_datasource_ddbtable_beta_gamma",tV=1,nV=1,rV=`${qn}-ds-ddb-`,aV=`${qn}-ds-ddb-`,iV="appsync_datasource_escluster",oV=1,sV="appsync_datasource_escluster_beta_gamma",lV=1,cV=1,uV=`${qn}-ds-es-`,dV=`${qn}-ds-es-`,pV="appsync_datasource_rds_and_secretsmanager",mV=3,hV="appsync_datasource_rds_and_secretsmanager_beta_gamma",fV=1,yV=`${qn}-ds-rds-`,gV=`${qn}-ds-rds-`,AV="appsync_datasource_lambdafunction",EV=1,bV="appsync_datasource_lambdafunction_beta_gamma",vV=1,SV=1,TV=`${qn}-ds-lam-`,IV=`${qn}-ds-lam-`,CV="appsync_datasource_eventbridge",RV=1,wV="appsync_datasource_eventbridge_beta_gamma",PV=1,OV=1,UE=`${qn}-ds-eb-`,DV="appsync_endpoint_logs",NV=1,_V="appsync_endpoint_logs_beta_gamma",xV=1,LV=2,kV=`${qn}-graphqlapi-logs-`,MV=`${qn}-graphqlapi-logs-`,$E=t=>DE(void 0,[t],function*({apiId:n,region:a,resourceType:o,resourceName:s,secondaryResourceName:c}){const u=mt(),p=yield Oo(),h=rn();if(p)if(u)if(o){if(o!==FE)if(s){if(!n)throw new Error("API ID cannot be blank")}else throw new Error("Resource name cannot be blank")}else throw new Error("Resource type cannot be blank.");else throw new Error("Region cannot be blank.");else throw new Error("Account ID cannot be blank.");if(h===br&&o===_.RDS)throw new Error("RDS is not in china.");if(LE===o||kE===o){const E=s.split(/[/:]/);if(E.length>kp&&!hc(E[kp]))s=E[kp];else throw new Error(`Invalid arn: ${s}`)}else if(ME===o){const E=s.split(":");if(E.length>Mp&&!hc(E[Mp])){s=E[Mp];const b=c.split(":");if(b.length>Fp&&!hc(b[Fp]))c=b[Fp];else throw new Error(`Invalid secret arn: ${c}`)}else throw new Error(`Invalid RDS cluster arn: ${s}`)}let f;hc(s)?f=Ao(Lp):s.includes("https://")?f=`${Ao(Lp)}-${s.substring(8,NE+8)}`:f=`${Ao(Lp)}-${s.substring(0,NE)}`;const y={region:a||u,accountId:p},g=zn?xE:_E;let A;if(Y1===o||Q1===o)return A=uV+f,y.domainName=s,{ServicePrincipalName:g,RoleName:A,TemplateName:zn?sV:iV,Description:Do,TemplateVersion:jV(),PolicyName:dV+f,PermissionsPolicySingleValueReplacements:y};if(J1===o)return A=rV+f,y.tableName=s,{ServicePrincipalName:g,RoleName:A,TemplateName:zn?eV:X1,Description:Do,TemplateVersion:FV(),PolicyName:aV+f,PermissionsPolicySingleValueReplacements:y};if(LE===o)return A=TV+f,y.functionName=s,{ServicePrincipalName:g,RoleName:A,TemplateName:zn?bV:AV,Description:Do,TemplateVersion:UV(),PolicyName:IV+f,PermissionsPolicySingleValueReplacements:y};if(kE===o)return A=UE+f,y.eventBusName=s,{ServicePrincipalName:g,RoleName:A,TemplateName:zn?wV:CV,Description:Do,TemplateVersion:$V(),PolicyName:UE+f,PermissionsPolicySingleValueReplacements:y};if(ME===o)return A=yV+f,y.clusterIdentifier=s,y.secretIdentifier=c,{ServicePrincipalName:g,RoleName:A,TemplateName:zn?hV:pV,Description:Do,TemplateVersion:VV(),PolicyName:gV+f,PermissionsPolicySingleValueReplacements:y};if(FE===o)return A=kV+u,{ServicePrincipalName:g,RoleName:A,TemplateName:zn?_V:DV,Description:Do,TemplateVersion:BV(),PolicyName:MV+u,PermissionsPolicySingleValueReplacements:y};throw new Error(`Unknown resource type: ${o}`)});function hc(t){return!t||/^\s*$/.test(t)}function jE(t,n){return!(t===Ui.PROD||t===Ui.GAMMA&&n==="cn-north-1")}const FV=()=>zn?tV:rn()===br?nV:Z1,UV=()=>zn?vV:rn()===br?SV:EV,$V=()=>zn?PV:rn()===br?OV:RV,jV=()=>zn?lV:rn()===br?cV:oV,VV=()=>zn?fV:mV,BV=()=>zn?xV:rn()===br?LV:NV,VE=t=>DE(void 0,null,function*(){return`arn:${rn()}:iam::${yield Oo()}:role/service-role/${t}`});var GV=Object.defineProperty,zV=Object.defineProperties,qV=Object.getOwnPropertyDescriptors,BE=Object.getOwnPropertySymbols,KV=Object.prototype.hasOwnProperty,WV=Object.prototype.propertyIsEnumerable,GE=(t,n,a)=>n in t?GV(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,zE=(t,n)=>{for(var a in n||(n={}))KV.call(n,a)&&GE(t,a,n[a]);if(BE)for(var a of BE(n))WV.call(n,a)&&GE(t,a,n[a]);return t},HV=(t,n)=>zV(t,qV(n)),Mt=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const Up=mt(),qE="WAITING",KE=Ds()===Ui.PROD||Ds()===Ui.GAMMA&&Up==="cn-north-1"?Iy.SERVICE_PRINCIPAL:Iy.BETA_SERVICE_PRINCIPAL,WE=xe.getDynamodbClient(Up),Ha=xe.getAppSyncClient();function fc(t){return Mt(this,null,function*(){const n=xe.getIAMAdminClient(),a=yield $E(t.getCreateRoleParams());try{const o=yield n.send(new _p.F(a));return Bv(t,o)}catch(o){if(o?.code==="EntityAlreadyExistsException")return Bv(t,yield VE(a.RoleName));throw o}})}function JV(t){return Mt(this,null,function*(){const n=yield Ha.send(new pE.e(t));return ji(n.resolver,t.apiId)})}function YV(t){return Mt(this,null,function*(){const n=yield Ha.send(new mE.L(t));return ji(n.resolver,t.apiId)})}function QV(t){return Mt(this,null,function*(){const n=yield Ha.send(new hE.Y(t));return Gs(n.functionConfiguration,t.apiId)})}function XV(t,n,a){return Mt(this,null,function*(){var o,s,c,u,p;try{const h={FunctionName:n},f=yield t.send(new j1.s(h));if(f.Policy){const y=(s=(o=JSON.parse(f.Policy))==null?void 0:o.Statement)!=null?s:[];for(const g of y){const A=((c=g.Principal)==null?void 0:c.Service)===KE,E=((p=(u=g.Condition)==null?void 0:u.ArnLike)==null?void 0:p["AWS:SourceArn"])===a;if(A&&E)return!0}}}catch{}return!1})}function ZV(t,n){return Mt(this,null,function*(){const a=Ur(t),o=xe.getLambdaClient(a);if(!(yield XV(o,t,n.arn))){const c=new V1.A({Action:"lambda:InvokeFunction",FunctionName:t,Principal:KE,StatementId:`appsync_${n.apiId}`,SourceArn:n.arn});yield o.send(c)}})}function eB(t){return Mt(this,null,function*(){const n=yield Ha.send(new Np.L(t));return Fs(n.dataSource,t.apiId)})}function tB(t){return Mt(this,null,function*(){let n=t;if(!n.serviceRoleArn&&n.type!==_.NONE){let o;if(t.dynamodbConfig){const c=t.dynamodbConfig;o=new Za({apiId:t.apiId,region:c.awsRegion,resourceName:c.tableName,secondaryResourceName:"",resourceType:_.DYNAMODB})}else if(t.relationalDatabaseConfig){const c=t.relationalDatabaseConfig.rdsHttpEndpointConfig;o=new Za({apiId:t.apiId,region:c.awsRegion,resourceName:c.dbClusterIdentifier,secondaryResourceName:c.awsSecretStoreArn,resourceType:_.RDS})}else throw new Error("We can only create roles for DYNAMODB and RDS data sources.");const s=yield fc(o);n=HV(zE({},t),{serviceRoleArn:s.roleArn})}return yield eB(n)})}function nB(t){return Mt(this,null,function*(){return yield Ha.send(new B1.G(t))})}function rB(t){return Mt(this,null,function*(){return Ha.send(new G1.m({apiId:t}))})}function aB(t){return Mt(this,null,function*(){const n=yield rB(t);if(n.status==="SUCCESS")return!0;throw n.status==="FAILED"?new Error(n.details):new Error(qE)})}function iB(t){return Mt(this,null,function*(){return yield nB(t),yield new Cd({key:"Waiting",handler:()=>aB(t.apiId),retrier:new Rd(1e3,a=>a,100,a=>a.message===qE)}).execute(null),new TextDecoder("utf-8").decode(t.definition)})}function HE(t){return Mt(this,arguments,function*(n,a=Up){return yield xe.getDynamodbClient(a).send(new dE.h(n))})}function JE(t){return Mt(this,null,function*(){if(t.TableDescription&&t.TableDescription.TableName){const n=yield WE.send(new dE.h({TableName:t.TableDescription.TableName}));if(n.Table&&n.Table.TableStatus==="ACTIVE")return n;throw new Error("Table creation in progress")}else throw new Error("No TableName provided to describe")})}function tbe(t){return Mt(this,null,function*(){return yield Promise.all(t.map(a=>JE(a)))})}function YE(t){return Mt(this,null,function*(){return yield WE.send(new $1.I(t))})}function oB(t){return Mt(this,null,function*(){const n=yield YE(t);return yield new Cd({key:"Waiting",handler:()=>JE(n),retrier:new Rd(1e3,o=>o,100)}).execute(null),new Em({tableDescription:n.TableDescription})})}function nbe(t){return Mt(this,null,function*(){return yield Promise.all(t.map(a=>YE(a)))})}var $p=(t=>(t.RESPONSE="response",t.REQUEST="request",t))($p||{});const sB=t=>Mt(void 0,null,function*(){return Ha.send(new z1.V({template:t.mappingTemplate,context:t.context}))}),lB=t=>Mt(void 0,null,function*(){var n,a,o;return Ha.send(new q1.s({runtime:(n=t.runtimeFields)==null?void 0:n.runtime.toJS(),code:(a=t.runtimeFields)==null?void 0:a.code,function:(o=t.runtimeFields)==null?void 0:o.function,context:t.context}))});function QE(t){return Mt(this,null,function*(){var n;try{const a=(n=t.runtimeFields)==null?void 0:n.code,s=yield(a?lB:sB)(t);let c=!1,u="",p=null;if(s.error){if(c=!0,u=s.error.message,a){const h=s.error;h.codeErrors&&(p=OE(h.codeErrors))}}else if(s.evaluationResult){const h=s.evaluationResult;try{u=JSON.stringify(JSON.parse(h),null,2)}catch{u=h}}return zE({error:c,message:u},p?{codeErrors:p}:{})}catch(a){return a.message?{error:!0,message:`SDK Error trying to evaluate mapping template. '${a.message}'`}:{error:!0,message:"Unspecified Error"}}})}const XE=t=>{const{input:n,onSuccess:a,onError:o}=t,s=a||(()=>[]),c=o||(()=>[]);return uE({handler:()=>iB(n),fireOnEnter:()=>[],fireOnSuccess:u=>{const p=(0,T.List)(xg(u).map(h=>h.merge({apiId:n.apiId})));return[Gr({text:u,hasEdits:!1,lastSavedText:u,typeRecords:p}),ep(N.TYPE)({paginateRecord:new ke({items:p.map(h=>h.getKey())}),paginationKey:{apiId:n.apiId,versionId:"v1"}}),v$(N.TYPE)({entities:p.toArray()}),...s(u)]},fireOnError:u=>(at.logOperationalError(Ge.SCHEMA_SAVE_ERROR,{name:Ge.SCHEMA_SAVE_ERROR,message:u.message}),[...c(u)])})},jp=({onSuccess:t,onError:n,entityType:a,handler:o})=>{const s=t||(()=>[]),c=n||(()=>[]);return uE({handler:o,fireOnEnter:()=>[],fireOnSuccess:u=>[ic(a)({entity:u}),...s(u)],fireOnError:u=>[dA(a)({errors:[u]}),...c(u)]})},ZE=({input:t,onSuccess:n,onError:a})=>jp({entityType:N.DATA_SOURCE,onSuccess:o=>[Ro(N.DATA_SOURCE)({paginateRecord:new ke({items:(0,T.OrderedSet)([o.getKey()])}),paginationKey:{apiId:t.apiId,versionId:"v1"}}),...n?n(o):[]],onError:a,handler:()=>tB(t)}),eb=({input:t,onSuccess:n,onError:a})=>jp({entityType:N.DYNAMODB_TABLE,onSuccess:n,onError:a,handler:()=>oB(t)}),tb=({input:t,onSuccess:n,onError:a})=>jp({entityType:N.RESOLVER,onSuccess:o=>[Ro(N.RESOLVER)({paginateRecord:new ke({items:(0,T.OrderedSet)([o.getKey()])}),paginationKey:{apiId:t.apiId,versionId:"v1",typeName:o.typeName}}),...n?n(o):[]],onError:a,handler:()=>JV(t)});var cB=Object.defineProperty,uB=Object.defineProperties,dB=Object.getOwnPropertyDescriptors,nb=Object.getOwnPropertySymbols,pB=Object.prototype.hasOwnProperty,mB=Object.prototype.propertyIsEnumerable,rb=(t,n,a)=>n in t?cB(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Vp=(t,n)=>{for(var a in n||(n={}))pB.call(n,a)&&rb(t,a,n[a]);if(nb)for(var a of nb(n))mB.call(n,a)&&rb(t,a,n[a]);return t},Bp=(t,n)=>uB(t,dB(n));function hB(t){return t&&t.name&&t.name.value?t.name.value:null}function fB(t,n){const o=t.reduce((c,u)=>[...c,...u.definitions],[]).reduce((c,u)=>{const p=hB(u);return p?Bp(Vp({},c),{[p]:!0}):c},{}),s=n.definitions.map(c=>c.kind==="TypeExtensionDefinition"&&!o[c.definition.name.value]?Bp(Vp({},c.definition),{kind:"ObjectTypeDefinition"}):c);return __([...t,Bp(Vp({},n),{definitions:s})],{typeCollisionHandler:L_,fieldCollisionHandler:x_})}var fa=v(7030),yB=Object.defineProperty,gB=Object.defineProperties,AB=Object.getOwnPropertyDescriptors,ab=Object.getOwnPropertySymbols,EB=Object.prototype.hasOwnProperty,bB=Object.prototype.propertyIsEnumerable,ib=(t,n,a)=>n in t?yB(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,vB=(t,n)=>{for(var a in n||(n={}))EB.call(n,a)&&ib(t,a,n[a]);if(ab)for(var a of ab(n))bB.call(n,a)&&ib(t,a,n[a]);return t},SB=(t,n)=>gB(t,AB(n));const TB=Object.keys(Td).map(t=>`scalar ${t}`).join(`
`),IB=(0,dt.parse)(TB).definitions;function Ns(t){const n=CB(t.definitions),a=RB(IB,n);return SB(vB({},t),{definitions:[...t.definitions,...a]})}function CB(t){return t.reduce((n,a)=>(a.kind===fa.SCALAR_TYPE_DEFINITION&&a.name.value in Td&&n.push(a.name.value),n),[])}function RB(t,n){return t.filter(a=>!(a.kind===Q.Kind.SCALAR_TYPE_DEFINITION&&n.includes(a.name.value)))}function wB(t){let n,a,o,s;for(const c of t.definitions)c.kind==="SchemaDefinition"&&(n=c),c.kind==="ObjectTypeDefinition"&&(c.name&&c.name.value==="Query"&&(a=c),c.name&&c.name.value==="Mutation"&&(o=c),c.name&&c.name.value==="Subscription"&&(s=c));if(n){let c,u,p;for(const h of n.operationTypes)h.operation==="query"&&(c=!0),h.operation==="mutation"&&(u=!0),h.operation==="subscription"&&(p=!0);a&&!c&&n.operationTypes.push({kind:"OperationTypeDefinition",operation:"query",type:{kind:"NamedType",name:{kind:"Name",value:"Query"}}}),o&&!u&&n.operationTypes.push({kind:"OperationTypeDefinition",operation:"mutation",type:{kind:"NamedType",name:{kind:"Name",value:"Mutation"}}}),s&&!p&&n.operationTypes.push({kind:"OperationTypeDefinition",operation:"subscription",type:{kind:"NamedType",name:{kind:"Name",value:"Subscription"}}})}}const PB=({existingSchema:t,typeDefinition:n,newSchema:a})=>{const o=n?[n]:[],s=[{kind:Q.Kind.DOCUMENT,definitions:o}];t&&s.push((0,Q.parse)(t));const c=(0,Q.parse)(a),u=fB(s,c);return(0,Q.buildASTSchema)(Ns(u)),wB(u),(0,Q.print)(u)},Ja=t=>({apiId:t.apiId,workFlowStatus:new _q({info:t.info,status:t.status,description:t.description}),type:D.UPDATE_WORKFLOW_STATUS});var OB=Object.defineProperty,ob=Object.getOwnPropertySymbols,DB=Object.prototype.hasOwnProperty,NB=Object.prototype.propertyIsEnumerable,sb=(t,n,a)=>n in t?OB(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,_B=(t,n)=>{for(var a in n||(n={}))DB.call(n,a)&&sb(t,a,n[a]);if(ob)for(var a of ob(n))NB.call(n,a)&&sb(t,a,n[a]);return t};function Gp(t){return _B({type:D.DELAYED_DISPATCH},t)}var xB=Object.defineProperty,lb=Object.getOwnPropertySymbols,LB=Object.prototype.hasOwnProperty,kB=Object.prototype.propertyIsEnumerable,cb=(t,n,a)=>n in t?xB(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,zp=(t,n)=>{for(var a in n||(n={}))LB.call(n,a)&&cb(t,a,n[a]);if(lb)for(var a of lb(n))kB.call(n,a)&&cb(t,a,n[a]);return t};const qp=new TextEncoder,Kp=({adapter:t,typeDefinition:n,localSchema:a,dynamoTable:o,createTable:s,runtime:c})=>{const u=s&&o?[o.getCreateTableInput()]:[],p=t.getCreateDataSourceRequests(),h={createTableInputs:u,createDataSourceRequests:p,putSchemaRequest:{apiId:t.apiId,definition:qp.encode("")},createResolverRequests:[]},f=!o||o.SelectedTypeSource!==Vi.USE_EXISTING;if(o&&!o.EnableGenerateGraphQL){let b=a.lastSavedText;return f&&(b+=`

${(0,Q.print)(n)}`),h.putSchemaRequest.definition=qp.encode(b),h}const y=t.getSDL(),g=a?.lastSavedText,A=f?n:void 0;h.putSchemaRequest.definition=qp.encode(PB({existingSchema:g,typeDefinition:A,newSchema:y}));const E=c??le.APPSYNC_JS;return h.createResolverRequests=t.getResolverInputs(E),h},MB=t=>{const n=(0,l.Ay)`Please do not refresh the page...`,a=t.autoClose===!1,o=t.successMessage?t.successMessage:(0,l.Ay)`Resource creation complete`,{apiId:s}=t.putSchemaRequest,c=P=>[Ja({apiId:s,info:P.message,status:H.ERRORED})],u=P=>Ja({apiId:s,info:P,status:H.CREATING}),h=[Ja({apiId:s,info:o,status:H.CREATE_SUCCESS})],f=Gp({duration:4e3,actions:[Ja({apiId:s,info:"",status:H.NONE})]});let y=null;for(const P of t.createResolverRequests){let F=null;if(y){const x=zp({},y);F=tb({input:P,onSuccess:()=>[x],onError:c})}else F=tb({input:P,onSuccess:()=>a?h:[...h,f],onError:c});y=F}const g=a?h:[...h,f],A=y?[u((0,l.Ay)`Creating resolvers. ${n}`),y]:g;let E=null;for(const P of t.createDataSourceRequests){let F=null;if(E){const x=zp({},E);F=ZE({input:P,onSuccess:()=>[x],onError:c})}else F=ZE({input:P,onSuccess:()=>A,onError:c});E=F}const b=E?[E]:[],C=XE({input:t.putSchemaRequest,onSuccess:()=>[...b,u((0,l.Ay)`Creating data sources. ${n}`)],onError:c});let I=null;for(const P of t.createTableInputs){let F=null;if(I){const x=zp({},I);F=eb({input:P,onSuccess:()=>[x],onError:c})}else F=eb({input:P,onSuccess:()=>[C,u((0,l.Ay)`Updating the schema. ${n}`)],onError:c});I=F}const R=I?[I]:[C],L=u(I?(0,l.Ay)`Creating DynamoDB tables. ${n}`:(0,l.Ay)`Creating resources. ${n}`);return[...R,L]};function FB({resolver:t,runtime:n}){return{type:D.CONVERT_RESOLVER_TO_PIPELINE,resolver:t,runtime:n}}function UB(t,n){return{type:D.CREATE_NEW_MERGED_API,newMergedGraphqlApi:t,navigate:n}}function ub(t,n,a){return{type:D.START_MANUAL_MERGE,sourceApiAssociation:t,sourceApi:n,mergedApi:a}}function $B(t){return{type:D.GET_SCHEMA_BY_ASSOCIATION,associationId:t}}function No({name:t,value:n,apiId:a,displayAlert:o,local:s}){return{type:D.SET_USER_PREFERENCE,name:t,value:n,apiId:a,displayAlert:!!o,local:!!s}}function db(t,n,a){return{type:D.SET_USER_PREFERENCE_SUCCESS,name:t,value:n,apiId:a}}function jB(t,n){return{type:D.SET_USER_PREFERENCE_FAILURE,name:t,error:n}}function pb(t){return{type:D.GET_USER_PREFERENCE,name:t}}function VB(t,n){return{type:D.GET_USER_PREFERENCE_SUCCESS,name:t,value:n}}function BB(t,n){return{type:D.GET_USER_PREFERENCE_FAILURE,name:t,error:n}}function GB(t,n){return{type:D.GET_COGNITO_SESSION,userPoolId:t,appIdClientRegex:n}}function zB(t){return{errors:t.errors,entityType:N.COGNITO_SESSION,type:D.GET_COGNITO_SESSION_FAILURE}}function $i(t){return{type:D.ADD_ALERT,statusRecord:t}}function qB(){return{type:D.REMOVE_ALERT}}const KB=()=>({type:D.INIT});function dn(){return ne(t=>t.environment.selectedApiId)}function Wp(){const t=de(),n=dn(),a=ne(o=>o.entities.get(zs.getKey(n)));return a||t(up({entity:new zs({apiId:n})})),a}function yc(){const t=dn(),[n,a]=ne(u=>{var p,h;const f=u.pagination.apiKeysByGraphqlApi.get(t),y=(h=(p=f?.items)==null?void 0:p.map(g=>u.entities.get(g)).toArray())!=null?h:[];return[f,y]}),o=ne(u=>u.errors.apiKeys.toArray()),s=de();return(0,i.useEffect)(()=>{n||s(UA({paginateRecord:new ke,paginationKey:{apiId:t}}))},[t]),[!!n?.isLoading,a,o]}function WB(t,n){const a=n?t.pagination.sharedGraphqlApis:t.pagination.apis;return a.isLoading?[a,[]]:[a,a.items.map(o=>t.entities.get(o)).toArray()]}function Hp(t=!1){const[n,a]=ne(h=>WB(h,t)),[o,s]=(0,i.useState)(),c=()=>{s(a)};return(0,i.useEffect)(()=>{n.isLoading||n.nextToken?s(void 0):c()},[n.isLoading,a.length]),[!o,o??[],c]}function mb(t){return ne(n=>n.workflows.get(t))}function hb(){return ne(t=>t.environment.selectedVersionId)}function qr(){const t=dn(),n=hb(),a=de(),[o,s]=ne(u=>{const p=u.pagination.dataSourcesByGraphqlApiVersion.get(ce(t,n)),h=p?.items.toArray().map(f=>u.entities.get(f))||[];return[p,h]});return(0,i.useEffect)(()=>{o||a(wA({paginationKey:{apiId:t,versionId:n},paginateRecord:new ke}))},[t,n]),[!!o?.isLoading,s]}function HB(t){return ne(n=>{var a;return(a=n.entities.get(t))==null?void 0:a.recordStatus})}function fb(){var t;const n=dn(),a=ne(c=>c.entities.get(Fo.getKey(n))),o=de();return(0,i.useEffect)(()=>{a||o(gj({entity:new Fo({apiId:n})}))},[n]),[vn((t=a?.recordStatus)==null?void 0:t.status),a]}var JB=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});function _n(t){const[n,a]=(0,i.useState)(),[o,s]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{JB(this,null,function*(){a(yield t()),s(!1)})},[]),{isLoading:o,result:n}}function gc(){return ne(n=>n.localSchema)}function YB(t){const n=ne(o=>o.flashbars);return(0,i.useMemo)(()=>n.filter(o=>o.shownWhen.includes(t)),[n])}function yb(t){const n=ne(f=>f.environment.selectedApiId),a=t||n,o=ne(f=>f.pagination.sourceApiAssociationsByGraphqlApi.get(a)),s=de(),[c,u]=(0,i.useState)(void 0);(0,i.useEffect)(()=>{o&&o.isLoading||(c||s(dp({paginationKey:{apiId:t},paginateRecord:new ke})),o&&o.items&&o.items.size?u(o.items.toArray()):u([]))},[o,t]);const p=c===void 0||o&&o.isLoading;return[p,p?[]:c]}function _o(){const[t,n]=yb(),a=ne(s=>s.entities),o=(0,i.useMemo)(()=>n?.length?n.map(s=>{const c=a.get(s),u=c?a.get(c.sourceApiId):null;return{sourceApiAssociation:c,sourceGraphqlApi:u}}):[],[n]);return[t,o]}function _s(t){const n=de(),a=ne(s=>s.view.promptOnNav.show),o=s=>{a&&(s.preventDefault(),s.returnValue="")};(0,i.useEffect)(()=>()=>{n(Br({show:!1}))},[]),(0,i.useEffect)(()=>(a&&window.addEventListener("beforeunload",o),()=>{window.removeEventListener("beforeunload",o)}),[a]),(0,i.useEffect)(()=>{!a&&t?n(Br({show:!0})):a&&!t&&n(Br({show:!1}))},[t])}function QB(t){return ne(n=>{if(t){const o=n.environment.selectedApiId===t.sourceApiId?t.mergedApiId:t.sourceApiId;return n.entities.get(o)}return null})}var pn=(t=>(t.COGNITO="cognito",t.DDB="ddb",t.EVENT_BRIDGE="eb",t.LAMBDA="lambda",t.OPEN_SEARCH="os",t.RDS="rds",t.SECRETS_MANAGER="secrets",t.IAM="iam",t))(pn||{});const XB=t=>({cognito:{paginationKey:"userPoolsByRegion",action:rE,pageSize:bn.COGNITO,requiresRegion:!0},ddb:{paginationKey:"dynamoDBTablesByRegion",action:_j,pageSize:bn.DYNAMODB,requiresRegion:!0},eb:{paginationKey:"eventBridgeBusesByRegion",action:_1,pageSize:bn.EVENT_BUS,requiresRegion:!0},lambda:{paginationKey:"lambdaFunctionsByRegion",action:WA,pageSize:bn.LAMBDA,requiresRegion:!0},os:{paginationKey:"elasticsearchClustersByRegion",action:Ij,pageSize:bn.ELASTIC_SEARCH,requiresRegion:!0},rds:{paginationKey:"rdsClustersByRegion",action:t1,pageSize:bn.RDS,requiresRegion:!0},secrets:{paginationKey:"secretsManagerSecretsByRegion",action:c1,pageSize:bn.SECRETS_MANAGER,requiresRegion:!0},iam:{paginationKey:"iamRoles",action:YA,pageSize:bn.IAM,requiresRegion:!1}})[t];function In(t,n){const a=XB(t),o=de(),s=ne(f=>{const y=f.pagination.get(a.paginationKey);return a.requiresRegion?y.get(n,new ke({pageSize:a.pageSize})):y}),[c,u]=(0,i.useState)();(0,i.useEffect)(()=>{var f,y,g;const A=!s,E=!!(((f=s?.items)==null?void 0:f.size)!==0||s?.lastUpdated),b=c!==((y=s?.items)==null?void 0:y.size);(a.requiresRegion&&!!n||!a.requiresRegion)&&(!E||A||b)&&(o(a.action({paginateRecord:s,paginationKey:n?{key:n}:s.nextToken,retrieveMore:b})),u((g=s?.items)==null?void 0:g.size))},[s,s?.isLoading,n]);const p=s?s.items.toArray():[];return[!!s?.isLoading,p]}function ZB(t){const n=ne(u=>u.environment),[a,o]=ne(u=>{var p,h;const f=u.pagination.resolversByGraphqlApiVersionType.get(ce(n.getApiVersionId(),t.typeConfig.name)),y=(h=(p=f?.items)==null?void 0:p.map(g=>u.entities.get(g)).filter(g=>!!g).toList())!=null?h:(0,T.List)();return[f,y]}),s=de();return(0,i.useEffect)(()=>{a||s(ej({paginationKey:{apiId:n.selectedApiId,versionId:n.selectedVersionId,typeName:t.typeConfig.name},paginateRecord:new ke}))},[t]),[!!a?.isLoading,o]}function eG(){return ne(n=>n.environment.selectedAdditionalAuth)}function tG(){return ne(n=>{const{selectedApiId:a,selectedApiKeyId:o}=n.environment;return n.entities.get(cr.getKey(a,o))})}function gb(t){const[n,a]=qr(),o=a.find(s=>s.name===t);return[n,o]}function St(){const t=dn();return ne(a=>a.entities.get(t))}function Ab(t){const[n,a]=yb(),o=ne(s=>{const c=a.find(u=>{const p=s.entities.get(u);return p&&p.associationId===t});return s.entities.get(c)});return[n,o]}function Eb(t){const n=de(),[a,o]=ne(s=>{const c=s.pagination.userPoolsByRegion.get(t);return c?c.isLoading?[c,[]]:[c,c.items.map(u=>s.entities.get(u)).toArray()]:[void 0,[]]});return(0,i.useEffect)(()=>{!t||a&&(a.isLoading||!a.isEmpty())||n(rE({paginateRecord:new ke({pageSize:bn.COGNITO}),paginationKey:{key:t}}))},[t,a,a?.isLoading]),[t&&(!a||a?.isLoading),o]}var nG=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});function rG(){const t="",[n,a]=(0,i.useState)(t),o=()=>nG(this,null,function*(){try{const s=yield FM();a(s)}catch(s){at.logOperationalError(Ge.GET_GLOBAL_CONSOLE_ENDPOINT_ERROR,s)}});return(0,i.useEffect)(()=>{o()},[]),n}var aG=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});function xs(t){const n="",[a,o]=(0,i.useState)(n),s=()=>aG(this,null,function*(){try{const c=yield kg(t);o(c)}catch(c){at.logOperationalError(Ge.GET_REGIONALIZED_CONSOLE_ENDPOINT_ERROR,c)}});return(0,i.useEffect)(()=>{s()},[]),a}function iG(){const{result:t}=_n(Bt.isRDSEnabled);return i.createElement("div",null,i.createElement("h4",null,(0,l.Ay)`GraphQL API vs. Merged API`),i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`GraphQL API`,": "),(0,l.Ay)`This is the most common starting point.`,"\xA0",(0,l.Ay)`A GraphQL API allows clients to send requests to retrieve the exact data they need from multiple data sources.`,"\xA0",(0,l.Ay)`You can build your API from scratch by writing your own schema.`,"\xA0",t&&(0,l.Ay)`Alternatively, use wizards to configure your API based on a DynamoDB table or a database in your Aurora cluster.`,"\xA0"),i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Merged API`,": "),(0,l.Ay)`A Merged API refers to a single GraphQL API that integrates multiple source GraphQL APIs, each representing distinct services or data sources.`,"\xA0",(0,l.Ay)`This structure facilitates seamless queries across a distributed system.`,"\xA0",(0,l.Ay)`One of its key benefits is permitting each sub-schema to evolve independently, managed by teams best acquainted with its specific data domain.`,"\xA0")))}function oG(){return i.createElement("div",null,i.createElement("h3",null,(0,l.Ay)`Learn more`," ",i.createElement("span",{role:"img","aria-label":(0,l.Ay)`Opens in a new tab`},i.createElement(Tn.A,{name:"external"}))),i.createElement("ul",null,i.createElement("li",null,i.createElement(ue.A,{href:"https://docs.aws.amazon.com/appsync/latest/devguide/what-is-appsync.html",target:"_blank"},(0,l.Ay)`What is AWS AppSync?`))))}const sG=()=>[(0,l.Ay)`Specify API type`,i.createElement(iG,{key:"help-panel-content"}),i.createElement(oG,{key:"help-panel-footer"})];function lG({hasImportTable:t}){const n=[(0,l.Ay)`Models are how you define the data types of your application and how they are stored in the cloud.`,(0,l.Ay)`A model contains one or more fields that hold the specific attributes of your data type.`,(0,l.Ay)`In AppSync, a model is an object type that is added to your API and is backed by Amazon DynamoDB.`,(0,l.Ay)`It's preconfigured with GraphQL queries, mutations, and subscriptions based on your DynamoDB import.`,(0,l.Ay)`JavaScript resolvers and functions run on the AppSync JavaScript (APPSYNC_JS) runtime.`,(0,l.Ay)`Alternatively, you can use the Velocity Template Language (VTL).`],a=[(0,l.Ay)`Provide information about the DynamoDB table that backs your type.`,(0,l.Ay)`Amazon DynamoDB requires a primary key to uniquely identify each entry.`,(0,l.Ay)`Sort keys are used as additional identifiers or groupings under a single primary key for better organization.`,(0,l.Ay)`Additional indexes are useful when you know that certain fields in your model will be queried frequently.`];return i.createElement("div",null,i.createElement("p",null,(0,l.Ay)`Configure a model that defines a type, associated operations, and a DynamoDB table as a data source.`),i.createElement("h4",null,(0,l.Ay)`Configure model information`),i.createElement("p",null,n.join(" ")),t&&i.createElement(i.Fragment,null,i.createElement("h4",null,(0,l.Ay)`Configure model table`),i.createElement("p",null,a.join(" "))))}function cG(){return i.createElement("div",null,i.createElement("h3",null,(0,l.Ay)`Learn more`," ",i.createElement("span",{role:"img","aria-label":(0,l.Ay)`Opens in a new tab`},i.createElement(Tn.A,{name:"external"}))),i.createElement("ul",null,i.createElement("li",null,i.createElement(ue.A,{href:"https://docs.aws.amazon.com/appsync/latest/devguide/provision-with-wizard.html",target:"_blank"},(0,l.Ay)`Guided schema wizard (optional) - AWS AppSync`))))}const uG=t=>[(0,l.Ay)`Specify GraphQL resources`,i.createElement(lG,{hasImportTable:t,key:"help-panel-content"}),i.createElement(cG,{key:"help-panel-footer"})];function dG(){return i.createElement(i.Fragment,null,(0,l.Ay)`You can set up an API either with just queries or with queries, mutations, and subscriptions.`,"\xA0",(0,l.Ay)`An API configured with only queries offers read-only access to your database tables.`,"\xA0",(0,l.Ay)`An API equipped with both mutations and subscriptions not only lets you modify data but also provides real-time notifications via subscriptions.`,"\xA0")}function pG(){return i.createElement("div",null,i.createElement("h3",null,(0,l.Ay)`Learn more`," ",i.createElement("span",{role:"img","aria-label":(0,l.Ay)`Opens in a new tab`},i.createElement(Tn.A,{name:"external"}))),i.createElement("ul",null,i.createElement("li",null,i.createElement(ue.A,{href:"https://docs.aws.amazon.com/appsync/latest/devguide/schema-components.html",target:"_blank"},(0,l.Ay)`Schemas`))))}const mG=()=>[(0,l.Ay)`Select configuration option`,i.createElement(dG,{key:"help-panel-content"}),i.createElement(pG,{key:"help-panel-footer"})];function hG(){return i.createElement("div",null,i.createElement("div",null,(0,l.Ay)`You can configure a database in your Aurora cluster as a data source and import its tables to construct a GraphQL API.`,"\xA0",(0,l.Ay)`AppSync identifies valid tables and generates types in your schema to represent these tables.`,"\xA0",(0,l.Ay)`For a table to be valid, it must have a primary key constraint to uniquely identify each record.`,"\xA0"),i.createElement("h4",null,(0,l.Ay)`Database and tables`),(0,l.Ay)`AppSync interacts with your database using your Aurora cluster's Data API.`,"\xA0",(0,l.Ay)`For configuration, select a cluster, provide the database name, and then select the secret from AWS Secrets Manager containing the database user's credentials.`,"\xA0",(0,l.Ay)`This user should possess the necessary privileges to read database and table configurations.`,"\xA0",(0,l.Ay)`Note that for PostgreSQL engines, only the “public” schema in the provided database is supported when discovering your tables.`,"\xA0",i.createElement("h4",null,(0,l.Ay)`Types added to your schema`),(0,l.Ay)`After discovering your tables, you have the option to include or exclude them from your schema.`,"\xA0",(0,l.Ay)`By default, types bear the same names as your tables, but renaming is possible.`,"\xA0",(0,l.Ay)`Ensure tables have a primary key constraint.`,"\xA0",i.createElement("h4",null,(0,l.Ay)`Service role`),(0,l.Ay)`For AppSync to communicate with your database, it needs a service role.`,"\xA0",(0,l.Ay)`You can let AppSync automatically create one based on the information provided, or you can supply an existing service role.`,"\xA0")}function fG(){return i.createElement("div",null,i.createElement("h3",null,(0,l.Ay)`Learn more`," ",i.createElement("span",{role:"img","aria-label":(0,l.Ay)`Opens in a new tab`},i.createElement(Tn.A,{name:"external"}))),i.createElement("ul",null,i.createElement("li",null,i.createElement(ue.A,{href:"https://docs.aws.amazon.com/appsync/latest/devguide/relational-databases.html",target:"_blank"},(0,l.Ay)`Relational databases`)),i.createElement("li",null,i.createElement(ue.A,{href:"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/data-api.html",target:"_blank"},(0,l.Ay)`Using the Data API`))))}const yG=()=>[(0,l.Ay)`Select database tables`,i.createElement(hG,{key:"help-panel-content"}),i.createElement(fG,{key:"help-panel-footer"})];function gG(){return i.createElement(It.A,null,i.createElement("h2",null,(0,l.Ay)`Merged API Configuration`),i.createElement("p",null,(0,l.Ay)`Configuration of your Merged API is shared between the Merged API owner and the associated Source API owners. Source API owners configure the schemas, resolvers, and datasources that make up your Merged API. Configuration of the Merged APIs authorization logic and advanced settings, like logging, tracing, caching, and WAF support, are the responsibility of the Merged API owner.`),i.createElement("h2",null,(0,l.Ay)`Test your API`),i.createElement("p",null,(0,l.Ay)`After deploying, run sample queries against your API to ensure its behavior is what you expect.`),i.createElement("h2",null,(0,l.Ay)`Integrate your API`),i.createElement("p",null,(0,l.Ay)`Once you have deployed your API, easily add it to your application with one of our powerful SDKs or using popular tools such as Apollo Client and Relay.`,"`"))}const AG=()=>[(0,l.Ay)`API Homepage`,i.createElement(gG,{key:"help-panel-content"}),null];function EG(){return i.createElement(It.A,null,i.createElement("h2",null,(0,l.Ay)`What is a Schema?`),i.createElement("p",null,(0,l.Ay)`A GraphQL schema is a formal description of the data that can be queried using GraphQL. It defines the types of data available, the relationships between them, and the operations that can be performed on them. The schema consists of:`,i.createElement("li",null,i.createElement("b",null,(0,l.Ay)`Object types`,": "),(0,l.Ay)`Objects that can be queried, such as 'User' or 'Product'.`),i.createElement("li",null,i.createElement("b",null,(0,l.Ay)`Fields`,": "),(0,l.Ay)`Properties of each object type, such as 'name' or 'description'.`),i.createElement("li",null,i.createElement("b",null,(0,l.Ay)`Queries`,": "),(0,l.Ay)`Operations that fetch data from the schema.`),i.createElement("li",null,i.createElement("b",null,(0,l.Ay)`Mutations`,": "),(0,l.Ay)`Operations that modify data in the schema.`),i.createElement("li",null,i.createElement("b",null,(0,l.Ay)`Subscriptions`,": "),(0,l.Ay)`Define real-time notifications that can be sent to clients when data changes in the schema.`)),i.createElement("h2",null,(0,l.Ay)`Read only`),i.createElement("p",null,(0,l.Ay)`Your Merged API’s schema is created from the schemas of your included Source APIs, and is read only. Changes to the schema must be initiated in your source APIs.`," ",(0,l.Ay)`Source API owners can leverage the following schema declaratives to avoid merge conflicts:`,i.createElement("li",null,i.createElement("b",null,(0,l.Ay)`Canonical`,": "),(0,l.Ay)`If two or more source APIs have the same GraphQL type or field, one of the APIs can annotate their type or field as canonical, which takes precedence when merging the schemas.`),i.createElement("li",null,i.createElement("b",null,(0,l.Ay)`Hidden`,": "),(0,l.Ay)`With this directive attached, types or fields are not merged to the Merged API target.`),i.createElement("li",null,i.createElement("b",null,(0,l.Ay)`Renamed`,": "),(0,l.Ay)`There are use cases where different APIs have the same type or field name. A simple way to have these types in the Merged API target is by renaming one of them for handling any naming conflicts.`)),i.createElement("h2",null,(0,l.Ay)`Viewing Source API schemas`),i.createElement("p",null,(0,l.Ay)`You can toggle between your Merged schema and the individual schemas of the Source APIs included in your Merged API using the drop down, pick list above the schema window.`))}const bG=()=>[(0,l.Ay)`Schema`,i.createElement(EG,{key:"help-panel-content"}),null];function vG(){return i.createElement(It.A,null,i.createElement("h2",null,(0,l.Ay)`What is a Data Source?`),i.createElement("p",null,(0,l.Ay)`A data source is a connection to a data store, such as a database or a third-party API, that provides the data to be queried or mutated by GraphQL operations.`," ","\xA0",(0,l.Ay)`AWS AppSync supports several types of data sources, including AWS services such as Amazon DynamoDB, Amazon Aurora Serverless, AWS Lambda, and HTTP data sources.`,"\xA0",(0,l.Ay)`In addition, AppSync also allows you to create custom data sources using AWS Lambda functions or HTTP endpoints.`),i.createElement("h2",null,(0,l.Ay)`Configuring Data Sources`),i.createElement("p",null,(0,l.Ay)`You create AppSync Data Sources in your Source APIs by providing the endpoint URL, credentials, and other configuration details required to connect to the data store.`,"\xA0",(0,l.Ay)`Once the Data Source is created, you create resolvers that use the Data Source to fetch or mutate the data based on the incoming GraphQL queries or mutations.`,"\xA0",(0,l.Ay)`Your Merged API’s Data Sources are made up of the Data Sources configured in the Source APIs associated with your Merged API.`,"\xA0",(0,l.Ay)`Changes to Data Sources must be initiated in your Source APIs.`))}const bb=()=>[(0,l.Ay)`API Datasources`,i.createElement(vG,{key:"help-panel-content"}),null];function SG(){return i.createElement(It.A,null,i.createElement("h2",null,(0,l.Ay)`What is a Function?`),i.createElement("p",null,(0,l.Ay)`An AppSync Function is used in a resolver, which is a piece of code that retrieves data from a data source and returns it to the client in response to a GraphQL query or mutation.`,"\xA0",(0,l.Ay)`When a resolver executes, it can trigger an AppSync Function to perform additional processing or business logic on the data returned from the data source, before returning the result to the client.`),i.createElement("h2",null,(0,l.Ay)`Configuring Functions`),i.createElement("p",null,(0,l.Ay)`You create AppSync Functions in your Source APIs.`,"\xA0",(0,l.Ay)`Your Merged API’s Functions are made up of the Functions configured in the Source APIs associated with your Merged API.`,"\xA0",(0,l.Ay)`Changes to Functions must be initiated in your Source APIs.`))}const TG=()=>[(0,l.Ay)`Functions`,i.createElement(SG,{key:"help-panel-content"}),null];function IG(){return i.createElement(It.A,null,i.createElement("h2",null,(0,l.Ay)`Authorization Types`),i.createElement("p",null,(0,l.Ay)`Multiple authorization mechanisms are available to protect your API.`),i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`API key`),":"," ",(0,l.Ay)`The simplest auth strategy. All requests must include an API key under the 'x-api-key' request header. Expired API keys are kept for 60 days after the expiration time.`),i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`AWS Identity and Access Management (IAM)`),":"," ",(0,l.Ay)`The AWS IAM auth strategy authorizes that all requests are sigv4 signed.`),i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Amazon Cognito User Pools`),":"," ",(0,l.Ay)`Authorize your users via Amazon Cognito User Pools to achieve more fine-grained control.`),i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`AWS Lambda Authorizers`),":"," ",(0,l.Ay)`A serverless function that allows you to authenticate and authorize access to your AWS AppSync API using custom logic.`)),i.createElement("h2",null,(0,l.Ay)`Authorization Configuration`),i.createElement("p",null,(0,l.Ay)`Authorization of a Merged API is jointly configured by the Merged and Source API owners.`),i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Primary authorization mode`,": "),(0,l.Ay)`In a Merged API the primary authorization mode is set and configured by the Merged API Owner.`),i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Secondary authorization modes`,": "),(0,l.Ay)`A merged API inherits its associated Source APIs primary and secondary authorization modes.`,"\xA0",(0,l.Ay)`It is the responsibility of the Merged API owner to configure the authorization logic of those authorization modes, which can be the or different from the authorization logic defined in the Source APIs.`)),i.createElement("h2",null,(0,l.Ay)`What is logging?`),i.createElement("p",null,(0,l.Ay)`AWS AppSync provides built-in logging for all API requests and responses, which can be accessed through Amazon CloudWatch Logs.`,"\xA0",(0,l.Ay)`The logs capture detailed information about the API calls, including the request and response payloads, errors and latency metrics, and can be used to troubleshoot issues, monitor API performance, and audit API usage.`,i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"https://docs.aws.amazon.com/appsync/latest/devguide/monitoring.html"},(0,l.Ay)`Learn more`),i.createElement("br",null),(0,l.Ay)`AppSync also allows you to customize the logging configuration to include additional fields or to filter out certain requests or response types, using the GraphQL Transform library.`,"\xA0",(0,l.Ay)`Additionally, you can use AWS Lambda functions to perform additional logging or analysis on the API logs, and send the results to other services, such as Amazon S3, Amazon Elasticsearch, or third-party tools.`),i.createElement("h2",null,(0,l.Ay)`What is AWS WAF?`),i.createElement("p",null,(0,l.Ay)`AWS WAF (Web Application Firewall) is a managed service that provides protection against common web exploits and allows you to create custom rules to block traffic to your AppSync API`,i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"https://docs.aws.amazon.com/waf/index.html"},(0,l.Ay)`Learn more`)),i.createElement("h2",null,(0,l.Ay)`AWS X-Ray Integration`),i.createElement("p",null,(0,l.Ay)`AWS X-Ray collects data about requests that your application serves, and provides tools you can use to view, filter, and gain insights into that data to identify issues and opportunities for optimization.`),i.createElement("p",null,(0,l.Ay)`When enabling X-Ray tracing, AppSync will create a IAM Service-Linked Role in your account with permissions to write X-Ray traces. Standard X-Ray rates apply.`),i.createElement(ue.A,{external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"https://docs.aws.amazon.com/xray/latest/devguide/aws-xray.html"},(0,l.Ay)`View the X-Ray documentation to learn more.`))}const vb=()=>[(0,l.Ay)`API Settings`,i.createElement(IG,{key:"help-panel-content"}),null];function CG(){return i.createElement("div",null,i.createElement("p",null,(0,l.Ay)`Resolvers connect your GraphQL schema to your data source.`,"\xA0",(0,l.Ay)`They tell AWS AppSync how to translate an incoming GraphQL request into instructions for your backend data source and the response from that data source back into a GraphQL response.`),i.createElement("p",null,(0,l.Ay)`JavaScript resolvers and functions run on the AppSync JavaScript (APPSYNC_JS) runtime.`,"\xA0",(0,l.Ay)`Alternatively, you can use the Velocity Template Language (VTL).`,i.createElement("br",null),i.createElement(gt,{text:"Find out more about VTL",href:"https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference.html"})),i.createElement("p",null,(0,l.Ay)`In most cases, when you need to talk to a single data source, you can use an AppSync unit resolver.`,"\xA0",(0,l.Ay)`To talk to multiple data sources, use a pipeline resolver composed of multiple AppSync functions.`,"\xA0",(0,l.Ay)`Unit resolvers and functions are primitives that execute operation against data sources.`,"\xA0",(0,l.Ay)`Each unit resolver and function has a request and response handler that is executed against a data source.`,i.createElement("br",null),i.createElement(gt,{text:"Find out more about the AppSync JavaScript runtime",href:"https://docs.aws.amazon.com/appsync/latest/devguide/resolver-reference-js-version.html"})),i.createElement("h4",null,(0,l.Ay)`Request handler`),i.createElement("p",null,(0,l.Ay)`The request handler is a JavaScript function that translates a GraphQL request into a request object that the data source can understand.`),i.createElement("h4",null,(0,l.Ay)`Response handler`),i.createElement("p",null,(0,l.Ay)`The response handler is a JavaScript function that translates the results of the resolver back into GraphQL.`),i.createElement("h2",null,(0,l.Ay)`Quick Reference`),i.createElement("ul",null,i.createElement("li",null,i.createElement("code",null,"@aws-appsync/utils")," \u2013 ",(0,l.Ay)`Provides type validation and autocompletion in code editors.`),i.createElement("li",null,i.createElement("code",null,"util"),", ",i.createElement("code",null,"extension"),", ",(0,l.Ay)`and`," ",i.createElement("code",null,"runtime")," ",(0,l.Ay)`are utilities that are available in the global context.`),i.createElement("li",null,i.createElement("code",null,"util")," ",(0,l.Ay)`contains general utility methods to help you work with data.`),i.createElement("li",null,i.createElement("code",null,"extension")," ",(0,l.Ay)`contains a set of methods to make additional actions within your resolvers.`),i.createElement("li",null,i.createElement("code",null,"runtime.earlyReturn")," ",(0,l.Ay)`can be used in your AppSync function request handler to skip data source invocation.`)),i.createElement("h4",null,(0,l.Ay)`Direct Lambda Resolvers`),i.createElement("p",null,(0,l.Ay)`You can configure Direct Lambda resolvers or functions when using VTL to skip your mapping templates and call your Lambda function directly.`,i.createElement("br",null),i.createElement(gt,{text:"Learn more",href:"https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference-lambda.html#direct-lambda-resolvers"})))}const Ac=()=>[(0,l.Ay)`Resolvers and functions`,i.createElement(CG,{key:"help-panel-content"}),void 0];function RG(){return i.createElement("div",null,i.createElement("h2",null,(0,l.Ay)`Conflict Detection`),i.createElement("p",null,(0,l.Ay)`AWS AppSync can automatically detect when multiple clients are trying to update or modify data in DynamoDB at the same time and keep track of request versions.`),i.createElement("h2",null,(0,l.Ay)`Conflict Resolution`),i.createElement("p",null,(0,l.Ay)`If conflict detection is enabled, you can select different strategies to resolve conflicts:`),i.createElement("ul",null,i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Auto-merge`),":"," ",(0,l.Ay)`AWS AppSync will automatically merge requests based on internal heuristics.`),i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Optimistic Concurrency`),":"," ",(0,l.Ay)`The latest update with the correct version will be accepted.`),i.createElement("li",null,i.createElement("strong",null,(0,l.Ay)`Lambda`),":"," ",(0,l.Ay)`Use a custom conflict resolution strategy defined in a Lambda function.`)))}const wG=()=>[(0,l.Ay)`Conflict detection and resolution`,i.createElement(RG,{key:"help-panel-content"}),void 0],PG=(0,T.Record)({helpOpen:!1,navigationOpen:!0,contentType:"default",promptOnNav:{show:!1,href:""},helpSlug:{get:Cs}});class Sb extends PG{}const OG=t=>({disabled:!1,id:t.typeConfig.name,label:t.typeConfig.name}),DG=`
scalar String
scalar Int
scalar Float
scalar ID
scalar Boolean
`,NG=(0,T.Record)({hasEdits:!1,isValid:!0,lastSavedText:"",text:"",typeRecords:(0,T.List)(),isInitialized:!1,errors:(0,T.List)(),warnings:(0,T.List)(),associationIdsInitialized:(0,T.OrderedSet)()});class Jp extends NG{getSchemaRecord(){return this.typeRecords.find(n=>n.typeConfig.kind===Be.SCHEMA)}getRootQueryTypeName(){const n=this.getSchemaRecord();return n?n.typeConfig.queryType.name:null}getRootMutationTypeName(){const n=this.getSchemaRecord();return n&&n.typeConfig.mutationType?n.typeConfig.mutationType.name:null}getRootSubscriptionTypeName(){const n=this.getSchemaRecord();return n&&n.typeConfig.subscriptionType?n.typeConfig.subscriptionType.name:null}getTypesByAssociation(n){return this.associationIdsInitialized.has(n)?this.typeRecords.reduce((a,o)=>o.associationIds.has(n)?o.originTypeMap&&o.originTypeMap.has(n)?a.push(o.originTypeMap.get(n)):a.push(o):a,(0,T.List)()):(0,T.List)()}getSchemaByAssociation(n){return Sm(this.getTypesByAssociation(n))}getTypeSelectOptionsGroups(){const n=this.getRootQueryTypeName(),a=this.getRootMutationTypeName(),o=this.getRootQueryTypeName(),s=this.typeRecords.concat(xg(DG)).filter(u=>u.typeConfig.name!==n&&u.typeConfig.name!==a&&u.typeConfig.name!==o&&u.typeConfig.kind!==Be.SCHEMA);return LM(s,u=>u.typeConfig.kind).map((u,p)=>({id:p,label:p.toLowerCase().split("_").join(" "),options:u.map(h=>OG(h)).toJS()})).toList().toJS()}}const _G=(0,T.Record)({dataSources:(0,T.List)(),apis:(0,T.List)(),sharedGraphqlApis:(0,T.List)(),localSchema:(0,T.List)(),resolvers:(0,T.List)(),schemaVersions:(0,T.List)()});class xG extends _G{}const LG=(0,T.Record)({selectedApiId:"",selectedApiKeyId:"",selectedAdditionalAuth:void 0,selectedVersionId:"v1",createApiStatus:new fe,userPoolSession:null});class Tb extends LG{getApiVersionId(){return ce(this.selectedApiId,this.selectedVersionId)}}const Yp="CUSTOMDOMAINS_LIST_APIS_BEGIN",Ib="CUSTOMDOMAINS_LIST_APIS_SUCCESS",Cb="CUSTOMDOMAINS_LIST_APIS_FAILURE",Qp="CUSTOMDOMAINS_LIST_CERTIFICATES_BEGIN",Rb="CUSTOMDOMAINS_LIST_CERTIFICATES_SUCCESS",wb="CUSTOMDOMAINS_LIST_CERTIFICATES_FAILURE",Pb="CUSTOMDOMAINS_LIST_DOMAINS_BEGIN",Ob="CUSTOMDOMAINS_LIST_DOMAINS_SUCCESS",Db="CUSTOMDOMAINS_LIST_DOMAINS_FAILURE",Xp="CUSTOMDOMAINS_GET_DETAILS_BEGIN",Nb="CUSTOMDOMAINS_GET_DETAILS_SUCCESS",_b="CUSTOMDOMAINS_GET_DETAILS_FAILURE",Zp="CUSTOMDOMAINS_GET_ASSOCIATION_BEGIN",em="CUSTOMDOMAINS_GET_ASSOCIATION_SUCCESS",xb="CUSTOMDOMAINS_GET_ASSOCIATION_FAILURE",Lb="CUSTOMDOMAINS_GET_ASSOCIATION_EMPTY",tm="CUSTOMDOMAINS_CREATE_DOMAIN_BEGIN",kb="CUSTOMDOMAINS_CREATE_DOMAIN_SUCCESS",Mb="CUSTOMDOMAINS_CREATE_DOMAIN_FAILURE",nm="CUSTOMDOMAINS_SET_DETAILS_BEGIN",Fb="CUSTOMDOMAINS_SET_DETAILS_SUCCESS",Ub="CUSTOMDOMAINS_SET_DETAILS_FAILURE",rm="CUSTOMDOMAINS_REMOVE_DOMAIN_BEGIN",$b="CUSTOMDOMAINS_REMOVE_DOMAIN_SUCCESS",jb="CUSTOMDOMAINS_REMOVE_DOMAIN_FAILURE",am="CUSTOMDOMAINS_LISTPAGE_REMOVE_DOMAIN_BEGIN",Vb="CUSTOMDOMAINS_LISTPAGE_REMOVE_DOMAIN_SUCCESS",Bb="CUSTOMDOMAINS_LISTPAGE_REMOVE_DOMAIN_FAILURE",im="CUSTOMDOMAINS_SET_ASSOCIATION_BEGIN",Gb="CUSTOMDOMAINS_SET_ASSOCIATION_SUCCESS",zb="CUSTOMDOMAINS_SET_ASSOCIATION_FAILURE",qb="CUSTOMDOMAINS_SET_ASSOCIATION_STATUS",om="CUSTOMDOMAINS_UNSET_ASSOCIATION_BEGIN",kG="CUSTOMDOMAINS_UNSET_ASSOCIATION_SUCCESS",MG="CUSTOMDOMAINS_UNSET_ASSOCIATION_FAILURE",rbe="CUSTOMDOMAINS_SET_TAGS_BEGIN",abe="CUSTOMDOMAINS_SET_TAGS_SUCCESS",ibe="CUSTOMDOMAINS_SET_TAGS_FAILURE",xo="CUSTOMDOMAINS_SET_BANNER",Kb="CUSTOMDOMAINS_DISMISS_BANNER",sm="CUSTOMDOMAINS_DISMISS_ALL_BANNERS",Ls="CUSTOMDOMAINS_SET_ALERT",Wb="CUSTOMDOMAINS_DISMISS_ALERT",ks="CUSTOMDOMAINS_DISMISS_ALL_ALERTS",Hb="CUSTOMDOMAINS_INIT_SELECTED";var Xe=(t=>(t.NOT_LOADED="NOT_LOADED",t.LOADING="LOADING",t.LOADED="LOADED",t.EMPTY="EMPTY",t))(Xe||{}),ge=(t=>(t.NONE="NONE",t.PROCESSING="PROCESSING",t.FAILED="FAILED",t.SUCCESS="SUCCESS",t.REMOVING="REMOVING",t.DISASSOCIATING="DISASSOCIATING",t))(ge||{}),FG=(t=>(t.IAM="IAM",t.ACM="ACM",t))(FG||{}),UG=Object.defineProperty,$G=Object.defineProperties,jG=Object.getOwnPropertyDescriptors,Jb=Object.getOwnPropertySymbols,VG=Object.prototype.hasOwnProperty,BG=Object.prototype.propertyIsEnumerable,Yb=(t,n,a)=>n in t?UG(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,re=(t,n)=>{for(var a in n||(n={}))VG.call(n,a)&&Yb(t,a,n[a]);if(Jb)for(var a of Jb(n))BG.call(n,a)&&Yb(t,a,n[a]);return t},ae=(t,n)=>$G(t,jG(n));const Qb={banners:{list:{},create:{},details:{},editDetails:{},editAssociation:{}},alerts:{list:{},create:{},details:{},editDetails:{},editAssociation:{}},apis:{list:[],networkStatus:Xe.NOT_LOADED,errors:[]},certificates:{list:[],networkStatus:Xe.NOT_LOADED,errors:[]},customDomains:{list:[],networkStatus:Xe.NOT_LOADED,errors:[]},associatedApiIds:{},customDomainDeleting:{},createPageStatus:{networkStatus:ge.NONE,errors:[]},editDetailsPageStatus:{networkStatus:ge.NONE,errors:[]},editAssociationPageStatus:{networkStatus:ge.NONE,errors:[]},selectedCustomDomain:{getErrors:[],removeErrors:[],getNetworkStatus:Xe.NOT_LOADED,submitNetworkStatus:ge.NONE,domainIsSelected:!1,domainName:"",certificateArn:"",appsyncDomainName:"",description:"",tags:[]},selectedAssociation:{errors:[],getNetworkStatus:Xe.NOT_LOADED,submitNetworkStatus:ge.NONE,associationIsSelected:!1,domainName:"",apiId:"",associationStatus:ge.NONE,deploymentDetail:""}};function GG(t=Qb,n){switch(n.type){case xo:return ae(re({},t),{banners:ae(re({},t.banners),{[n.payload.page]:ae(re({},t.banners[n.payload.page]),{[n.payload.message]:!0})})});case Kb:return ae(re({},t),{banners:ae(re({},t.banners),{[n.payload.page]:Object.keys(t.banners[n.payload.page]).filter(a=>a!==n.payload.message).reduce((a,o)=>(a[o]=!0,a),{})})});case sm:return ae(re({},t),{banners:{list:{},create:{},details:{},editDetails:{},editAssociation:{}}});case Ls:return ae(re({},t),{alerts:ae(re({},t.alerts),{[n.payload.page]:ae(re({},t.alerts[n.payload.page]),{[n.payload.message]:!0})})});case Wb:return ae(re({},t),{alerts:ae(re({},t.alerts),{[n.payload.page]:Object.keys(t.alerts[n.payload.page]).filter(a=>a!==n.payload.message).reduce((a,o)=>(a[o]=!0,a),{})})});case ks:return ae(re({},t),{alerts:{list:{},create:{},details:{},editDetails:{},editAssociation:{}}});case Ob:return ae(re({},t),{customDomains:{list:n.payload.list,networkStatus:Xe.LOADED,errors:[]},associatedApiIds:n.payload.associatedApiIds});case Db:return ae(re({},t),{customDomains:{list:[],networkStatus:Xe.NOT_LOADED,errors:n.payload.errors}});case Yp:return ae(re({},t),{apis:ae(re({},t.apis),{networkStatus:Xe.LOADING})});case Ib:return ae(re({},t),{apis:{list:n.payload.list,networkStatus:Xe.LOADED,errors:[]}});case Cb:return ae(re({},t),{apis:{list:[],networkStatus:Xe.NOT_LOADED,errors:n.payload.errors}});case D.DELETE_SUCCESS:return n.entityType===N.API?ae(re({},t),{apis:ae(re({},t.apis),{list:t.apis.list.filter(a=>a.value!==n.entity.apiId)})}):t;case D.CREATE_SUCCESS:if(n.entityType===N.API){const a={value:n.entity.apiId,label:n.entity.name},o=[...t.apis.list,a];return ae(re({},t),{apis:ae(re({},t.apis),{list:o})})}return t;case Qp:return ae(re({},t),{certificates:ae(re({},t.certificates),{networkStatus:Xe.LOADING})});case Rb:return ae(re({},t),{certificates:{list:n.payload.list,networkStatus:Xe.LOADED,errors:[]}});case wb:return ae(re({},t),{certificates:{list:[],networkStatus:Xe.NOT_LOADED,errors:n.payload.errors}});case am:return ae(re({},t),{customDomainDeleting:ae(re({},t.customDomainDeleting),{[n.payload.domainName]:!0})});case Vb:return ae(re({},t),{customDomains:ae(re({},t.customDomains),{list:t.customDomains.list.filter(a=>a.domainName!==n.payload.domainName)}),customDomainDeleting:Object.keys(t.customDomainDeleting).reduce((a,o)=>(o===n.payload.domainName||(a[o]=!0),a),{})});case Bb:return ae(re({},t),{customDomainDeleting:Object.keys(t.customDomainDeleting).reduce((a,o)=>(o===n.payload.domainName||(a[o]=!0),a),{})});case tm:return ae(re({},t),{createPageStatus:ae(re({},t.createPageStatus),{networkStatus:ge.PROCESSING,errors:[]})});case kb:return ae(re({},t),{createPageStatus:ae(re({},t.createPageStatus),{networkStatus:ge.SUCCESS}),customDomains:ae(re({},t.customDomains),{list:[...t.customDomains.list,n.payload]})});case Mb:return ae(re({},t),{createPageStatus:{networkStatus:ge.FAILED,errors:n.payload.errors}});case Hb:return ae(re({},t),{selectedCustomDomain:{getErrors:[],removeErrors:[],getNetworkStatus:Xe.NOT_LOADED,submitNetworkStatus:ge.NONE,domainIsSelected:!1,domainName:"",certificateArn:"",appsyncDomainName:"",description:"",tags:[]},selectedAssociation:{errors:[],getNetworkStatus:Xe.NOT_LOADED,submitNetworkStatus:ge.NONE,associationIsSelected:!1,domainName:"",apiId:"",associationStatus:ge.NONE,deploymentDetail:""}});case Xp:return ae(re({},t),{selectedCustomDomain:ae(re({},t.selectedCustomDomain),{getNetworkStatus:Xe.LOADING})});case Nb:return ae(re({},t),{selectedCustomDomain:ae(re({},t.selectedCustomDomain),{getNetworkStatus:Xe.LOADED,domainIsSelected:!0,domainName:n.payload.domainName,certificateArn:n.payload.certificateArn,appsyncDomainName:n.payload.appsyncDomainName,description:n.payload.description,tags:n.payload.tags})});case _b:return ae(re({},t),{selectedCustomDomain:ae(re({},t.selectedCustomDomain),{getErrors:n.payload.errors,getNetworkStatus:Xe.NOT_LOADED,domainIsSelected:!1,domainName:"",certificateArn:"",appsyncDomainName:"",description:"",tags:[]})});case nm:return ae(re({},t),{editDetailsPageStatus:{networkStatus:ge.PROCESSING,errors:[]},selectedCustomDomain:ae(re({},t.selectedCustomDomain),{submitNetworkStatus:ge.PROCESSING})});case Fb:return ae(re({},t),{editDetailsPageStatus:{networkStatus:ge.SUCCESS,errors:[]},customDomains:ae(re({},t.customDomains),{list:t.customDomains.list.map(a=>a.domainName!==n.payload.domainName?a:ae(re({},a),{description:n.payload.description}))}),selectedCustomDomain:ae(re({},t.selectedCustomDomain),{submitNetworkStatus:ge.SUCCESS,domainName:n.payload.domainName,description:n.payload.description,tags:n.payload.tags})});case Ub:return ae(re({},t),{editDetailsPageStatus:{networkStatus:ge.FAILED,errors:n.payload.errors},selectedCustomDomain:ae(re({},t.selectedCustomDomain),{submitNetworkStatus:ge.FAILED})});case rm:return ae(re({},t),{selectedCustomDomain:ae(re({},t.selectedCustomDomain),{getErrors:[],removeErrors:[],submitNetworkStatus:ge.REMOVING})});case $b:return ae(re({},t),{customDomains:ae(re({},t.customDomains),{list:t.customDomains.list.filter(a=>a.domainName!==n.payload.domainName)}),selectedCustomDomain:{getErrors:[],removeErrors:[],submitNetworkStatus:ge.NONE,getNetworkStatus:Xe.NOT_LOADED,domainIsSelected:!1,domainName:"",certificateArn:"",appsyncDomainName:"",description:"",tags:[]}});case jb:return ae(re({},t),{selectedCustomDomain:ae(re({},t.selectedCustomDomain),{removeErrors:n.payload.errors,submitNetworkStatus:ge.FAILED,getNetworkStatus:Xe.NOT_LOADED})});case Zp:return ae(re({},t),{selectedAssociation:ae(re({},t.selectedAssociation),{getNetworkStatus:Xe.LOADING})});case em:return ae(re({},t),{selectedAssociation:ae(re({},t.selectedAssociation),{getNetworkStatus:Xe.LOADED,associationIsSelected:!0,domainName:n.payload.domainName,apiId:n.payload.apiId||"-",associationStatus:n.payload.associationStatus,deploymentDetail:n.payload.deploymentDetail}),associatedApiIds:ae(re({},t.associatedApiIds),{[n.payload.domainName]:n.payload.apiId||"-"})});case xb:return ae(re({},t),{selectedAssociation:ae(re({},t.selectedAssociation),{getNetworkStatus:Xe.NOT_LOADED,errors:n.payload.errors,associationIsSelected:!1,domainName:"",apiId:"",associationStatus:ge.NONE,deploymentDetail:""})});case Lb:return ae(re({},t),{selectedAssociation:{getNetworkStatus:Xe.EMPTY,submitNetworkStatus:ge.NONE,errors:[],associationIsSelected:!0,domainName:"",apiId:"",associationStatus:ge.NONE,deploymentDetail:""},associatedApiIds:Object.keys(t.associatedApiIds).reduce((a,o)=>(o!==n.payload.domainName&&(a[o]=t.associatedApiIds[o]),a),{})});case im:return ae(re({},t),{editAssociationPageStatus:{networkStatus:ge.PROCESSING,errors:[]},selectedAssociation:ae(re({},t.selectedAssociation),{submitNetworkStatus:ge.PROCESSING})});case Gb:return ae(re({},t),{editAssociationPageStatus:{networkStatus:ge.SUCCESS,errors:[]},selectedAssociation:ae(re({},t.selectedAssociation),{getNetworkStatus:Xe.LOADED,submitNetworkStatus:ge.SUCCESS,apiId:n.payload.apiId||"-",associationStatus:n.payload.associationStatus,deploymentDetail:n.payload.deploymentDetail}),associatedApiIds:ae(re({},t.associatedApiIds),{[n.payload.domainName]:n.payload.apiId||"-"})});case zb:return ae(re({},t),{editAssociationPageStatus:{networkStatus:ge.FAILED,errors:n.payload.errors},selectedAssociation:ae(re({},t.selectedAssociation),{submitNetworkStatus:ge.FAILED})});case qb:return ae(re({},t),{selectedAssociation:ae(re({},t.selectedAssociation),{associationStatus:n.payload.associationStatus})});case om:return ae(re({},t),{editAssociationPageStatus:ae(re({},t.editAssociationPageStatus),{networkStatus:ge.REMOVING}),selectedAssociation:ae(re({},t.selectedAssociation),{submitNetworkStatus:ge.PROCESSING,associationStatus:ge.DISASSOCIATING})});case kG:return ae(re({},t),{editAssociationPageStatus:ae(re({},t.editAssociationPageStatus),{networkStatus:ge.SUCCESS}),selectedAssociation:{errors:[],submitNetworkStatus:ge.NONE,getNetworkStatus:Xe.NOT_LOADED,associationIsSelected:!1,domainName:"",apiId:"",associationStatus:ge.NONE,deploymentDetail:""}});default:return t}}const zG=GG,qG=(0,T.Record)({entities:(0,T.Map)(),environment:new Tb,errors:new UF,form:(0,T.Map)(),localSchema:new Jp,pagination:new VF,view:new Sb,warnings:new xG,workflows:(0,T.Map)(),userPreferences:(0,T.Map)(),alerts:(0,T.List)(),customdomains:Qb,flashbars:[]});class KG extends qG{}var obe=v(10218),Xb=v(49535),Zb=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const WG=(0,T.Record)({awsRegion:null,endpoint:null,domainName:null}),HG=t=>t.vpc!==void 0,JG=t=>t.vpc,YG=t=>{const n=t.DomainStatus.Endpoint;if(n)return n;const a=t.DomainStatus.Endpoints;return!a||!HG(a)?null:JG(a)},QG=t=>`https://${t}`;class XG extends WG{toConfig(){return{awsRegion:this.awsRegion,endpoint:this.endpoint}}getESEndpoint(n){return Zb(this,null,function*(){if(!n)return Promise.reject(new Error("Expected elasticsearch domain name."));const a=xe.getElasticsearchClient(this.awsRegion),o={DomainName:n};return yield a.send(new Xb.C(o))})}replaceDomainNameWithEndpoint(){return Zb(this,null,function*(){const n=this.endpoint&&this.endpoint.startsWith("http");if(this.domainName&&!n){const a=yield this.getESEndpoint(this.domainName);let o=YG(a);return o&&!o.startsWith("https")&&(o=QG(o)),this.set("endpoint",o)}return this})}}var ev=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const ZG=(0,T.Record)({awsRegion:null,endpoint:null,domainName:null});class Lo extends ZG{constructor(n){n.domainName||(n.domainName=ez(n.endpoint)),super(n)}toConfig(){return{awsRegion:this.awsRegion,endpoint:this.endpoint}}getOSEndpoint(n){return ev(this,null,function*(){if(!n)return Promise.reject(new Error("Expected OpenSearch domain name."));const a=xe.getElasticsearchClient(this.awsRegion),o={DomainName:n};return yield a.send(new Xb.C(o))})}replaceDomainNameWithEndpoint(){return ev(this,null,function*(){const n=this.endpoint&&this.endpoint.startsWith("http");if(this.domainName&&!n){const a=yield this.getOSEndpoint(this.domainName);let o=Lo.getDomainStatusEndpoint(a);return o&&!o.startsWith("https")&&(o=Lo.prefixHttps(o)),this.set("endpoint",o)}return this})}static getDomainStatusEndpoint(n){const a=n.DomainStatus.Endpoint;if(a)return a;const o=n.DomainStatus.Endpoints;return!o||!Lo.hasVPCEndpoint(o)?null:Lo.getVPCDomainEndpoint(o)}static hasVPCEndpoint(n){return n.vpc!==void 0}static getVPCDomainEndpoint(n){return n.vpc}static prefixHttps(n){return`https://${n}`}}function ez(t){const a=t.split(".")[0].split("-");if(a.length<3)throw new Error(`Invalid Open Search Domain endpoint.
            Endpoints should be in the form of https://search-exampledomain-jcjotrt6f7otem4sqcwbch3c4u.us-east-1.es.amazonaws.com`);return a.slice(1,a.length-1).join("-")}const tz=(0,T.Record)({lambdaFunctionArn:null});class nz extends tz{toConfig(){return this.toJS()}}const rz=(0,T.Record)({baseTableTTL:43200,deltaSyncTableName:"",deltaSyncTableTTL:1440});class lm extends rz{}var az=Object.defineProperty,iz=Object.defineProperties,oz=Object.getOwnPropertyDescriptors,Ec=Object.getOwnPropertySymbols,tv=Object.prototype.hasOwnProperty,nv=Object.prototype.propertyIsEnumerable,rv=(t,n,a)=>n in t?az(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,av=(t,n)=>{for(var a in n||(n={}))tv.call(n,a)&&rv(t,a,n[a]);if(Ec)for(var a of Ec(n))nv.call(n,a)&&rv(t,a,n[a]);return t},sz=(t,n)=>iz(t,oz(n)),lz=(t,n)=>{var a={};for(var o in t)tv.call(t,o)&&n.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&Ec)for(var o of Ec(t))n.indexOf(o)<0&&nv.call(t,o)&&(a[o]=t[o]);return a};const cz=(0,T.Record)({awsRegion:null,tableName:null,useCallerCredentials:!1,versioned:!1,deltaSyncConfig:null});class iv extends cz{toConfig(){return this.toJS()}}function uz(t){const n=t,{deltaSyncConfig:a}=n,o=lz(n,["deltaSyncConfig"]);return new iv(sz(av({},o),{deltaSyncConfig:a?new lm(av({},a)):null}))}const dz=(0,T.Record)({signingRegion:"",signingServiceName:""});class pz extends dz{}const mz=(0,T.Record)({authorizationType:"AWS_IAM",awsIamConfig:new pz});class ov extends mz{}var hz=Object.defineProperty,fz=Object.defineProperties,yz=Object.getOwnPropertyDescriptors,bc=Object.getOwnPropertySymbols,sv=Object.prototype.hasOwnProperty,lv=Object.prototype.propertyIsEnumerable,cv=(t,n,a)=>n in t?hz(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,cm=(t,n)=>{for(var a in n||(n={}))sv.call(n,a)&&cv(t,a,n[a]);if(bc)for(var a of bc(n))lv.call(n,a)&&cv(t,a,n[a]);return t},gz=(t,n)=>fz(t,yz(n)),Az=(t,n)=>{var a={};for(var o in t)sv.call(t,o)&&n.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&bc)for(var o of bc(t))n.indexOf(o)<0&&lv.call(t,o)&&(a[o]=t[o]);return a};const Ez=(0,T.Record)({endpoint:null,authorizationConfig:null});class Ms extends Ez{toConfig(){return this.toJS()}}function bz(t){const n=t,{authorizationConfig:a,endpoint:o}=n,s=Az(n,["authorizationConfig","endpoint"]);return new Ms(cm(gz(cm({},s),{endpoint:o}),a?{authorizationConfig:new ov(cm({},a))}:{}))}const vz=(0,T.Record)({relationalDatabaseSourceType:null,awsRegion:null,dbClusterIdentifier:null,databaseName:null,schema:null,awsSecretStoreArn:null});class uv extends vz{toConfig(){return{relationalDatabaseSourceType:"RDS_HTTP_ENDPOINT",rdsHttpEndpointConfig:{awsRegion:this.awsRegion,dbClusterIdentifier:this.dbClusterIdentifier,databaseName:this.databaseName,schema:this.schema,awsSecretStoreArn:this.awsSecretStoreArn}}}}const Sz=t=>{const{rdsHttpEndpointConfig:n,relationalDatabaseSourceType:a}=t,o=n?.awsRegion,s=n?.dbClusterIdentifier,c=n?.databaseName,u=n?.schema,p=n?.awsSecretStoreArn;return new uv({relationalDatabaseSourceType:a,awsRegion:o,dbClusterIdentifier:s,databaseName:c,schema:u,awsSecretStoreArn:p})},Tz=(0,T.Record)({eventBusArn:null});class Iz extends Tz{toConfig(){return this.toJS()}}var Cz=Object.defineProperty,Rz=Object.defineProperties,wz=Object.getOwnPropertyDescriptors,dv=Object.getOwnPropertySymbols,Pz=Object.prototype.hasOwnProperty,Oz=Object.prototype.propertyIsEnumerable,pv=(t,n,a)=>n in t?Cz(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,vc=(t,n)=>{for(var a in n||(n={}))Pz.call(n,a)&&pv(t,a,n[a]);if(dv)for(var a of dv(n))Oz.call(n,a)&&pv(t,a,n[a]);return t},um=(t,n)=>Rz(t,wz(n));const Dz=(0,T.Record)({dataSourceArn:null,name:null,type:null,description:null,dynamodbConfig:void 0,elasticsearchConfig:void 0,openSearchServiceConfig:void 0,httpConfig:void 0,relationalDatabaseConfig:void 0,eventBridgeConfig:void 0,apiId:null,lambdaConfig:void 0,serviceRoleArn:void 0,region:null,roleSource:Dt.ROLE_NEW,selectedDDB:null,selectedES:null,selectedOS:null,selectedEB:null,selectedLambda:null,httpEndpoint:null,relationalDatabaseSourceType:null,dbClusterIdentifier:null,databaseName:null,schema:null,awsSecretStoreArn:null,selectedRole:null,recordStatus:new fe,shouldCreateRole:!1,dynamoDBAdapter:null,enableGenerateGraphQL:!1,selectedRuntime:null,baseTypeDefinitionSDL:null,selectedTableDescription:void 0,versioned:!1,deltaSyncConfig:new lm,metricsConfig:oe.JK.DISABLED});class ya extends Dz{static getKey(n,a){return ce(n,"v1","datasource",a)}toJS(){return super.toJS()}withDynamoDBAdapter(n){return this.set("dynamoDBAdapter",n)}getResourceName(){if(this.type===_.NONE)return"";const n=Kn[this.type];if(!n)throw new Error("Unknown resource type when attempting to create role.");const{recordField:a,resourceNameAccessor:o}=n,s=this[a];return s?.[o]||""}getSecondaryResourceName(){if(this.type===_.NONE)return"";const n=Kn[this.type];if(!n&&this.type!==_.NONE)throw new Error("Unknown resource type when attempting to create role.");const{recordField:a,secondaryResourceNameAccessor:o}=n;return this[a][o]||""}withResourceName(n){if(this.type===_.NONE)return this;const a=Kn[this.type];if(!a)throw new Error("Unknown resource type when attempting to create role.");const{recordField:o,resourceNameAccessor:s}=a;return this.setIn([o,s],n)}getCreateDataSourceRequest(){var n;let a={name:this.name,type:this.type,description:this.description,apiId:this.apiId,metricsConfig:this.metricsConfig};this.serviceRoleArn&&(a=um(vc({},a),{serviceRoleArn:this.serviceRoleArn}));const o=Kn[this.type],s=o?.recordField;return s&&this[s]&&(a=um(vc({},a),{[s]:this[s].toConfig()})),this.type==="HTTP"&&!((n=a.httpConfig)!=null&&n.authorizationConfig)&&(0,he.unset)(a,"httpConfig.authorizationConfig"),a}getUpdateDataSourceRequest(){return this.getCreateDataSourceRequest()}getServiceRoleParams(n){return{apiId:this.apiId,region:this.region,roleArn:n?"":this.serviceRoleArn,resourceName:this.getResourceName(),secondaryResourceName:this.getSecondaryResourceName(),resourceType:this.type}}allowsBlankTemplates(){return this.type===_.LAMBDA}getKey(){return ya.getKey(this.apiId,this.name)}}class cbe{}function Fs(t,n){const a={};for(const o of Object.keys(Kn)){const{recordField:s,Record:c,converter:u}=Kn[o],p=t[s];let h;switch(!0){case!t[s]:break;case!!u:h=u(p);break;default:h=new c(p);break}a[s]=h}return new ya(um(vc(vc({},t),a),{apiId:n,metricsConfig:t?.metricsConfig}))}var Ya=(t=>(t.DYNAMODB="dynamodbConfig",t.ELASTIC_SEARCH="elasticsearchConfig",t.OPEN_SEARCH="openSearchServiceConfig",t.LAMBDA="lambdaConfig",t.EVENT_BRIDGE="eventBridgeConfig",t.HTTP="httpConfig",t.RDS="relationalDatabaseConfig",t))(Ya||{});const Kn={[_.DYNAMODB]:{Record:iv,recordField:"dynamodbConfig",resourceNameAccessor:"tableName",converter:uz},[_.ELASTIC_SEARCH]:{Record:XG,recordField:"elasticsearchConfig",resourceNameAccessor:"endpoint"},[_.OPEN_SEARCH]:{Record:Lo,recordField:"openSearchServiceConfig",resourceNameAccessor:"domainName"},[_.LAMBDA]:{Record:nz,recordField:"lambdaConfig",resourceNameAccessor:"lambdaFunctionArn"},[_.HTTP]:{Record:Ms,recordField:"httpConfig",resourceNameAccessor:"endpoint",converter:bz},[_.RDS]:{Record:uv,recordField:"relationalDatabaseConfig",resourceNameAccessor:"dbClusterIdentifier",secondaryResourceNameAccessor:"awsSecretStoreArn",converter:Sz},[_.EVENT_BRIDGE]:{Record:Iz,recordField:"eventBridgeConfig",resourceNameAccessor:"eventBusArn"}},Nz=(0,T.Record)({functions:(0,T.List)()});class Us extends Nz{}const _z=(0,T.Record)({ttl:0,cachingKeys:(0,T.List)(),enableCaching:!1});class $s extends _z{toJS(){const n={ttl:this.ttl>0?this.ttl:60};return this.cachingKeys.isEmpty()||(n.cachingKeys=this.cachingKeys.toArray()),n}}const xz=(0,T.Record)({lambdaConflictHandlerArn:""});class ko extends xz{}const Lz=(0,T.Record)({conflictDetection:"NONE",conflictHandler:"AUTOMERGE",lambdaConflictHandlerConfig:new ko});class Qa extends Lz{toJS(){if(!(!this.conflictDetection||this.conflictDetection==="NONE"))return{conflictDetection:this.conflictDetection,conflictHandler:this.conflictHandler,lambdaConflictHandlerConfig:this.conflictHandler==="LAMBDA"&&this.lambdaConflictHandlerConfig?this.lambdaConflictHandlerConfig.toJS():void 0}}}var kz=Object.defineProperty,Mz=Object.defineProperties,Fz=Object.getOwnPropertyDescriptors,mv=Object.getOwnPropertySymbols,Uz=Object.prototype.hasOwnProperty,$z=Object.prototype.propertyIsEnumerable,hv=(t,n,a)=>n in t?kz(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,jz=(t,n)=>{for(var a in n||(n={}))Uz.call(n,a)&&hv(t,a,n[a]);if(mv)for(var a of mv(n))$z.call(n,a)&&hv(t,a,n[a]);return t},Vz=(t,n)=>Mz(t,Fz(n));const Bz="2018-05-29",Sc=t=>({[Ve.APPSYNC_JS]:Ad,[Ve.VTL]:Ty})[t],Gz=(0,T.Record)({name:gd,runtimeVersion:Sc(gd)});class lr extends Gz{toJS(){return{name:this.name,runtimeVersion:this.runtimeVersion}}getRuntimeDependentFieldsFromEntity({code:n,functionVersion:a,requestMappingTemplate:o,responseMappingTemplate:s},c){let u;switch(this.name){case Ve.APPSYNC_JS:u={code:n||tn.resolver,runtime:c?this.toJS():this};break;case Ve.VTL:default:{u=Vz(jz({},a===null?{}:{functionVersion:a??Bz}),{requestMappingTemplate:o,responseMappingTemplate:s});break}}return u}}const fv=[{label:"General",options:[{label:"Get item by id",value:`## Below example shows how to look up an item with a Primary Key of "id" from GraphQL arguments
## The helper $util.dynamodb.toDynamoDBJson automatically converts to a DynamoDB formatted request
## There is a "context" object with arguments, identity, headers, and parent field information you can access.
## It also has a shorthand notation avaialable:
##  - $context or $ctx is the root object
##  - $ctx.arguments or $ctx.args contains arguments
##  - $ctx.identity has caller information, such as $ctx.identity.username
##  - $ctx.request.headers contains headers, such as $context.request.headers.xyz
##  - $ctx.source is a map of the parent field, for instance $ctx.source.xyz
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference.html

{
    "version": "2017-02-28",
    "operation": "GetItem",
    "key": {
        "id": $util.dynamodb.toDynamoDBJson($ctx.args.id),
    }
}`},{label:"List items",value:`## Below example will return all items in a table using a Scan
## Filtering conditions can be optionally added to scans with a "filter" and an "expression", however
##   if possible it is best practice to use a Query and/or Index for frequent conditionals
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference-dynamodb.html#aws-appsync-resolver-mapping-template-reference-dynamodb-scan
## You can also paginate through records in a table by using "nextToken" and "limit", which can be
##   arguments passed from your GraphQL query in a client application (you can uncomment out below)
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/configuring-resolvers.html#advanced-resolvers

{
    "version" : "2017-02-28",
    "operation" : "Scan",
    ## Add 'limit' and 'nextToken' arguments to this field in your schema to implement pagination. **
    ## "limit": $util.defaultIfNull(\${ctx.args.limit}, 20),
    ## "nextToken": $util.toJson($util.defaultIfNullOrBlank($ctx.args.nextToken, null))
}`},{label:"Put item",value:`## Below example shows how to create an object from all provided GraphQL arguments
## The primary key of the obejct is a randomly generated UUD using the $util.autoId() utility
## Other utilities include $util.matches() for regular expressions, $util.time.nowISO8601() or
##   $util.time.nowEpochMilliSeconds() for timestamps, and even List or Map helpers like
##   $util.list.copyAndRetainAll() $util.map.copyAndRemoveAllKeys() for shallow copies
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-context-reference.html#utility-helpers-in-util

{
    "version" : "2017-02-28",
    "operation" : "PutItem",
    "key" : {
        ## If object "id" should come from GraphQL arguments, change to $util.dynamodb.toDynamoDBJson($ctx.args.id)
        "id": $util.dynamodb.toDynamoDBJson($util.autoId()),
    },
    "attributeValues" : $util.dynamodb.toMapValuesJson($ctx.args)
}`},{label:"Put item with S3 Object",value:`## Below example will automatically use the S3Link functionality to create a pointer in your table
##   to an S3 bucket. This should be used in conjunction with the AppSync client SDK which coordinates
##   the object upload/download to S3. It requires an "S3Object" type in your GraphQL schema.
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/building-a-client-app-react.html#complex-objects
{
    "version" : "2017-02-28",
    "operation" : "PutItem",
    "key" : {
        "id" : { "S" : "\${util.autoId()}" }
    },
    #set( $attribs = $util.dynamodb.toMapValues($ctx.args) )
    #if($util.isNull($ctx.args.file.version))
        #set( $attribs.file = $util.dynamodb.toS3Object($ctx.args.file.key, $ctx.args.file.bucket, $ctx.args.file.region))
    #else
        #set( $attribs.file = $util.dynamodb.toS3Object($ctx.args.file.key, $ctx.args.file.bucket, $ctx.args.file.region, $ctx.args.file.version))
    #end
    "attributeValues" : $util.toJson($attribs)
}`},{label:"Delete item by id",value:`{
    "version" : "2017-02-28",
    "operation" : "DeleteItem",
    "key" : {
        ## If your table's hash key is not named 'id', update it here. **
        "id" : { "S" : "\${ctx.args.id}" }
        ## If your table has a sort key, add it as an item here. **
    }
}`}]},{label:"Queries",options:[{label:"Simple query",value:`## Below example shows an equality query to find an item by GraphQL input argument of "id"
## Queries can be run against a table or an index, which can be more performant than a Scan operation
##   If using an index you will also provide an "index" : "indexname" where indexname is the name of your index
## "expression" is the logical EQUALITY condition that will be evaluated
## "espressionValues" is the attribute in DynamoDB that you're evaluating the "expression" condition against
## You can optionally provide "filter" that will filter the results returned from a query
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference-dynamodb.html#aws-appsync-resolver-mapping-template-reference-dynamodb-query

{
    "version" : "2017-02-28",
    "operation" : "Query",
    "query" : {
        ## Provide a query expression. **
        "expression": "id = :id",
        "expressionValues" : {
            ":id" : $util.dynamodb.toDynamoDBJson($ctx.args.id)
        }
    }
}`},{label:"Query with greater than expression",value:`{
    "version" : "2017-02-28",
    "operation" : "Query",
    "query" : {
        ## Provide a query expression. **
        "expression": "id = :id and createdAt > :createdAt",
        "expressionValues" : {
            ":id" : {
                "S" : "\${ctx.args.id}"
            },
            ":createdAt": {
                "S": "\${ctx.args.createdAt}"
            }
        }
    }
}`},{label:"Query with filter on index",value:`## Below example shows an example of a query against a table, indexed by the "name" attribute
## The query returns any items in the index matching a certain "name", and then applies a
##    filter to the results to match only the results with a certain "city" attribute
## "expressionNames" is used as a placeholder or alias to the DynamoDB attribute, and is
##    necessary for certain reserved attribute keywords like "name" or "owner"
## "filter" : "expression" is the logical condition applied after the query runs, you can use:
##   - NOT_NULL(), NULL(), CONTAINS(), NOT_CONTAINS()
##    - This also works for attributes that are sets. For example, you can use "expression" : "contains(projects, :favfood)
##      to check an attribute called "projects" of type String Set ("SS") for matches of a certain favorite food
##   - BEGINS_WITH(), IN(), BETWEEN()
##   - Comparators: >, <. >=, <= can be used for the "expression" key inside a filter
##     - For example, "expression" : "#age > :age" would work on an attribute of type number
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference-dynamodb.html#aws-appsync-resolver-mapping-template-reference-dynamodb-filter

{
    "version" : "2017-02-28",
    "operation" : "Query",
    "index" : "name-index",
    "query" : {
        "expression": "#name = :name",
        "expressionNames" : {
        "#name" : "name"
    },
        "expressionValues" : {
            ":name" : {
                "S" : $util.dynamodb.toDynamoDBJson($ctx.args.name)
            }
        }
    },
    "filter" : {
        "expression" : "contains(#city, :city)",
        "expressionNames" : {
            "#city" : "city"
        },
        "expressionValues" : {
            ":city" : $util.dynamodb.toDynamoDBJson($ctx.args.city)
        }
    }
}`},{label:"Query with contains expression",value:`{
    "version" : "2017-02-28",
    "operation" : "Query",
    "query" : {
        ## Provide a query expression. **
        "expression": "id = :id",
        "expressionValues" : {
            ":id" : {
                "S" : "\${ctx.args.id}"
            }
        }
    },
    "filter": {
        "expression": "contains(tags, :tag)",
        "expressionValues" : {
            ":tag": {
                "S": "\${ctx.args.tag}"
            }
        }
    }
}`},{label:"Get all items created today",value:`#set( $todayString = $util.time.nowISO8601().substring(0, 10) )
{
    "version" : "2017-02-28",
    "operation" : "Query",
    "query" : {
        ## Provide a query expression. **
        "expression": "id = :id and begins_with(createdAt, :today)",
        "expressionValues" : {
            ":id" : {
                "S" : "\${ctx.args.id}"
            },
            ":today": {
                "S": "$todayString"
            }
        }
    }
}`},{label:"Simple query with pagination",value:`{
    "version" : "2017-02-28",
    "operation" : "Query",
    "query" : {
        ## Provide a query expression. **
        "expression": "id = :id",
        "expressionValues" : {
            ":id" : {
                "S" : "\${ctx.args.id}"
            }
        }
    },
    ## Add 'limit' and 'nextToken' arguments to this field in your schema to implement pagination. **
    "limit": $util.defaultIfNull(\${ctx.args.limit}, 20),
    "nextToken": $util.toJson($util.defaultIfNullOrBlank($ctx.args.nextToken, null))
}`}]},{label:"Batch operations",options:[{label:"Batch get items",value:`## Example below shows single-table batch read where the table name is "Posts" and the items in
##   DynamoDB have a primary key of "id". You can read from multiple tables at once by
##   specifying each table name under "tables" - e.g. "tables": {"Table1": "...", "Table2": "..."}
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/tutorial-dynamodb-batch.html

#set($ids = [])
#foreach($id in \${ctx.args.ids})
    #set($map = {})
    $util.qr($map.put("id", $util.dynamodb.toString($id)))
    $util.qr($ids.add($map))
#end

{
    "version" : "2018-05-29",
    "operation" : "BatchGetItem",
    "tables" : {
        "Posts": {
            "keys": $util.toJson($ids),
            "consistentRead": true
        }
    }
}`},{label:"Batch put items",value:`## Example below shows single-table batch write where the table name is "Posts" and the objects
##   passed as arguments are written to DynamoDB. You can write to multiple tables at once by
##   specifying each table name under "tables" - e.g. "tables": {"Table1": "...", "Table2": "..."}
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/tutorial-dynamodb-batch.html

#set($postsdata = [])
#foreach($item in \${ctx.args.posts})
    $util.qr($postsdata.add($util.dynamodb.toMapValues($item)))
#end

{
    "version" : "2018-05-29",
    "operation" : "BatchPutItem",
    "tables" : {
        "Posts": $utils.toJson($postsdata)
    }
}`},{label:"Batch delete items",value:`## Example below shows single-table batch delete where the table name is "Posts" and the items in
##   DynamoDB have a primary key of "id". You can delete from multiple tables at once by
##   specifying each table name under "tables" - e.g. "tables": {"Table1": "...", "Table2": "..."}
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/tutorial-dynamodb-batch.html

#set($ids = [])
#foreach($id in \${ctx.args.ids})
    #set($map = {})
    $util.qr($map.put("id", $util.dynamodb.toString($id)))
    $util.qr($ids.add($map))
#end

{
    "version" : "2018-05-29",
    "operation" : "BatchDeleteItem",
    "tables" : {
        "Posts": $util.toJson($ids)
    }
}`}]},{label:"Authorization",options:[{label:"Cognito User Pool group access",value:`#set($expression = "")
#set($expressionValues = {})
#foreach($group in $ctx.identity.claims.get("cognito:groups"))
    #set( $expression = "\${expression} contains(groupsCanAccess, :var$foreach.count )" )
    #set( $val = {})
    #set( $test = $val.put("S", $group))
    #set( $values = $expressionValues.put(":var$foreach.count", $val))
    #if ( $foreach.hasNext )
    #set( $expression = "\${expression} OR" )
    #end
#end
{
    "version" : "2017-02-28",
    "operation" : "Scan",
    "filter":{
        "expression": "$expression",
        "expressionValues": $utils.toJson($expressionValues)
    }
}`},{label:"Put item with Cognito identity",value:`#set( $attributes = $util.dynamodb.toMapValues($ctx.args) )
$util.qr($attributes.put("identity", $ctx.identity.cognitoIdentityId))
{
    "version" : "2017-02-28",
    "operation" : "PutItem",
    "key" : {
        "id" : { "S" : "\${context.args.id}" }
    },
    "attributeValues": $util.toJson($attributes)
}`},{label:"Owner can delete an item",value:`{
    "version" : "2017-02-28",
    "operation" : "DeleteItem",
    "key" : {
        "id" : { "S" : "\${context.args.id}" }
    },
    "condition" : {
        "expression"       : "contains(Owner,:expectedOwner)",
        "expressionValues" : {
            ":expectedOwner" : { "S" : "\${context.identity.username}" }
        }
    }
}`}]},{label:"Offline client",options:[{label:"Offline-enabled put item",value:`{
    "version" : "2017-02-28",
    "operation" : "PutItem",
    "key": {
        "id": { "S" : "$utils.autoId()"}
    },
    #set( $attribs = $util.dynamodb.toMapValues($ctx.args) )
    $util.qr($attribs.remove("relayState"))
    #set( $attribs.version = { "N" : 1 } )
    "attributeValues" : $util.toJson($attribs)
}`},{label:"Conditional update with version",value:`{
    "version" : "2017-02-28",
    "operation" : "UpdateItem",
    "key" : {
        "id" : $util.dynamodb.toDynamoDBJson($ctx.args.id)
    },

    ## Set up some space to keep track of things we're updating **
    #set( $expNames  = {} )
    #set( $expValues = {} )
    #set( $expSet = {} )
    #set( $expAdd = {} )
    #set( $expRemove = [] )

    ## Increment "version" by 1 **
    $!{expAdd.put("version", ":one")}
    $!{expValues.put(":one", $util.dynamodb.toDynamoDB(1))}

    ## Iterate through each argument, skipping "id" and "expectedVersion" **
    #foreach( $entry in $util.map.copyAndRemoveAllKeys($ctx.args, ["id","expectedVersion"]).entrySet() )
        #if( $util.isNull($entry.value) )
            ## If the argument is set to "null", then remove that attribute from the item in DynamoDB **

            #set( $discard = \${expRemove.add("#\${entry.key}")} )
            $!{expNames.put("#\${entry.key}", "\${entry.key}")}
        #else
            ## Otherwise set (or update) the attribute on the item in DynamoDB **

            $!{expSet.put("#\${entry.key}", ":\${entry.key}")}
            $!{expNames.put("#\${entry.key}", "\${entry.key}")}
            $!{expValues.put(":\${entry.key}", $util.dynamodb.toDynamoDB($entry.value))}
        #end
    #end

    ## Start building the update expression, starting with attributes we're going to SET **
    #set( $expression = "" )
    #if( !\${expSet.isEmpty()} )
        #set( $expression = "SET" )
        #foreach( $entry in $expSet.entrySet() )
            #set( $expression = "\${expression} \${entry.key} = \${entry.value}" )
            #if ( $foreach.hasNext )
                #set( $expression = "\${expression}," )
            #end
        #end
    #end

    ## Continue building the update expression, adding attributes we're going to ADD **
    #if( !\${expAdd.isEmpty()} )
        #set( $expression = "\${expression} ADD" )
        #foreach( $entry in $expAdd.entrySet() )
            #set( $expression = "\${expression} \${entry.key} \${entry.value}" )
            #if ( $foreach.hasNext )
                #set( $expression = "\${expression}," )
            #end
        #end
    #end

    ## Continue building the update expression, adding attributes we're going to REMOVE **
    #if( !\${expRemove.isEmpty()} )
        #set( $expression = "\${expression} REMOVE" )

        #foreach( $entry in $expRemove )
            #set( $expression = "\${expression} \${entry}" )
            #if ( $foreach.hasNext )
                #set( $expression = "\${expression}," )
            #end
        #end
    #end

    ## Finally, write the update expression into the document, along with any expressionNames and expressionValues **
    "update" : {
        "expression" : "\${expression}",
        #if( !\${expNames.isEmpty()} )
            "expressionNames" : $utils.toJson($expNames),
        #end
        #if( !\${expValues.isEmpty()} )
            "expressionValues" : $utils.toJson($expValues),
        #end
    },

    "condition" : {
        "expression"       : "version = :expectedVersion",
        "expressionValues" : {
            ":expectedVersion" : $util.dynamodb.toDynamoDBJson($ctx.args.expectedVersion)
        }
    }
}`}]},{label:"Conflict detect and resolution",options:[{label:"PutItem with conflict resolution",value:`{
  "version": "2018-05-29",
  "operation": "PutItem",
  "key": { "id": { "S": "\${context.arguments.input.id}" } },
  #if($context.arguments.condition)
    "condition": $utils.transform.toDynamoDBConditionExpression($context.arguments.condition),
  #end
  "attributeValues": $util.dynamodb.toMapValuesJson($ctx.args.input)
}`},{label:"UpdateItem with conflict resolution",value:`{
    "version" : "2018-05-29",
    "operation" : "UpdateItem",
    "key" : {
        "postId" : { "S" : "\${context.arguments.input.postId}" }
    },
    "_version": \${context.arguments.input["_version"]},
    #if($context.arguments.condition)
        "condition": $utils.transform.toDynamoDBConditionExpression($context.arguments.condition),
    #end
    "update": {
        "expression" : "SET #author = :author, #title = :title, #metadata = :metadata, #ratings = :ratings, #comments = :comments",
        "expressionNames": {
            "#author" : "author",
            "#title" : "title",
            "#metadata" : "metadata",
            "#ratings" : "ratings",
            "#comments" : "comments",
        },
        "expressionValues" : {
            ":author" : { "S": "\${context.arguments.input.author}" },
            ":title" : { "S": "\${context.arguments.input.title}" },
            ":metadata" : $util.dynamodb.toMapJson($context.arguments.input.metadata),
            ":ratings" : $util.dynamodb.toListJson(\${context.arguments.input.ratings}),
            ":comments": $util.dynamodb.toListJson(\${context.arguments.input.comments})
        }
    }
}`},{label:"DeleteItem with conflict resolution",value:`{
    "version" : "2018-05-29",
    "operation" : "DeleteItem",
    "key" : {
        "postId" : { "S" : "\${context.arguments.input.postId}" }
    },
    #if($context.arguments.condition)
        "condition": $utils.transform.toDynamoDBConditionExpression($context.arguments.condition),
    #end
    "_version": \${context.arguments.input["_version"]}
}`},{label:"Sync",value:`{
    "version" : "2018-05-29",
    "operation" : "Sync",
    ## Add 'limit' and 'nextToken' arguments to this field in your schema to implement pagination. **
    "limit": $util.defaultIfNull(\${ctx.args.limit}, 100),
    "nextToken": $util.toJson($util.defaultIfNullOrBlank($ctx.args.nextToken, null)),
    "lastSync": $util.toJson($util.defaultIfNull(\${ctx.args.lastSync}, null))
}`}]}],yv=`## Below example shows how to look up an item with a Primary Key of "id" from GraphQL arguments
## The helper $util.dynamodb.toDynamoDBJson automatically converts to a DynamoDB formatted request
## There is a "context" object with arguments, identity, headers, and parent field information you can access.
## It also has a shorthand notation avaialable:
##  - $context or $ctx is the root object
##  - $ctx.arguments or $ctx.args contains arguments
##  - $ctx.identity has caller information, such as $ctx.identity.username
##  - $ctx.request.headers contains headers, such as $context.request.headers.xyz
##  - $ctx.source is a map of the parent field, for instance $ctx.source.xyz
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference.html

{
    "version": "2017-02-28",
    "operation": "GetItem",
    "key": {
        "id": $util.dynamodb.toDynamoDBJson($ctx.args.id),
    }
}`,gv=`## Below example shows how to create an object from all provided GraphQL arguments
## The primary key of the obejct is a randomly generated UUD using the $util.autoId() utility
## Other utilities include $util.matches() for regular expressions, $util.time.nowISO8601() or
##   $util.time.nowEpochMilliSeconds() for timestamps, and even List or Map helpers like
##   $util.list.copyAndRetainAll() $util.map.copyAndRemoveAllKeys() for shallow copies
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-context-reference.html#utility-helpers-in-util

{
    "version" : "2017-02-28",
    "operation" : "PutItem",
    "key" : {
        ## If object "id" should come from GraphQL arguments, change to $util.dynamodb.toDynamoDBJson($ctx.args.id)
        "id": $util.dynamodb.toDynamoDBJson($util.autoId()),
    },
    "attributeValues" : $util.dynamodb.toMapValuesJson($ctx.args)
}`,Av=[{label:"Get document by id",value:`#**
    Use the 'path' to get a single value by id.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "version": "2017-02-28",
    "operation": "GET",
    "path": "/<index>/<type>/\${context.arguments.id}",
    "params": {}
}`},{label:"Simple term query",value:`#**
    The 'params' key accepts any valid Elasticsearch DSL expression.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "version":"2017-02-28",
    "operation":"GET",
    "path":"/<index>/<type>/_search",
    "params":{
        "body": {
            "from": 0,
            "size": 50,
            "query": {
                "term" :{
                    "<field>":"\${context.arguments.<field>}"
                }
            }
        }
    }
}`},{label:"Paginate with fixed-size pages",value:`#**
    The 'params' key accepts any valid Elasticsearch DSL expression.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "version": "2017-02-28",
    "operation": "GET",
    "path": "/<index>/<type>/_search",
    "params": {
        "body": {
            "from": \${context.arguments.from},
            "size": \${context.arguments.size}
        }
    }
}`},{label:"Get all documents within a 20 mile radius",value:`#**
    The 'params' key accepts any valid Elasticsearch DSL expression.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "version":"2017-02-28",
    "operation":"GET",
    "path":"/<index>/<type>/_search",
    "params":{
        "body": {
            "query": {
              "filtered" : {
                  "query" : {
                      "match_all" : {}
                  },
                  "filter" : {
                      "geo_distance" : {
                          "distance" : "20mi",
                          "location" : {
                              "lat" : 47.6205,
                              "lon" : 122.3493
                          }
                      }
                  }
              }
            }
        }
    }
}`}],zz=`#**
The 'params' key accepts any valid Elasticsearch DSL expression.
You must replace the <index>, <type>, and <field> placeholders with actual values.
*#
{
  "version":"2017-02-28",
  "operation":"GET",
  "path":"/<index>/<type>/_search",
  "params":{
      "body": {
          "from": 0,
          "size": 50,
          "query": {
              "term" :{
                  "<field>":"\${context.args.<field>}"
              }
          }
      }
  }
}`,Ev=[{label:"Get document by id",value:`#**
    Use the 'path' to get a single value by id.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "version": "2017-02-28",
    "operation": "GET",
    "path": "/<index>/<type>/\${context.arguments.id}",
    "params": {}
}`},{label:"Simple term query",value:`#**
    The 'params' key accepts any valid OpenSearch (successor to Elasticsearch) DSL expression.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "version":"2017-02-28",
    "operation":"GET",
    "path":"/<index>/<type>/_search",
    "params":{
        "body": {
            "from": 0,
            "size": 50,
            "query": {
                "term" :{
                    "<field>":"\${context.arguments.<field>}"
                }
            }
        }
    }
}`},{label:"Paginate with fixed-size pages",value:`#**
    The 'params' key accepts any valid OpenSearch (successor to Elasticsearch) DSL expression.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "version": "2017-02-28",
    "operation": "GET",
    "path": "/<index>/<type>/_search",
    "params": {
        "body": {
            "from": \${context.arguments.from},
            "size": \${context.arguments.size}
        }
    }
}`},{label:"Get all documents within a 20 mile radius",value:`#**
    The 'params' key accepts any valid OpenSearch (successor to Elasticsearch) DSL expression.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "version":"2017-02-28",
    "operation":"GET",
    "path":"/<index>/<type>/_search",
    "params":{
        "body": {
            "query": {
              "filtered" : {
                  "query" : {
                      "match_all" : {}
                  },
                  "filter" : {
                      "geo_distance" : {
                          "distance" : "20mi",
                          "location" : {
                              "lat" : 47.6205,
                              "lon" : 122.3493
                          }
                      }
                  }
              }
            }
        }
    }
}`}],qz=`#**
The 'params' key accepts any valid OpenSearch (successor to Elasticsearch) DSL expression.
You must replace the <index>, <type>, and <field> placeholders with actual values.
*#
{
  "version":"2017-02-28",
  "operation":"GET",
  "path":"/<index>/<type>/_search",
  "params":{
      "body": {
          "from": 0,
          "size": 50,
          "query": {
              "term" :{
                  "<field>":"\${context.args.<field>}"
              }
          }
      }
  }
}`,bv=[{label:"GET and forward arguments as query params",value:`{
    "version": "2018-05-29",
    "method": "GET",
    ## E.G. if full path is https://api.xxxxxxxxx.com/posts then resourcePath would be /posts **
    "resourcePath": "/",
    "params":{
        "query":$util.toJson($ctx.args),
        "headers": {
            "Authorization": "$ctx.request.headers.Authorization"
        }
    }
}`},{label:"POST and forward arguments as json",value:`{
    "version": "2018-05-29",
    "method": "POST",
    ## E.G. if full path is https://api.xxxxxxxxx.com/posts then resourcePath would be /posts **
    "resourcePath": "/",
    "params":{
        "body":$util.toJson($ctx.args),
        "headers":{
            "Content-Type": "application/json",
            "Authorization": "$ctx.request.headers.Authorization"
        }
    }
}`},{label:"GET and forward headers",value:`{
    "version": "2018-05-29",
    "method": "GET",
    "resourcePath": "/",
    "params":{
        ## you can forward the headers using the below utility
        "headers": $utils.http.copyheaders($ctx.request.headers)
    }
}`},{label:"Simple GET",value:`{
    "version": "2018-05-29",
    "method": "GET",
    "resourcePath": "/"
}`},{label:"Simple DELETE",value:`{
    "version": "2018-05-29",
    "method": "DELETE",
    "resourcePath": "/"
}`}],Kz=`#**
Make an arbitrary HTTP call when this field is listed in a query selection set.
The "relativePath" is the resource path relative to the root URL provided when you
created the HTTP data source. Pass a "params" object to forward headers, body,
and query parameters to the HTTP endpoint.
*#
{
  "version": "2018-05-29",
  "method": "GET",
  ## E.G. if full path is https://api.xxxxxxxxx.com/posts then resourcePath would be /posts **
  "resourcePath": "/",
  "params":{
      "query":$util.toJson($ctx.args),
      "headers": {
          "Authorization": "$ctx.request.headers.Authorization"
      }
  }
}`,Wt=(0,xy.JF)().processString,vv=[{label:"Invoke and forward arguments",value:`#**
    The value of 'payload' after the template has been evaluated
    will be passed as the event to ${Wt("AWS Lambda")}.
*#
{
    "version" : "2017-02-28",
    "operation": "Invoke",
    "payload": $util.toJson($context.arguments)
}`},{label:"BatchInvoke and forward arguments",value:`#**
    The BatchInvoke operation combines multiple ${Wt("AWS Lambda")} resolvers into a single invocation.
    When using BatchInvoke the ${Wt("AWS Lambda")} function should expect a list of key values and return
    a list of result values in the same order.

    The value of 'payload' after the template has been evaluated will be
    a single item in the list that makes up the event to ${Wt("AWS Lambda")}.
*#
{
    "version" : "2017-02-28",
    "operation": "BatchInvoke",
    "payload": $util.toJson($context.arguments)
}`}],Wz=`#**
The value of 'payload' after the template has been evaluated
will be passed as the event to ${Wt("AWS Lambda")}.
*#
{
  "version" : "2017-02-28",
  "operation": "Invoke",
  "payload": $util.toJson($context.args)
}`,Sv=[{label:"Simple publish",value:`#**
    Resolvers with None data sources can locally publish events
    that fire subscriptions without hitting a backend data source.
    The value of 'payload' after the template has been evaluated
    will be directly forwarded to the response.
*#
{
    "version": "2017-02-28",
    "payload": {
        "body": "\${context.arguments.body}",
        "from": "\${context.identity.username}",
        "to":  "\${context.arguments.to}",
        "sentAt": "$util.time.nowISO8601()"
    }
}`}],Hz=`#**
Resolvers with None data sources can locally publish events that fire
subscriptions or otherwise transform data without hitting a backend data source.
The value of 'payload' is forwarded to $ctx.result in the response mapping template.
*#
{
    "version": "2017-02-28",
    "payload": {
        "hello": "local",
    }
}`,Tv=[{label:"Select statement for a relational database data source.",value:`{
    "version": "2018-05-29",
    "statements": [
            "select * from Pets where type = :TYPE"
    ],
    "variableMap": {
        ":TYPE": $util.toJson($ctx.args.type)
    }
}`}],Jz=`{
    "version": "2018-05-29",
    "statements": [
            "select * from Pets where type = :TYPE"
    ],
    "variableMap": {
        ":TYPE": $util.toJson($ctx.args.type)
    }
}`,Iv=[{label:"General",options:[{label:"Return single item",value:`## Pass back the result from DynamoDB. **
$util.toJson($ctx.result)`},{label:"Return a list of results",value:`#**
    Return a flat list of results from a Query or Scan operation.
*#
$util.toJson($ctx.result.items)`},{label:"Return paginated results",value:`#**
    Scan and Query operations return a list of items and a nextToken. Pass them
    to the client for use in pagination.
*#
{
    "items": $util.toJson($ctx.result.items),
    "nextToken": $util.toJson($util.defaultIfNullOrBlank($context.result.nextToken, null))
}`}]},{label:"Batch operations",options:[{label:"Batch response",value:`## Batch results are available in $context.result.data as name of the table (TABLENAME below)
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/tutorial-dynamodb-batch.html

$util.toJson($ctx.result.data.TABLENAME)`},{label:"Batch response with error handling",value:`## Batch results are available in $context.result.data as name of the table (TABLENAME below)
## If there was an error with invocation there may be partial results in $ctx.error object
## You can append an error for that field in GraphQL response along with successful data
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/tutorial-dynamodb-batch.html

#if($ctx.error)
    $utils.appendError($ctx.error.message, $ctx.error.message)
#end
$utils.toJson($ctx.result.data)`}]},{label:"Authorization",options:[{label:"Return only my owned records",value:`#set($myResults = [])
#foreach($item in $ctx.result.items)
    ## For Cognito User Pools use $ctx.identity.username instead
    #if($item.Owner == $ctx.identity.cognitoIdentityId)
        #set($added = $myResults.add($item))
    #end
#end
$utils.toJson($myResults)`},{label:"Return a single record if public",value:`#if($ctx.result.public == 'yes')
    $utils.toJson($ctx.result)
#else
    $utils.unauthorized()
#end`},{label:"Return record if viewable by my groups",value:`#set($permissions = $ctx.result.GroupsCanAccess)
#set($claimPermissions = $ctx.identity.claims.get("cognito:groups"))

#foreach($per in $permissions)
    #foreach($cgroups in $claimPermissions)
        #if($cgroups == $per)
            #set($hasPermission = true)
        #end
    #end
#end

#if($hasPermission)
    $utils.toJson($ctx.result)
#else
    $utils.unauthorized()
#end`},{label:"Return a list of public records",value:`#set($publicRecords = [])
#foreach($item in $ctx.result.items)
    #if($item.public == 'yes')
        #set($added = $publicRecords.add($item))
    #end
#end
$utils.toJson($publicRecords)`}]},{label:"Offline client",options:[{label:"Offline-enabled response",value:`$util.qr($context.result.put("relayState", "$context.arguments.relayState"))
$util.toJson($context.result)`}]}],Cv=`## Pass back the result from DynamoDB. **
$util.toJson($ctx.result)`,Rv=[{label:"Return single document's source",value:`#**
    $context.result contains the full response of the Elasticsearch query.
    You can use this template to return the data from an Elasticsearch
    query that returns a single result.
*#
$util.toJson($context.result.get("_source"))`},{label:"Return a list of document sources",value:`#**
    $context.result contains the full response of the Elasticsearch query.
    Select a subset of information or iterate through hits to return the
    same shape as is expected by this field.
*#
[
    #foreach($entry in $context.result.hits.hits)
        ## $velocityCount starts at 1 and increments with the #foreach loop **
        #if( $velocityCount > 1 ) , #end
        $util.toJson($entry.get("_source"))
    #end
]`}],Yz=`#**
$context.result contains the full response of the Elasticsearch query.
Select a subset of information or iterate through hits to return the
same shape as is expected by this field.
*#
[
#foreach($entry in $context.result.hits.hits)
  $util.toJson($entry.get("_source"))
#end
]`,wv=[{label:"Return single document's source",value:`#**
    $context.result contains the full response of the OpenSearch (successor to Elasticsearch) query.
    You can use this template to return the data from an OpenSearch (successor to Elasticsearch) 
    query that returns a single result.
*#
$util.toJson($context.result.get("_source"))`},{label:"Return a list of document sources",value:`#**
    $context.result contains the full response of the OpenSearch (successor to Elasticsearch) query.
    Select a subset of information or iterate through hits to return the
    same shape as is expected by this field.
*#
[
    #foreach($entry in $context.result.hits.hits)
        ## $velocityCount starts at 1 and increments with the #foreach loop **
        #if( $velocityCount > 1 ) , #end
        $util.toJson($entry.get("_source"))
    #end
]`}],Qz=`#**
$context.result contains the full response of the OpenSearch (successor to Elasticsearch) query.
Select a subset of information or iterate through hits to return the
same shape as is expected by this field.
*#
[
#foreach($entry in $context.result.hits.hits)
  $util.toJson($entry.get("_source"))
#end
]`,Pv=[{label:"Return response on 200 (OK)",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
  $util.error($ctx.error.message, $ctx.error.type)
#end
## if the response status code is not 200, then return an error. Else return the body **
#if($ctx.result.statusCode == 200)
    ## If response is 200, return the body.
    $ctx.result.body
#else
    ## If response is not 200, append the response to error block.
    $utils.appendError($ctx.result.body, "$ctx.result.statusCode")
#end`},{label:"Return XML response as JSON",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
  $util.error($ctx.error.message, $ctx.error.type)
#end
## if the response is of xml type return a json representation return the body **
#if($ctx.result.statusCode == 200)
    ## If response is 200, return the body.
    $utils.xml.toJsonString($ctx.result.body)
#else
    ## If response is not 200, append the response to error block.
    $utils.appendError($ctx.result.body, "$ctx.result.statusCode")
#end`}],Xz=`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
  $util.error($ctx.error.message, $ctx.error.type)
#end
## If the response is not 200 then return an error. Else return the body **
#if($ctx.result.statusCode == 200)
    $ctx.result.body
#else
    $utils.appendError($ctx.result.body, "$ctx.result.statusCode")
#end`,Ov=[{label:"Return lambda result",value:"$util.toJson($context.result)"}],Zz="$util.toJson($context.result)",Dv=[{label:"Forward the result",value:"$util.toJson($context.result)"}],eq="$util.toJson($context.result)",Nv=[{label:"Return response on 200 (OK)",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $utils.error($ctx.error.message, $ctx.error.type)
#end

$utils.toJson($utils.rds.toJsonObject($ctx.result)[0])`}],tq=`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $utils.error($ctx.error.message, $ctx.error.type)
#end

$utils.toJson($utils.rds.toJsonObject($ctx.result)[0])`,dm=[{label:"Put a single event on an event bus",value:`## Below example shows how to put a single event on an event bus
## There is a "context" object with arguments, identity, headers, and parent field information you can access.
## It also has a shorthand notation available:
##  - $context or $ctx is the root object
##  - $ctx.arguments or $ctx.args contains arguments
##  - $ctx.identity has caller information, such as $ctx.identity.username
##  - $ctx.request.headers contains headers, such as $context.request.headers.xyz
##  - $ctx.source is a map of the parent field, for instance $ctx.source.xyz
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference.html

{
    "version": "2018-05-29",
    "operation": "PutEvents",
    "events": [{
        "source": "appsync",
        "detail": { 
            "name": $util.toJson($ctx.arguments.name),
            "message": $util.toJson($ctx.arguments.message)
        },
        "detailType": "some detail type"
    }]
}`},{label:"Put a single event on an event bus with time and resources",value:`## Below example shows how to put a single event on an event bus
## There is a "context" object with arguments, identity, headers, and parent field information you can access.
## It also has a shorthand notation available:
##  - $context or $ctx is the root object
##  - $ctx.arguments or $ctx.args contains arguments
##  - $ctx.identity has caller information, such as $ctx.identity.username
##  - $ctx.request.headers contains headers, such as $context.request.headers.xyz
##  - $ctx.source is a map of the parent field, for instance $ctx.source.xyz
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference.html

{
    "version": "2018-05-29",
    "operation": "PutEvents",
    "events": [{
        "source": "appsync",
        "time": $util.toJson($util.time.nowISO8601()), 
        "resources": $util.toJson($ctx.arguments.resources),
        "detail": { 
            "name": $util.toJson($ctx.arguments.name),
            "message": $util.toJson($ctx.arguments.message)
        },
        "detailType": "some detail type"
    }]
}`}],nq=dm[0].value,pm=[{label:"General",options:[{label:"Return the EventBridge response",id:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
   $util.error($ctx.error.message, $ctx.error.type)
#end
## Pass back the result from EventBridge. **
$util.toJson($ctx.result)`}]}],rq=pm[0].options[0].id,mm=`## By default in a before template, all you need is a valid JSON payload.
## You can also stash data to be made available to the functions in the pipeline.
## Examples: 
## - $ctx.stash.put("email", $ctx.args.email)
## - $ctx.stash.put("badgeNumber", $ctx.args.input.badgeNumber)
## - $ctx.stash.put("username", $ctx.identity.username)

{}`,hm=`## The after mapping template is used to collect the final value that is returned by the resolver. 
$util.toJson($ctx.result)`,js={[_.DYNAMODB]:yv,[_.DDB_DELTA_SYNC]:yv,[_.ELASTIC_SEARCH]:zz,[_.OPEN_SEARCH]:qz,[_.LAMBDA]:Wz,[_.HTTP]:Kz,[_.NONE]:Hz,[_.RDS]:Jz,[_.EVENT_BRIDGE]:nq},Vs={[_.DYNAMODB]:Cv,[_.DDB_DELTA_SYNC]:Cv,[_.ELASTIC_SEARCH]:Yz,[_.OPEN_SEARCH]:Qz,[_.LAMBDA]:Zz,[_.HTTP]:Xz,[_.NONE]:eq,[_.RDS]:tq,[_.EVENT_BRIDGE]:rq},dbe={[_.DYNAMODB]:fv,[_.ELASTIC_SEARCH]:Av,[_.OPEN_SEARCH]:Ev,[_.LAMBDA]:vv,[_.NONE]:Sv,[_.HTTP]:bv,[_.RDS]:Tv,[_.EVENT_BRIDGE]:dm},pbe={[_.DYNAMODB]:Iv,[_.ELASTIC_SEARCH]:Rv,[_.OPEN_SEARCH]:wv,[_.LAMBDA]:Ov,[_.NONE]:Dv,[_.HTTP]:Pv,[_.RDS]:Nv,[_.EVENT_BRIDGE]:pm};var aq=Object.defineProperty,iq=Object.defineProperties,oq=Object.getOwnPropertyDescriptors,_v=Object.getOwnPropertySymbols,sq=Object.prototype.hasOwnProperty,lq=Object.prototype.propertyIsEnumerable,xv=(t,n,a)=>n in t?aq(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,vr=(t,n)=>{for(var a in n||(n={}))sq.call(n,a)&&xv(t,a,n[a]);if(_v)for(var a of _v(n))lq.call(n,a)&&xv(t,a,n[a]);return t},Bs=(t,n)=>iq(t,oq(n));const cq=(0,T.Record)({typeName:"",fieldName:"",dataSourceName:"",resolverArn:"",requestMappingTemplate:"",responseMappingTemplate:"",enabledRequestMappingTemplate:!0,enabledResponseMappingTemplate:!0,kind:"UNIT",pipelineConfig:new Us,cachingConfig:new $s,apiId:"",recordStatus:new fe,syncConfig:new Qa,maxBatchSize:0,code:null,runtime:new lr,metricsConfig:oe.g4.DISABLED});class Sr extends cq{static getKey(n,a,o){return ce(n,"v1",a,"resolver",o)}constructor(n){const a=n?.runtime||new lr,o=n?.code||tn.resolver,s=a.getRuntimeDependentFieldsFromEntity({code:o,requestMappingTemplate:n?.requestMappingTemplate||"",responseMappingTemplate:n?.responseMappingTemplate||"",functionVersion:null}),c=Bs(vr(vr({},n),s),{runtime:a});super(c)}toJS(){return super.toJS()}getDefaultTemplate(n,a){return a==="responseMappingTemplate"?Vs[n]:this.typeName==="Mutation"&&n===_.DYNAMODB?gv:js[n]}getBaseRequestTemplate(){var n;return Bs(vr({apiId:this.apiId,typeName:this.typeName,fieldName:this.fieldName,syncConfig:(n=this.syncConfig)==null?void 0:n.toJS(),maxBatchSize:this.maxBatchSize},this.cachingConfig.enableCaching&&{cachingConfig:this.cachingConfig.toJS()}),{metricsConfig:this.metricsConfig})}getKindDependentRequestTemplate(){let n;switch(this.kind){case"PIPELINE":n={kind:this.kind,pipelineConfig:this.pipelineConfig.toJS()};break;case"UNIT":default:n={kind:this.kind,dataSourceName:this.dataSourceName};break}return n}generateRequestPayload(){return vr(vr(vr({},this.getBaseRequestTemplate()),this.getKindDependentRequestTemplate()),this.runtime.getRuntimeDependentFieldsFromEntity({code:this.code,requestMappingTemplate:this.requestMappingTemplate,responseMappingTemplate:this.responseMappingTemplate,functionVersion:null},!0))}getCreateResolverRequest(){return this.generateRequestPayload()}getUpdateResolverRequest(){return this.generateRequestPayload()}getKey(){return Sr.getKey(this.apiId,this.typeName,this.fieldName)}}function ji(t,n){var a,o,s,c;return new Sr(Bs(vr({},t),{kind:t.kind||"UNIT",apiId:n,pipelineConfig:new Us({functions:t.pipelineConfig&&t.pipelineConfig.functions?(0,T.List)(t.pipelineConfig.functions):(0,T.List)()}),cachingConfig:new $s(Bs(vr({enableCaching:!!t.cachingConfig},t.cachingConfig),{cachingKeys:t.cachingConfig&&t.cachingConfig.cachingKeys?(0,T.List)(t.cachingConfig.cachingKeys):(0,T.List)()})),syncConfig:t.syncConfig?new Qa(Bs(vr({},t.syncConfig),{lambdaConflictHandlerConfig:t.syncConfig.lambdaConflictHandlerConfig?new ko(vr({},t.syncConfig.lambdaConflictHandlerConfig)):new ko})):new Qa,maxBatchSize:t.maxBatchSize,requestMappingTemplate:(a=t.requestMappingTemplate)!=null?a:"",responseMappingTemplate:(o=t.responseMappingTemplate)!=null?o:"",code:((s=t.runtime)==null?void 0:s.name)===Ve.APPSYNC_JS?t.code:null,runtime:new lr(vr({},(c=t.runtime)!=null?c:{name:Ve.VTL})),metricsConfig:t.metricsConfig}))}var uq=Object.defineProperty,dq=Object.defineProperties,pq=Object.getOwnPropertyDescriptors,Lv=Object.getOwnPropertySymbols,mq=Object.prototype.hasOwnProperty,hq=Object.prototype.propertyIsEnumerable,kv=(t,n,a)=>n in t?uq(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,ga=(t,n)=>{for(var a in n||(n={}))mq.call(n,a)&&kv(t,a,n[a]);if(Lv)for(var a of Lv(n))hq.call(n,a)&&kv(t,a,n[a]);return t},fm=(t,n)=>dq(t,pq(n));const fq=(0,T.Record)({functionId:"",functionArn:"",name:"",description:null,dataSourceName:"",requestMappingTemplate:"",responseMappingTemplate:"",enabledRequestMappingTemplate:!0,enabledResponseMappingTemplate:!0,functionVersion:"2018-05-29",apiId:"",pipelineIndex:-1,recordStatus:new fe,syncConfig:new Qa,maxBatchSize:0,code:null,runtime:new lr});class Cn extends fq{static getKey(n,a){return ce(n,"v1","function",a)}constructor(n){const a=n?.runtime||new lr,o=n?.code||tn.function,s=a.getRuntimeDependentFieldsFromEntity({code:o,functionVersion:n?.functionVersion,requestMappingTemplate:n?.requestMappingTemplate,responseMappingTemplate:n?.responseMappingTemplate}),c=fm(ga(ga({},n),s),{runtime:a});super(c)}toJS(){return super.toJS()}static getDefaultTemplate(n,a){return a==="responseMappingTemplate"?Vs[n]:js[n]}getKey(){return Cn.getKey(this.apiId,this.functionId)}getBaseRequestTemplate(n){return ga({apiId:this.apiId,dataSourceName:this.dataSourceName,name:this.name,description:this.description,syncConfig:this.syncConfig?this.syncConfig.toJS():void 0,maxBatchSize:this.maxBatchSize},n&&{functionId:n})}generateRequestPayload(n){return ga(ga({},this.getBaseRequestTemplate(n)),this.runtime.getRuntimeDependentFieldsFromEntity({code:this.code,functionVersion:this.functionVersion,requestMappingTemplate:this.requestMappingTemplate,responseMappingTemplate:this.responseMappingTemplate},!0))}getCreateFunctionRequest(){return this.generateRequestPayload()}getUpdateFunctionRequest(){return this.generateRequestPayload(this.functionId)}}function Gs(t,n){var a,o;return new Cn(fm(ga({},t),{apiId:n,syncConfig:t.syncConfig?new Qa(fm(ga({},t.syncConfig),{lambdaConflictHandlerConfig:t.syncConfig.lambdaConflictHandlerConfig?new ko(ga({},t.syncConfig.lambdaConflictHandlerConfig)):new ko})):new Qa,code:((a=t.runtime)==null?void 0:a.name)===Ve.APPSYNC_JS?t.code:null,runtime:new lr(ga({},(o=t.runtime)!=null?o:{name:Ve.VTL}))}))}var hbe=v(15240),fbe=v(64583),yq=Object.defineProperty,gq=Object.defineProperties,Aq=Object.getOwnPropertyDescriptors,Mv=Object.getOwnPropertySymbols,Eq=Object.prototype.hasOwnProperty,bq=Object.prototype.propertyIsEnumerable,Fv=(t,n,a)=>n in t?yq(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Tc=(t,n)=>{for(var a in n||(n={}))Eq.call(n,a)&&Fv(t,a,n[a]);if(Mv)for(var a of Mv(n))bq.call(n,a)&&Fv(t,a,n[a]);return t},vq=(t,n)=>gq(t,Aq(n));const Sq=1e3,Tq=(0,T.Record)({apiId:"",id:"",description:null,expires:0,recordStatus:new fe});class cr extends Tq{static getKey(n,a){return ce(n,"apiKey",a)}getKey(){return cr.getKey(this.apiId,this.id)}isExpired(){return this.toUTCDate()<new Date}getCreateApiKeyRequest(){return Tc({apiId:this.apiId,description:this.description||""},this.expires>0?{expires:this.expires}:{})}getListApiKeyRequest(){return{apiId:this.apiId}}getUpdateApiKeyRequest(){return Tc(Tc({apiId:this.apiId,id:this.id},this.description!=null?{description:this.description}:{}),this.expires>0?{expires:this.expires}:{})}toUTCDate(){return this.id.slice(0,3)==="da1"?new Date(this.expires):new Date(this.expires*Sq)}toUTCString(){return this.toUTCDate().toUTCString()}getUTCHours(){return this.toUTCDate().getUTCHours()}getUTCDate(){return this.toUTCDate().toISOString().slice(0,10)}}function Uv(t,n){return new cr(vq(Tc({},t),{apiId:n}))}const ybe=(0,T.Record)({AttributeName:"",AttributeType:""});class gbe extends null{}const Iq=(0,T.Record)({ReadCapacityUnits:5,WriteCapacityUnits:5});class $v extends Iq{}const Abe=(0,T.Record)({TableName:"",AttributeDefinitions:(0,T.List)(),KeySchema:(0,T.List)(),LocalSecondaryIndexes:(0,T.List)(),ProvisionedThroughput:new $v});class Ebe extends null{}const Cq=(0,T.Record)({NonKeyAttributes:(0,T.List)(),ProjectionType:"ALL"});class Rq extends Cq{}const bbe=(0,T.Record)({IndexName:"",KeySchema:(0,T.List)(),Projection:new Rq,ProvisionedThroughput:new $v});class vbe extends null{}const Sbe=(0,T.Record)({AttributeName:"",KeyType:"HASH"});class Tbe extends null{}const wq=(0,T.Record)({AttributeName:"",AttributeType:"",IsPrimaryKey:!1,IsSortKey:!1,IsIndexed:!1,Field:new $d});class ym extends wq{getBaseType(){return this.Field.getBaseType()}toAttributeDefinition(){return{AttributeName:this.AttributeName,AttributeType:this.AttributeType}}toKeySchemaElement(){let n="";return this.IsPrimaryKey?n="HASH":this.IsSortKey&&(n="RANGE"),{AttributeName:this.AttributeName,KeyType:n}}toInputValueRecord(){return new bs({description:null,name:this.AttributeName,type:this.Field.type})}toNonNullInputValueRecord(){return new bs({description:null,name:this.AttributeName,type:this.Field.type.isRequired()?this.Field.type:this.Field.type.withRequired(!0)})}}const jv=(t,n)=>!t||!n?null:new ym({AttributeName:t.AttributeName,AttributeType:t.KeyType,IsPrimaryKey:t.KeyType==="HASH",IsSortKey:t.KeyType==="RANGE",Field:Zl(n.toJS())});var Vi=(t=>(t.DEFINE_NEW="DEFINE_NEW_TYPE",t.USE_EXISTING="USE_EXISTING_TYPE",t))(Vi||{});const Vv=`## Enter a custom type name below as well as the fields it contains. 
## Fields can of the type String, Int, Float, Boolean, ID, and other custom types that you define.
## After defining your type, edit any resource details below such as adding a secondary index and press "Create".
type MyCustomType {
  id: ID!
  title: String!
  content: String!
  price: Int
  rating: Float
}`,Pq=(0,T.Record)({TableName:"",Attributes:(0,T.List)(),Type:dM(Vv),Indexes:(0,T.List)(),EnableGenerateGraphQL:!0,selectedRuntime:null,SelectedTypeSource:"DEFINE_NEW_TYPE",TypeError:null,TypeText:Vv});class gm extends Pq{getPrimaryKey(){return this.Attributes.find(n=>n.IsPrimaryKey)}printSchemaTransform(n,a){try{const o=a.lastSavedText&&a.lastSavedText.length>0?(0,Q.parse)(a.lastSavedText).definitions:[{}],s=(0,Q.parse)(this.Type.print()).definitions[0];return new Jl({typeDefinition:s,tableDescription:this.getTableDescription(),serviceRoleArn:"",enumScalars:n.toJS(),existingDefinitions:o,enableAutoID:!0}).getSDL()}catch{return""}}validate(){const n=this.Attributes.find(s=>s.IsPrimaryKey),a=this.Attributes.find(s=>s.IsSortKey);if(!n)throw new Error("A DynamoDB table must have a primary key.");if(this.getLocalSecondaryIndexes().length&&!a)throw new Error("A DynamoDB table with Local Secondary Indexes must have a sort key.");this.Indexes.forEach(s=>s.validate(n.AttributeName))}getTableDescription(){const n=this.Attributes.find(p=>p.IsPrimaryKey);if(!n)throw new Error("A table must have at least one primary key.");const a=this.Attributes.find(p=>p.IsSortKey),o=a?[n,a]:[n],s=o.map(p=>p.toAttributeDefinition()),c=[],u=[];for(const p of this.Indexes.toArray())p.isLocalSecondaryIndex(n.AttributeName)&&c.push(p.toLocalSecondaryIndexDescription()),p.isGlobalSecondaryIndex(n.AttributeName)&&u.push(p.toGlobalSecondaryIndexDescription()),p.PrimaryKey&&!s.find(h=>h.AttributeName===p.PrimaryKey.AttributeName)&&s.push(p.PrimaryKey.toAttributeDefinition()),p.SortKey&&!s.find(h=>h.AttributeName===p.SortKey.AttributeName)&&s.push(p.SortKey.toAttributeDefinition());return{AttributeDefinitions:s,TableName:this.TableName,KeySchema:o.map(p=>p.toKeySchemaElement()),TableStatus:"ACTIVE",TableArn:`arn:${rn()}:dynamodb:${mt()}:123456789012:table/${this.TableName}`,LocalSecondaryIndexes:c,GlobalSecondaryIndexes:u}}getLocalSecondaryIndexes(){const n=this.Attributes.find(a=>a.IsPrimaryKey);if(!n)throw new Error("A table must have at least one primary key.");return this.Indexes.filter(a=>a.isLocalSecondaryIndex(n.AttributeName)).map(a=>a.toLocalSecondaryIndex()).toArray()}getGlobalSecondaryIndexes(){const n=this.Attributes.find(a=>a.IsPrimaryKey);if(!n)throw new Error("A table must have at least one primary key.");return this.Indexes.filter(a=>a.isGlobalSecondaryIndex(n.AttributeName)).map(a=>a.toGlobalSecondaryIndex()).toArray()}getCreateTableInput(){const n=this.getTableDescription(),a={AttributeDefinitions:n.AttributeDefinitions||[],TableName:n.TableName||"",KeySchema:n.KeySchema||[],SSESpecification:{Enabled:!0,SSEType:"KMS"},BillingMode:"PAY_PER_REQUEST"},o=this.getLocalSecondaryIndexes();o.length&&(a.LocalSecondaryIndexes=o);const s=this.getGlobalSecondaryIndexes();return s.length&&(a.GlobalSecondaryIndexes=s),a}toCreateTableRequest(){const{TableName:n}=this,a=this.Attributes.filter(p=>p.IsPrimaryKey||p.IsSortKey||p.IsIndexed).map(p=>({AttributeName:p.AttributeName,AttributeType:p.AttributeType})).toArray(),o=this.Attributes.find(p=>p.IsPrimaryKey);if(!o)throw new Error("A DynamoDB table must have a primary key");const s=this.Attributes.filter(p=>p.IsPrimaryKey||p.IsSortKey).map(p=>p.IsPrimaryKey?{AttributeName:p.AttributeName,KeyType:"HASH"}:{AttributeName:p.AttributeName,KeyType:"RANGE"}).sortBy(p=>p.KeyType).toArray(),c=this.Attributes.filter(p=>p.IsIndexed).map(p=>({IndexName:`LSI-${o.AttributeName}-${p.AttributeName}`,KeySchema:[{AttributeName:o.AttributeName,KeyType:"HASH"},{AttributeName:p.AttributeName,KeyType:"RANGE"}],Projection:{ProjectionType:"ALL"}})).toArray();return{AttributeDefinitions:a,TableName:n,KeySchema:s,LocalSecondaryIndexes:c.length?c:void 0,SSESpecification:{Enabled:!0,SSEType:"KMS"},BillingMode:"PAY_PER_REQUEST"}}toCreateDataSourceRequest(n){return{apiId:n,name:this.TableName,description:`Datasource for the ${this.TableName} DynamoDB table.`,type:_.DYNAMODB,serviceRoleArn:"overwritten-by-create-resources-action",dynamodbConfig:{tableName:this.TableName,awsRegion:mt(),useCallerCredentials:!1}}}}const Ic=(t,n)=>{let a=!1;const o=t.typeConfig.fields.filter(c=>!!Ws(c.type,n)).map(c=>{const u=new ym({AttributeName:c.name,AttributeType:Ws(c.type,n),IsPrimaryKey:!a,IsSortKey:!1,IsIndexed:!1,Field:c});return a=!0,u}),s=`${t.typeConfig.name}Table`;return new gm({Attributes:o,TableName:s,Type:t,TypeText:t.print()})},Ibe=(t,n)=>{const a=buildObjectRecord(t.toJS());return Ic(a,n)},Oq=(0,T.Record)({PrimaryKey:null,SortKey:null,Name:null});class Xa extends Oq{withPrimaryKey(n){return this.set("PrimaryKey",n)}withSortKey(n){return this.set("SortKey",n)}validate(n){if(this.PrimaryKey&&this.PrimaryKey.AttributeName===n&&!this.SortKey)throw new Error(`The index named '${this.Name}' must have a sort key.`);if(this.PrimaryKey&&this.PrimaryKey.AttributeName===n&&this.SortKey&&this.SortKey.AttributeName===n)throw new Error(`The index named '${this.Name}' cannot use the same attribute for both the hash and sort key.`);if(this.PrimaryKey&&this.PrimaryKey.AttributeName!==n&&this.SortKey&&this.SortKey.AttributeName===this.PrimaryKey.AttributeName)throw new Error(`The index named '${this.Name}' cannot use the same attribute for both the hash and sort key.`)}isLocalSecondaryIndex(n){return!!(this.PrimaryKey&&this.PrimaryKey.AttributeName===n&&this.SortKey)}isGlobalSecondaryIndex(n){return!!(this.PrimaryKey&&this.PrimaryKey.AttributeName!==n)}toLocalSecondaryIndexDescription(){const n=this.toLocalSecondaryIndex();return{IndexName:n.IndexName,KeySchema:n.KeySchema,Projection:{ProjectionType:"ALL"}}}toLocalSecondaryIndex(){if(!this.PrimaryKey||!this.SortKey)throw new Error("Local secondary indexes must have a hash and range key.");const n=this.PrimaryKey.set("IsPrimaryKey",!0).set("IsSortKey",!1),a=this.SortKey.set("IsSortKey",!0).set("IsPrimaryKey",!1);return{IndexName:this.Name,KeySchema:[n.toKeySchemaElement(),a.toKeySchemaElement()],Projection:{ProjectionType:"ALL"}}}toGlobalSecondaryIndexDescription(){const n=this.toGlobalSecondaryIndex();return{IndexName:n.IndexName,KeySchema:n.KeySchema,Projection:{ProjectionType:"ALL"},IndexStatus:"ACTIVE"}}toGlobalSecondaryIndex(){if(!this.PrimaryKey)throw new Error("Global secondary indexes must have a hash key.");const a=[this.PrimaryKey.set("IsPrimaryKey",!0).set("IsSortKey",!1).toKeySchemaElement()];if(this.SortKey){const o=this.SortKey.set("IsSortKey",!0).set("IsPrimaryKey",!1);a.push(o.toKeySchemaElement())}return{IndexName:this.Name,KeySchema:a,Projection:{ProjectionType:"ALL"}}}}const Dq=(t,n)=>{const a=t.KeySchema.find(u=>u.KeyType==="HASH"),o=t.KeySchema.find(u=>u.KeyType==="RANGE"),s=n.find(u=>u.name.value===De(a.AttributeName)),c=o?n.find(u=>u.name.value===De(o.AttributeName)):null;return new Xa({Name:t.TableName,PrimaryKey:jv(a,s),SortKey:jv(o,c)})},Nq=(0,T.Record)({info:"Hi, dont show me, I have no task",status:H.NONE,description:void 0});class _q extends Nq{}const xq=(0,T.Record)({apiId:"",id:"",name:"",recordStatus:new fe,region:"us-east-1"});class Am extends xq{static getKey(n,a){return ce(n,a)}getKey(){return Am.getKey(this.region,this.id)}}const Lq=(0,T.Record)({apiId:"",proxyEndpoint:"/appsync/extension/createServiceRole",region:"",resourceName:"",secondaryResourceName:"",resourceType:"",recordStatus:new fe,roleArn:""});class Za extends Lq{static getKey(n,a){return ce(n,"serviceRole",a)}getKey(){return Za.getKey(this.apiId,this.resourceName)}getCreateRoleParams(){let n=new Za(this.toJS());return n.resourceType===_.OPEN_SEARCH&&n.resourceName.startsWith("https://")&&(n=n.set("resourceName",n.resourceName.slice(8))),n.toJS()}}function Bv(t,n){var a,o;const s=typeof n=="string"||n instanceof String?n:"",c=(o=(a=n?.Role)==null?void 0:a.Arn)!=null?o:s;return new Za({apiId:t.apiId,region:t.region,resourceName:t.resourceName,secondaryResourceName:t.secondaryResourceName,resourceType:t.resourceType,roleArn:c})}const kq=(0,l.Ay)`WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.`,Mq=(0,T.Record)({graphqlEndpoint:null,region:null,authenticationType:null,apiKey:void 0,hasAdditionalApiKeyAuth:!1,hasAdditionalIamAuth:!1,hasAdditionalUserPoolsAuth:!1,hasAdditionalOidcAuth:!1,apiName:null});class Fq extends Mq{getConfigFile(n){let a,o;return n==="JS"?(a=`// ${kq}

const config =  {
    API: {
        GraphQL: {
          endpoint: '${this.graphqlEndpoint}',
          region: '${this.region}',
          defaultAuthMode: '${this.authenticationType}',${this.authenticationType==="apiKey"?`
          apiKey: '${this.apiKey}'`:""}
        }
    }
};

export default config;`,o=new File([a],"aws-exports.js",{type:"text/plain;charset=utf-8"})):(a=`{
    "UserAgent": "aws-amplify-cli/0.1.0",
    "Version": "1.0",
    "IdentityManager": {
        "Default": {}
    },
    "AppSync": {
        "Default": {
            "ApiUrl": "${this.graphqlEndpoint}",
            "Region": "${this.region}",
            "AuthMode": "${this.authenticationType}"`,this.authenticationType===k.API_KEY&&(a+=`,
            "ApiKey": "${this.apiKey}"`),a+=`,
            "ClientDatabasePrefix": "${this.apiName}_${this.authenticationType}"
        }`,this.hasAdditionalApiKeyAuth&&(a+=`,
        "${this.apiName}_${this.apiKey}": {
            "ApiUrl": "${this.graphqlEndpoint}",
            "Region": "${this.region}",
            "AuthMode": "${k.API_KEY}",
            "ApiKey": "${this.apiKey}",
            "ClientDatabasePrefix": "${this.apiName}_${k.API_KEY}"
        }`),this.hasAdditionalIamAuth&&(a+=`,
        "${this.apiName}_${k.IAM}": {
            "ApiUrl": "${this.graphqlEndpoint}",
            "Region": "${this.region}",
            "AuthMode": "${k.IAM}",
            "ClientDatabasePrefix": "${this.apiName}_${k.IAM}"
        }`),this.hasAdditionalUserPoolsAuth&&this.authenticationType!==k.USER_POOLS&&(a+=`,
        "${this.apiName}_${k.USER_POOLS}": {
            "ApiUrl": "${this.graphqlEndpoint}",
            "Region": "${this.region}",
            "AuthMode": "${k.USER_POOLS}",
            "ClientDatabasePrefix": "${this.apiName}_${k.USER_POOLS}"
        }`),this.hasAdditionalOidcAuth&&this.authenticationType!==k.OIDC&&(a+=`,
        "${this.apiName}_${k.OIDC}": {
            "ApiUrl": "${this.graphqlEndpoint}",
            "Region": "${this.region}",
            "AuthMode": "${k.OIDC}",
            "ClientDatabasePrefix": "${this.apiName}_${k.OIDC}"
        }`),a+=`
    }
}`,o=new File([a],"awsconfiguration.json",{type:"text/plain;charset=utf-8"})),o}}const Uq=(0,T.Record)({graphqlEndpoint:null,region:null,authenticationType:null,apiKey:void 0,apiName:null});class $q extends Uq{}const jq=(0,T.Record)({tableDescription:{},apiId:"",recordStatus:new fe,createTableInput:{}});class Em extends jq{static getKey(n){return n}getKey(){var n,a;return Em.getKey((a=(n=this.tableDescription)==null?void 0:n.TableArn)!=null?a:"defaulttablekey")}}const Vq=(0,T.Record)({arn:"",engineType:"",httpEnabled:!1});class Bq extends Vq{}const Gq=(0,T.Record)({ttl:1,apiCachingBehavior:"",transitEncryptionEnabled:!1,atRestEncryptionEnabled:!1,type:"",status:"",apiId:"",recordStatus:new fe,healthMetricsConfig:oe.Us.DISABLED}),zq=new Map([["T2_SMALL","SMALL"],["T2_MEDIUM","MEDIUM"],["R4_LARGE","LARGE"],["R4_2XLARGE","LARGE_2X"],["R4_4XLARGE","LARGE_4X"],["R4_8XLARGE","LARGE_8X"]]),Gv=class hy extends Gq{static getKey(n){return ce(n,"apiCache")}toJS(){return super.toJS()}getKey(){return hy.getKey(this.apiId)}isCacheEnabled(){return hy.VALID_CACHE_STATUS.includes(this.status)}isCacheHealthMetricsEnabled(){return this.healthMetricsConfig===oe.Us.ENABLED}isStatusPending(){switch(this.status){case"CREATING":case"DELETING":case"MODIFYING":return!0;default:return!1}}getCreateApiCacheRequest(){return{apiId:this.apiId,ttl:this.ttl,transitEncryptionEnabled:this.transitEncryptionEnabled,atRestEncryptionEnabled:this.atRestEncryptionEnabled,apiCachingBehavior:this.apiCachingBehavior,type:this.type,healthMetricsConfig:this.healthMetricsConfig}}getUpdateApiCacheRequest(){return{apiId:this.apiId,ttl:this.ttl,apiCachingBehavior:this.apiCachingBehavior,type:this.type,healthMetricsConfig:this.healthMetricsConfig}}};Gv.VALID_CACHE_STATUS=["AVAILABLE","CREATING","DELETING","MODIFYING","FAILED"];let zs=Gv;function bm(t,n){var a;return new zs({ttl:t.ttl,apiCachingBehavior:t.apiCachingBehavior,transitEncryptionEnabled:t.transitEncryptionEnabled,atRestEncryptionEnabled:t.atRestEncryptionEnabled,status:t.status,type:(a=zq.get(t?.type))!=null?a:t?.type,apiId:n,healthMetricsConfig:t.healthMetricsConfig})}const qq=(0,T.Record)({apiId:"",entityName:"",arn:"",id:"",description:"",recordStatus:new fe,region:"us-east-1"});class qs extends qq{static getKey(n){return n}getKey(){return qs.getKey(this.arn)}}const Cbe=(0,T.Record)({name:null,type:null,description:null});class zv extends null{static getKey(n,a){return recordId(n,"v1","customdomain",a)}getKey(){return zv.getKey(this.apiId,this.name)}getCreateCustomDomainRequest(){return{name:this.name,type:this.type,description:this.description}}getUpdateCustomDomainRequest(){return{name:this.name,type:this.type,description:this.description}}}var Kq=Object.defineProperty,Wq=Object.defineProperties,Hq=Object.getOwnPropertyDescriptors,qv=Object.getOwnPropertySymbols,Jq=Object.prototype.hasOwnProperty,Yq=Object.prototype.propertyIsEnumerable,Kv=(t,n,a)=>n in t?Kq(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Wv=(t,n)=>{for(var a in n||(n={}))Jq.call(n,a)&&Kv(t,a,n[a]);if(qv)for(var a of qv(n))Yq.call(n,a)&&Kv(t,a,n[a]);return t},Hv=(t,n)=>Wq(t,Hq(n));const Qq=(0,T.Record)({mergeType:P_});class Jv extends Qq{toJS(){return super.toJS()}}const Yv={associationId:"",associationArn:"",sourceApiId:"",sourceApiArn:"",mergedApiId:"",mergedApiArn:"",description:""},Rbe=(0,T.Record)(Yv);class wbe extends null{toJS(){return super.toJS()}}const Xq=(0,T.Record)(Hv(Wv({},Yv),{apiId:"",id:"",sourceApiAssociationConfig:new Jv,sourceApiAssociationStatus:O_,sourceApiAssociationStatusDetail:"",lastSuccessfulMergeDate:"",recordStatus:new fe}));class Mo extends Xq{static getKey(n,a){return ce(n,"sourceApiAssociation",a)}toJS(){return super.toJS()}getUpdateSourceApiAssociationRequest(){return{associationId:this.associationId,mergedApiIdentifier:this.mergedApiId,description:this.description,sourceApiAssociationConfig:this.sourceApiAssociationConfig.toJS()}}getSourceGraphqlApiRequest(){return{associationId:this.associationId,mergedApiIdentifier:this.mergedApiId}}getMergedGraphqlApiRequest(){return{associationId:this.associationId,sourceApiIdentifier:this.sourceApiId}}isCrossAccount(){const n=Os(this.sourceApiArn),a=Os(this.mergedApiArn);return n!==a}isMergeLoading(){return this.sourceApiAssociationStatus===kt.MERGE_IN_PROGRESS||this.sourceApiAssociationStatus===kt.MERGE_SCHEDULED}isDeletionLoading(){return this.sourceApiAssociationStatus===kt.DELETION_IN_PROGRESS||this.sourceApiAssociationStatus===kt.DELETION_SCHEDULED}didFail(){return this.sourceApiAssociationStatus===kt.DELETION_FAILED||this.sourceApiAssociationStatus===kt.MERGE_FAILED||this.sourceApiAssociationStatus===kt.AUTO_MERGE_SCHEDULE_FAILED}didSucceed(){return this.sourceApiAssociationStatus===kt.MERGE_SUCCESS}isLoading(){return this.isMergeLoading()||this.isDeletionLoading()}autoMergedEnabled(){return this.sourceApiAssociationConfig.mergeType===Di.AUTO_MERGE}getKey(){return Mo.getKey(this.mergedApiId,this.associationId)}}function Zq(t,n){return new Mo(Hv(Wv({},t),{apiId:n}))}var eK=Object.defineProperty,tK=Object.defineProperties,nK=Object.getOwnPropertyDescriptors,Qv=Object.getOwnPropertySymbols,rK=Object.prototype.hasOwnProperty,aK=Object.prototype.propertyIsEnumerable,Xv=(t,n,a)=>n in t?eK(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Zv=(t,n)=>{for(var a in n||(n={}))rK.call(n,a)&&Xv(t,a,n[a]);if(Qv)for(var a of Qv(n))aK.call(n,a)&&Xv(t,a,n[a]);return t},iK=(t,n)=>tK(t,nK(n));let eS=0;const oK={id:"",info:"",description:"",type:"info",shownWhen:[],loading:!1,dismissible:!1};class Kr{static from(n){return eS+=1,iK(Zv(Zv({},oK),n),{id:`${eS}`})}}const sK=(0,T.Record)({key:"",value:""});class tS extends sK{}const lK=(0,T.Record)({apiId:"",recordStatus:new fe,environmentVariables:(0,T.List)()});class Fo extends lK{static getKey(n){return ce(n,"environmentVariables")}getKey(){return Fo.getKey(this.apiId)}getUpdatePayload(){const n=this.environmentVariables.reduce((a,o)=>(a[o.key]=o.value,a),{});return{apiId:this.apiId,environmentVariables:n}}}function nS(t,n={}){if(n==null)return new Fo({apiId:t});const a=Object.keys(n).map(s=>new tS({key:s,value:n[s]}));return a.sort((s,c)=>s.key<c.key?-1:1),new Fo({apiId:t,environmentVariables:(0,T.List)(a)})}const Bi=t=>{switch(t.kind){case Be.LIST:if(t.ofType)return`[${Bi(t.ofType)}]`;throw new Error("Invalid TypeReference of kind LIST");case Be.NON_NULL:if(t.ofType)return`${Bi(t.ofType)}!`;throw new Error("Invalid TypeReference of kind NON_NULL");default:return t.name}};function cK(t){const n=Aa(t.typeConfig.description),a=vm(t);let o=n?`${n}
`:"";return o+="schema",o+=a?` ${a} `:" ",o+=`{
`,t.hasIn(["typeConfig","queryType","name"])&&(o+=`	query: ${t.typeConfig.queryType.name}
`),t.hasIn(["typeConfig","mutationType","name"])&&(o+=`	mutation: ${t.typeConfig.mutationType.name}
`),t.hasIn(["typeConfig","subscriptionType","name"])&&(o+=`	subscription: ${t.typeConfig.subscriptionType.name}
`),o+="}",o}function rS(t){return JSON.stringify(t)}function aS(t,n=""){let a=`${t.name}: ${Bi(t.type)}`;return t.defaultValue!==void 0&&t.defaultValue!==null&&(a+=` = ${rS(t.defaultValue)}`),t.description?`${Aa(t.description,n)}
${n}${a}`:`${n}${a}`}function uK(t){return`${t.name}: ${rS(t.value)}`}function iS(t){let n=`@${t.name}`;return t.args.size&&(n+=`(${t.args.map(a=>uK(a)).join(",")})`),n}function oS(t){let n=`	${t.name}`;if(t.args.size){const s=t.args.map(c=>aS(c));s.size>3?n+=`(
		${s.join(`,
		`)}
	)`:n+=`(${s.join(", ")})`}n+=`: ${Bi(t.type)}`;const a=t.directives?t.directives.map(s=>iS(s)).join(`
`):"";let o="";return t.description&&(o+=`${Aa(t.description,"	")}
`),o+=n,a&&a.length&&(o+=`
		${a}`),o}function Ks(t){let n=`	${t.name}`;return t.args.size&&(n+="(...)"),n+=`: ${Bi(t.type)}`,n}function Aa(t,n=""){return t?/^(\\{0,3}"){3}/gi.test(t.trimStart())?`${n}${t.split(`
`).join(`
${n}`)}`:`${n}#${t.split(`
`).join(`
${n}`)}`:""}const vm=t=>t.typeConfig.directives?t.typeConfig.directives.map(n=>iS(n)).join(`
`):"";function dK(t){let n=`type ${t.typeConfig.name}`;t.typeConfig.interfaces.size>0&&(n+=` implements ${t.typeConfig.interfaces.map(o=>Bi(o)).join(", ")}`);const a=vm(t);return a&&a.length&&(n+=` ${a}`),n+=` {
`,n+=t.typeConfig.fields.map(o=>oS(o)).join(`
`),n+=`
}`,t.typeConfig.description?`${Aa(t.typeConfig.description)}
${n}`:n}function pK(t){let n=`interface ${t.typeConfig.name} {`;return n+=`
${t.typeConfig.fields.map(a=>oS(a)).join(`
`)}`,n+=`
}`,t.typeConfig.description?`${Aa(t.typeConfig.description)}
${n}`:n}function mK(t){return t.name}function hK(t){let n=`enum ${t.typeConfig.name} {
`;return n+=`	${t.typeConfig.enumValues.map(a=>mK(a)).join(`
	`)}`,n+=`
}`,t.typeConfig.description?`${Aa(t.typeConfig.description)}
${n}`:n}function fK(t){return t.typeConfig.description?`${Aa(t.typeConfig.description)}
scalar ${t.typeConfig.name}`:`scalar ${t.typeConfig.name}`}function yK(t){const n=`union ${t.typeConfig.name} = ${t.typeConfig.possibleTypes.map(a=>Bi(a)).join(" | ")} `;return t.typeConfig.description?`${Aa(t.typeConfig.description)}
${n}`:n}function gK(t){let n=`input ${t.typeConfig.name}`;const a=vm(t);return a&&a.length&&(n+=` ${a}`),n+=` {
`,n+=`${t.typeConfig.inputFields.map(o=>aS(o,"	")).join(`
`)}`,n+=`
}`,t.typeConfig.description?`${Aa(t.typeConfig.description)}
${n}`:n}function AK(){throw new Error("Not Implemented")}function sS(t){switch(t.typeConfig.kind){case Be.SCHEMA:return cK(t);case Be.SCALAR:return fK(t);case Be.OBJECT:return dK(t);case Be.INTERFACE:return pK(t);case Be.ENUM:return hK(t);case Be.UNION:return yK(t);case Be.INPUT_OBJECT:return gK(t);case Be.DIRECTIVE:return AK();default:return""}}function EK(t){return t.map(n=>sS(n))}function Sm(t){var n,a,o,s,c,u;const p=t.find(A=>A.typeConfig.kind===Be.SCHEMA),h=(a=(n=p?.typeConfig.mutationType)==null?void 0:n.name)!=null?a:"Mutation",f=(s=(o=p?.typeConfig.queryType)==null?void 0:o.name)!=null?s:"Query",y=(u=(c=p?.typeConfig.subscriptionType)==null?void 0:c.name)!=null?u:"Subscription",g=[h,f,y];return EK(t.sort((A,E)=>{const b=A.typeConfig.name,C=E.typeConfig.name;return b==="schema"?1:C==="schema"?-1:g.includes(b)&&g.includes(C)?A.typeConfig.name>E.typeConfig.name?1:-1:g.includes(b)?1:g.includes(C)?-1:A.typeConfig.name>E.typeConfig.name?1:-1})).join(`

`)}function bK(t,n){return t.reduce((a,o)=>{const s=n(o);return a.set(s,o)},(0,T.Map)())}const lS=9,Cc=(t,n=lS,a="*********************")=>t?`${t.substring(0,n)}${a}`:"",Ws=(t,n)=>t.kind===Be.NON_NULL||t.kind===Be.LIST?t.ofType?Ws(t.ofType,n):null:t.name in ql?ql[t.name]:n.get(t.name)?"S":null,vK=(t,n)=>t&&n&&(t.getIn(["typeConfig","name"])===n.getIn(["typeConfig","queryType","name"])||n.getIn(["typeConfig","mutationType"])&&t.getIn(["typeConfig","name"])===n.getIn(["typeConfig","mutationType","name"])||n.getIn(["typeConfig","subscriptionType"])&&t.getIn(["typeConfig","name"])===n.getIn(["typeConfig","subscriptionType","name"])),SK=t=>t&&["Query","Mutation","Subscription"].includes(t.typeConfig.name),TK=t=>{const n=t.find(a=>a.typeConfig.kind===Be.SCHEMA);return n?t.filter(a=>a.typeConfig.kind===Be.OBJECT&&!vK(a,n)):t.filter(a=>a.typeConfig.kind===Be.OBJECT&&!SK(a))};function Tm(t,n){const a=n.length,o=t.length;if(o>a)return!1;if(o===a)return t===n;e:for(let s=0,c=0;s<o;s++){const u=t.charCodeAt(s);for(;c<a;){if(n.charCodeAt(c)===u)continue e;c+=1}return!1}return!0}const IK=t=>t.map(n=>({disabled:!1,id:n,value:n,label:n.toUpperCase()})),CK=()=>rn()===br?T_:S_,Gi=t=>{let n=CK();if(t){const a=RK(t);n=n.filter(o=>a.includes(o))}return IK(n)},RK=t=>{const n=Gt.getCustomContext("availableServiceRegions");try{return JSON.parse(n)[t]||[]}catch{return[]}};var wK=Object.defineProperty,PK=Object.defineProperties,OK=Object.getOwnPropertyDescriptors,cS=Object.getOwnPropertySymbols,DK=Object.prototype.hasOwnProperty,NK=Object.prototype.propertyIsEnumerable,uS=(t,n,a)=>n in t?wK(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,_K=(t,n)=>{for(var a in n||(n={}))DK.call(n,a)&&uS(t,a,n[a]);if(cS)for(var a of cS(n))NK.call(n,a)&&uS(t,a,n[a]);return t},xK=(t,n)=>PK(t,OK(n));const LK={S:{kind:"NamedType",name:{kind:"Name",value:"String"}},N:{kind:"NamedType",name:{kind:"Name",value:"Int"}},B:{kind:"NamedType",name:{kind:"Name",value:"String"}}};function kK(t,n=!1){const a=LK[t];return n?{kind:"NonNullType",type:a}:a}function dS(t){if(!t.AttributeDefinitions)throw new Error("Cannot create a default type for a table with no attribute definitions");const n=(t.KeySchema||[]).reduce((o,s)=>xK(_K({},o),{[De(s.AttributeName)]:!0}),{}),a=t.AttributeDefinitions.map(o=>({kind:"FieldDefinition",name:{kind:"Name",value:De(o.AttributeName)},arguments:[],type:kK(o.AttributeType,n[De(o.AttributeName)]),directives:[]}));return{kind:"ObjectTypeDefinition",name:{kind:"Name",value:go(t.TableName||"")},interfaces:[],directives:[],fields:a}}var MK=Object.defineProperty,FK=Object.defineProperties,UK=Object.getOwnPropertyDescriptors,pS=Object.getOwnPropertySymbols,$K=Object.prototype.hasOwnProperty,jK=Object.prototype.propertyIsEnumerable,mS=(t,n,a)=>n in t?MK(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,VK=(t,n)=>{for(var a in n||(n={}))$K.call(n,a)&&mS(t,a,n[a]);if(pS)for(var a of pS(n))jK.call(n,a)&&mS(t,a,n[a]);return t},BK=(t,n)=>FK(t,UK(n));function GK(t,n){const a=(n.KeySchema||[]).reduce((c,u)=>BK(VK({},c),{[De(u.AttributeName)]:!0}),{});if(t.kind!=="ObjectTypeDefinition")throw new Error("The default type must be an Object type.");let o="";o+=`# Object type that represents objects stored in the Amazon DynamoDB table named: ${n.TableName}.
`,o+=`type ${t.name.value} {
`,o+=`  # Key attributes. Changing these may result in unexpected behavior.
  `,o+=t.fields.filter(c=>a[c.name.value]).map(c=>(0,Q.print)(c)).join(`
  `);const s=t.fields.filter(c=>!a[c.name.value]);return s&&s.length&&(o+=`

  # Index attributes. Changing these may result in unexpected behavior.
  `,o+=s.map(c=>(0,Q.print)(c)).join(`
  `)),o+=`

  # Add additional non-key attributes below.
  `,o+=`
}`,o}const Hs={GraphiQLConfig:"graphiql_config",ResolverTestContexts:({typeName:t,fieldName:n})=>`${t}_${n}_TestContexts`,FunctionTestContexts:({functionId:t})=>`${t}_TestContexts`,Global:"global",JSBanner:"JS_BANNER",JSUnitBanner:"JS_UNIT_BANNER",RDSBanner:"RDS_BANNER"};function Js(t,n){const a=fs(n),o=t.fields.filter(s=>s.name.value!=="id");if(a&&o.length===0)throw new Error(`You must define at least one field in addition to "id: ID!" in type ${t.name.value}`)}function hS(t,n){let a,o,s;const c=n!==t;try{a=(0,Q.parse)(t),s=Gd(a.definitions)}catch(u){o=u}try{if(a){if(s&&s.find(u=>u instanceof Tg))throw new Error("Error parsing schema. Directive definitions are not supported.");return(0,Q.buildASTSchema)(Ns(a)),{isValid:!0,text:t,hasEdits:c,errors:(0,T.List)(),warnings:(0,T.List)(),typeRecords:s}}if(o)return{isValid:!1,text:t,hasEdits:c,errors:(0,T.List)([o])};throw new Error("Error converting definitions to type records.         This is a user error and should be swallowed until the schema is updated.")}catch(u){return{isValid:!1,text:t,hasEdits:c,warnings:(0,T.List)([u])}}}const zK=t=>new Promise((n,a)=>{t.getSession((o,s)=>{o?a(o):n(s)})}),Im={},Ys=t=>{var n;const a=(n=t?.default)!=null?n:t;return Im[a]||(Im[a]=a.replace(Gt.getCustomContext("mainAssetPath"),Gt.getCustomContext("imageAssetPath"))),Im[a]};function fS(...t){const n=[],a=Math.max(...t.map(o=>o.length));for(let o=0;o<a;o++)t.forEach(s=>{s[o]!==void 0&&n.push(s[o])});return n}const zi=t=>t?(0,l.Ay)`On`:(0,l.Ay)`Off`,ei=t=>{if(t!==void 0)return t===1?(0,l.Ay)`${t} match`:(0,l.Ay)`${t} matches`},qK=(t,n)=>`(${t.length>0?`${t.length}/${n.length}`:n.length})`,yS=()=>setTimeout(()=>{const n=Array.from(document.body.querySelectorAll('[aria-invalid="true"]'))[0];n&&n.focus()});var KK=v(51246);const gS=()=>(0,KK.rs)()==="dark";var WK=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const AS=()=>WK(void 0,null,function*(){return yield Gt.getSessionDifferentiator()});var HK=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const ES=()=>HK(void 0,null,function*(){return yield Gt.isMultiSessionEnabled()});var bS=v(24249),JK=Object.defineProperty,YK=Object.defineProperties,QK=Object.getOwnPropertyDescriptors,vS=Object.getOwnPropertySymbols,XK=Object.prototype.hasOwnProperty,ZK=Object.prototype.propertyIsEnumerable,SS=(t,n,a)=>n in t?JK(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,eW=(t,n)=>{for(var a in n||(n={}))XK.call(n,a)&&SS(t,a,n[a]);if(vS)for(var a of vS(n))ZK.call(n,a)&&SS(t,a,n[a]);return t},tW=(t,n)=>YK(t,QK(n));const nW=t=>{var n;return((n=t.locations)==null?void 0:n[0])&&t.message},TS=(t,n)=>{var a,o;try{const s=(0,Q.parse)(t);return n&&(0,Q.buildASTSchema)(tW(eW({},n),{definitions:n.definitions.concat(s.definitions)})),[]}catch(s){if(nW(s)){const c=s.locations[0],u=(o=(a=s.source)==null?void 0:a.locationOffset)!=null?o:{column:1,line:1};return[{row:c.line-u.line,column:c.column-u.column,text:s.message,type:"error"}]}return[{row:0,column:0,text:s.message,type:"error"}]}},rW=[{label:"directive"},{label:"enum"},{label:"input"},{label:"interface"},{label:"scalar"},{label:"schema"},{label:"type"},{label:"union"},{label:"skip"},{label:"include"},{label:"deprecated"},{label:"hidden"},{label:"canonical"},{label:"renamed"},{label:"aws_iam"},{label:"aws_cognito_user_pools"},{label:"aws_api_key"},{label:"aws_oidc"},{label:"aws_subscribe"},{label:"aws_auth"},{label:"aws_lambda"},{label:"Boolean"},{label:"Float"},{label:"ID"},{label:"Int"},{label:"String"},{label:"AWSDate"},{label:"AWSTime"},{label:"AWSDateTime"},{label:"AWSTimestamp"},{label:"AWSEmail"},{label:"AWSJSON"},{label:"AWSURL"},{label:"AWSPhone"},{label:"AWSIPAddress"}],aW=()=>(t,n,a,o,s)=>{let c=[];try{const u=n.getSelection().getCursor(),p=(0,bS.YS)(o,{line:u.row,character:u.column});c=(0,bS.OS)(p,rW).map(f=>({snippet:f.label,value:f.label}))}catch(u){at.logOperationalError(Ge.AUTOCOMPLETE_GRAPHQL_ERROR,u)}s(null,c)},IS=()=>({base:"graphqlschema",displayName:"GraphQL Schema",autocomplete:(0,he.throttle)(aW(),500),parse:t=>TS(t)});var q=v(88583),wt=v(87308);function iW(){return i.createElement(i.Fragment,null,(0,l.Ay)`The content for this page could not be loaded. Please refresh this page or return to the AWS AppSync home page. If you continue to see this error or have issues in general, contact AWS support.`,i.createElement("br",null),i.createElement(ue.A,{href:"#/"},(0,l.Ay)`AppSync home page`),i.createElement("br",null),i.createElement(ue.A,{external:!0,href:"https://aws.amazon.com/contact-us/"},(0,l.Ay)`AWS support`))}function oW(t){var n,a;const o=(0,l.Ay)`Unable to load content`;return i.createElement(q.A,{margin:"xxxl"},i.createElement(wt.A,{type:"error",header:(n=t.header)!=null?n:o,statusIconAriaLabel:(0,l.Ay)`error`},(a=t.body)!=null?a:i.createElement(iW,null)))}var sW=Object.defineProperty,CS=Object.getOwnPropertySymbols,lW=Object.prototype.hasOwnProperty,cW=Object.prototype.propertyIsEnumerable,RS=(t,n,a)=>n in t?sW(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,uW=(t,n)=>{for(var a in n||(n={}))lW.call(n,a)&&RS(t,a,n[a]);if(CS)for(var a of CS(n))cW.call(n,a)&&RS(t,a,n[a]);return t};const dW=i.createElement(oW,null);class qi extends i.Component{constructor(n){var a;super(n),this.state={hasError:!1},this.key=(a=n.metricKey)!=null?a:Ge.APP_ERROR_BOUNDARY}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,a){const o=this.props.context?this.buildContextualErrorDetails(n,a):this.buildDefaultErrorDetails(n,a);at.logOperationalError(Ge.APP_ERROR_BOUNDARY,o)}buildDefaultErrorDetails(n,a){return{name:this.key,message:n?.message||JSON.stringify(n),stackTrace:Ql(a?.componentStack)}}buildContextualErrorDetails(n,a){const{context:{record:o,formatter:s}}=this.props;return{name:this.key,message:JSON.stringify(uW({message:n?.message},s(o))),stackTrace:Ql(a?.componentStack)}}render(){var n;return this.state.hasError?(n=this.props.fallback)!=null?n:dW:this.props.children}}var pW=v(55093),wS=v(61358),Et=v(53259),mW=v(54500),hW=v(11690),K=v(5354),be=v(15035),Ht=v(564),ur=v(80513),Ea=v(90743),He=v(50094),ba=v(51658),fW=v(49999),Tr=v(26703),ze=v(49482),yW=v(32582),Qs=v(77994),dr=v(68282),X=v(68505),mn=v(27280),$=v(39969),it=v(98269),Rn=v(96152),xn=v(22699),Wn=v(99779);const gW=()=>({loadingState:(0,l.Ay)`Loading code editor`,errorState:(0,l.Ay)`There was an error loading the code editor.`,errorStateRecovery:(0,l.Ay)`Retry`,editorGroupAriaLabel:(0,l.Ay)`Code editor`,statusBarGroupAriaLabel:(0,l.Ay)`Status bar`,cursorPosition:(t,n)=>(0,l.Ay)`Ln ${t}, Col ${n}`,errorsTab:(0,l.Ay)`Errors`,warningsTab:(0,l.Ay)`Warnings`,preferencesButtonAriaLabel:(0,l.Ay)`Preferences`,paneCloseButtonAriaLabel:(0,l.Ay)`Close`,preferencesModalHeader:(0,l.Ay)`Preferences`,preferencesModalCancel:(0,l.Ay)`Cancel`,preferencesModalConfirm:(0,l.Ay)`Confirm`,preferencesModalWrapLines:(0,l.Ay)`Wrap lines`,preferencesModalTheme:(0,l.Ay)`Theme`,preferencesModalLightThemes:(0,l.Ay)`Light themes`,preferencesModalDarkThemes:(0,l.Ay)`Dark themes`});var jn;function PS(t){const[n,a]=(0,i.useState)(),[o,s]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t.startTimer(jn.TIME_TO_INITIALIZE_ACE),s(!0),v.e(952).then(v.t.bind(v,80952,23)).then(async c=>{await v.e(2432).then(v.t.bind(v,62432,23)),a(c.default)}).catch(c=>{t.logOperationalError(jn.INITIALIZE_ACE_ERROR,c)}).finally(()=>{s(!1),t.stopTimer(jn.TIME_TO_INITIALIZE_ACE)})},[]),{ace:n,loadingAce:o}}(function(t){t.TIME_TO_INITIALIZE_ACE="timeToInitialize_ace",t.TIME_TO_INITIALIZE_JS="timeToInitialize_JS",t.TIME_TO_INITIALIZE_PARSER="timeToInitialize_parser",t.TIME_TO_INITIALIZE_EDITOR="timeToInitialize_editor",t.INITIALIZE_ACE_ERROR="timeToInitialize_ace_error",t.INITIALIZE_JS_ERROR="timeToInitialize_JS_error",t.INITIALIZE_PARSER_ERROR="timeToInitialize_parser_error",t.INITIALIZE_EDITOR_ERROR="timeToInitialize_editor_error",t.TIME_TO_INITIALIZE_CUSTOM="timeToInitialize_Custom",t.INITIALIZE_CUSTOM_ERROR="timeToInitialize_Custom_error"})(jn||(jn={}));const AW=(t,n,a)=>class extends t{constructor(){super(),this.externalAnnotations=[],this.internalAnnotations=[],n.current=this}createWorker(o){if(this.session=o,a){const s=o.getDocument(),c=()=>{this.internalAnnotations=a?.(s.getValue())??[],this.combineAndUpdateAnnotations()};s.on("change",c),c()}}setAnnotations(o){this.externalAnnotations=o.filter(s=>!this.internalAnnotations.some(c=>s.column===c.column&&s.row===c.row&&s.type===c.type&&s.text.includes(c.text))),this.combineAndUpdateAnnotations()}combineAndUpdateAnnotations(){const o=[...this.externalAnnotations,...this.internalAnnotations];this.session?.setAnnotations?.(o)}};class EW{constructor({ace:n,Analytics:a,mode:{displayName:o,base:s,autocomplete:c,parse:u,onChange:p}}){this.CustomModeRef=(0,i.createRef)(),this.modeConfig={},this.mode="",this.setup=async()=>(this.Analytics.startTimer(jn.TIME_TO_INITIALIZE_CUSTOM),v(27537)(`./mode-${this.baseMode}`).then(({Mode:h})=>{this.syntaxMode=h}).catch(h=>{this.Analytics.logOperationalError(jn.INITIALIZE_CUSTOM_ERROR,h)}).finally(()=>{this.Analytics.stopTimer(jn.TIME_TO_INITIALIZE_CUSTOM)})),this.ace=n,this.Analytics=a,this.mode=`ace/mode/${o}_${s}`,this.baseMode=s,this.modeConfig={autocomplete:c,parse:u,onChange:p}}getCustomCompleter(){return{getCompletions:this.modeConfig.autocomplete}}defineAceMode(){if(!this.syntaxMode)return;const n=AW(this.syntaxMode,this.CustomModeRef,this.modeConfig.parse);this.ace.define(this.mode,["require","exports"],(a,o)=>{o.Mode=n})}}const Cm={},bW=async t=>{const{mode:{displayName:n,base:a}}=t,o=`${n}_${a}`;if(Cm[o])return Cm[o];const s=new EW(t);return await s.setup(),s.defineAceMode(),Cm[o]=s,s};function Xs({value:t,onValidate:n,onEdit:a,annotations:o,Analytics:s,mode:c,...u}){const[p,h]=(0,i.useState)(),[f,y]=(0,i.useState)(null),g=(0,i.useRef)(null),{ace:A,loadingAce:E}=PS(s);return(0,i.useEffect)(()=>{(async function(){if(!A)return;const b=await bW({ace:A,Analytics:s,mode:c});y(b.CustomModeRef),g.current&&(s.startTimer(jn.TIME_TO_INITIALIZE_EDITOR),function(C,I,R,L){const P=I.edit(C.querySelector(".ace_editor"));if(!P)return;const F=R.modeConfig.onChange;F&&P.on("change",()=>F(P));const x=R.getCustomCompleter();x?.getCompletions&&v.e(47).then(v.t.bind(v,20047,23)).then(async O=>{P.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),O.setCompleters([x])}).catch(O=>{L.logOperationalError(jn.INITIALIZE_EDITOR_ERROR,O)})}(g.current,A,b,s),s.stopTimer(jn.TIME_TO_INITIALIZE_EDITOR))})()},[A,f?.current]),(0,i.useEffect)(()=>(f?.current&&f.current.setAnnotations(o??[]),function(){f?.current&&f.current.setAnnotations([])}),[o]),f?i.createElement("div",{ref:g},i.createElement(wS.A,{...u,value:t,onDelayedChange:({detail:b})=>{a?.(b)},i18nStrings:gW(),onValidate:({detail:b})=>n?.(b.annotations),preferences:p,onPreferencesChange:({detail:b})=>h(b),language:`${c.displayName}_${c.base}`,languageLabel:c.displayName,loading:E,ace:A})):i.createElement(q.A,{color:"inherit",textAlign:"center",padding:{vertical:"l"}},i.createElement(Et.A,null))}const vW={"@aws-appsync/utils/lib/index.d.ts":v(95021),"@aws-appsync/utils/lib/resolver-return-types.d.ts":v(26098),"@aws-appsync/utils/lib/dynamodb-utils.d.ts":v(84553),"@aws-appsync/utils/lib/rds-utils.d.ts":v(95021),"@aws-appsync/utils/lib/string-utils.d.ts":v(72164),"@aws-appsync/utils/lib/time-utils.d.ts":v(56828),"@aws-appsync/utils/lib/http-utils.d.ts":v(25093),"@aws-appsync/utils/lib/xml-utils.d.ts":v(85736),"@aws-appsync/utils/lib/math-utils.d.ts":v(15811),"@aws-appsync/utils/lib/transform-utils.d.ts":v(73973),"@aws-appsync/utils/lib/subscription-filter-types.d.ts":v(23799),"@aws-appsync/utils/dynamodb.d.ts":v(49053),"@aws-appsync/utils/rds.d.ts":v(18766),"@aws-appsync/utils/lib/dynamodb-helpers.d.ts":v(70485),"@aws-appsync/utils/lib/rds-helpers.d.ts":v(77954)},SW=[2322,2345,2339,2353,2532],Zs={name:"customTypes.d.ts",value:v(24004)},Hn={name:"file.js",value:`
    export function request(context: Context) {

    }

    export function response(context: Context) {

    }
`},TW=({sys:t,sourceFiles:n,libs:a})=>({...t,getCanonicalFileName:o=>o,getDefaultLibFileName:()=>Object.keys(a)[0],getCurrentDirectory:()=>"",getNewLine:()=>t.newLine,getSourceFile:o=>n[o],useCaseSensitiveFileNames:()=>t.useCaseSensitiveFileNames,resolveTypeReferenceDirectives:o=>{const s=[];for(const c of o)s.push({primary:!0,resolvedFileName:c});return s}}),el=new class{constructor(){this.initState="NOT_STARTED",this.contextMembers={},this.setup=async(t,n,a)=>{t.startTimer(jn.TIME_TO_INITIALIZE_PARSER),this.initState="IN_PROGRESS";try{const{default:s}=await Promise.resolve().then(function(){return KW});this.staticFiles={...s(a),...vW,[Zs.name]:Zs.value};const{default:c}=await Promise.all([v.e(3444),v.e(2160)]).then(v.t.bind(v,3444,23)),{createProgram:u,createSourceFile:p,flattenDiagnosticMessageText:h,getDefaultCompilerOptions:f,getLineAndCharacterOfPosition:y,getPreEmitDiagnostics:g,JsxEmit:A,ModuleKind:E,ModuleResolutionKind:b,ScriptSnapshot:C,ScriptTarget:I,updateLanguageServiceSourceFile:R,createLanguageService:L,isTypeAliasDeclaration:P,isMethodSignature:F,isMethodDeclaration:x}=c;this.tsFunctions={createProgram:u,flattenDiagnosticMessageText:h,getLineAndCharacterOfPosition:y,getPreEmitDiagnostics:g,updateLanguageServiceSourceFile:R,createLanguageService:L,isTypeAliasDeclaration:P,isMethodSignature:F,isMethodDeclaration:x,ssFromString:C.fromString},this.sourceFiles={[Hn.name]:p(Hn.name,Hn.value,I.Latest)},this.compilerOptions={...f(),jsx:A.React,strict:!1,target:I.Latest,esModuleInterop:!0,module:E.None,suppressOutputPathCheck:!0,skipLibCheck:!0,skipDefaultLibCheck:!0,moduleResolution:b.NodeJs,types:[...Object.keys(s(a))],allowJs:!0,checkJs:!0,allowSyntheticDefaultImports:!0,importHelpers:!0,baseUrl:".",paths:{"@aws-appsync/utils":n?[Zs.name]:["@aws-appsync/utils/lib"],"@aws-appsync/utils/rds":["@aws-appsync/utils/rds"],"@aws-appsync/utils/dynamodb":["@aws-appsync/utils/dynamodb"]}},this.sys=(o={...this.staticFiles,[Hn.name]:Hn.value},o={...o},{args:[],createDirectory:()=>{},directoryExists:O=>Object.keys(o).some(j=>j.startsWith(O)),exit:()=>{},fileExists:O=>o[O]!=null,getCurrentDirectory:()=>"/",getDirectories:()=>[],getExecutingFilePath:()=>"",readDirectory:O=>O==="/"?Object.keys(o):[],readFile:O=>o[O],resolvePath:O=>O,newLine:`
`,useCaseSensitiveFileNames:!0,write:()=>{},writeFile:(O,j)=>{o[O]=j}});for(const O of Object.keys(this.staticFiles))this.sourceFiles[O]=p(O,this.staticFiles[O],this.compilerOptions.target||I.Latest);this.compilerHost=TW({sys:this.sys,sourceFiles:this.sourceFiles,libs:s(a)}),this.languageServiceHost={...this.compilerHost,getCompilationSettings:()=>this.compilerOptions,getScriptFileNames:()=>Object.keys(this.sourceFiles),getScriptSnapshot:O=>{const j=this.sys.readFile(O);if(j)return C.fromString(j)},getScriptVersion:O=>"0",writeFile:this.sys.writeFile},this.languageService=c.createLanguageService(this.languageServiceHost),this.getContextCompletions(),this.initState="COMPLETED"}catch(s){t.logOperationalError(jn.INITIALIZE_PARSER_ERROR,s),this.initState="ERRORED"}finally{t.stopTimer(jn.TIME_TO_INITIALIZE_PARSER)}var o},this.convertDiagnosticsToErrors=t=>{const n=[],a=this.sourceFiles[Hn.name];for(const o of t){if(SW.includes(o.code))continue;const s=this.tsFunctions.flattenDiagnosticMessageText(o.messageText,`
`);let c=0,u=0;if(o.start){const p=this.tsFunctions.getLineAndCharacterOfPosition(a,o.start);c=p.line,u=p.character}n.push({text:s,row:c,column:u,type:"error"})}return n}}getContextCompletions(){const t=this.tsFunctions.createProgram({options:this.compilerOptions,rootNames:[`./${Zs.name}`],host:this.compilerHost}),n=t.getTypeChecker(),a=t.getSourceFile(Zs.name);a&&a.forEachChild(o=>{if(this.tsFunctions.isTypeAliasDeclaration(o)&&o.name.escapedText==="ExtendedContext"){const s=n.getTypeAtLocation(o.name);this.processType(n,s)}})}processType(t,n,a="ctx."){this.contextMembers[a]||(this.contextMembers[a]=[]),n.getProperties().forEach(o=>{const s=o.valueDeclaration;if(s&&(this.tsFunctions.isMethodSignature(s)||this.tsFunctions.isMethodDeclaration(s)))this.contextMembers[a].push({caption:o.name,value:o.name,meta:"method"});else{this.contextMembers[a].push({caption:o.name,value:o.name,meta:"property"});const c=t.getTypeOfSymbolAtLocation(o,s);c.getProperties().length>0&&this.processType(t,c,`${a}${o.name}.`)}})}updateSourceFile(t,n){const a=this.languageServiceHost.getScriptSnapshot(t),o=this.tsFunctions.ssFromString(n),s=o.getChangeRange(a),c=this.tsFunctions.updateLanguageServiceSourceFile(this.sourceFiles[t],o,"0",s,!1);this.sys.writeFile(t,n),this.sourceFiles[t]=c,this.languageServiceHost.writeFile?.(t,n)}typeCheck(t){this.updateSourceFile(Hn.name,t);const n=this.tsFunctions.createProgram({options:this.compilerOptions,rootNames:[`./${Hn.name}`],host:this.compilerHost}),a=this.tsFunctions.getPreEmitDiagnostics(n);return this.convertDiagnosticsToErrors(a)}getAutoComplete(t,n,a,o){this.updateSourceFile(Hn.name,t);const s=[],c=t.match(/export function request\(([^)]+)\)/);c&&s.push(c[1]);const u=t.match(/export function response\(([^)]+)\)/);return u&&s.push(u[1]),s.indexOf(o.split(".")[0])!==-1?this.getCompletionsForContextObject(o):(this.languageService=this.tsFunctions.createLanguageService(this.languageServiceHost),a==="("?this.getSignatureHelpItems(t,n):this.getCompletionsAtPosition(n))}getSignatureHelpItems(t,n){this.languageService=this.tsFunctions.createLanguageService(this.languageServiceHost);const a=this.languageService.getSignatureHelpItems(Hn.name,n,{triggerReason:{kind:"characterTyped",triggerCharacter:"("}});if(a&&a?.items?.length>0){const o=a.items[0],s=o.prefixDisplayParts?.map(f=>f.text).join(""),c=o.parameters?.map(f=>f.displayParts.map(y=>y.text).join("")).join(", "),u=this.getQuickInfoAtPosition(t,n-1),p=u?.displayParts?.map(f=>f.text).join(""),h=u?.documentation?.map(f=>f.text).join("");return[{caption:`${s+c})`,value:" ",meta:"function signature",docHTML:`<p>${p}</p><p>${h}</p>`}]}return[]}getCompletionsAtPosition(t){const n=this.languageService.getCompletionsAtPosition(Hn.name,t,{includeCompletionsForModuleExports:!0,includeCompletionsWithInsertText:!0,includeAutomaticOptionalChainCompletions:!0});return n?n.entries.filter(a=>a.kind!=="warning"&&a.kind!=="type").map(a=>({caption:a.name,value:a.name.startsWith("@")?a.name.replace("@",""):a.name,meta:a.kind})):[]}getCompletionsForContextObject(t){const n=t.split(".");return n[0]="ctx",this.contextMembers[n.join(".")]}getQuickInfoAtPosition(t,n){return this.updateSourceFile(Hn.name,t),this.languageService.getQuickInfoAtPosition(Hn.name,n)}},IW={base:"javascript",displayName:"AppSyncJS",parse:t=>el.typeCheck(t),autocomplete:(0,he.throttle)((t,n,a,o,s)=>{const c=n.getSelection().getCursor(),u=n.getLine(a.row),p=n.doc.positionToIndex(a),h=u.charAt(c.column-1),f=u.split(" ").pop();s(null,el.getAutoComplete(n.getValue(),p,h,f))},500,{trailing:!0}),onChange:(0,he.throttle)(t=>{const n=t.getSession(),a=n.getSelection().getCursor(),o=n.getLine(a.row).charAt(a.column-1);o!=="("&&o!=="."&&o!=="@"||t.execCommand("startAutocomplete")},500,{trailing:!0})};function Rm({value:t,onValidate:n,onEdit:a,annotations:o,Analytics:s,isEnhancedLoggingEnabled:c=!1}){const[u,p]=(0,i.useState)(el.initState==="COMPLETED");return(0,i.useEffect)(()=>{(async()=>el.initState==="NOT_STARTED"&&(await el.setup(s,!1,c),p(!0)))()},[]),u?i.createElement(Xs,{value:t,onEdit:a,onValidate:n,annotations:o,Analytics:s,mode:IW}):i.createElement(q.A,{color:"inherit",textAlign:"center",padding:{vertical:"l"}},i.createElement(Et.A,null))}class Je{constructor(n){this.breadcrumb=n.breadcrumb,this.children=n.children,this.match=n.match,this.trimPath=n.trimPath,this.flashbarId=n.flashbarId}}const tl="CUSTOM_DOMAIN_WILDCARD",Wr="API_ID_WILDCARD",OS="SELECTED_DATASOURCE_WILDCARD",wm="SELECTED_FUNCTION_WILDCARD",nl="SELECTED_NAMESPACE_WILDCARD",CW=["/"];class RW{constructor(){this.buildTree()}buildTree(){const n="#",a=new Je({breadcrumb:{href:`${n}/create`,text:(0,l.Ay)`Create an API`},match:/^\/create$/,trimPath:!0,children:[]}),o=new Je({breadcrumb:{href:`${n}/apis`,text:(0,l.Ay)`APIs`},match:/^\/(apis|create)$/,trimPath:!1,children:[a],flashbarId:"api-list-table"});this.root=new Je({breadcrumb:{href:`${n}/`,text:(0,l.Ay)`AWS AppSync`},match:/^\//,trimPath:!0,children:[this.buildCustomDomainTree(n),this.buildApiIdTree(n),o,a]})}buildCustomDomainTree(n){const a=`${n}/customdomains`,o=new Je({breadcrumb:{href:`${a}/${tl}/details/edit-details`,text:(0,l.Ay)`Edit Domain`},match:/^\/edit-details$/,trimPath:!0,children:[]}),s=new Je({breadcrumb:{href:`${a}/${tl}/details/edit-associations`,text:(0,l.Ay)`Edit Association`},match:/^\/edit-associations$/,trimPath:!0,children:[]}),c=new Je({breadcrumb:{href:`${a}/${tl}/details`,text:tl},match:/^\/.*\/details/,trimPath:!0,children:[o,s]}),u=new Je({breadcrumb:{href:`${a}/create`,text:(0,l.Ay)`Create domain name`},match:/^\/create$/,trimPath:!0,children:[]});return new Je({breadcrumb:{href:a,text:(0,l.Ay)`Custom domain names`},match:/^\/customdomains/,trimPath:!0,children:[u,c]})}buildApiIdTree(n){const a=`${n}/${Wr}/v1`,o=new Je({breadcrumb:{href:`${a}/queries`,text:(0,l.Ay)`Queries`},match:/^\/.*\/v1\/queries$/,trimPath:!0,children:[]}),s=new Je({breadcrumb:{href:`${a}/cache`,text:(0,l.Ay)`API Cache`},match:/^\/.*\/v1\/cache$/,trimPath:!0,children:[]}),c=new Je({breadcrumb:{href:`${a}/monitoring`,text:(0,l.Ay)`Monitoring`},match:/^\/.*\/v1\/monitoring$/,trimPath:!0,children:[]}),u=new Je({breadcrumb:{href:`${a}/home`,text:Wr},match:/^\/.*\/v1\/(?!event\b)/,trimPath:!1,children:[this.buildSchemaTree(a),this.buildDatasourcesTree(a),this.buildFunctionsTree(a),o,s,this.buildSettingsTree(a),c],flashbarId:Wr});return new Je({breadcrumb:{href:"#/apis",text:(0,l.Ay)`APIs`},match:/^\/.*\/v1/,trimPath:!1,children:[u,this.buildEventApiTree(a)]})}buildSchemaTree(n){const a=`${n}/schema`,o=new Je({breadcrumb:{href:"",text:(0,l.Ay)`Attach resolver`},match:/\/attach$/,trimPath:!0,children:[]}),s=new Je({breadcrumb:{href:a,text:(0,l.Ay)`Resolver`},match:/\/resolver$/,trimPath:!0,children:[]}),c=new Je({breadcrumb:{href:`${a}/createResources`,text:(0,l.Ay)`Create Resources`},match:/\/createResources$/,trimPath:!0,children:[]});return new Je({breadcrumb:{href:a,text:(0,l.Ay)`Schema`},match:/^\/.*\/v1\/schema/,trimPath:!0,children:[c,s,o]})}buildDatasourcesTree(n){const a=`${n}/datasources`,o=new Je({breadcrumb:{href:"",text:(0,l.Ay)`Update Data Source`},match:/^edit$/,trimPath:!0,children:[]}),s=new Je({breadcrumb:{href:a,text:OS},match:/^\/.*\//,trimPath:!0,children:[o]}),c=new Je({breadcrumb:{href:`${a}/new`,text:(0,l.Ay)`New Data Source`},match:/^\/new$/,trimPath:!0,children:[]});return new Je({breadcrumb:{href:a,text:(0,l.Ay)`Data sources`},match:/^((\/.*\/v1)?\/datasources)/,flashbarId:`list-datasources-${Wr}`,trimPath:!0,children:[c,s]})}buildFunctionsTree(n){const a=`${n}/functions`,o=new Je({breadcrumb:{href:`${a}/${wm}/edit`,text:wm},match:/^\/.*\/edit$/,trimPath:!0,children:[]}),s=new Je({breadcrumb:{href:`${a}/new`,text:(0,l.Ay)`New function`},match:/^\/new$/,trimPath:!0,children:[]});return new Je({breadcrumb:{href:a,text:(0,l.Ay)`Functions`},match:/^\/.*\/v1\/functions/,trimPath:!0,children:[s,o]})}buildSettingsTree(n){const a=new Je({breadcrumb:{href:"",text:(0,l.Ay)`Edit API key`},match:/^\/apiKeys\/.*$/,trimPath:!0,children:[]}),o=new Je({breadcrumb:{href:"",text:(0,l.Ay)`Edit environment variables`},match:/^\/environmentVariables\/edit$/,trimPath:!0,children:[]}),s=new Je({breadcrumb:{href:"",text:(0,l.Ay)`Edit settings`},match:/^\/edit$/,trimPath:!0,children:[]}),c=new Je({breadcrumb:{href:"",text:(0,l.Ay)`Edit API configuration`},match:/^\/apiConfigurations\/edit$/,trimPath:!0,children:[]}),u=new Je({breadcrumb:{href:"",text:(0,l.Ay)`Edit auth configuration`},match:/^\/auth\/edit$/,trimPath:!0,children:[]}),p=new Je({breadcrumb:{href:"",text:(0,l.Ay)`Edit Primary authorization mode`},match:/^\/primaryAuth\/edit$/,trimPath:!0,children:[]}),h=new Je({breadcrumb:{href:"",text:(0,l.Ay)`Edit Additional authorization mode`},match:/^\/additionalAuth\/edit$/,trimPath:!0,children:[]}),f=new Je({breadcrumb:{href:"",text:(0,l.Ay)`Add Additional authorization mode`},match:/^\/additionalAuth\/add$/,trimPath:!0,children:[]});return new Je({breadcrumb:{href:`${n}/settings`,text:(0,l.Ay)`Settings`},match:/^((\/.*\/v1)?\/settings)/,trimPath:!0,children:[a,s,c,o,u,p,h,f],flashbarId:`settings-${Wr}`})}buildNamespacesTree(n){const a=`${n}/namespaces`,o=new Je({breadcrumb:{href:`${a}/${nl}/edit`,text:l.Ay.translate("Edit ${0}",nl)},match:/^\/.*\/edit$/,trimPath:!0,children:[]}),s=new Je({breadcrumb:{href:`${a}/${nl}`,text:nl},match:/^\/.*/,trimPath:!1,children:[o]}),c=new Je({breadcrumb:{href:`${a}/create`,text:(0,l.Ay)`Create namespace`},match:/\/create$/,trimPath:!0,children:[]});return new Je({breadcrumb:{href:a,text:(0,l.Ay)`Namespaces`},match:/\/namespaces/,trimPath:!0,children:[c,s],flashbarId:`list-namespaces-${Wr}`})}buildEventApiTree(n){const a=`${n}/event`,o=new Je({breadcrumb:{href:`${a}/integrations`,text:(0,l.Ay)`Integrations`},match:/\/integrations$/,trimPath:!0,children:[]}),s=new Je({breadcrumb:{href:`${a}/editor`,text:(0,l.Ay)`Pub/Sub Editor`},match:/\/editor$/,trimPath:!0,children:[]});return new Je({breadcrumb:{href:a,text:Wr},match:/^\/.*\/v1\/event/,trimPath:!0,children:[this.buildNamespacesTree(a),s,this.buildDatasourcesTree(a),o,this.buildSettingsTree(a)]})}traverseTree(n){if(CW.includes(n))return{pathTraveled:[],flashbarIds:[]};let a=n,o=[...this.root.children];const s=[this.root.breadcrumb],c=this.root.flashbarId?[this.root.flashbarId]:[];for(;o.length;){const u=o.shift();u.match.test(a)&&(u.trimPath&&(a=a.replace(u.match,"")),s.push(u.breadcrumb),u.flashbarId&&c.push(u.flashbarId),o=[...u.children])}return{pathTraveled:s,flashbarIds:c}}}const wW={[Wr]:"api",[tl]:"domain",[OS]:"dataSource",[wm]:"function",[nl]:"namespace"};function PW({breadcrumbs:t,getResourceIdentifier:n,navigate:a,pathname:o}){const s=(0,i.useMemo)(()=>t.map(c=>{let u=c.href,p=c.text;for(const[h,f]of Object.entries(wW)){if(u.includes(h)){const{key:y}=n(f);u=u.replace(h,y)}if(p.includes(h)){const{display:y}=n(f);p=p.replace(h,y)}}return{href:u,text:p}}),[o,n]);return i.createElement(mW.A,{items:s,onFollow:c=>{c.preventDefault();const u=c.detail.href.slice(1);a(u,!!c.detail.external)},ariaLabel:(0,l.Ay)`Breadcrumb`})}function Pm({label:t,children:n}){return i.createElement("div",null,i.createElement(q.A,{variant:"awsui-key-label"},t),i.createElement("div",null,n))}const OW="-";function DW({items:t}){const n=t.map(({key:a,value:o})=>e.createElement(Pm,{label:a,key:a},o||OW));return e.createElement(m,{size:"l"},n)}function Pbe({items:t,columns:n,variant:a="text-grid"}){const o=r(()=>{if(n<=0||n%1!=0)throw new RangeError(`Columns must be a postive integer. Received ${n}.`);const s=[];for(let c=0;c<t.length;c++){const u=c%n;s[u]||(s[u]=[]),s[u].push(t[c])}return s.map((c,u)=>e.createElement(DW,{key:`column-${u}`,items:c}))},[t,n]);return e.createElement(d,{columns:n,variant:a},o)}const DS={type:"link",text:(0,l.Ay)`APIs`,href:"#/apis"},NW={type:"link",text:(0,l.Ay)`Custom domain names`,href:"#/customdomains"},_W={type:"link",text:(0,l.Ay)`Documentation`,external:!0,externalIconAriaLabel:(0,l.Ay)`Opens in a new tab`,href:"https://docs.aws.amazon.com/appsync/index.html"},xW={type:"divider"},NS=t=>[...t?[NW]:[],xW,_W],LW=t=>{return t.isEventApi()?{type:"link",text:t.name??(0,l.Ay)`Loading`,href:`#/${t.apiId}/v1/event`}:{type:"link-group",text:t.name??(0,l.Ay)`Loading`,href:`#/${t.apiId}/v1/home`,items:(n=t.apiId,[{type:"link",text:(0,l.Ay)`Schema`,href:`#/${n}/v1/schema`},{type:"link",text:(0,l.Ay)`Data sources`,href:`#/${n}/v1/datasources`},{type:"link",text:(0,l.Ay)`Functions`,href:`#/${n}/v1/functions`},{type:"link",text:(0,l.Ay)`Queries`,href:`#/${n}/v1/queries`},{type:"link",text:(0,l.Ay)`Caching`,href:`#/${n}/v1/cache`},{type:"link",text:(0,l.Ay)`Settings`,href:`#/${n}/v1/settings`},{type:"link",text:(0,l.Ay)`Monitoring`,href:`#/${n}/v1/monitoring`}])};var n},_S=t=>{let n=[];return t.forEach(a=>{switch(a.type){case"link":n.push(a.href);break;case"link-group":n.push(a.href),n=n.concat(_S(a.items))}}),n};function kW({api:t,customDomainsEnabled:n,pathname:a,navigate:o}){const[s,c]=(0,i.useState)(`#${a}`),u=(0,i.useMemo)(()=>(({api:f,customDomainsEnabled:y})=>f?[DS,LW(f),...NS(y)]:[DS,...NS(y)])({api:t,customDomainsEnabled:n}),[t,n]),[p,h]=(0,i.useState)([]);return(0,i.useEffect)(()=>{const f=_S(u);h(f)},[u]),(0,i.useEffect)(()=>{const f=`#${a}`,y=p.find(g=>f.startsWith(g))||"#/";c(y)},[a,p]),i.createElement(hW.A,{activeHref:s,header:{href:"#/",text:(0,l.Ay)`AWS AppSync`},onFollow:f=>{f.preventDefault();const y=f.detail.href.slice(1);o(y,!!f.detail.external)},items:u})}var pr;function rl({message:t}){const[n,a]=(0,i.useState)(""),[o,s]=(0,i.useState)(0);return(0,i.useEffect)(()=>{clearTimeout(o),a("");const c=setTimeout(()=>{a(t),s(0)},2500);return s(c),()=>clearTimeout(c)},[t]),i.createElement("div",{"aria-live":"polite",className:"visually-hidden"},n)}(function(t,n){n===void 0&&(n={});var a=n.insertAt;if(typeof document<"u"){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",a==="top"&&o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}})(`.visually-hidden {
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}`),function(t){t.SERVICE="service",t.SERVICE_SUB_SECTION="serviceSubSection",t.SERVICE_CONSOLE_PAGE="serviceConsolePage",t.EVENT_CONTEXT="eventContext",t.EVENT_DETAIL="eventDetail",t.EVENT_VALUE="eventValue",t.FUNNEL="funnel",t.TASK_ID="taskId"}(pr||(pr={}));const ti=t=>{if(!t)return t;const n=["graphQL","GraphQL","iOS"].reduce((a,o)=>a.replace(o,he.capitalize(o)),t);return he.camelCase(n)},MW=t=>`${t} ${t===1?"match":"matches"}`;function xS(t){return({sorted:n,descending:a})=>{const o=n?`sorted ${a?"descending":"ascending"}`:"not sorted";return l.Ay.translate(`${t}, ${o}.`)}}function LS({text:t,onClick:n}){return i.createElement(K.A,{onClick:n,ariaLabel:(0,l.Ay)`Edit tags`,variant:"normal"},t)}function FW({itemCount:t,InfoLink:n,isLoading:a,manageTags:o}){const s=!!o;return i.createElement(be.A,{counter:!a&&`(${t})`,info:n,actions:s&&i.createElement(LS,{onClick:o.onClick,text:o.text}),description:["A tag is a label that you assign to an AWS resource.","Each tag consists of a key and an optional value.","You can use tags to search and filter your resources or track your AWS costs."].map(l.Ay.translate).join(" ")},(0,l.Ay)`Tags`)}function UW({manageTags:t}){const n=!!t;return i.createElement(q.A,{textAlign:"center",color:"inherit"},i.createElement(q.A,{variant:"strong",textAlign:"center",color:"inherit"},(0,l.Ay)`No tags.`),i.createElement(q.A,{variant:"p",padding:{bottom:"s"},color:"inherit"},(0,l.Ay)`No tags found for this resource.`),n&&i.createElement(LS,{onClick:t.onClick,text:t.text}))}function $W({tags:t,InfoLink:n,manageTags:a,isLoading:o}){const s=(0,i.useMemo)(()=>Object.entries(t).map(([y,g])=>({key:y,value:g,existing:!0})),[t]),{items:c,collectionProps:u,filteredItemsCount:p,filterProps:h,actions:f}=(0,Wn.G)(s,{filtering:{noMatch:i.createElement(q.A,{textAlign:"center",color:"inherit"},i.createElement(q.A,{variant:"strong",textAlign:"center",color:"inherit"},(0,l.Ay)`No matches`),i.createElement(q.A,{variant:"p",padding:{bottom:"s"},color:"inherit"},(0,l.Ay)`No tags matched the search text.`),i.createElement(K.A,{onClick:()=>f.setFiltering("")},(0,l.Ay)`Clear filter`)),empty:i.createElement(UW,{manageTags:a})},sorting:{}});return i.createElement(Ht.A,{...u,loading:o,header:i.createElement(FW,{isLoading:o,itemCount:p,InfoLink:n,manageTags:a}),filter:i.createElement(ur.A,{...h,filteringPlaceholder:(0,l.Ay)`Find tags`,filteringAriaLabel:(0,l.Ay)`Filter tags`,countText:MW(p)}),items:c,columnDefinitions:[{cell:({key:y})=>y,header:(0,l.Ay)`Key`,id:"key",sortingField:"key",isRowHeader:!0,ariaLabel:xS((0,l.Ay)`Key`)},{cell:({value:y})=>y,header:(0,l.Ay)`Value`,id:"value",sortingField:"value",isRowHeader:!0,ariaLabel:xS((0,l.Ay)`Value`)}]})}const jW=(t,n)=>t===n?l.Ay.translate("You can add up to ${0} tags.",n):t===1?l.Ay.translate("You can add up to 1 more tags."):l.Ay.translate("You can add up to ${0} more tags.",t);var se;(function(t){t.CHECKBOX="Checkbox",t.CUSTOM="Custom",t.INPUT="Input",t.JSCODE="JSCode",t.MULTISELECT="Multiselect",t.RADIO="RadioGroup",t.SELECT="Select",t.TAG_EDITOR="TagEditor",t.TEXTAREA="Textarea",t.TOGGLE="Toggle"})(se||(se={}));const kS=t=>t?i.createElement(ue.A,{variant:"info",onFollow:t.onFollow},(0,l.Ay)`Info`):null,MS=({title:t,info:n,description:a},o="h2")=>i.createElement(be.A,{variant:o,description:l.Ay.translate(a),info:kS(n)},l.Ay.translate(t)),VW=(t,n)=>!t||t.reduce((a,o)=>a&&o.compareFunction((0,he.get)(n,o.stateKey)),!0),BW={[se.CHECKBOX]:function({state:t,stateKey:n,...a}){const o=he.get(t,n);return i.createElement(Ea.A,{...a,checked:o,onChange:({detail:s})=>{s.checked!==o&&a.onChange(n,s.checked)},"data-analytics-type":pr.EVENT_VALUE,"data-analytics":ti(o.toString())},l.Ay.translate(a.label))},[se.CUSTOM]:function({Component:t,props:n,...a}){return i.createElement(t,{...n,...a})},[se.INPUT]:function({state:t,stateKey:n,enablePanorama:a,afterInputText:o,...s}){const c=he.get(t,n),u=a?{"data-analytics-type":pr.EVENT_VALUE,"data-analytics":ti(c)}:{},p=i.createElement(He.A,{...s,value:c,onChange:({detail:h})=>{h.value!==c&&s.onChange(n,h.value)},...u});return o?i.createElement(ba.A,{disableGutters:!0,gridDefinition:[{colspan:8},{colspan:4}]},p,i.createElement(q.A,{variant:"small",margin:{top:"s",horizontal:"s"}},o)):p},[se.JSCODE]:function({state:t,errors:n,stateKey:a,overrideKey:o,Analytics:s,onChange:c,...u}){const p=(0,i.useMemo)(()=>he.get(t,a),[he.get(t,o)]),h=he.get(n,a,[]);return i.createElement(Rm,{value:p,onEdit:({value:f})=>{c(a,f)},annotations:h,Analytics:s,...u})},[se.MULTISELECT]:function({state:t,stateKey:n,...a}){const o=he.get(t,n);return i.createElement(fW.A,{...a,selectedOptions:o,onChange:({detail:s})=>{a.onChange(n,s.selectedOptions)}})},[se.RADIO]:function({state:t,stateKey:n,...a}){const o=he.get(t,n);return i.createElement(Tr.A,{...a,value:o,onChange:({detail:s})=>{s.value!==o&&a.onChange(n,s.value)},"data-analytics-type":pr.EVENT_VALUE,"data-analytics":ti(o)})},[se.SELECT]:function({state:t,stateKey:n,enablePanorama:a,...o}){const s=he.get(t,n),c=a?{"data-analytics-type":pr.EVENT_VALUE,"data-analytics":ti(s.value)}:{};return i.createElement(ze.A,{...o,selectedOption:s,onChange:({detail:u})=>{u.selectedOption.value!==s?.value&&o.onChange(n,u.selectedOption)},...c})},[se.TAG_EDITOR]:function({state:t,stateKey:n,...a}){const o=he.get(t,n);return i.createElement(yW.A,{...a,tags:o,i18nStrings:{tagLimit:jW},onChange:({detail:s})=>{a.onChange(n,s.tags,{isValid:s.valid})}})},[se.TEXTAREA]:function({state:t,stateKey:n,enablePanorama:a,...o}){const s=he.get(t,n),c=a?{"data-analytics-type":pr.EVENT_VALUE,"data-analytics":ti(s)}:{};return i.createElement(Qs.A,{...o,value:s,onChange:({detail:u})=>{u.value!==s&&o.onChange(n,u.value)},...c})},[se.TOGGLE]:function({state:t,stateKey:n,...a}){const o=!!he.get(t,n);return i.createElement(dr.A,{...a,checked:o,onChange:({detail:s})=>{s.checked!==o&&a.onChange(n,s.checked)},"data-analytics-type":pr.EVENT_VALUE,"data-analytics":ti(o.toString())},l.Ay.translate(a.label))}};function FS({state:t,errors:n,onChange:a,config:o,omitFormField:s,type:c,label:u,optional:p,description:h,constraint:f,info:y,hideErrors:g,stretch:A,colspan:E,secondaryControl:b,prerequisites:C}){if(!VW(C,t))return null;const I=BW[c],R=i.createElement(I,{state:t,errors:n,onChange:a,...o});if(s)return R;const L=p?i.createElement("i",null," - ",(0,l.Ay)`optional`):"",P=i.createElement(i.Fragment,null,l.Ay.translate(u)," ",L),F=typeof h=="string"?l.Ay.translate(h):h,x=typeof f=="string"?l.Ay.translate(f):f,O=i.createElement(X.A,{label:P,description:F,constraintText:x,info:kS(y),secondaryControl:b,errorText:g?"":l.Ay.translate((0,he.get)(n,o.stateKey)),stretch:A,"data-analytics-type":pr.EVENT_DETAIL,"data-analytics":ti(u)},R);return E?i.createElement(ba.A,{gridDefinition:[{colspan:E}]},O):O}const GW=({state:t,errors:n,footer:a,onChange:o})=>i.createElement(mn.A,{headingTagOverride:"h2",variant:"footer",headerText:a.label,defaultExpanded:a.defaultExpanded??!1},i.createElement($.A,{size:"l"},a.fields.map(s=>i.createElement(FS,{key:s.label,state:t,errors:n,onChange:o,...s}))));function zW({state:t,errors:n,header:a,content:o,footer:s,onChange:c,...u}){return i.createElement(it.A,{...u,header:MS(a,"h2"),footer:s&&GW({state:t,errors:n,footer:s,onChange:c}),"data-analytics-type":pr.EVENT_CONTEXT,"data-analytics":ti(a.title)},i.createElement($.A,{size:"l"},o.pretext&&i.createElement("span",null,o.pretext),o.fields.map(p=>i.createElement(FS,{key:p.label??p.config.stateKey,state:t,errors:n,onChange:c,...p})),o.posttext&&i.createElement("span",null,o.posttext)))}function Uo(t){const{alert:n,cancelTestId:a,containers:o,errors:s,onCancel:c,onChange:u,onSave:p,saving:h,saveTestId:f,saveText:y,state:g}=t;return i.createElement("form",null,i.createElement(Rn.A,{header:MS(t,"h1"),errorText:s.form,actions:i.createElement($.A,{direction:"horizontal",size:"xs"},i.createElement(K.A,{disabled:!1,loading:!1,variant:"link",onClick:c,formAction:"none","data-analytics-type":pr.EVENT_DETAIL,"data-analytics":"cancel","data-testid":a},(0,l.Ay)`Cancel`),i.createElement(K.A,{disabled:h||!1,loading:h||!1,variant:"primary",onClick:p,formAction:"submit","data-analytics-type":pr.EVENT_DETAIL,"data-analytics":"save","data-testid":f},y||(0,l.Ay)`Create`))},i.createElement($.A,{size:"l"},n,o.map(A=>A.prerequisites&&!A.prerequisites.reduce((E,b)=>E&&b.compareFunction((0,he.get)(g,b.stateKey)),!0)?null:i.createElement(zW,{key:A.header.title,state:g,errors:s,onChange:u,...A})))))}const qW={modalContentText:"",inputDescriptionText:"",actionButtonText:"Delete",cancelButtonText:"Cancel"};function Rc(t){const{visible:n,triggerAction:a,onDismiss:o,onInputChange:s,confirmText:c,i18nStrings:u}=t,[p,h]=(0,i.useState)(""),[f,y]=(0,i.useState)(!1),[g,A]=(0,i.useState)(null),E=p?.trim()===c?.trim(),b=(0,i.useMemo)(()=>{return I=u,{...qW,...I};var I},[u]);(0,i.useEffect)(()=>{n||(y(!1),h(""),A(null))},[n]);const C=()=>{y(!1),h(""),A(null),o()};return i.createElement(xn.A,{...t,size:"large",footer:i.createElement(q.A,{float:"right"},i.createElement($.A,{size:"s",direction:"horizontal"},i.createElement(K.A,{"data-testid":"confirm-modal-dismiss-button",variant:"link",onClick:C,disabled:f},l.Ay.translate(b.cancelButtonText)),i.createElement(K.A,{variant:"primary",disabled:!E||f,onClick:async()=>{try{y(!0),A(null),await a(),C()}catch(I){A(I.toString()),y(!1)}},loading:f,"data-testid":"confirm-modal-action-button"},l.Ay.translate(b.actionButtonText))))},i.createElement($.A,{size:"l"},g&&i.createElement(wt.A,{type:"error",statusIconAriaLabel:"Error"},g),i.createElement(X.A,{label:l.Ay.translate(b.modalContentText),description:l.Ay.translate(b.inputDescriptionText)},i.createElement(He.A,{onChange:({detail:I})=>{h(I.value),s&&s(I.value)},value:p,placeholder:c,autoComplete:!1,"data-testid":"confirm-modal-input"}))))}var KW=Object.freeze({__proto__:null,default:t=>({"/lib.es2015.d.ts":v(34498),"/lib.es5.d.ts":v(5679),"/lib.es2015.core.d.ts":v(57797),"/lib.es2015.collection.d.ts":v(51978),"/lib.es2015.generator.d.ts":v(16217),"/lib.es2015.promise.d.ts":v(71017),"/lib.es2015.iterable.d.ts":v(65576),"/lib.es2015.proxy.d.ts":v(57376),"/lib.es2015.reflect.d.ts":v(22513),"/lib.es2015.symbol.d.ts":v(76362),"/lib.es2015.symbol.wellknown.d.ts":v(17931),"/console.d.ts":`
      declare const console: Pick<Console, 'log' | 'error' ${t?"| 'debug'":""}>;
    `})}),WW=v(42530),HW=v(29787),Om=v(95890),Dm=v(69997),US=v(47597),$S=v(62684),jS=v(7818),VS=v(5640),JW=v(40796),YW=v(65407),BS=v(47844),QW=v(3695),XW=v(96725),GS=v(16541),zS=v(30158),ZW=v(72562),e2=v(11614),t2=v(59260),qS=v(7049),n2=v(35035),wc=v(87526),$o=v(63417),wn=v(2799),r2=v(91642),Ir=v(32308),KS=v(1417),WS=v(65606),HS,JS={exports:{}},Nm={},Obe,Dbe={};/**
 * @license React
 * use-sync-external-store-with-selector.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */JS.exports=function(){if(HS)return Nm;HS=1;var t=i,n=typeof Object.is=="function"?Object.is:function(p,h){return p===h&&(p!==0||1/p==1/h)||p!=p&&h!=h},a=t.useSyncExternalStore,o=t.useRef,s=t.useEffect,c=t.useMemo,u=t.useDebugValue;return Nm.useSyncExternalStoreWithSelector=function(p,h,f,y,g){var A=o(null);if(A.current===null){var E={hasValue:!1,value:null};A.current=E}else E=A.current;A=c(function(){function C(F){if(!L){if(L=!0,I=F,F=y(F),g!==void 0&&E.hasValue){var x=E.value;if(g(x,F))return R=x}return R=F}if(x=R,n(I,F))return x;var O=y(F);return g!==void 0&&g(x,O)?x:(I=F,R=O)}var I,R,L=!1,P=f===void 0?null:f;return[function(){return C(h())},P===null?void 0:function(){return C(P())}]},[h,f,y,g]);var b=a(p,A[0],A[1]);return s(function(){E.hasValue=!0,E.value=b},[b]),u(b),b},Nm}();var a2=JS.exports,Jn=i,YS=Symbol.for("react-redux-context"),QS=typeof globalThis<"u"?globalThis:{};function i2(){if(!Jn.createContext)return{};const t=QS[YS]??(QS[YS]=new Map);let n=t.get(Jn.createContext);return n||(n=Jn.createContext(null),t.set(Jn.createContext,n)),n}var ni=i2();function _m(t=ni){return function(){return Jn.useContext(t)}}var XS=_m(),ZS=()=>{throw new Error("uSES not initialized!")},o2=(t,n)=>t===n;function s2(t=ni){const n=t===ni?XS:_m(t),a=(o,s={})=>{const{equalityFn:c=o2,devModeChecks:u={}}=typeof s=="function"?{equalityFn:s}:s,{store:p,subscription:h,getServerState:f,stabilityCheck:y,identityFunctionCheck:g}=n(),A=Jn.useRef(!0),E=Jn.useCallback({[o.name](C){return o(C)}}[o.name],[o,y,u.stabilityCheck]),b=ZS(h.addNestedSub,p.getState,f||p.getState,E,c);return Jn.useDebugValue(b),b};return Object.assign(a,{withTypes:()=>a}),a}var l2=s2(),eT={notify(){},get:()=>[]},c2=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),u2=typeof navigator<"u"&&navigator.product==="ReactNative",d2=c2||u2?Jn.useLayoutEffect:Jn.useEffect,p2=function({store:t,context:n,children:a,serverState:o,stabilityCheck:s="once",identityFunctionCheck:c="once"}){const u=Jn.useMemo(()=>({store:t,subscription:function(y,g){let A,E=eT,b=0,C=!1;function I(){P.onStateChange&&P.onStateChange()}function R(){b++,A||(A=y.subscribe(I),E=function(){let F=null,x=null;return{clear(){F=null,x=null},notify(){(()=>{let O=F;for(;O;)O.callback(),O=O.next})()},get(){const O=[];let j=F;for(;j;)O.push(j),j=j.next;return O},subscribe(O){let j=!0;const M=x={callback:O,next:null,prev:x};return M.prev?M.prev.next=M:F=M,function(){j&&F!==null&&(j=!1,M.next?M.next.prev=M.prev:x=M.prev,M.prev?M.prev.next=M.next:F=M.next)}}}}())}function L(){b--,A&&b===0&&(A(),A=void 0,E.clear(),E=eT)}const P={addNestedSub:function(F){R();const x=E.subscribe(F);let O=!1;return()=>{O||(O=!0,x(),L())}},notifyNestedSubs:function(){E.notify()},handleChangeWrapper:I,isSubscribed:function(){return C},trySubscribe:function(){C||(C=!0,R())},tryUnsubscribe:function(){C&&(C=!1,L())},getListeners:()=>E};return P}(t),getServerState:o?()=>o:void 0,stabilityCheck:s,identityFunctionCheck:c}),[t,o,s,c]),p=Jn.useMemo(()=>t.getState(),[t]);d2(()=>{const{subscription:f}=u;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),p!==t.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[u,p]);const h=n||ni;return Jn.createElement(h.Provider,{value:u},a)};function tT(t=ni){const n=t===ni?XS:_m(t),a=()=>{const{store:o}=n();return o};return Object.assign(a,{withTypes:()=>a}),a}var m2=tT();function h2(t=ni){const n=t===ni?m2:tT(t),a=()=>n().dispatch;return Object.assign(a,{withTypes:()=>a}),a}var nT,f2=h2();function hn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}nT=a2.useSyncExternalStoreWithSelector,ZS=nT;var rT=typeof Symbol=="function"&&Symbol.observable||"@@observable",xm=()=>Math.random().toString(36).substring(7).split("").join("."),Pc={INIT:`@@redux/INIT${xm()}`,REPLACE:`@@redux/REPLACE${xm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xm()}`};function Oc(t){if(typeof t!="object"||t===null)return!1;let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n||Object.getPrototypeOf(t)===null}function Nbe(t){if(t===void 0)return"undefined";if(t===null)return"null";const n=typeof t;switch(n){case"boolean":case"string":case"number":case"symbol":case"function":return n}if(Array.isArray(t))return"array";if(function(o){return o instanceof Date||typeof o.toDateString=="function"&&typeof o.getDate=="function"&&typeof o.setDate=="function"}(t))return"date";if(function(o){return o instanceof Error||typeof o.message=="string"&&o.constructor&&typeof o.constructor.stackTraceLimit=="number"}(t))return"error";const a=function(o){return typeof o.constructor=="function"?o.constructor.name:null}(t);switch(a){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return a}return Object.prototype.toString.call(t).slice(8,-1).toLowerCase().replace(/\s/g,"")}function _be(t){return typeof t}function aT(t,n,a){if(typeof t!="function")throw new Error(hn(2));if(typeof n=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(hn(0));if(typeof n=="function"&&a===void 0&&(a=n,n=void 0),a!==void 0){if(typeof a!="function")throw new Error(hn(1));return a(aT)(t,n)}let o=t,s=n,c=new Map,u=c,p=0,h=!1;function f(){u===c&&(u=new Map,c.forEach((E,b)=>{u.set(b,E)}))}function y(){if(h)throw new Error(hn(3));return s}function g(E){if(typeof E!="function")throw new Error(hn(4));if(h)throw new Error(hn(5));let b=!0;f();const C=p++;return u.set(C,E),function(){if(b){if(h)throw new Error(hn(6));b=!1,f(),u.delete(C),c=null}}}function A(E){if(!Oc(E))throw new Error(hn(7));if(E.type===void 0)throw new Error(hn(8));if(typeof E.type!="string")throw new Error(hn(17));if(h)throw new Error(hn(9));try{h=!0,s=o(s,E)}finally{h=!1}return(c=u).forEach(b=>{b()}),E}return A({type:Pc.INIT}),{dispatch:A,subscribe:g,getState:y,replaceReducer:function(E){if(typeof E!="function")throw new Error(hn(10));o=E,A({type:Pc.REPLACE})},[rT]:function(){const E=g;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(hn(11));function C(){const I=b;I.next&&I.next(y())}return C(),{unsubscribe:E(C)}},[rT](){return this}}}}}function xbe(t){typeof console<"u"&&typeof console.error=="function"&&console.error(t);try{throw new Error(t)}catch{}}function iT(t){const n=Object.keys(t),a={};for(let u=0;u<n.length;u++){const p=n[u];typeof t[p]=="function"&&(a[p]=t[p])}const o=Object.keys(a);let s,c;try{(function(u){Object.keys(u).forEach(p=>{const h=u[p];if(h(void 0,{type:Pc.INIT})===void 0)throw new Error(hn(12));if(h(void 0,{type:Pc.PROBE_UNKNOWN_ACTION()})===void 0)throw new Error(hn(13))})})(a)}catch(u){c=u}return function(u={},p){if(c)throw c;let h=!1;const f={};for(let y=0;y<o.length;y++){const g=o[y],A=a[g],E=u[g],b=A(E,p);if(b===void 0){const C=p&&p.type;throw new Error(hn(14))}f[g]=b,h=h||b!==E}return h=h||o.length!==Object.keys(u).length,h?f:u}}function Dc(...t){return t.length===0?n=>n:t.length===1?t[0]:t.reduce((n,a)=>(...o)=>n(a(...o)))}function oT(t){return Oc(t)&&"type"in t&&typeof t.type=="string"}var sT=Symbol.for("immer-nothing"),lT=Symbol.for("immer-draftable"),Yn=Symbol.for("immer-state"),Lbe=[];function Cr(t,...n){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var jo=Object.getPrototypeOf;function Hr(t){return!!t&&!!t[Yn]}function va(t){return!!t&&(cT(t)||Array.isArray(t)||!!t[lT]||!!t.constructor?.[lT]||xc(t)||Lc(t))}var y2=Object.prototype.constructor.toString();function cT(t){if(!t||typeof t!="object")return!1;const n=jo(t);if(n===null)return!0;const a=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===y2}function Nc(t,n){_c(t)===0?Reflect.ownKeys(t).forEach(a=>{n(a,t[a],t)}):t.forEach((a,o)=>n(o,a,t))}function _c(t){const n=t[Yn];return n?n.type_:Array.isArray(t)?1:xc(t)?2:Lc(t)?3:0}function Lm(t,n){return _c(t)===2?t.has(n):Object.prototype.hasOwnProperty.call(t,n)}function uT(t,n,a){const o=_c(t);o===2?t.set(n,a):o===3?t.add(a):t[n]=a}function xc(t){return t instanceof Map}function Lc(t){return t instanceof Set}function Ki(t){return t.copy_||t.base_}function km(t,n){if(xc(t))return new Map(t);if(Lc(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!n&&cT(t))return jo(t)?{...t}:Object.assign(Object.create(null),t);const a=Object.getOwnPropertyDescriptors(t);delete a[Yn];let o=Reflect.ownKeys(a);for(let s=0;s<o.length;s++){const c=o[s],u=a[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(a[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[c]})}return Object.create(jo(t),a)}function Mm(t,n=!1){return kc(t)||Hr(t)||!va(t)||(_c(t)>1&&(t.set=t.add=t.clear=t.delete=g2),Object.freeze(t),n&&Object.entries(t).forEach(([a,o])=>Mm(o,!0))),t}function g2(){Cr(2)}function kc(t){return Object.isFrozen(t)}var al,A2={};function Wi(t){const n=A2[t];return n||Cr(0,t),n}function dT(){return al}function pT(t,n){n&&(Wi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=n)}function Fm(t){Um(t),t.drafts_.forEach(E2),t.drafts_=null}function Um(t){t===al&&(al=t.parent_)}function mT(t){return al={drafts_:[],parent_:al,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function E2(t){const n=t[Yn];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function hT(t,n){n.unfinalizedDrafts_=n.drafts_.length;const a=n.drafts_[0];return t!==void 0&&t!==a?(a[Yn].modified_&&(Fm(n),Cr(4)),va(t)&&(t=Mc(n,t),n.parent_||Fc(n,t)),n.patches_&&Wi("Patches").generateReplacementPatches_(a[Yn].base_,t,n.patches_,n.inversePatches_)):t=Mc(n,a,[]),Fm(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),t!==sT?t:void 0}function Mc(t,n,a){if(kc(n))return n;const o=n[Yn];if(!o)return Nc(n,(s,c)=>fT(t,o,n,s,c,a)),n;if(o.scope_!==t)return n;if(!o.modified_)return Fc(t,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const s=o.copy_;let c=s,u=!1;o.type_===3&&(c=new Set(s),s.clear(),u=!0),Nc(c,(p,h)=>fT(t,o,s,p,h,a,u)),Fc(t,s,!1),a&&t.patches_&&Wi("Patches").generatePatches_(o,a,t.patches_,t.inversePatches_)}return o.copy_}function fT(t,n,a,o,s,c,u){if(Hr(s)){const p=Mc(t,s,c&&n&&n.type_!==3&&!Lm(n.assigned_,o)?c.concat(o):void 0);if(uT(a,o,p),!Hr(p))return;t.canAutoFreeze_=!1}else u&&a.add(s);if(va(s)&&!kc(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Mc(t,s),n&&n.scope_.parent_||typeof o=="symbol"||!Object.prototype.propertyIsEnumerable.call(a,o)||Fc(t,s)}}function Fc(t,n,a=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Mm(n,a)}var $m={get(t,n){if(n===Yn)return t;const a=Ki(t);if(!Lm(a,n))return function(s,c,u){const p=yT(c,u);return p?"value"in p?p.value:p.get?.call(s.draft_):void 0}(t,a,n);const o=a[n];return t.finalized_||!va(o)?o:o===jm(t.base_,n)?(Bm(t),t.copy_[n]=Gm(o,t)):o},has:(t,n)=>n in Ki(t),ownKeys:t=>Reflect.ownKeys(Ki(t)),set(t,n,a){const o=yT(Ki(t),n);if(o?.set)return o.set.call(t.draft_,a),!0;if(!t.modified_){const u=jm(Ki(t),n),p=u?.[Yn];if(p&&p.base_===a)return t.copy_[n]=a,t.assigned_[n]=!1,!0;if(((s=a)===(c=u)?s!==0||1/s==1/c:s!=s&&c!=c)&&(a!==void 0||Lm(t.base_,n)))return!0;Bm(t),Vm(t)}var s,c;return t.copy_[n]===a&&(a!==void 0||n in t.copy_)||Number.isNaN(a)&&Number.isNaN(t.copy_[n])||(t.copy_[n]=a,t.assigned_[n]=!0),!0},deleteProperty:(t,n)=>(jm(t.base_,n)!==void 0||n in t.base_?(t.assigned_[n]=!1,Bm(t),Vm(t)):delete t.assigned_[n],t.copy_&&delete t.copy_[n],!0),getOwnPropertyDescriptor(t,n){const a=Ki(t),o=Reflect.getOwnPropertyDescriptor(a,n);return o&&{writable:!0,configurable:t.type_!==1||n!=="length",enumerable:o.enumerable,value:a[n]}},defineProperty(){Cr(11)},getPrototypeOf:t=>jo(t.base_),setPrototypeOf(){Cr(12)}},il={};function jm(t,n){const a=t[Yn];return(a?Ki(a):t)[n]}function yT(t,n){if(!(n in t))return;let a=jo(t);for(;a;){const o=Object.getOwnPropertyDescriptor(a,n);if(o)return o;a=jo(a)}}function Vm(t){t.modified_||(t.modified_=!0,t.parent_&&Vm(t.parent_))}function Bm(t){t.copy_||(t.copy_=km(t.base_,t.scope_.immer_.useStrictShallowCopy_))}Nc($m,(t,n)=>{il[t]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}}),il.deleteProperty=function(t,n){return il.set.call(this,t,n,void 0)},il.set=function(t,n,a){return $m.set.call(this,t[0],n,a,t[0])};function Gm(t,n){const a=xc(t)?Wi("MapSet").proxyMap_(t,n):Lc(t)?Wi("MapSet").proxySet_(t,n):function(o,s){const c=Array.isArray(o),u={type_:c?1:0,scope_:s?s.scope_:dT(),modified_:!1,finalized_:!1,assigned_:{},parent_:s,base_:o,draft_:null,copy_:null,revoke_:null,isManual_:!1};let p=u,h=$m;c&&(p=[u],h=il);const{revoke:f,proxy:y}=Proxy.revocable(p,h);return u.draft_=y,u.revoke_=f,y}(t,n);return(n?n.scope_:dT()).drafts_.push(a),a}function zm(t){return Hr(t)||Cr(10,t),gT(t)}function gT(t){if(!va(t)||kc(t))return t;const n=t[Yn];let a;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,a=km(t,n.scope_.immer_.useStrictShallowCopy_)}else a=km(t,!0);return Nc(a,(o,s)=>{uT(a,o,gT(s))}),n&&(n.finalized_=!1),a}var Qn=new class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,a,o)=>{if(typeof n=="function"&&typeof a!="function"){const c=a;a=n;const u=this;return function(p=c,...h){return u.produce(p,f=>a.call(this,f,...h))}}let s;if(typeof a!="function"&&Cr(6),o!==void 0&&typeof o!="function"&&Cr(7),va(n)){const c=mT(this),u=Gm(n,void 0);let p=!0;try{s=a(u),p=!1}finally{p?Fm(c):Um(c)}return pT(c,o),hT(s,c)}if(!n||typeof n!="object"){if(s=a(n),s===void 0&&(s=n),s===sT&&(s=void 0),this.autoFreeze_&&Mm(s,!0),o){const c=[],u=[];Wi("Patches").generateReplacementPatches_(n,s,c,u),o(c,u)}return s}Cr(1,n)},this.produceWithPatches=(n,a)=>{if(typeof n=="function")return(c,...u)=>this.produceWithPatches(c,p=>n(p,...u));let o,s;return[this.produce(n,a,(c,u)=>{o=c,s=u}),o,s]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){va(t)||Cr(8),Hr(t)&&(t=zm(t));const n=mT(this),a=Gm(t,void 0);return a[Yn].isManual_=!0,Um(n),a}finishDraft(t,n){const a=t&&t[Yn];a&&a.isManual_||Cr(9);const{scope_:o}=a;return pT(o,n),hT(void 0,o)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,n){let a;for(a=n.length-1;a>=0;a--){const s=n[a];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}a>-1&&(n=n.slice(a+1));const o=Wi("Patches").applyPatches_;return Hr(t)?o(t,n):this.produce(t,s=>o(s,n))}},qm=Qn.produce;Qn.produceWithPatches.bind(Qn),Qn.setAutoFreeze.bind(Qn),Qn.setUseStrictShallowCopy.bind(Qn),Qn.applyPatches.bind(Qn),Qn.createDraft.bind(Qn),Qn.finishDraft.bind(Qn);var kbe=(t,n,a)=>{if(n.length===1&&n[0]===a){let o=!1;try{const s={};t(s)===s&&(o=!0)}catch{}if(o){let s;try{throw new Error}catch(c){({stack:s}=c)}console.warn(`The result function returned its own inputs without modification. e.g
\`createSelector([state => state.todos], todos => todos)\`
This could lead to inefficient memoization and unnecessary re-renders.
Ensure transformation logic is in the result function, and extraction logic is in the input selectors.`,{stack:s})}}},Mbe=(t,n,a)=>{const{memoize:o,memoizeOptions:s}=n,{inputSelectorResults:c,inputSelectorResultsCopy:u}=t,p=o(()=>({}),...s);if(p.apply(null,c)!==p.apply(null,u)){let h;try{throw new Error}catch(f){({stack:h}=f)}console.warn(`An input selector returned a different result when passed same arguments.
This means your output selector will likely run more frequently than intended.
Avoid returning a new reference inside your input selector, e.g.
\`createSelector([state => state.todos.map(todo => todo.id)], todoIds => todoIds.length)\``,{arguments:a,firstInputs:c,secondInputs:u,stack:h})}},Fbe={inputStabilityCheck:"once",identityFunctionCheck:"once"},AT=t=>Array.isArray(t)?t:[t];function b2(t){const n=Array.isArray(t[0])?t[0]:t;return function(a,o="expected all items to be functions, instead received the following types: "){if(!a.every(s=>typeof s=="function")){const s=a.map(c=>typeof c=="function"?`function ${c.name||"unnamed"}()`:typeof c).join(", ");throw new TypeError(`${o}[${s}]`)}}(n,"createSelector expects all input-selectors to be functions, but received the following types: "),n}function v2(t,n){const a=[],{length:o}=t;for(let s=0;s<o;s++)a.push(t[s].apply(null,n));return a}var S2=typeof WeakRef<"u"?WeakRef:class{constructor(t){this.value=t}deref(){return this.value}},T2=0,ET=1;function Uc(){return{s:T2,v:void 0,o:null,p:null}}function Km(t,n={}){let a=Uc();const{resultEqualityCheck:o}=n;let s,c=0;function u(){let p=a;const{length:h}=arguments;for(let g=0,A=h;g<A;g++){const E=arguments[g];if(typeof E=="function"||typeof E=="object"&&E!==null){let b=p.o;b===null&&(p.o=b=new WeakMap);const C=b.get(E);C===void 0?(p=Uc(),b.set(E,p)):p=C}else{let b=p.p;b===null&&(p.p=b=new Map);const C=b.get(E);C===void 0?(p=Uc(),b.set(E,p)):p=C}}const f=p;let y;if(p.s===ET?y=p.v:(y=t.apply(null,arguments),c++),f.s=ET,o){const g=s?.deref?.()??s;g!=null&&o(g,y)&&(y=g,c!==0&&c--),s=typeof y=="object"&&y!==null||typeof y=="function"?new S2(y):y}return f.v=y,y}return u.clearCache=()=>{a=Uc(),u.resetResultsCount()},u.resultsCount=()=>c,u.resetResultsCount=()=>{c=0},u}function bT(t,...n){const a=typeof t=="function"?{memoize:t,memoizeOptions:n}:t,o=(...s)=>{let c,u=0,p=0,h={},f=s.pop();typeof f=="object"&&(h=f,f=s.pop()),function(O,j="expected a function, instead received "+typeof O){if(typeof O!="function")throw new TypeError(j)}(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const y={...a,...h},{memoize:g,memoizeOptions:A=[],argsMemoize:E=Km,argsMemoizeOptions:b=[],devModeChecks:C={}}=y,I=AT(A),R=AT(b),L=b2(s),P=g(function(){return u++,f.apply(null,arguments)},...I);let F=!0;const x=E(function(){p++;const O=v2(L,arguments);return c=P.apply(null,O),c},...R);return Object.assign(x,{resultFunc:f,memoizedResultFunc:P,dependencies:L,dependencyRecomputations:()=>p,resetDependencyRecomputations:()=>{p=0},lastResult:()=>c,recomputations:()=>u,resetRecomputations:()=>{u=0},memoize:g,argsMemoize:E})};return Object.assign(o,{withTypes:()=>o}),o}var I2=bT(Km),C2=Object.assign((t,n=I2)=>{(function(o,s="expected an object, instead received "+typeof o){if(typeof o!="object")throw new TypeError(s)})(t,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);const a=Object.keys(t);return n(a.map(o=>t[o]),(...o)=>o.reduce((s,c,u)=>(s[a[u]]=c,s),{}))},{withTypes:()=>C2});function vT(t){return({dispatch:n,getState:a})=>o=>s=>typeof s=="function"?s(n,a,t):o(s)}var R2=vT(),w2=vT,P2=((...t)=>{const n=bT(...t),a=Object.assign((...o)=>{const s=n(...o),c=(u,...p)=>s(Hr(u)?zm(u):u,...p);return Object.assign(c,s),c},{withTypes:()=>a});return a})(Km),O2=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Dc:Dc.apply(null,arguments)},ST=t=>t&&typeof t.match=="function";function ol(t,n){function a(...o){if(n){let s=n(...o);if(!s)throw new Error(Xn(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:o[0]}}return a.toString=()=>`${t}`,a.type=t,a.match=o=>oT(o)&&o.type===t,a}function Ube(t){return typeof t=="function"&&"type"in t&&ST(t)}function D2(t){return["type","payload","error","meta"].indexOf(t)>-1}function $be(t,n){let a=0;return{measureTime(o){const s=Date.now();try{return o()}finally{const c=Date.now();a+=c-s}},warnIfExceeded(){a>t&&console.warn(`${n} took ${a}ms, which is more than the warning threshold of ${t}ms. 
If your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.
It is disabled in production builds, so you don't need to worry about that.`)}}}var TT=class Vl extends Array{constructor(...n){super(...n),Object.setPrototypeOf(this,Vl.prototype)}static get[Symbol.species](){return Vl}concat(...n){return super.concat.apply(this,n)}prepend(...n){return n.length===1&&Array.isArray(n[0])?new Vl(...n[0].concat(this)):new Vl(...n.concat(this))}};function IT(t){return va(t)?qm(t,()=>{}):t}function Wm(t,n,a){if(t.has(n)){let s=t.get(n);return a.update&&(s=a.update(s,n,t),t.set(n,s)),s}if(!a.insert)throw new Error(Xn(10));const o=a.insert(n,t);return t.set(n,o),o}function jbe(t){return typeof t!="object"||t==null||Object.isFrozen(t)}function Vbe(t,n,a){const o=CT(t,n,a);return{detectMutations:()=>RT(t,n,o,a)}}function CT(t,n=[],a,o="",s=new Set){const c={value:a};if(!t(a)&&!s.has(a)){s.add(a),c.children={};for(const u in a){const p=o?o+"."+u:u;n.length&&n.indexOf(p)!==-1||(c.children[u]=CT(t,n,a[u],p))}}return c}function RT(t,n=[],a,o,s=!1,c=""){const u=a?a.value:void 0,p=u===o;if(s&&!p&&!Number.isNaN(o))return{wasMutated:!0,path:c};if(t(u)||t(o))return{wasMutated:!1};const h={};for(let y in a.children)h[y]=!0;for(let y in o)h[y]=!0;const f=n.length>0;for(let y in h){const g=c?c+"."+y:y;if(f&&n.some(E=>E instanceof RegExp?E.test(g):g===E))continue;const A=RT(t,n,a.children[y],o[y],p,g);if(A.wasMutated)return A}return{wasMutated:!1}}function N2(t){const n=typeof t;return t==null||n==="string"||n==="boolean"||n==="number"||Array.isArray(t)||Oc(t)}function _2(t,n="",a=N2,o,s=[],c){let u;if(!a(t))return{keyPath:n||"<root>",value:t};if(typeof t!="object"||t===null||c?.has(t))return!1;const p=o!=null?o(t):Object.entries(t),h=s.length>0;for(const[f,y]of p){const g=n?n+"."+f:f;if(!(h&&s.some(A=>A instanceof RegExp?A.test(g):g===A))){if(!a(y))return{keyPath:g,value:y};if(typeof y=="object"&&(u=_2(y,g,a,o,s,c),u))return u}}return c&&wT(t)&&c.add(t),!1}function wT(t){if(!Object.isFrozen(t))return!1;for(const n of Object.values(t))if(typeof n=="object"&&n!==null&&!wT(n))return!1;return!0}function x2(t){return typeof t=="boolean"}var L2=()=>function(t){const{thunk:n=!0,immutableCheck:a=!0,serializableCheck:o=!0,actionCreatorCheck:s=!0}=t??{};let c=new TT;return n&&(x2(n)?c.push(R2):c.push(w2(n.extraArgument))),c},PT=t=>n=>{setTimeout(n,t)},k2=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PT(10),M2=t=>function(n){const{autoBatch:a=!0}=n??{};let o=new TT(t);return a&&o.push(((s={type:"raf"})=>c=>(...u)=>{const p=c(...u);let h=!0,f=!1,y=!1;const g=new Set,A=s.type==="tick"?queueMicrotask:s.type==="raf"?k2:s.type==="callback"?s.queueNotification:PT(s.timeout),E=()=>{y=!1,f&&(f=!1,g.forEach(b=>b()))};return Object.assign({},p,{subscribe(b){const C=p.subscribe(()=>h&&b());return g.add(b),()=>{C(),g.delete(b)}},dispatch(b){try{return h=!b?.meta?.RTK_autoBatch,f=!h,f&&(y||(y=!0,A(E))),p.dispatch(b)}finally{h=!0}}})})(typeof a=="object"?a:void 0)),o};function F2(t){const n=L2(),{reducer:a,middleware:o,devTools:s=!0,preloadedState:c,enhancers:u}=t||{};let p,h;if(typeof a=="function")p=a;else{if(!Oc(a))throw new Error(Xn(1));p=iT(a)}typeof o=="function"?h=o(n):h=n();let f=Dc;s&&(f=O2({trace:!1,...typeof s=="object"&&s}));const y=function(...E){return b=>(C,I)=>{const R=b(C,I);let L=()=>{throw new Error(hn(15))};const P={getState:R.getState,dispatch:(x,...O)=>L(x,...O)},F=E.map(x=>x(P));return L=Dc(...F)(R.dispatch),{...R,dispatch:L}}}(...h),g=M2(y);let A=typeof u=="function"?u(g):g();return aT(p,c,f(...A))}function OT(t){const n={},a=[];let o;const s={addCase(c,u){const p=typeof c=="string"?c:c.type;if(!p)throw new Error(Xn(28));if(p in n)throw new Error(Xn(29));return n[p]=u,s},addMatcher(c,u){return a.push({matcher:c,reducer:u}),s},addDefaultCase(c){return o=c,s}};return t(s),[n,a,o]}function U2(...t){return n=>t.some(a=>((o,s)=>ST(o)?o.match(s):o(s))(a,n))}var DT=(t=21)=>{let n="",a=t;for(;a--;)n+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return n},$2=["name","message","stack","code"],Hm=class{constructor(t,n){this.payload=t,this.meta=n}_type},NT=class{constructor(t,n){this.payload=t,this.meta=n}_type},j2=t=>{if(typeof t=="object"&&t!==null){const n={};for(const a of $2)typeof t[a]=="string"&&(n[a]=t[a]);return n}return{message:String(t)}},V2=(()=>{function t(n,a,o){const s=ol(n+"/fulfilled",(p,h,f,y)=>({payload:p,meta:{...y||{},arg:f,requestId:h,requestStatus:"fulfilled"}})),c=ol(n+"/pending",(p,h,f)=>({payload:void 0,meta:{...f||{},arg:h,requestId:p,requestStatus:"pending"}})),u=ol(n+"/rejected",(p,h,f,y,g)=>({payload:y,error:(o&&o.serializeError||j2)(p||"Rejected"),meta:{...g||{},arg:f,requestId:h,rejectedWithValue:!!y,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"}}));return Object.assign(function(p){return(h,f,y)=>{const g=o?.idGenerator?o.idGenerator(p):DT(),A=new AbortController;let E,b;function C(R){b=R,A.abort()}const I=async function(){let R;try{let P=o?.condition?.(p,{getState:f,extra:y});if((L=P)!==null&&typeof L=="object"&&typeof L.then=="function"&&(P=await P),P===!1||A.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const F=new Promise((x,O)=>{E=()=>{O({name:"AbortError",message:b||"Aborted"})},A.signal.addEventListener("abort",E)});h(c(g,p,o?.getPendingMeta?.({requestId:g,arg:p},{getState:f,extra:y}))),R=await Promise.race([F,Promise.resolve(a(p,{dispatch:h,getState:f,extra:y,requestId:g,signal:A.signal,abort:C,rejectWithValue:(x,O)=>new Hm(x,O),fulfillWithValue:(x,O)=>new NT(x,O)})).then(x=>{if(x instanceof Hm)throw x;return x instanceof NT?s(x.payload,g,p,x.meta):s(x,g,p)})])}catch(P){R=P instanceof Hm?u(null,g,p,P.payload,P.meta):u(P,g,p)}finally{E&&A.signal.removeEventListener("abort",E)}var L;return o&&!o.dispatchConditionRejection&&u.match(R)&&R.meta.condition||h(R),R}();return Object.assign(I,{abort:C,requestId:g,arg:p,unwrap:()=>I.then(B2)})}},{pending:c,rejected:u,fulfilled:s,settled:U2(u,s),typePrefix:n})}return t.withTypes=()=>t,t})();function B2(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}var _T=Symbol.for("rtk-slice-createasyncthunk"),G2={[_T]:V2};function z2(t,n){return`${t}/${n}`}function q2(t,n,a,o){function s(c,...u){let p=n(c);return p===void 0&&o&&(p=a()),t(p,...u)}return s.unwrapped=t,s}function $c(){}var K2=Hr;function W2(t){const n=Ft((a,o)=>t(o));return function(a){return n(a,void 0)}}function Ft(t){return function(n,a){function o(c){return oT(u=c)&&Object.keys(u).every(D2);var u}const s=c=>{o(a)?t(a.payload,c):t(a,c)};return K2(n)?(s(n),n):qm(n,s)}}function Vo(t,n){return n(t)}function Hi(t){return Array.isArray(t)||(t=Object.values(t)),t}function jc(t){return Hr(t)?zm(t):t}function xT(t,n,a){t=Hi(t);const o=jc(a.ids),s=new Set(o),c=[],u=[];for(const p of t){const h=Vo(p,n);s.has(h)?u.push({id:h,changes:p}):c.push(p)}return[c,u,o]}function LT(t){function n(p,h){const f=Vo(p,t);f in h.entities||(h.ids.push(f),h.entities[f]=p)}function a(p,h){p=Hi(p);for(const f of p)n(f,h)}function o(p,h){const f=Vo(p,t);f in h.entities||h.ids.push(f),h.entities[f]=p}function s(p,h){let f=!1;p.forEach(y=>{y in h.entities&&(delete h.entities[y],f=!0)}),f&&(h.ids=h.ids.filter(y=>y in h.entities))}function c(p,h){const f={},y={};p.forEach(g=>{g.id in h.entities&&(y[g.id]={id:g.id,changes:{...y[g.id]?.changes,...g.changes}})}),(p=Object.values(y)).length>0&&p.filter(A=>function(E,b,C){const I=C.entities[b.id];if(I===void 0)return!1;const R=Object.assign({},I,b.changes),L=Vo(R,t),P=L!==b.id;return P&&(E[b.id]=L,delete C.entities[b.id]),C.entities[L]=R,P}(f,A,h)).length>0&&(h.ids=Object.values(h.entities).map(A=>Vo(A,t)))}function u(p,h){const[f,y]=xT(p,t,h);c(y,h),a(f,h)}return{removeAll:W2(function(p){Object.assign(p,{ids:[],entities:{}})}),addOne:Ft(n),addMany:Ft(a),setOne:Ft(o),setMany:Ft(function(p,h){p=Hi(p);for(const f of p)o(f,h)}),setAll:Ft(function(p,h){p=Hi(p),h.ids=[],h.entities={},a(p,h)}),updateOne:Ft(function(p,h){return c([p],h)}),updateMany:Ft(c),upsertOne:Ft(function(p,h){return u([p],h)}),upsertMany:Ft(u),removeOne:Ft(function(p,h){return s([p],h)}),removeMany:Ft(s)}}function H2(t,n,a){const o=function(s,c,u){let p=0,h=s.length;for(;p<h;){let f=p+h>>>1;u(c,s[f])>=0?p=f+1:h=f}return p}(t,n,a);return t.splice(o,0,n),t}function sl(t={}){const{selectId:n,sortComparer:a}={sortComparer:!1,selectId:u=>u.id,...t},o=a?function(u,p){const{removeOne:h,removeMany:f,removeAll:y}=LT(u);function g(I,R,L){I=Hi(I);const P=new Set(L??jc(R.ids)),F=I.filter(x=>!P.has(Vo(x,u)));F.length!==0&&C(R,F)}function A(I,R){if((I=Hi(I)).length!==0){for(const L of I)delete R.entities[u(L)];C(R,I)}}function E(I,R){let L=!1,P=!1;for(let F of I){const x=R.entities[F.id];if(!x)continue;L=!0,Object.assign(x,F.changes);const O=u(x);if(F.id!==O){P=!0,delete R.entities[F.id];const j=R.ids.indexOf(F.id);R.ids[j]=O,R.entities[O]=x}}L&&C(R,[],L,P)}function b(I,R){const[L,P,F]=xT(I,u,R);P.length&&E(P,R),L.length&&g(L,R,F)}const C=(I,R,L,P)=>{const F=jc(I.entities),x=jc(I.ids),O=I.entities;let j=x;P&&(j=new Set(x));let M=[];for(const W of j){const Y=F[W];Y&&M.push(Y)}const B=M.length===0;for(const W of R)O[u(W)]=W,B||H2(M,W,p);B?M=R.slice().sort(p):L&&M.sort(p);const V=M.map(u);(function(W,Y){if(W.length!==Y.length)return!1;for(let Z=0;Z<W.length;Z++)if(W[Z]!==Y[Z])return!1;return!0})(x,V)||(I.ids=V)};return{removeOne:h,removeMany:f,removeAll:y,addOne:Ft(function(I,R){return g([I],R)}),updateOne:Ft(function(I,R){return E([I],R)}),upsertOne:Ft(function(I,R){return b([I],R)}),setOne:Ft(function(I,R){return A([I],R)}),setMany:Ft(A),setAll:Ft(function(I,R){I=Hi(I),R.entities={},R.ids=[],g(I,R,[])}),addMany:Ft(g),updateMany:Ft(E),upsertMany:Ft(b)}}(n,a):LT(n);return{selectId:n,sortComparer:a,...function(u){return{getInitialState:function(p={},h){const f=Object.assign({ids:[],entities:{}},p);return h?u.setAll(f,h):f}}}(o),...{getSelectors:function(u,p={}){const{createSelector:h=P2}=p,f=I=>I.ids,y=I=>I.entities,g=h(f,y,(I,R)=>I.map(L=>R[L])),A=(I,R)=>R,E=(I,R)=>I[R],b=h(f,I=>I.length);if(!u)return{selectIds:f,selectEntities:y,selectAll:g,selectTotal:b,selectById:h(y,A,E)};const C=h(u,y);return{selectIds:h(u,f),selectEntities:C,selectAll:h(u,g),selectTotal:h(u,b),selectById:h(C,A,E)}}},...o}}var Pt,Jm=Symbol.for("rtk-state-proxy-original"),J2=new WeakMap,Y2=t=>{if(!(n=t)||!n[Jm])throw new Error(Xn(25));var n;return t[Jm]},Q2=(t={})=>t;function Xn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}(function(t){t.DASHBOARD="dashboard",t.NAMESPACES="namespaces",t.DATASOURCES="datasources",t.EDITOR="editor",t.INTEGRATIONS="integrations",t.SETTINGS="settings"})(Pt||(Pt={}));const X2="console.aws.amazon.com";var pe,ri,tt;(function(t){t.PENDING="pending",t.SUCCESS="success",t.FAILED="failed"})(pe||(pe={})),pe.PENDING,pe.SUCCESS,pe.FAILED,function(t){t.PUBLIC="aws",t.CHINA="aws-cn"}(ri||(ri={})),function(t){t.IAD="us-east-1",t.CMH="us-east-2",t.SFO="us-west-1",t.PDX="us-west-2",t.CPT="af-south-1",t.NRT="ap-northeast-1",t.ICN="ap-northeast-2",t.KIX="ap-northeast-3",t.SIN="ap-southeast-1",t.SYD="ap-southeast-2",t.CGK="ap-southeast-3",t.HKG="ap-east-1",t.BOM="ap-south-1",t.HYD="ap-south-2",t.YUL="ca-central-1",t.FRA="eu-central-1",t.ZRH="eu-central-2",t.ARN="eu-north-1",t.MXP="eu-south-1",t.ZAZ="eu-south-2",t.DUB="eu-west-1",t.LHR="eu-west-2",t.CDG="eu-west-3",t.DXB="me-central-1",t.BAH="me-south-1",t.GRU="sa-east-1",t.BJS="cn-north-1",t.ZHY="cn-northwest-1",t.TLV="il-central-1",t.MEL="ap-southeast-4"}(tt||(tt={})),tt.IAD,tt.CMH,tt.SFO,tt.PDX,tt.CPT,tt.BOM,tt.NRT,tt.ICN,tt.KIX,tt.SIN,tt.SYD,tt.CGK,tt.MEL,tt.HKG,tt.YUL,tt.FRA,tt.ARN,tt.MXP,tt.DUB,tt.LHR,tt.CDG,tt.BAH,tt.GRU,tt.ZRH,tt.ZAZ,tt.DXB,tt.HYD,tt.TLV;const Z2=[tt.BJS,tt.ZHY],kT=!1,Bo=ca.V8.getInstance(),Jr=ca.lq.getInstance(),ai=ca.xQ.getInstance().getTangerineBoxCredentials(),MT=Bo.getCustomContext("stage").toLowerCase(),FT=Bo.getCustomContext("controlPlaneEndpoint"),an=Bo.getCustomContext("region");var Vc;(function(t){t.GET_GLOBAL_CONSOLE_ENDPOINT_ERROR="GetGlobalConsoleEndpointError",t.GET_REGIONALIZED_CONSOLE_ENDPOINT_ERROR="getRegionalizedConsoleEndpointError",t.GET_AWS_ACCOUNT_ID_ERROR="GetAwsAccountIdError"})(Vc||(Vc={}));class UT{constructor(){this.crLogged=!1,this.startTimer=n=>{performance.mark(n)},this.stopTimer=n=>{performance.measure(n,n)},this.customerReady=()=>{window?.AWSC?.Timer&&window.AWSC.Timer.customerReady(),this.crLogged||(performance.measure("clickToCustomerReady"),this.crLogged=!0)}}logOperationalError(n,a){kT&&console.error(n,a),Jr.addError(a,{path:window.location.pathname,key:n,level:"ERROR",type:"error",value:1})}logInfo(n,a){kT&&console.info(n,a),Jr.addEvent({key:n,level:"INFO",type:"info",...a})}}UT.getTime=()=>window.performance?performance.now():new Date().getTime();const Ym=new UT,eH=async()=>Bo.getAccountId();function tH(){const[t,n]=(0,i.useState)("000000000000");return(0,i.useEffect)(()=>{(async()=>{try{const a=await eH();n(a)}catch(a){Ym.logOperationalError(Vc.GET_AWS_ACCOUNT_ID_ERROR,a)}})()},[]),t}function on({apiId:t,versionId:n,tab:a,resourceIdentifier:o,resourceAction:s}){const c=[t,n,"event"];a&&(c.push(a),c.push(o),c.push(s));const u=c.filter(Boolean).join("/");return{href:`#/${u}`,navigatePath:`/${u}`}}function Zn(){return(0,G.g)()}const $T=t=>Z2.includes(t)===!0?ri.CHINA:ri.PUBLIC,nH=async t=>{const n=await Bo.getSessionDifferentiator(),a=await Bo.isMultiSessionEnabled(),o=t||an,s=(u=>{switch($T(u)){case ri.CHINA:return"console.amazonaws.cn";case ri.PUBLIC:default:return X2}})(o),c=a?`https://${n}.${o}.${s}`:`https://${o}.${s}`;return t===an?window.origin.includes("aws-dev")?c:window.origin:c};function jT(t){const[n,a]=(0,i.useState)("");return(0,i.useEffect)(()=>{(async()=>{try{const o=await nH(t);a(o)}catch(o){Ym.logOperationalError(Vc.GET_REGIONALIZED_CONSOLE_ENDPOINT_ERROR,o)}})()},[]),n}const rH=ca.V8.getInstance(),aH=JSON.parse(rH.getCustomContext("longLivedFeatureFlags"));var ll;(function(t){t.WAF="waf"})(ll||(ll={}));const Qm=t=>aH?.[t],VT=MT==="prod",BT=MT==="preprod",iH=t=>{switch(t){case ri.CHINA:return tt.BJS;case ri.PUBLIC:default:return tt.IAD}};class ii{static getAppSyncClient(n){if(!n||n===an){if(!this.appsync){const s={credentials:ai,region:an};VT||BT||(s.endpoint=FT),this.appsync=new pc.M(s),Jr.emitAwsSdkMetrics(this.appsync)}return this.appsync}const a={credentials:ai,region:n};VT||BT||(a.endpoint=FT);const o=new pc.M(a);return Jr.emitAwsSdkMetrics(o),o}static getCognitoClient(n){if(n===void 0||n===an)return this.cognito||(this.cognito=new dc.k({credentials:ai,region:an}),Jr.emitAwsSdkMetrics(this.cognito)),this.cognito;const a=new dc.k({credentials:ai,region:n});return Jr.emitAwsSdkMetrics(a),a}static getLambdaClient(n){if(n===void 0||n===an)return this.lambda||(this.lambda=new uc.N({credentials:ai,region:an}),Jr.emitAwsSdkMetrics(this.lambda)),this.lambda;const a=new uc.N({credentials:ai,region:n});return Jr.emitAwsSdkMetrics(a),a}static getIamClient(){return this.iam||(this.iam=new xp.h({credentials:ai,region:iH($T(an))}),Jr.emitAwsSdkMetrics(this.iam)),this.iam}static getWafClient(){return Qm(ll.WAF)?(this.wafv2||(this.wafv2=new cc.m({credentials:ai,region:an}),Jr.emitAwsSdkMetrics(this.wafv2)),this.wafv2):null}}const Go=t=>{switch(t){case oe.h_.API_KEY:return(0,l.Ay)`API key`;case oe.h_.OPENID_CONNECT:return(0,l.Ay)`OpenID Connect`;case oe.h_.AWS_IAM:return(0,l.Ay)`AWS Identity and Access Management (IAM)`;case oe.h_.AMAZON_COGNITO_USER_POOLS:return(0,l.Ay)`Amazon Cognito User Pool`;case oe.h_.AWS_LAMBDA:return(0,l.Ay)`AWS Lambda`;default:return""}},Xm=t=>t.reduce((n,a)=>(a.markedForRemoval||(n[a.key]=a.value),n),{}),Zm=t=>Object.entries(t).map(([n,a])=>({key:n,value:a,existing:!0})),eh=({authType:t})=>({label:Go(t),value:t}),th=({value:t})=>({authType:t}),Bc=t=>({label:t,value:t}),GT=t=>{switch(t){case pe.FAILED:return"error";case pe.PENDING:return"loading";case pe.SUCCESS:return"finished";default:return"pending"}},oH=t=>{const n=t.split("role/");return n[n.length-1]},zT=({eventConfig:t})=>t.logConfig!==null&&typeof t.logConfig.cloudWatchLogsRoleArn=="string"&&t.logConfig.cloudWatchLogsRoleArn.startsWith("arn:"),Gc=t=>(n,a)=>{const o=(0,he.get)(a,n),s=o?.length>0;return{isValid:s,errorMessage:s?void 0:l.Ay.translate("${0} is required.",t||n)}},qT=t=>(n,a)=>{const o=(0,he.get)(a,n);return{isValid:o.length<=t,errorMessage:o.length>t?l.Ay.translate("Must be ${0} characters or less",t):void 0}},cl=function({creators:t}={}){const n=t?.asyncThunk?.[_T];return function(a){const{name:o,reducerPath:s=o}=a;if(!o)throw new Error(Xn(11));typeof WS<"u";const c=(typeof a.reducers=="function"?a.reducers(function(){function R(L,P){return{_reducerDefinitionType:"asyncThunk",payloadCreator:L,...P}}return R.withTypes=()=>R,{reducer:L=>Object.assign({[L.name]:(...P)=>L(...P)}[L.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(L,P)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:L,reducer:P}),asyncThunk:R}}()):a.reducers)||{},u=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(R,L){const P=typeof R=="string"?R:R.type;if(!P)throw new Error(Xn(12));if(P in p.sliceCaseReducersByType)throw new Error(Xn(13));return p.sliceCaseReducersByType[P]=L,h},addMatcher:(R,L)=>(p.sliceMatchers.push({matcher:R,reducer:L}),h),exposeAction:(R,L)=>(p.actionCreators[R]=L,h),exposeCaseReducer:(R,L)=>(p.sliceCaseReducersByName[R]=L,h)};function f(){const[R={},L=[],P]=typeof a.extraReducers=="function"?OT(a.extraReducers):[a.extraReducers],F={...R,...p.sliceCaseReducersByType};return function(x,O){let j,[M,B,V]=OT(O);if(typeof x=="function")j=()=>IT(x());else{const Y=IT(x);j=()=>Y}function W(Y=j(),Z){let ie=[M[Z.type],...B.filter(({matcher:ye})=>ye(Z)).map(({reducer:ye})=>ye)];return ie.filter(ye=>!!ye).length===0&&(ie=[V]),ie.reduce((ye,ve)=>{if(ve){if(Hr(ye)){const Ce=ve(ye,Z);return Ce===void 0?ye:Ce}if(va(ye))return qm(ye,Ce=>ve(Ce,Z));{const Ce=ve(ye,Z);if(Ce===void 0){if(ye===null)return ye;throw new Error(Xn(9))}return Ce}}return ye},Y)}return W.getInitialState=j,W}(a.initialState,x=>{for(let O in F)x.addCase(O,F[O]);for(let O of p.sliceMatchers)x.addMatcher(O.matcher,O.reducer);for(let O of L)x.addMatcher(O.matcher,O.reducer);P&&x.addDefaultCase(P)})}u.forEach(R=>{const L=c[R],P={reducerName:R,type:z2(o,R),createNotation:typeof a.reducers=="function"};(function(F){return F._reducerDefinitionType==="asyncThunk"})(L)?function({type:F,reducerName:x},O,j,M){if(!M)throw new Error(Xn(18));const{payloadCreator:B,fulfilled:V,pending:W,rejected:Y,settled:Z,options:ie}=O,ye=M(F,B,ie);j.exposeAction(x,ye),V&&j.addCase(ye.fulfilled,V),W&&j.addCase(ye.pending,W),Y&&j.addCase(ye.rejected,Y),Z&&j.addMatcher(ye.settled,Z),j.exposeCaseReducer(x,{fulfilled:V||$c,pending:W||$c,rejected:Y||$c,settled:Z||$c})}(P,L,h,n):function({type:F,reducerName:x,createNotation:O},j,M){let B,V;if("reducer"in j){if(O&&!function(W){return W._reducerDefinitionType==="reducerWithPrepare"}(j))throw new Error(Xn(17));B=j.reducer,V=j.prepare}else B=j;M.addCase(F,B).exposeCaseReducer(x,B).exposeAction(x,V?ol(F,V):ol(F))}(P,L,h)});const y=R=>R,g=new Map;let A;function E(R,L){return A||(A=f()),A(R,L)}function b(){return A||(A=f()),A.getInitialState()}function C(R,L=!1){function P(x){let O=x[R];return O===void 0&&L&&(O=b()),O}function F(x=y){const O=Wm(g,L,{insert:()=>new WeakMap});return Wm(O,x,{insert:()=>{const j={};for(const[M,B]of Object.entries(a.selectors??{}))j[M]=q2(B,x,b,L);return j}})}return{reducerPath:R,getSelectors:F,get selectors(){return F(P)},selectSlice:P}}const I={name:o,reducer:E,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:b,...C(s),injectInto(R,{reducerPath:L,...P}={}){const F=L??s;return R.inject({reducerPath:F,reducer:E},P),{...I,...C(F,!0)}}};return I}}({creators:{asyncThunk:G2}});var Ut;(function(t){t.GET="get",t.LIST="list",t.CREATE="create",t.UPDATE="update",t.DELETE="delete"})(Ut||(Ut={}));const ul={status:null,error:null},zc={operations:{get:ul,list:ul,create:ul,update:ul,delete:ul}},mr=t=>n=>n.operations[t],qc=(t,{payload:n})=>{t.operations[n]={status:null,error:null}},nh={authProviders:[],connectionAuthModes:[],defaultPublishAuthModes:[],defaultSubscribeAuthModes:[],logConfig:{cloudWatchLogsRoleArn:"",logLevel:oe.t3.NONE}},KT=t=>({...t,apiId:t.apiId||"",name:t.name||"",ownerContact:t.ownerContact||"",tags:t.tags||{},dns:t.dns||{},apiArn:t.apiArn||"",created:t.created?.toString()||"",eventConfig:{...nh,...t.eventConfig},xrayEnabled:!1,wafWebAclArn:""}),sH={...zc,apiArn:"",apiId:"",name:"",ownerContact:"",tags:{},dns:{},eventConfig:nh,xrayEnabled:!1,wafWebAclArn:"",created:""},Kc=ii.getAppSyncClient(),rh=cl({name:"api",initialState:sH,reducers:t=>({initialize:t.asyncThunk(async n=>{const{api:a}=await Kc.send(new WW.U({apiId:n}));return KT(a)},{pending:n=>{n.operations.get.status=pe.PENDING},fulfilled:(n,{payload:a})=>({...a,operations:{...n.operations,get:{error:null,status:pe.SUCCESS}}}),rejected:(n,{error:a})=>{n.operations.get={status:pe.FAILED,error:a}}}),updateApi:t.asyncThunk(async({api:n})=>{const{api:a}=await Kc.send(new HW.N((o=n,{apiId:o.apiId||"",name:o.name||"",ownerContact:o.ownerContact||"",eventConfig:o?.eventConfig})));var o;return KT(a)},{pending:n=>{n.operations.update={error:null,status:pe.PENDING}},fulfilled:(n,{payload:a})=>({...a,operations:{...n.operations,update:{error:null,status:pe.SUCCESS}}}),rejected:(n,{error:a})=>{n.operations.update={status:pe.FAILED,error:a}}}),updateApiTags:t.asyncThunk(async({api:n,tags:a})=>{const o=Xm(a),[s,c]=(p=>{const h=p.reduce((f,y)=>(y.markedForRemoval&&(f[y.key]=y.value),f),{});return[h,Object.keys(h)]})(a),u=[];return(0,he.isEqual)(n.tags,{...o,...s})||u.push(Kc.send(new Om.e({resourceArn:n.apiArn,tags:o}))),c.length&&u.push(Kc.send(new Dm.R({resourceArn:n.apiArn,tagKeys:c}))),await Promise.all(u),{...n,tags:o,eventConfig:{...n.eventConfig,logConfig:n.eventConfig.logConfig||nh.logConfig}}},{pending:n=>{n.operations.update={error:null,status:pe.PENDING}},fulfilled:(n,{payload:a})=>({...a,operations:{...n.operations,update:{error:null,status:pe.SUCCESS}}}),rejected:(n,{error:a})=>{n.operations.update={status:pe.FAILED,error:a}}}),resetApiOperation:t.reducer(qc)}),selectors:{selectApi:t=>t,selectApiId:t=>t.apiId,selectGetApiOperation:mr(Ut.GET),selectUpdateApiOperation:mr(Ut.UPDATE)}}),{initialize:lH,resetApiOperation:cH,updateApi:uH,updateApiTags:dH}=rh.actions,{selectApi:oi,selectApiId:pH,selectGetApiOperation:mH,selectUpdateApiOperation:Bbe}=rh.selectors,Wc=t=>({...t,dataSourceArn:t.dataSourceArn||"",name:t.name||"",type:t.type}),Ji=sl({selectId:t=>t.name,sortComparer:(t,n)=>t.name.localeCompare(n.name)}),dl=ii.getAppSyncClient(),ah=cl({name:"dataSource",initialState:Ji.getInitialState(zc),reducers:t=>({getDataSource:t.asyncThunk(async({apiId:n,dataSourceName:a})=>{const{dataSource:o}=await dl.send(new US.x({apiId:n,name:a}));return Wc(o)},{pending:n=>{n.operations.get={error:null,status:pe.PENDING}},fulfilled:(n,{payload:a})=>{n.operations.get={error:null,status:pe.SUCCESS},Ji.upsertOne(n,a)},rejected:(n,{error:a})=>{n.operations.get={status:pe.FAILED,error:a}}}),listDataSources:t.asyncThunk(async n=>{const{dataSources:a}=await dl.send(new $S.K({apiId:n}));return a.map(Wc)},{pending:n=>{n.operations.list={status:pe.PENDING,error:null}},fulfilled:(n,{payload:a})=>{n.operations.list={error:null,status:pe.SUCCESS},Ji.setAll(n,a)},rejected:(n,{error:a})=>{n.operations.list={status:pe.FAILED,error:a}}}),createDataSource:t.asyncThunk(async({apiId:n,dataSource:a})=>{const{dataSource:o}=await dl.send(new Np.L({apiId:n,...a}));return Wc(o)},{pending:n=>{n.operations.create={error:null,status:pe.PENDING}},fulfilled:(n,{payload:a})=>{n.operations.create={error:null,status:pe.SUCCESS},Ji.addOne(n,a)},rejected:(n,{error:a})=>{n.operations.create={status:pe.FAILED,error:a}}}),updateDataSource:t.asyncThunk(async({apiId:n,dataSource:a})=>{const{dataSource:o}=await dl.send(new jS.o({apiId:n,...a}));return Wc(o)},{pending:n=>{n.operations.update={error:null,status:pe.PENDING}},fulfilled:(n,{payload:a})=>{n.operations.update={error:null,status:pe.SUCCESS},Ji.upsertOne(n,a)},rejected:(n,{error:a})=>{n.operations.update={status:pe.FAILED,error:a}}}),deleteDataSource:t.asyncThunk(async({apiId:n,dataSourceName:a})=>(await dl.send(new VS.M({apiId:n,name:a})),a),{pending:n=>{n.operations.delete={error:null,status:pe.PENDING}},fulfilled:(n,{payload:a})=>{n.operations.delete={error:null,status:pe.SUCCESS},Ji.removeOne(n,a)},rejected:(n,{error:a})=>{n.operations.delete={status:pe.FAILED,error:a}}}),resetDataSourceOperation:t.reducer(qc)}),selectors:{...Ji.getSelectors(),selectListDataSourceOperation:mr(Ut.LIST),selectGetDataSourceOperation:mr(Ut.GET),selectCreateDataSourceOperation:mr(Ut.CREATE),selectUpdateDataSourceOperation:mr(Ut.UPDATE)}});ah.actions,ah.selectors;const Hc=t=>({channelNamespaceArn:t.channelNamespaceArn,apiId:t.apiId||"",name:t.name||"",description:"",publishAuthModes:t.publishAuthModes||[],subscribeAuthModes:t.subscribeAuthModes||[],codeHandlers:t.codeHandlers||null,lambdaConfig:null,tags:t.tags||{},created:t.created?.toString()||"",lastModified:t.lastModified?.toString()||""}),WT=t=>({apiId:t.apiId,name:t.name,publishAuthModes:t.publishAuthModes,subscribeAuthModes:t.subscribeAuthModes,codeHandlers:t.codeHandlers,tags:t.tags}),Yi=sl({selectId:t=>t.name,sortComparer:(t,n)=>t.name.localeCompare(n.name)}),Qi=ii.getAppSyncClient(),ih=cl({name:"namespace",initialState:Yi.getInitialState(zc),reducers:t=>({getNamespace:t.asyncThunk(async({apiId:n,namespaceId:a})=>{const{channelNamespace:o}=await Qi.send(new JW.a({apiId:n,name:a}));return Hc(o)},{pending:n=>{n.operations.get={error:null,status:pe.PENDING}},fulfilled:(n,{payload:a})=>{n.operations.get={error:null,status:pe.SUCCESS},Yi.upsertOne(n,a)},rejected:(n,{error:a})=>{n.operations.get={status:pe.FAILED,error:a}}}),listNamespaces:t.asyncThunk(async n=>{const{channelNamespaces:a}=await Qi.send(new YW.F({apiId:n}));return a.map(Hc)},{pending:n=>{n.operations.list={status:pe.PENDING,error:null}},fulfilled:(n,{payload:a})=>{n.operations.list={error:null,status:pe.SUCCESS},Yi.setAll(n,a)},rejected:(n,{error:a})=>{n.operations.list={status:pe.FAILED,error:a}}}),createNamespace:t.asyncThunk(async({namespace:n})=>{const{channelNamespace:a}=await Qi.send(new BS.K(WT(n)));return Hc(a)},{pending:n=>{n.operations.create={error:null,status:pe.PENDING}},fulfilled:(n,{payload:a})=>{n.operations.create={error:null,status:pe.SUCCESS},Yi.addOne(n,a)},rejected:(n,{error:a})=>{n.operations.create={status:pe.FAILED,error:a}}}),updateNamespace:t.asyncThunk(async({namespace:n,tags:a})=>{const o=Xm(a),s=a.reduce((p,h)=>(h.markedForRemoval&&p.push(h.key),p),[]),c=[Qi.send(new QW.D(WT(n)))];(0,he.isEqual)(n.tags,o)||c.push(Qi.send(new Om.e({resourceArn:n.channelNamespaceArn,tags:o}))),s.length&&c.push(Qi.send(new Dm.R({resourceArn:n.channelNamespaceArn,tagKeys:s})));const[{channelNamespace:u}]=await Promise.all(c);return Hc({...u,tags:o})},{pending:n=>{n.operations.update={error:null,status:pe.PENDING}},fulfilled:(n,{payload:a})=>{n.operations.update={error:null,status:pe.SUCCESS},Yi.upsertOne(n,a)},rejected:(n,{error:a})=>{n.operations.update={status:pe.FAILED,error:a}}}),deleteNamespace:t.asyncThunk(async({apiId:n,namespaceId:a})=>(await Qi.send(new XW.R({apiId:n,name:a})),a),{pending:n=>{n.operations.delete={error:null,status:pe.PENDING}},fulfilled:(n,{payload:a})=>{n.operations.delete={error:null,status:pe.SUCCESS},Yi.removeOne(n,a)},rejected:(n,{error:a})=>{n.operations.delete={status:pe.FAILED,error:a}}}),resetNamespaceOperation:t.reducer(qc)}),selectors:{...Yi.getSelectors(),selectListNamespaceOperation:mr(Ut.LIST),selectGetNamespaceOperation:mr(Ut.GET),selectCreateNamespaceOperation:mr(Ut.CREATE),selectUpdateNamespaceOperation:mr(Ut.UPDATE)}}),{getNamespace:HT,listNamespaces:hH,createNamespace:fH,updateNamespace:yH,deleteNamespace:gH,resetNamespaceOperation:zo}=ih.actions,{selectListNamespaceOperation:JT,selectGetNamespaceOperation:YT,selectAll:AH,selectById:QT,selectTotal:EH}=ih.selectors,bH=(0,n2.KU)(cc.m,qS.v,"NextMarker","NextMarker","Limit");var ht;(function(t){t.COGNITO="cognito_user_pools",t.LAMBDA="lambda_functions",t.IAM="iam_roles",t.WAF="waf_webACLs"})(ht||(ht={}));const XT={[ht.COGNITO]:({UserPools:t})=>t.map(n=>{return{id:n.Id,metadata:(a=n,{...a,LastModifiedDate:a.LastModifiedDate?.toString(),CreationDate:a.CreationDate?.toString()})};var a}),[ht.LAMBDA]:({Functions:t})=>t.map(n=>({id:n.FunctionArn,metadata:n})),[ht.IAM]:({Roles:t})=>t.map(n=>{return{id:n.Arn,metadata:(a=n,{...a,CreateDate:a.CreateDate?.toString()})};var a}),[ht.WAF]:({WebACLs:t})=>t.map(n=>({id:n.ARN,metadata:n}))},ZT={[ht.COGNITO]:t=>(0,ZW.q)({client:ii.getCognitoClient(t),pageSize:60},{MaxResults:60}),[ht.LAMBDA]:t=>(0,e2.f)({client:ii.getLambdaClient(t),pageSize:50},{}),[ht.IAM]:()=>(0,t2.l)({client:ii.getIamClient(),pageSize:1e3},{}),[ht.WAF]:()=>bH({client:ii.getWafClient(),pageSize:100},{Scope:"REGIONAL"})},eI=()=>Object.values(tt).reduce((t,n)=>(t[n]=sl(),t),{}),Jc={[ht.COGNITO]:eI(),[ht.LAMBDA]:eI(),[ht.IAM]:sl(),[ht.WAF]:sl()},oh=(t,n)=>({entityState:(n?Jc[t][n]:Jc[t]).getInitialState(),status:null,error:null}),tI=t=>Object.values(tt).reduce((n,a)=>(n[a]=oh(t,a),n),{}),vH={[ht.COGNITO]:tI(ht.COGNITO),[ht.LAMBDA]:tI(ht.LAMBDA),[ht.IAM]:oh(ht.IAM),[ht.WAF]:oh(ht.WAF)},SH={[ht.IAM]:ht.IAM,[ht.WAF]:ht.WAF},sh=cl({name:"resource",initialState:vH,reducers:t=>({listRegionalizedResource:t.asyncThunk(async({resource:n,region:a})=>{const o=ZT[n](a),s=XT[n],c=[];for await(const u of o){const p=s(u);c.push(...p)}return c},{pending:(n,{meta:{arg:{resource:a,region:o}}})=>{n[a][o].error=null,n[a][o].status=pe.PENDING},fulfilled:(n,{payload:a,meta:{arg:{resource:o,region:s}}})=>{const{entityState:c}=n[o][s],u=Jc[o][s];n[o][s].error=null,n[o][s].status=pe.SUCCESS,u.upsertMany(c,a)},rejected:(n,{error:a,meta:{arg:{resource:o,region:s}}})=>{n[o][s].error=a,n[o][s].status=pe.FAILED}}),listGlobalResource:t.asyncThunk(async({resource:n})=>{const a=ZT[n](),o=XT[n],s=[];for await(const c of a)s.push(...o(c));return s},{pending:(n,{meta:{arg:{resource:a}}})=>{n[a].error=null,n[a].status=pe.PENDING},fulfilled:(n,{payload:a,meta:{arg:{resource:o}}})=>{const{entityState:s}=n[o],c=Jc[o];n[o].error=null,n[o].status=pe.SUCCESS,c.upsertMany(s,a)},rejected:(n,{error:a,meta:{arg:{resource:o}}})=>{n[o].error=a,n[o].status=pe.FAILED}}),resetResourceStatus:t.reducer((n,{payload:{resource:a,region:o}})=>{const s=o?n[a][o]:n[a];s.error=null,s.status=null})}),selectors:{selectResource:(t,n,a)=>a?t[n][a]:t[n],selectResourceIDs:(t,n,a)=>(a?t[n][a]:t[n]).entityState.ids}}),{listRegionalizedResource:TH,listGlobalResource:IH,resetResourceStatus:CH}=sh.actions,{selectResource:RH,selectResourceIDs:Gbe}=sh.selectors,wH={...zc,environmentVariables:{}},nI=ii.getAppSyncClient(),lh=cl({name:"environmentVariables",initialState:wH,reducers:t=>({getEnvironmentVariables:t.asyncThunk(async n=>{const{environmentVariables:a}=await nI.send(new GS.V({apiId:n}));return{environmentVariables:a}},{pending:n=>{n.operations.get.status=pe.PENDING},fulfilled:(n,{payload:a})=>({...a,operations:{...n.operations,get:{error:null,status:pe.SUCCESS}}}),rejected:(n,{error:a})=>{n.operations.get={status:pe.FAILED,error:a}}}),updateEnvironmentVariables:t.asyncThunk(async({apiId:n,environmentVariables:{environmentVariables:a}})=>{const{environmentVariables:o}=await nI.send(new zS.E({apiId:n,environmentVariables:a}));return{environmentVariables:o}},{pending:n=>{n.operations.update={error:null,status:pe.PENDING}},fulfilled:(n,{payload:a})=>({...a,operations:{...n.operations,update:{error:null,status:pe.SUCCESS}}}),rejected:(n,{error:a})=>{n.operations.update={status:pe.FAILED,error:a}}}),resetEnvironmentVariablesOperation:t.reducer(qc)}),selectors:{selectEnvironmentVariables:t=>t,selectGetEnvironmentVariablesOperation:mr(Ut.GET),selectUpdateEnvironmentVariablesOperation:mr(Ut.UPDATE)}});lh.actions,lh.selectors;const PH=F2({reducer:function(...t){const n=Object.fromEntries((u=>u.flatMap(p=>{return"reducerPath"in(h=p)&&typeof h.reducerPath=="string"?[[p.reducerPath,p.reducer]]:Object.entries(p);var h}))(t)),a=()=>Object.keys(n).length?iT(n):Q2;let o=a();function s(u,p){return o(u,p)}s.withLazyLoadedSlices=()=>s;const c=Object.assign(function(u,p){return function(h,...f){return u(((y,g)=>Wm(J2,y,{insert:()=>new Proxy(y,{get:(A,E,b)=>{if(E===Jm)return A;const C=Reflect.get(A,E,b);if(C===void 0){const I=g[E.toString()];if(I){const R=I(void 0,{type:DT()});if(R===void 0)throw new Error(Xn(24));return R}}return C}})}))(p?p(h,...f):h,n),...f)}},{original:Y2});return Object.assign(s,{inject:(u,p={})=>{const{reducerPath:h,reducer:f}=u,y=n[h];return!p.overrideExisting&&y&&y!==f?(typeof WS<"u",s):(n[h]=f,o=a(),s)},selector:c})}(rh,ah,ih,sh,lh),preloadedState:OH,devTools:!1});var OH;const si=f2.withTypes(),Jt=l2.withTypes(),rI=(t,n)=>{const a=Jt(t),o=(0,i.useRef)();return(0,i.useEffect)(()=>{o.current=a}),(0,i.useEffect)(()=>()=>n(o.current),[]),o},Yc=({resource:t,region:n},a,o)=>{const s=f=>RH(f,t,n),c=si(),{entityState:{ids:u},status:p,error:h}=Jt(s);return rI(s,({status:f})=>{f&&f!==pe.SUCCESS&&c(CH({resource:t,region:n}))}),(0,i.useEffect)(()=>{!p&&a&&((f=>f in SH)(t)?c(IH({resource:t})):c(TH({resource:t,region:n})))},Array(a).concat(o??[])),[u,{status:p,error:h}]},ch=t=>{},hr=(0,i.createContext)({addFlashbar:ch,updateHelpPanel:ch,setContentType:ch});function DH(){const{updateHelpPanel:t}=(0,i.useContext)(hr);return(0,i.useEffect)(()=>{t({helpSlug:{get:()=>["API Dashboard",i.createElement("div",{key:"helpPanelBody"},"Some general information about Event APIs"),i.createElement("div",{key:"helpPanelFooter"},"Links to some docs here.")]}})},[]),i.createElement(it.A,{header:i.createElement(be.A,null,"Dashboard Content")})}function aI({showDeleteModal:t,setShowDeleteModal:n,selected:a,onSuccessfulDelete:o}){const s=si(),{apiId:c}=Zn(),u=l.Ay.translate("confirm");return i.createElement(Rc,{visible:t,onDismiss:()=>{n(!1),s(zo(Ut.DELETE))},triggerAction:async()=>{try{await s(gH({apiId:c,namespaceId:a.name})).unwrap(),o&&o()}catch(p){throw new Error(p.message)}},header:(0,l.Ay)`Delete Namespace?`,i18nStrings:{modalContentText:[l.Ay.translate("You are permanently deleting this ${0}.","namespace"),l.Ay.translate("This data will no longer be available after deletion.")].join(" "),inputDescriptionText:l.Ay.translate("To confirm this deletion, type ${0}.",`"${u}"`)},confirmText:u})}function iI(){const{updateHelpPanel:t}=(0,i.useContext)(hr);return i.createElement(ue.A,{variant:"info",ariaLabel:(0,l.Ay)`Open help panel`,onFollow:()=>{t({isOpen:!0})}},(0,l.Ay)`Info`)}function oI({variant:t}){const n=(0,G.Zp)(),{apiId:a,versionId:o,tabId:s}=Zn(),{href:c,navigatePath:u}=on({apiId:a,versionId:o,tab:s,resourceAction:"create"});return i.createElement(K.A,{ariaLabel:(0,l.Ay)`Create namespace`,variant:t,href:c,onFollow:p=>{p.preventDefault(),n(u)},"data-testid":"create-namespace"},(0,l.Ay)`Create namespace`)}function NH({selected:t,openDeleteModal:n}){const a=(0,G.Zp)(),{apiId:o,versionId:s,tabId:c}=Zn(),{href:u,navigatePath:p}=on({apiId:o,versionId:s,tab:c,resourceIdentifier:t?.name,resourceAction:"edit"}),h=Jt(EH);return i.createElement(be.A,{info:i.createElement(iI,null),counter:`(${h})`,description:(0,l.Ay)`Placeholder description for Namespaces`,actions:i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(K.A,{ariaLabel:(0,l.Ay)`Edit`,disabled:!t,href:u,onFollow:f=>{f.preventDefault(),a(p)},"data-testid":"edit-namespace"},(0,l.Ay)`Edit`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Delete`,disabled:!t,onClick:n,"data-testid":"delete-namespace"},(0,l.Ay)`Delete`),i.createElement(oI,{variant:"primary"}))},(0,l.Ay)`Namespaces`)}function _H(){return i.createElement(q.A,{margin:{vertical:"xs"},textAlign:"center",color:"inherit"},i.createElement($.A,{size:"xxs"},i.createElement(q.A,{fontWeight:"bold"},l.Ay.translate("No namespaces available.")),i.createElement(oI,{variant:"normal"})))}function uh({resourceIdentifier:t,text:n,tab:a}){const{apiId:o,versionId:s}=(0,G.g)(),c=(0,G.Zp)(),{href:u,navigatePath:p}=on({apiId:o,versionId:s,tab:a,resourceIdentifier:t});return i.createElement(ue.A,{href:u,onFollow:h=>{h.preventDefault(),c(p)}},l.Ay.translate(n))}const xH=({codeHandlers:t,lambdaConfig:n})=>t?"AppSyncJS":n?"Lambda":"None";function LH(){const t=si(),{addFlashbar:n,updateHelpPanel:a}=(0,i.useContext)(hr),{apiId:o,eventConfig:s}=Jt(oi),{status:c}=Jt(JT);rI(JT,A=>{A.status!==pe.SUCCESS&&t(zo(Ut.LIST))});const u=Jt(AH),p=(0,i.useMemo)(()=>function({defaultPublishAuthModes:A,defaultSubscribeAuthModes:E}){return[{cell:({name:C})=>i.createElement(uh,{resourceIdentifier:C,tab:Pt.NAMESPACES,text:C}),header:(0,l.Ay)`Namespace`,id:"name",sortingField:"name",isRowHeader:!0,ariaLabel:(b=(0,l.Ay)`Namespace`,({sorted:C,descending:I})=>{const R=C?"sorted "+(I?"descending":"ascending"):"not sorted";return l.Ay.translate(`${b}, ${R}.`)})},{cell:C=>xH(C),header:(0,l.Ay)`Handler`,id:"handler"},{cell:({publishAuthModes:C})=>C?.join(", ")??A.join(", "),header:(0,l.Ay)`Publish authorization`,id:"publishAuth"},{cell:({subscribeAuthModes:C})=>C?.join(", ")??E.join(", "),header:(0,l.Ay)`Subscribe authorization`,id:"subscribeAuth"}];var b}(s),[o,s]),[h,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{o&&!c&&(async()=>{try{await t(hH(o)).unwrap()}catch(A){const E=A;n({info:E.name,description:E.message,type:"error",shownWhen:[`list-namespaces-${o}`],dismissible:!0})}})()},[o]),(0,i.useEffect)(()=>{a({helpSlug:{get:()=>["Channel Namespaces",i.createElement("div",{key:"helpPanelBody"},"Information about channel namespaces here."),i.createElement("div",{key:"helpPanelFooter"},"Links to some docs about them down here.")]}})},[]);const{items:y,collectionProps:g}=(0,Wn.G)(u,{selection:{},sorting:{defaultState:{sortingColumn:p[0]}}});return i.createElement(i.Fragment,null,i.createElement(aI,{showDeleteModal:h,setShowDeleteModal:f,selected:g.selectedItems?.[0]}),i.createElement(Ht.A,{...g,selectionType:"single",loading:!c||c===pe.PENDING,header:i.createElement(NH,{openDeleteModal:()=>f(!0),selected:g.selectedItems?.[0]}),empty:i.createElement(_H,null),columnDefinitions:p,items:y}))}function kH(){const{updateHelpPanel:t}=(0,i.useContext)(hr);return(0,i.useEffect)(()=>{t({helpSlug:{get:()=>["Pub/Sub Editor",i.createElement("div",{key:"helpPanelBody"},"Detail about testing APIs using the editor"),i.createElement("div",{key:"helpPanelFooter"},"Links to some docs/guides here.")]}})},[]),i.createElement($.A,{size:"l"},i.createElement(it.A,{header:i.createElement(be.A,null,"Publish")}),i.createElement(it.A,{header:i.createElement(be.A,null,"Subscribe")}))}function MH(){const{updateHelpPanel:t}=(0,i.useContext)(hr);return(0,i.useEffect)(()=>{t({helpSlug:{get:()=>["Integrations",i.createElement("div",{key:"helpPanelBody"},"Some information about how to integrate an API with an application"),i.createElement("div",{key:"helpPanelFooter"},"Links to some guides here.")]}})},[]),i.createElement(it.A,{header:i.createElement(be.A,null,"Integrate with your app")})}const li="-",FH=t=>[{label:(0,l.Ay)`API name`,value:t.name},{label:(0,l.Ay)`API ID`,value:i.createElement(wc.A,{variant:"inline",textToCopy:t.apiId,copySuccessText:(0,l.Ay)`API ID copied`,copyErrorText:(0,l.Ay)`API ID failed to copy`,copyButtonAriaLabel:(0,l.Ay)`Copy API ID`})},{label:(0,l.Ay)`API ARN`,value:i.createElement(wc.A,{variant:"inline",textToCopy:t.apiArn,copySuccessText:(0,l.Ay)`ARN copied`,copyErrorText:(0,l.Ay)`ARN failed to copy`,copyButtonAriaLabel:(0,l.Ay)`Copy ARN`})},{label:(0,l.Ay)`Contact details`,value:t.ownerContact||li}];function UH(){const t=Jt(oi),n=(0,G.Zp)(),{apiId:a,versionId:o}=Zn(),{navigatePath:s}=on({apiId:a,versionId:o,tab:"settings",resourceAction:"edit"});return i.createElement(it.A,{header:i.createElement(be.A,{actions:i.createElement(K.A,{"data-testid":"api-details-edit-button",onClick:()=>n({pathname:s,search:"?editPageId=apiDetails"})},(0,l.Ay)`Edit`)},(0,l.Ay)`API details`),"data-testid":"api-details-container"},i.createElement($o.A,{columns:3,items:FH(t)}))}const sI={[oe.t3.ALL]:"All",[oe.t3.DEBUG]:"Debug",[oe.t3.ERROR]:"Error",[oe.t3.INFO]:"Info",[oe.t3.NONE]:"None"};oe.FX.PER_RESOLVER_METRICS,oe.FX.FULL_REQUEST_RESOLVER_METRICS,oe.PD.PER_DATA_SOURCE_METRICS,oe.PD.FULL_REQUEST_DATA_SOURCE_METRICS,oe.Z1.ENABLED,oe.Z1.DISABLED;const $H=t=>Qm(ll.WAF)?[{label:(0,l.Ay)`Web ACL`,value:t?i.createElement(ue.A,{href:(0,Fr.getResourceUrl)(t),external:!0},t):(0,l.Ay)`Off`}]:[],jH=(t,n,a,o)=>{const{apiId:s,eventConfig:{logConfig:c},xrayEnabled:u,wafWebAclArn:p}=t,h=zT(t),f=`/aws/appsync/apis/${s}`,y=`${o}/xray/home?region=${n}#/traces`;return[{type:"group",title:(0,l.Ay)`Logging`,items:[{label:(0,l.Ay)`Log level`,value:h?l.Ay.translate(sI[c.logLevel]):li},{label:(0,l.Ay)`Role`,value:h?i.createElement(ue.A,{href:(0,Fr.getResourceUrl)(c.cloudWatchLogsRoleArn),ariaLabel:(0,l.Ay)`IAM Logging role`,external:!0},oH(c.cloudWatchLogsRoleArn)):li},{label:(0,l.Ay)`Cloudwatch log group`,value:h?i.createElement(ue.A,{href:(0,Fr.getResourceUrl)(`arn:aws:logs:${n}:${a}:log-group:${f}`),ariaLabel:(0,l.Ay)`View logs in Cloudwatch`,external:!0},f):li}]},{label:(0,l.Ay)`Tracing with AWS X-Ray`,value:u?i.createElement(ue.A,{href:y,ariaLabel:(0,l.Ay)`View traces in X-Ray`,external:!0},(0,l.Ay)`View traces in X-Ray`):(0,l.Ay)`Off`},...$H(p)]};function VH(){const t=(0,G.Zp)(),n=Jt(oi),{apiId:a,versionId:o}=Zn(),{navigatePath:s}=on({apiId:a,versionId:o,tab:"settings",resourceAction:"edit"}),c=tH(),u=jT(an);return i.createElement(it.A,{header:i.createElement(be.A,{actions:i.createElement(K.A,{onClick:()=>t({pathname:s,search:"?editPageId=apiConfigurations"}),"data-testid":"api-configurations-edit-button"},(0,l.Ay)`Edit`)},(0,l.Ay)`API configurations`),"data-testid":"api-configurations-container"},i.createElement($o.A,{columns:3,items:jH(n,an,c,u)}))}const BH=t=>{switch(t.authType){case oe.h_.AMAZON_COGNITO_USER_POOLS:return t.cognitoConfig.userPoolId;case oe.h_.AWS_LAMBDA:return t.lambdaAuthorizerConfig.authorizerUri;case oe.h_.OPENID_CONNECT:return t.openIDConnectConfig.issuer;case oe.h_.API_KEY:return"TEST_API_KEY_ID";default:return li}},GH=t=>[{label:(0,l.Ay)`Default publish authorization modes`,value:t.defaultPublishAuthModes.map(({authType:n})=>Go(n)).join(", ")},{label:(0,l.Ay)`Default subscribe authorization modes`,value:t.defaultSubscribeAuthModes.map(({authType:n})=>Go(n)).join(", ")},{label:(0,l.Ay)`Connection authorization modes`,value:t.connectionAuthModes.map(({authType:n})=>Go(n)).join(", ")}],zH=()=>[{header:l.Ay.translate("Auth provider type"),cell:t=>Go(t.authType)},{header:l.Ay.translate("Auth provider identifier"),cell:BH},{header:l.Ay.translate("Expiration"),cell:t=>t.authType===oe.h_.API_KEY?"TEST_EXPIRATION_DATE":li}];function qH(){const{eventConfig:t}=Jt(oi),[n,a]=(0,i.useState)([]),o=(0,G.Zp)(),{apiId:s,versionId:c}=Zn(),{navigatePath:u}=on({apiId:s,versionId:c,tab:"settings",resourceAction:"edit"});return i.createElement(it.A,{header:i.createElement(be.A,{description:(0,l.Ay)`Configure authorization modes to interact with your API.`,actions:i.createElement(K.A,{onClick:(p="default",()=>{o({pathname:u,search:`?editPageId=${p}AuthorizationConfiguration`})}),"data-testid":"default-authorization-configuration-edit-button"},(0,l.Ay)`Edit`)},(0,l.Ay)`Authorization configuration`),disableContentPaddings:!0,"data-testid":"authorization-configuration-container"},i.createElement($.A,{size:"l"},i.createElement(q.A,{padding:"l"},i.createElement($o.A,{columns:3,items:GH(t)})),i.createElement(Ht.A,{header:i.createElement(be.A,{counter:`(${n.length>0?`${n.length}/${t.authProviders.length}`:t.authProviders.length})`,actions:i.createElement($.A,{size:"m",direction:"horizontal"},i.createElement(K.A,null,(0,l.Ay)`Edit`),i.createElement(K.A,null,(0,l.Ay)`Delete`),i.createElement(K.A,null,(0,l.Ay)`Add`))},(0,l.Ay)`Authorization modes`),items:t.authProviders,selectedItems:n,selectionType:"single",onSelectionChange:({detail:h})=>a(h.selectedItems),columnDefinitions:zH(),empty:i.createElement(q.A,{margin:{vertical:"xs"},textAlign:"center",color:"inherit"},i.createElement($.A,{size:"m"},i.createElement("b",null,(0,l.Ay)`No authorization modes available`),i.createElement(K.A,null,(0,l.Ay)`Add authorization mode`))),ariaLabels:{selectionGroupLabel:(0,l.Ay)`Authorization mode selection`,itemSelectionLabel:(h,f)=>(0,l.Ay)`${f}`,tableLabel:(0,l.Ay)`Authorization modes`}})));var p}function KH(){const{tags:t}=Jt(oi),n=Zm(t),a=(0,G.Zp)(),{apiId:o,versionId:s}=Zn(),{navigatePath:c}=on({apiId:o,versionId:s,tab:"settings",resourceAction:"edit"}),u=()=>{a({pathname:c,search:"?editPageId=tags"})};return i.createElement(Ht.A,{header:i.createElement(be.A,{description:[(0,l.Ay)`A tag is a label that you assign to an AWS resource.`,(0,l.Ay)`Each tag consists of a key and an optional value.`,(0,l.Ay)`You can use tags to search and filter your resources or track your AWS costs.`].join(" "),actions:i.createElement(K.A,{"data-testid":"tags-edit-button",onClick:u},(0,l.Ay)`Manage tags`),counter:`(${n.length})`},(0,l.Ay)`Tags`),columnDefinitions:[{id:"key",header:(0,l.Ay)`Key`,cell:p=>p.key||li},{id:"value",header:(0,l.Ay)`Value`,cell:p=>p.value||li}],items:n,empty:i.createElement(q.A,{margin:{vertical:"xs"},textAlign:"center",color:"inherit"},i.createElement($.A,{size:"m"},i.createElement("b",null,(0,l.Ay)`No tags available`),i.createElement(K.A,{onClick:u},(0,l.Ay)`Manage tags`))),"data-testid":"tags-table"})}function WH(){const{updateHelpPanel:t}=(0,i.useContext)(hr);return(0,i.useEffect)(()=>{t({helpSlug:{get:()=>["Settings",i.createElement("div",{key:"helpPanelBody"},"Some general information about the various settings of APIs"),i.createElement("div",{key:"helpPanelFooter"},"Links to some docs/guides here.")]}})},[]),i.createElement($.A,{size:"l"},i.createElement(UH,null),i.createElement(VH,null),i.createElement(qH,null),i.createElement(KH,null))}const HH=Pt.DASHBOARD,JH=t=>Object.values(Pt).includes(t)?t:HH,YH=({apiId:t,versionId:n})=>{const{href:a}=on({apiId:t,versionId:n});return[{id:Pt.DASHBOARD,label:"Dashboard",href:a,content:i.createElement(DH,null)},{id:Pt.NAMESPACES,label:"Namespaces",href:`${a}/${Pt.NAMESPACES}`,content:i.createElement(LH,null)},{id:Pt.EDITOR,label:"Pub/Sub Editor",href:`${a}/${Pt.EDITOR}`,content:i.createElement(kH,null)},{id:Pt.INTEGRATIONS,label:"Integrations",href:`${a}/${Pt.INTEGRATIONS}`,content:i.createElement(MH,null)},{id:Pt.SETTINGS,label:"Settings",href:`${a}/${Pt.SETTINGS}`,content:i.createElement(WH,null)}]};function QH(){const t=Jt(oi),{versionId:n,tabId:a}=Zn(),o=(0,i.useMemo)(()=>YH({apiId:t.apiId,versionId:n}),[t.apiId]),s=(0,G.Zp)();return i.createElement(wn.A,{header:i.createElement(be.A,{variant:"h1"},t.name)},i.createElement(r2.A,{tabs:o,activeTabId:JH(a),onChange:({detail:c})=>s(c.activeTabHref.slice(1))}))}const XH=({codeHandlers:t,lambdaConfig:n})=>t?"AppSyncJS":n?"Lambda":"None",lI=(t,{publishAuthModes:n,subscribeAuthModes:a})=>{let o;switch(t){case"publish":o=n;break;case"subscribe":o=a;break;default:return"-"}return o.map(s=>s.authType).join(", ")||"-"},ZH=({selected:t})=>[{type:"group",items:[{label:(0,l.Ay)`Namespace name`,value:t.name},{label:(0,l.Ay)`Description`,value:t.description||"-"}]},{type:"group",title:(0,l.Ay)`Authorization overrides`,items:[{label:(0,l.Ay)`Publish`,value:lI("publish",t)},{label:(0,l.Ay)`Subscribe`,value:lI("subscribe",t)}]},{label:(0,l.Ay)`Handler`,value:XH(t)}];function e3({selected:t,isLoading:n}){const a=n||!t?[]:ZH({selected:t});return i.createElement(it.A,{"data-testid":"namespace-details-container",header:i.createElement(be.A,{variant:"h2"},(0,l.Ay)`Details`)},n?i.createElement(Et.A,null):i.createElement($o.A,{columns:3,items:a}))}function t3({namespaceId:t,isLoading:n,openDeleteModal:a}){const{apiId:o,versionId:s}=Zn(),c=(0,G.Zp)(),{href:u,navigatePath:p}=on({apiId:o,versionId:s,tab:Pt.NAMESPACES,resourceIdentifier:t,resourceAction:"edit"});return i.createElement(be.A,{variant:"h1",actions:i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(K.A,{ariaLabel:(0,l.Ay)`Edit`,disabled:n,href:u,onFollow:h=>{h.preventDefault(),c(p)},"data-testid":"edit-namespace"},(0,l.Ay)`Edit`),i.createElement(K.A,{disabled:n,ariaLabel:(0,l.Ay)`Delete`,onClick:a,"data-testid":"delete-namespace"},(0,l.Ay)`Delete`))},t)}function n3(){return null}function r3({codeHandlers:t}){return i.createElement(Ir.x,{lineNumbers:!0,content:t,highlight:KS.A,actions:i.createElement(wc.A,{copyButtonAriaLabel:(0,l.Ay)`Copy code`,copyErrorText:(0,l.Ay)`Code failed to copy`,copySuccessText:(0,l.Ay)`Code copied`,textToCopy:t})})}function a3({lambdaConfig:t}){const n=[{label:(0,l.Ay)`Publish Lambda Function`,value:t.publish?i.createElement(uh,{tab:Pt.DATASOURCES,resourceIdentifier:t.publish,text:t.publish}):"-"},{label:(0,l.Ay)`Subscribe Lambda Function`,value:t.subscribe?i.createElement(uh,{tab:Pt.DATASOURCES,resourceIdentifier:t.subscribe,text:t.subscribe}):"-"}];return i.createElement($o.A,{columns:2,items:n})}function i3({selected:t,isLoading:n}){if(n)return i.createElement(Et.A,null);switch(!0){case!!t.codeHandlers:return i.createElement(r3,{codeHandlers:t.codeHandlers});case!!t.lambdaConfig:return i.createElement(a3,{lambdaConfig:t.lambdaConfig});default:return i.createElement(n3,null)}}function o3({selected:t,isLoading:n}){return i.createElement(it.A,{"data-testid":"namespace-handler-container",header:i.createElement(be.A,{variant:"h2"},(0,l.Ay)`Event handler`)},i.createElement(i3,{selected:t,isLoading:n}))}function s3(){const t=si(),n=(0,G.Zp)(),{apiId:a,versionId:o,namespaceId:s}=Zn(),{addFlashbar:c,updateHelpPanel:u}=(0,i.useContext)(hr),{status:p}=Jt(YT),h=Jt(A=>QT(A,s)),[f,y]=(0,i.useState)(!1);(0,i.useEffect)(()=>{u({helpSlug:{get:()=>["View Channel Namespace",i.createElement("div",{key:"helpPanelBody"},"View channel namespace help panel body content"),i.createElement("div",{key:"helpPanelFooter"},"Links to some docs/guides here.")]}})},[]),(0,i.useEffect)(()=>(s&&a&&!p&&!h&&(async()=>{try{await t(HT({apiId:a,namespaceId:s})).unwrap()}catch(A){const E=A;c({info:E.name,description:E.message,type:"error",shownWhen:[`list-namespaces-${a}`],dismissible:!0});const{navigatePath:b}=on({apiId:a,versionId:o,tab:Pt.NAMESPACES});n(b)}})(),()=>{t(zo(Ut.GET))}),[a,s]);const g=p===pe.PENDING||!h;return i.createElement(i.Fragment,null,i.createElement(aI,{showDeleteModal:f,setShowDeleteModal:y,selected:h,onSuccessfulDelete:()=>{const A=on({apiId:a,versionId:o,tab:Pt.NAMESPACES});n(A.navigatePath)}}),i.createElement(wn.A,{header:i.createElement(t3,{namespaceId:s,isLoading:g,openDeleteModal:()=>y(!0)})},i.createElement($.A,{size:"l"},i.createElement(e3,{selected:h,isLoading:g}),i.createElement(o3,{selected:h,isLoading:g}),i.createElement($W,{tags:h?.tags||{},isLoading:g,InfoLink:i.createElement(iI,null),manageTags:{text:(0,l.Ay)`Edit`,onClick:()=>{const{navigatePath:A}=on({apiId:a,versionId:o,tab:Pt.NAMESPACES,resourceIdentifier:h.name,resourceAction:"edit"});n(A)}}}))))}const l3={name:"",description:"",hasCustomAuthorizer:!1,publishAuthModes:[],subscribeAuthModes:[],hasHandler:!1,handlerKind:null,overrideCodeKey:"",codeHandlers:"export function onSubscribe(){};",lambdaConfig:{publish:null,subscribe:null},tags:[]},c3={name:"",description:"",publishAuthModes:"",subscribeAuthModes:"",handlerKind:"",codeHandlers:[],lambdaConfig:{publish:"",subscribe:""},form:""},cI=t=>t.reduce((n,a)=>(n.includes(a.authType)||n.push(a.authType),n),[]).map(n=>({label:n,value:n})),uI=({authType:t})=>({label:t,value:t}),dI=({value:t})=>({authType:t});var ci;(function(t){t.AppSyncJS="APPSYNC_JS",t.Lambda="LAMBDA"})(ci||(ci={}));const pI=[{label:"AppSyncJS",value:ci.AppSyncJS},{label:"Lambda",value:ci.Lambda}],u3=({codeHandlers:t,lambdaConfig:n})=>t?pI.find(a=>a.value===ci.AppSyncJS):n?pI.find(a=>a.value===ci.Lambda):null,mI=(t,n,a)=>({channelNamespaceArn:"",apiId:n,name:t.name,description:t.description,publishAuthModes:t.hasCustomAuthorizer?t.publishAuthModes.map(o=>dI(o)):[],subscribeAuthModes:t.hasCustomAuthorizer?t.subscribeAuthModes.map(o=>dI(o)):[],tags:a??Xm(t.tags),codeHandlers:t.hasHandler?t.codeHandlers:null,lambdaConfig:null,created:null,lastModified:null}),d3=t=>t?{name:t.name,description:t.description,hasCustomAuthorizer:!(!t.publishAuthModes?.length&&!t.subscribeAuthModes?.length),publishAuthModes:t.publishAuthModes?.map(uI)||[],subscribeAuthModes:t.subscribeAuthModes?.map(uI)||[],hasHandler:!(!t.codeHandlers&&!t.lambdaConfig),handlerKind:u3(t),codeHandlers:t.codeHandlers,lambdaConfig:{publish:t.lambdaConfig?.publish?{label:t.lambdaConfig.publish,value:t.lambdaConfig.publish}:null,subscribe:t.lambdaConfig?.subscribe?{label:t.lambdaConfig.subscribe,value:t.lambdaConfig.subscribe}:null},overrideCodeKey:"",tags:Zm(t.tags)}:l3,hI=t=>{const n=(a=t.name)?a.length>=50?(0,l.Ay)`Name must be fewer than ${50} characters.`:"":l.Ay.translate("${0} is required.",(0,l.Ay)`Name`);var a;const o=!(s=t.description)||s.length<255?"":(0,l.Ay)`Description must be fewer than ${255} characters.`;var s;const[c,u]=(({hasHandler:p,codeHandlers:h})=>{let f=!1;const y={handlerKind:"",codeHandlers:[],lambdaConfig:{publish:"",subscribe:""}};return p&&!h&&(f=!0,y.codeHandlers=[{column:0,row:0,text:l.Ay.translate("${0} is required.",(0,l.Ay)`Code`),type:"error"}]),[f,y]})(t);return[!!(n||o||c),{name:n,description:o,publishAuthModes:"",subscribeAuthModes:"",...u,form:""}]},Qc={general:{helpSlug:{get:()=>["Channel Namespace - General",i.createElement("div",{key:"helpPanelBody"},"Some general information about configuring channel namespaces."),i.createElement("div",{key:"helpPanelFooter"},"Links to more details and docs")]},isOpen:!0},authorization:{helpSlug:{get:()=>["Channel Namespace - Authorization",i.createElement("div",{key:"helpPanelBody"},"Some information about the way authorization overrides work with channel namespaces."),i.createElement("div",{key:"helpPanelFooter"},"Links to more details and docs")]},isOpen:!0},handler:{helpSlug:{get:()=>["Channel Namespace - Handlers",i.createElement("div",{key:"helpPanelBody"},"Some information about the way different handlers work with channel namespaces. AppSyncJS (w & w/o data sources), Direct-lambda"),i.createElement("div",{key:"helpPanelFooter"},"Links to more details and docs")]},isOpen:!0}},p3=(t,n,a)=>({title:a?`Edit ${a}`:"Create namespace",info:{onFollow:()=>t(Qc.general)},containers:[{header:{title:"Details"},content:{fields:[{type:se.INPUT,label:"Namespace name",description:"Provide a name for this namespace",constraint:"PLACEHOLDER: Must contain from 1 to 50 alphanumeric characters.",config:{"data-testid":"namespace-name",stateKey:"name",placeholder:"Enter namespace name",disabled:!!a}},{type:se.INPUT,label:"Description",description:"Provide a description for this namespace",optional:!0,constraint:"PLACEHOLDER: Up to 255 characters",config:{"data-testid":"namespace-description",stateKey:"description",placeholder:"Enter a description"}}]}},{"data-testid":"namespace-authorization",header:{title:"Namespace authorization",description:"PLACEHOLDER: Container description",info:{onFollow:()=>t(Qc.authorization)}},content:{fields:[{type:se.TOGGLE,label:void 0,config:{"data-testid":"auth-toggle",label:"Add custom authorization to this namespace",description:"Override the default authorization for this namespace",stateKey:"hasCustomAuthorizer"}},{type:se.MULTISELECT,optional:!0,label:"Publish authorization mode",description:"Placeholder: Description",config:{"data-testid":"publish-auth-select",placeholder:(0,l.Ay)`Select authorization overrides`,options:cI(n),stateKey:"publishAuthModes"},prerequisites:[{stateKey:"hasCustomAuthorizer",compareFunction:Boolean}]},{type:se.MULTISELECT,optional:!0,label:"Subscribe authorization mode",description:"Placeholder: Description",config:{"data-testid":"subscribe-auth-select",placeholder:(0,l.Ay)`Select authorization overrides`,options:cI(n),stateKey:"subscribeAuthModes"},prerequisites:[{stateKey:"hasCustomAuthorizer",compareFunction:Boolean}]}]}},{"data-testid":"namespace-handler",header:{title:"Handler",description:"PLACEHOLDER: Container description",info:{onFollow:()=>t(Qc.handler)}},content:{fields:[{type:se.TOGGLE,label:void 0,config:{"data-testid":"handler-toggle",label:"Add an event handler",description:"Define a custom event handler for publish and subscribe events",stateKey:"hasHandler"}},{type:se.JSCODE,label:void 0,omitFormField:!0,config:{Analytics:Ym,stateKey:"codeHandlers",overrideKey:"overrideCodeKey"},prerequisites:[{stateKey:"hasHandler",compareFunction:Boolean}]},{type:se.SELECT,label:"Publish Lambda function",optional:!0,description:"PLACEHOLDER: This lambda function is exectued when publishing to this namespace.",config:{"data-testid":"handler-publish-select",options:[],stateKey:"lambdaConfig.publish"},prerequisites:[{stateKey:"hasHandler",compareFunction:Boolean},{stateKey:"handlerKind",compareFunction:o=>o?.value===ci.Lambda}]},{type:se.SELECT,label:"Subscribe Lambda function",optional:!0,description:"PLACEHOLDER: This lambda function is exectued when subscribing to this namespace.",config:{"data-testid":"handler-subscribe-select",options:[],stateKey:"lambdaConfig.subscribe"},prerequisites:[{stateKey:"hasHandler",compareFunction:Boolean},{stateKey:"handlerKind",compareFunction:o=>o?.value===ci.Lambda}]}]}},{header:{title:"Tags",description:"You can use tags to group and filter your channel namespaces A tag consists of a case-sensitive key-value pair."},content:{fields:[{label:void 0,type:se.TAG_EDITOR,config:{stateKey:"tags"},omitFormField:!0}]}}]});function fI({initialValues:t,onCancel:n,onSave:a}){const{setContentType:o,updateHelpPanel:s}=(0,i.useContext)(hr),{eventConfig:{authProviders:c}}=Jt(oi),[u,p]=(0,i.useState)(!1),[h,f]=(0,i.useState)(d3(t)),[y,g]=(0,i.useState)(c3),[A,E]=(0,i.useState)(!1);(0,i.useLayoutEffect)(()=>(o("form"),s({helpSlug:Qc.general.helpSlug}),()=>o("default")),[]);const b=(0,i.useMemo)(()=>p3(s,c,t?.name),[t?.name]);return i.createElement(Uo,{state:h,errors:y,onCancel:n,onChange:(C,I,R)=>{const L={...h,[C]:I};C==="tags"&&E(!R?.isValid);const[,P]=hI(L);g(P),f(L)},saving:u,onSave:async C=>{C.preventDefault(),p(!0);try{const[I,R]=hI(h);I||A?g(R):await a(h)}catch(I){g({...y,form:I.message})}finally{p(!1)}},saveText:t?(0,l.Ay)`Save`:(0,l.Ay)`Create`,saveTestId:"save-namespace",cancelTestId:"cancel-namespace",...b})}function m3(){const t=si(),n=(0,G.Zp)(),{addFlashbar:a}=(0,i.useContext)(hr),{apiId:o,versionId:s}=Zn();return(0,i.useEffect)(()=>()=>{t(zo(Ut.CREATE))},[]),i.createElement(fI,{onSave:async c=>{const u=mI(c,o);await t(fH({namespace:u})).unwrap(),a({info:(0,l.Ay)`Success`,description:(0,l.Ay)`Namespace ${u.name} was created successfully.`,type:"success",shownWhen:[],dismissible:!0});const p=on({apiId:o,versionId:s,tab:Pt.NAMESPACES,resourceIdentifier:u.name});n(p.navigatePath)},onCancel:()=>{const c=on({apiId:o,versionId:s,tab:Pt.NAMESPACES});n(c.navigatePath)}})}function h3(){const t=si(),n=(0,G.Zp)(),{addFlashbar:a}=(0,i.useContext)(hr),{apiId:o,versionId:s,namespaceId:c}=Zn(),{status:u}=Jt(YT),p=Jt(h=>QT(h,c));return(0,i.useEffect)(()=>(c&&o&&!u&&!p&&(async()=>{try{await t(HT({apiId:o,namespaceId:c})).unwrap()}catch(h){const f=h;a({info:f.name,description:f.message,type:"error",shownWhen:[`list-namespaces-${o}`],dismissible:!0});const{navigatePath:y}=on({apiId:o,versionId:s,tab:Pt.NAMESPACES});n(y)}})(),()=>{t(zo(Ut.GET))}),[o,c]),(0,i.useEffect)(()=>()=>{t(zo(Ut.UPDATE))},[]),u===pe.PENDING||!p?i.createElement(Et.A,null):i.createElement(fI,{onSave:async h=>{const f=mI(h,o,p.tags);await t(yH({namespace:f,tags:h.tags})).unwrap(),a({info:(0,l.Ay)`Success`,description:(0,l.Ay)`Namespace ${f.name} was updated successfully.`,type:"success",shownWhen:[],dismissible:!0});const y=on({apiId:o,versionId:s,tab:Pt.NAMESPACES,resourceIdentifier:f.name});n(y.navigatePath)},onCancel:()=>{const h=on({apiId:o,versionId:s,tab:Pt.NAMESPACES,resourceIdentifier:c});n(h.navigatePath)},initialValues:p})}const yI={form:"",name:"",ownerContact:"",isLoggingEnabled:"",loggingRoleType:"",eventConfig:{logConfig:""},xrayEnabled:"",isWebApplicationFirewallEnabled:"",wafWebAclArn:"",tags:""};var Xi;(function(t){t.API_DETAILS="apiDetails",t.API_CONFIGURATIONS="apiConfigurations",t.TAGS="tags",t.DEFAULT_AUTH="defaultAuthorizationConfiguration"})(Xi||(Xi={}));var ui;(function(t){t.NEW="newRole",t.EXISTING="existingRole"})(ui||(ui={}));const f3=(t,n,a)=>Qm(ll.WAF)?[{header:{title:"Web application firewall"},content:{fields:[{type:se.TOGGLE,label:"Web application firewall",description:"AWS WAF is a web application firewall that helps protect web applications and APIs from attacks.",config:{"data-testid":"enable-waf",stateKey:"isWebApplicationFirewallEnabled",label:"Enable web application firewall"}},{type:se.SELECT,label:"Web ACL",description:i.createElement(i.Fragment,null,(0,l.Ay)`Select or create a web access control list(ACL).`," ",i.createElement(ue.A,{href:`${n}/wafv2/homev2/web-acls/new?region=${t}`,variant:"info",target:"_blank",external:!0},(0,l.Ay)`Create Web ACL`)),config:{"data-testid":"select-waf-webacl",stateKey:"wafWebAclArn",options:a.options,statusType:GT(a.status),errorText:a.error},prerequisites:[{stateKey:"isWebApplicationFirewallEnabled",compareFunction:o=>o}]}]}}]:[],y3=(t,n,a,o)=>[{header:{title:"Logging"},content:{fields:[{type:se.TOGGLE,label:"Logging",description:i.createElement(i.Fragment,null,[(0,l.Ay)`Log API calls in CloudWatch.`,(0,l.Ay)`There is a charge for logging.`].join(" ")," ",i.createElement(ue.A,{external:!0,variant:"info",href:"https://aws.amazon.com/cloudwatch/pricing/"},(0,l.Ay)`View pricing details`)),config:{"data-testid":"enable-logging",stateKey:"isLoggingEnabled",label:"Enable logging"}},{type:se.SELECT,label:"Log level",description:"Select the level of logging for fields in your API.",config:{stateKey:"eventConfig.logConfig.logLevel",options:[{value:oe.t3.NONE,label:(0,l.Ay)`None`,description:(0,l.Ay)`Resolver logging is disabled`},{value:oe.t3.ERROR,label:(0,l.Ay)`Error`,description:(0,l.Ay)`Only Error messages appear in logs`},{value:oe.t3.INFO,label:(0,l.Ay)`Info`,description:(0,l.Ay)`Info and Error messages appear in logs`},{value:oe.t3.DEBUG,label:(0,l.Ay)`Debug`,description:(0,l.Ay)`Debug, Info, and Error messages appear in logs`},{value:oe.t3.ALL,label:(0,l.Ay)`All`,description:(0,l.Ay)`All messages (Debug, Error, Info, and Trace) appear in logs`}]},prerequisites:[{stateKey:"isLoggingEnabled",compareFunction:s=>s}]},{type:se.RADIO,label:"Create or use an existing role",description:"Allow AWS AppSync to securely write logs to CloudWatch.",config:{"data-testid":"role-type",stateKey:"loggingRoleType",items:[{label:"New role",value:ui.NEW},{label:"Existing role",value:ui.EXISTING}]},prerequisites:[{stateKey:"isLoggingEnabled",compareFunction:s=>s}]},{type:se.SELECT,label:"Select an existing role",config:{"data-testid":"select-existing-role",stateKey:"eventConfig.logConfig.cloudWatchLogsRoleArn",options:a.options,statusType:GT(a.status),errorText:a.error},prerequisites:[{stateKey:"isLoggingEnabled",compareFunction:s=>s},{stateKey:"loggingRoleType",compareFunction:s=>s===ui.EXISTING}]}]}},{header:{title:"Tracing"},content:{fields:[{type:se.TOGGLE,label:"Tracing",description:i.createElement(i.Fragment,null,[(0,l.Ay)`Trace GraphQL requests using X-Ray.`,(0,l.Ay)`Additional charges apply.`].join(" ")," ",i.createElement(ue.A,{external:!0,variant:"info",href:"https://aws.amazon.com/xray/pricing/"},(0,l.Ay)`View pricing details`)),config:{stateKey:"xrayEnabled",label:"Enable tracing"}}]}},...f3(t,n,o)],g3=t=>{const n=t.map(({authType:a})=>({label:Go(a),value:a}));return[{header:{title:(0,l.Ay)`Default authorization modes`},content:{fields:[{type:se.MULTISELECT,label:(0,l.Ay)`Default publish authorization modes`,config:{stateKey:"eventConfig.defaultPublishAuthModes",options:n,placeholder:(0,l.Ay)`Choose default publish authorization modes`,"data-testid":"default-publish-auth-select"}},{type:se.MULTISELECT,label:(0,l.Ay)`Default subscribe authorization modes`,config:{stateKey:"eventConfig.defaultSubscribeAuthModes",options:n,placeholder:(0,l.Ay)`Choose default subscribe authorization modes`,"data-testid":"default-subscribe-auth-select"}},{type:se.MULTISELECT,label:(0,l.Ay)`Connection authorization modes`,config:{stateKey:"eventConfig.connectionAuthModes",options:n,placeholder:(0,l.Ay)`Choose connection authorization modes`,"data-testid":"connection-auth-select"}}]}}]},A3=({editPageId:t,region:n,consoleEndpoint:a,iam:o,waf:s,cognito:c,lambda:u,authProviders:p})=>{switch(t){case Xi.API_DETAILS:return{title:(0,l.Ay)`Edit API details`,formContainers:[{header:{title:"API details"},content:{fields:[{type:se.INPUT,label:"API name",constraint:"The API name can have up to 50 characters.",config:{stateKey:"name",placeholder:"Enter a name for your API.","data-testid":"api-name-input"}},{type:se.INPUT,label:"Contact details",constraint:"The contact details can have up to 256 characters.",optional:!0,config:{stateKey:"ownerContact",placeholder:"Enter a contact for your API.","data-testid":"owner-contact-input"}}]}}],validationRules:{name:{rules:[{ruleFunction:Gc((0,l.Ay)`Name`)},{ruleFunction:(h=1,(f,y)=>{const g=(0,he.get)(y,f);return{isValid:g.length>=h,errorMessage:g.length<h?l.Ay.translate("Must be ${0} characters or more",h):void 0}})},{ruleFunction:qT(50)}]},ownerContact:{rules:[{ruleFunction:qT(256)}]}}};case Xi.API_CONFIGURATIONS:return{title:(0,l.Ay)`Edit API configurations`,formContainers:y3(n,a,o,s),validationRules:{}};case Xi.TAGS:return{title:(0,l.Ay)`Edit tags`,formContainers:[{header:{title:"Tags"},content:{fields:[{type:se.TAG_EDITOR,omitFormField:!0,label:void 0,config:{stateKey:"tags"}}]}}],validationRules:{}};case Xi.DEFAULT_AUTH:return{title:(0,l.Ay)`Edit authorization configuration`,formContainers:g3(p),validationRules:{"eventConfig.defaultPublishAuthModes":{rules:[{ruleFunction:Gc((0,l.Ay)`Default publish authorization modes`)}]},"eventConfig.defaultSubscribeAuthModes":{rules:[{ruleFunction:Gc((0,l.Ay)`Default subscribe authorization modes`)}]},"eventConfig.connectionAuthModes":{rules:[{ruleFunction:Gc((0,l.Ay)`Connection authorization modes`)}]}}};default:return null}var h},E3=({eventConfig:t})=>({logLevel:{value:t.logConfig.logLevel,label:l.Ay.translate(sI[t.logConfig.logLevel])},cloudWatchLogsRoleArn:{value:t.logConfig.cloudWatchLogsRoleArn,label:t.logConfig.cloudWatchLogsRoleArn}}),b3=t=>({...t.eventConfig,defaultPublishAuthModes:t.eventConfig.defaultPublishAuthModes.map(n=>eh(n)),defaultSubscribeAuthModes:t.eventConfig.defaultSubscribeAuthModes.map(n=>eh(n)),connectionAuthModes:t.eventConfig.connectionAuthModes.map(n=>eh(n)),logConfig:E3(t)}),v3=t=>({value:t.wafWebAclArn,label:t.wafWebAclArn}),S3=t=>({...t,eventConfig:b3(t),tags:Zm(t.tags),wafWebAclArn:v3(t),isLoggingEnabled:zT(t),loggingRoleType:t.eventConfig.logConfig?.cloudWatchLogsRoleArn?ui.EXISTING:ui.NEW,isWebApplicationFirewallEnabled:!!t.wafWebAclArn}),T3=({eventConfig:{logConfig:t}})=>({logLevel:t.logLevel.value,cloudWatchLogsRoleArn:t.cloudWatchLogsRoleArn.value}),I3=(t,n)=>({...n.eventConfig,...t.eventConfig,defaultPublishAuthModes:t.eventConfig.defaultPublishAuthModes.map(a=>th(a)),defaultSubscribeAuthModes:t.eventConfig.defaultSubscribeAuthModes.map(a=>th(a)),connectionAuthModes:t.eventConfig.connectionAuthModes.map(a=>th(a)),logConfig:t.isLoggingEnabled?T3(t):null}),C3=(t,n)=>({...n,...t,eventConfig:I3(t,n),tags:n.tags,wafWebAclArn:t.isWebApplicationFirewallEnabled?t.wafWebAclArn.value:null}),gI=(t,n)=>{let a=!1;const o=JSON.parse(JSON.stringify(yI));return Object.entries(n).forEach(([s,{rules:c,skipRulesetFunction:u}])=>{u&&u(t)||c.forEach(({ruleFunction:p,skipRuleFunction:h})=>{if(h&&h(t))return;const{isValid:f,errorMessage:y}=p(s,t);o?.[s]||f||(o[s]=y,a=!0)})}),[a,o]},R3=(t,n,a)=>a===Xi.TAGS?dH({api:t,tags:n}):uH({api:t});function w3(){const t=si(),n=Jt(oi),{apiId:a,versionId:o}=Zn(),[s]=(0,Ye.ok)(),c=s.get("editPageId"),u=(0,G.Zp)(),{navigatePath:p}=on({apiId:a,versionId:o,tab:"settings"}),h=jT(an),[f,y]=(0,i.useState)(!1),[g,A]=(0,i.useState)(!1),[E,b]=(0,i.useState)(S3(n)),[C,I]=(0,i.useState)(yI),[R,L]=(0,i.useState)(!1),[P,{status:F,error:x}]=Yc({resource:ht.IAM},E.loggingRoleType===ui.EXISTING,[]),[O,{status:j,error:M}]=Yc({resource:ht.WAF},E.isWebApplicationFirewallEnabled,[]),[B,{status:V,error:W}]=Yc({resource:ht.COGNITO,region:an},!!an,[]),[Y,{status:Z,error:ie}]=Yc({resource:ht.LAMBDA,region:an},!!an,[]),{title:ye,formContainers:ve,validationRules:Ce}=A3({editPageId:c,region:an,consoleEndpoint:h,iam:{options:P.map(Bc),status:F,error:x?.message},waf:{options:O.map(Bc),status:j,error:M?.message},cognito:{options:B.map(Bc),status:V,error:W?.message},lambda:{options:Y.map(Bc),status:Z,error:ie?.message},authProviders:n.eventConfig.authProviders});return i.createElement(Uo,{title:ye,state:E,errors:C,saving:g,containers:ve,onChange:(Ae,J,Ee)=>{const Te=(0,he.set)(E,Ae,J);if(f){const[,Ie]=gI(Te,Ce);I(Ie)}Ae==="tags"&&L(!Ee?.isValid),b({...Te})},onSave:async Ae=>{Ae.preventDefault(),A(!0),y(!0);try{const[J,Ee]=gI(E,Ce);if(J||R)return I(Ee),void A(!1);const Te=C3(E,n),Ie=R3(Te,E.tags,c);await t(Ie).unwrap(),u(p)}catch(J){I({...C,form:J.message})}finally{A(!1)}},onCancel:()=>{u(p)},saveText:(0,l.Ay)`Update`,saveTestId:"edit-settings-save-button",cancelTestId:"edit-settings-cancel-button"})}function P3(){const{addFlashbar:t}=(0,i.useContext)(hr),{apiId:n}=(0,G.g)(),a=(0,G.Zp)(),o=si(),s=Jt(pH),{status:c,error:u}=Jt(mH);return(0,i.useEffect)(()=>(n===s&&c||o(lH(n)),()=>{o(cH(Ut.GET))}),[n]),(0,i.useEffect)(()=>{c===pe.FAILED&&(t({info:u.name,description:u.message,type:"error",dismissible:!0}),a("/apis"))},[c]),c&&c!==pe.PENDING?i.createElement(G.BV,null,i.createElement(G.qh,{index:!0,path:":tabId?",element:i.createElement(QH,null)}),i.createElement(G.qh,{path:"namespaces/create",element:i.createElement(m3,null)}),i.createElement(G.qh,{path:"namespaces/:namespaceId/*"},i.createElement(G.qh,{index:!0,element:i.createElement(s3,null)}),i.createElement(G.qh,{path:"edit",element:i.createElement(h3,null)}),i.createElement(G.qh,{path:"*",element:i.createElement(G.C5,{to:".."})})),i.createElement(G.qh,{path:"settings/edit",element:i.createElement(w3,null)}),i.createElement(G.qh,{path:"*",element:i.createElement(G.C5,{to:".."})})):i.createElement(Et.A,null)}function O3({addFlashbar:t,updateHelpPanel:n,setContentType:a}){const o=(0,i.useMemo)(()=>({addFlashbar:t,updateHelpPanel:n,setContentType:a}),[]);return i.createElement(hr.Provider,{value:o},i.createElement(p2,{store:PH},i.createElement(P3,null)))}var qe=v(97854),AI=v(89696),pl=v(73116),Xc=v(38998);const sn={title:"Attach resolver",description:"Configure your resolver for ${0}.",containers:{resolver:{title:"Resolver type",description:"If you need to reference multiple data sources, consider using a pipeline resolver.",field:{label:"Resolver type",options:{unit:{label:"Unit resolver",description:"Unit resolvers perform operations on a single data source."},pipeline:{label:"Pipeline resolver",description:"Pipeline resolvers use functions to perform operations on multiple data sources sequentially."}}},footer:{label:"Additional settings",field:{label:"Resolver runtime",options:{js:{label:"AppSync JavaScript (APPSYNC_JS)",description:"Choose this option to use the JavaScript runtime."},vtl:{label:"Velocity Template Language (VTL)",description:"Choose this option to use VTL and Direct Lambda resolvers."}}}}}}},dh={dataSource:{batching:{size:{required:"Batch size is required.",invalid:"Value must be between ${0} and ${1}."}}},caching:{ttl:{invalid:"Value must be between ${0} and ${1}."}}},EI={form:"",dataSource:{batching:{size:""},conflictDetection:{lambda:""}},caching:{ttl:"",keys:!1},metricsConfig:""},D3={resolver:{type:pt.UNIT_RESOLVER,runtime:Ve.APPSYNC_JS},dataSource:{selected:{label:"",value:""},batching:{enabled:!1},conflictDetection:{enabled:!1,strategy:Ma.AUTO,lambda:{label:"",value:""}}},caching:{enabled:!1},metricsConfig:!1};function ph({updateRuntime:t,selectedRuntime:n}){const a=sn.containers.resolver.footer;return i.createElement(mn.A,{headerText:l.Ay.translate(a.label),headingTagOverride:"h2",variant:"footer","data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"chooseResolverRuntime",defaultExpanded:!0},i.createElement(X.A,{label:l.Ay.translate(a.field.label)},i.createElement(Tr.A,{onChange:({detail:o})=>t(o.value),value:n,items:[{label:l.Ay.translate(a.field.options.js.label),description:l.Ay.translate(a.field.options.js.description),value:Ve.APPSYNC_JS},{label:l.Ay.translate(a.field.options.vtl.label),description:l.Ay.translate(a.field.options.vtl.description),value:Ve.VTL}]})))}var N3=Object.defineProperty,bI=Object.getOwnPropertySymbols,_3=Object.prototype.hasOwnProperty,x3=Object.prototype.propertyIsEnumerable,vI=(t,n,a)=>n in t?N3(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,L3=(t,n)=>{for(var a in n||(n={}))_3.call(n,a)&&vI(t,a,n[a]);if(bI)for(var a of bI(n))x3.call(n,a)&&vI(t,a,n[a]);return t};function Sa({linkProps:t}){const n=de(),a=()=>n(sA());return i.createElement(ue.A,L3({variant:"info",onFollow:a,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"info"},t),(0,l.Ay)`Info`)}var k3=Object.defineProperty,M3=Object.defineProperties,F3=Object.getOwnPropertyDescriptors,SI=Object.getOwnPropertySymbols,U3=Object.prototype.hasOwnProperty,$3=Object.prototype.propertyIsEnumerable,TI=(t,n,a)=>n in t?k3(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,j3=(t,n)=>{for(var a in n||(n={}))U3.call(n,a)&&TI(t,a,n[a]);if(SI)for(var a of SI(n))$3.call(n,a)&&TI(t,a,n[a]);return t},V3=(t,n)=>M3(t,F3(n));function Ta(t){const{showHelpLink:n,description:a,title:o}=t;return i.createElement(be.A,V3(j3({},t),{info:n&&i.createElement(Sa,null),description:typeof a=="string"?a&&l.Ay.translate(a):a}),l.Ay.translate(o))}var B3=Object.defineProperty,G3=Object.defineProperties,z3=Object.getOwnPropertyDescriptors,Zc=Object.getOwnPropertySymbols,II=Object.prototype.hasOwnProperty,CI=Object.prototype.propertyIsEnumerable,RI=(t,n,a)=>n in t?B3(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,wI=(t,n)=>{for(var a in n||(n={}))II.call(n,a)&&RI(t,a,n[a]);if(Zc)for(var a of Zc(n))CI.call(n,a)&&RI(t,a,n[a]);return t},q3=(t,n)=>G3(t,z3(n)),K3=(t,n)=>{var a={};for(var o in t)II.call(t,o)&&n.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&Zc)for(var o of Zc(t))n.indexOf(o)<0&&CI.call(t,o)&&(a[o]=t[o]);return a};function Le(t){var n;const a=t,{"data-testid":o,disableContentPaddings:s,children:c,footer:u}=a,p=K3(a,["data-testid","disableContentPaddings","children","footer"]),h=t.enablePanorama?{"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":et((n=t.panoramaTag)!=null?n:t.title)}:{};return i.createElement(it.A,q3(wI({header:i.createElement(Ta,wI({},p)),"data-testid":o,footer:u},h),{disableContentPaddings:s}),c)}var W3=Object.defineProperty,H3=Object.defineProperties,J3=Object.getOwnPropertyDescriptors,PI=Object.getOwnPropertySymbols,Y3=Object.prototype.hasOwnProperty,Q3=Object.prototype.propertyIsEnumerable,OI=(t,n,a)=>n in t?W3(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,X3=(t,n)=>{for(var a in n||(n={}))Y3.call(n,a)&&OI(t,a,n[a]);if(PI)for(var a of PI(n))Q3.call(n,a)&&OI(t,a,n[a]);return t},Z3=(t,n)=>H3(t,J3(n));function $t(t){const{children:n}=t;return i.createElement($.A,{size:"m"},i.createElement(Ta,Z3(X3({},t),{variant:"h1"})),n)}var e8=Object.defineProperty,DI=Object.getOwnPropertySymbols,t8=Object.prototype.hasOwnProperty,n8=Object.prototype.propertyIsEnumerable,NI=(t,n,a)=>n in t?e8(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,r8=(t,n)=>{for(var a in n||(n={}))t8.call(n,a)&&NI(t,a,n[a]);if(DI)for(var a of DI(n))n8.call(n,a)&&NI(t,a,n[a]);return t};const a8=(t,n)=>{if(n!==void 0){if(t==="apiName"){const a=n.name||(0,l.Ay)`No API selected`;return(0,l.Ay)`My API Name: ${a}`}if(t==="apiUrl")return n.graphqlConfig.uris.get("GRAPHQL")||(0,l.Ay)`My Api URI`}return t},i8=(t,n)=>n.startsWith(t)?`?referrer=${n.slice(t.length)}`:"";function o8(t){var n;const a=(0,G.zy)(),o=t.withReferrer?i8(`/${t.apiId}/${t.versionId}`,a.pathname):"",s=t.enablePanorama?{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(`${(n=t.panoramaTag)!=null?n:t.text}Link`)}:{};return i.createElement(Ye.N_,r8({to:`/${t.apiId}/${t.versionId}${t.to}${o}`,onClick:t.onClick,className:t.className||""},s),a8(t.text,t.graphqlApi))}const s8=t=>{const n=t.environment.selectedApiId,a=t.entities.get(n);return{apiId:n,versionId:t.environment.selectedVersionId,graphqlApi:a}},qo=(0,te.connect)(s8)(o8),l8=t=>t.startsWith("/")?t:`/${t}`;function Ko({to:t}){const n=dn(),a=hb();return i.createElement(G.C5,{to:`/${n}/${a}${l8(t)}`})}function mh({type:t,notes:n,onDismiss:a}){var o;const s=(o=n?.map((c,u)=>{const p=c.message?`${rt(t)}: ${c.message}`:rt(t);return i.createElement(wt.A,{key:p,type:t,dismissible:!0,onDismiss:()=>a?.(u),statusIconAriaLabel:l.Ay.translate(t)},p)}).toArray())!=null?o:[];return i.createElement("div",null,s)}class c8 extends i.Component{constructor(){super(...arguments),this.handleOnDismiss=n=>{this.props.dismissEntityErrorWithParams({entityType:this.props.entityType,index:n})}}componentWillUnmount(){this.props.dismissEntityAllErrors(this.props.entityType)}render(){const n=this.props.filterMessages?this.props.filterMessages:()=>!0,a=this.props.notes&&this.props.notes.size?this.props.notes.filter(o=>n(o.message)):(0,T.List)();return!a||a.size===0?null:i.createElement(mh,{notes:a,type:"error",onDismiss:this.handleOnDismiss})}}const u8=(t,n)=>{let a;switch(n.entityType){case N.DATA_SOURCE:{a=t.errors.dataSources;break}case N.API:{a=t.errors.apis;break}case N.SHARED_GRAPHQLAPI:{a=t.errors.sharedGraphqlApis;break}case N.RESOLVER:{a=t.errors.resolvers;break}case N.API_KEY:{a=t.errors.apiKeys;break}case N.ENVIRONMENT_VARIABLE:{a=t.errors.environmentVariables;break}case N.SOURCE_API_ASSOCIATION:{a=t.errors.sourceApiAssociations;break}case N.RESOLVER_FUNCTION:{a=t.errors.functions;break}case N.API_CACHE:{a=t.errors.apiCache;break}case N.AWS_RESOURCES:{a=t.errors.awsResources;break}case N.SCHEMA:{a=t.errors.putSchema;break}case N.COGNITO_SESSION:{a=t.errors.cognitoSession;break}default:a=(0,T.List)()}return{notes:a}},fr=(0,te.connect)(u8,{dismissEntityErrorWithParams:RA,dismissEntityAllErrors:Fi})(c8);class d8 extends i.Component{constructor(n){super(n),this.state={status:H.NONE}}render(){const{entityStatus:n}=this.props;return this.props.entity&&((this.state.status===H.NONE||this.state.status===H.ERRORED||Oi(this.state.status))&&vn(n)?this.setState({status:n}):vn(this.state.status)&&Oi(n)?this.setState({status:n}):vn(this.state.status)&&n===H.ERRORED&&this.setState({status:H.ERRORED})),vn(this.state.status)||this.props.showForStatuses&&!this.props.showForStatuses.find(a=>a===n)?null:this.state.status===H.ERRORED?i.createElement(mh,{type:"error",notes:this.props.alertNotes,onDismiss:()=>this.setState({status:H.NONE})}):Oi(this.state.status)&&this.props.redirectToOnSuccess&&this.props.redirectToOnSuccess!==""?i.createElement(Ko,{to:this.props.redirectToOnSuccess}):Oi(this.state.status)&&!this.props.redirectToOnSuccess?i.createElement(mh,{type:"success",notes:(0,T.List)([{message:""}]),onDismiss:()=>this.setState({status:H.NONE})}):i.createElement("div",null)}}const p8=(t,n)=>{const a=t.entities.get(n.recordKey),o=a?(0,T.List)([a.recordStatus]):(0,T.List)(),s=a?a.recordStatus.status:H.NONE;return{entity:a,alertNotes:o,entityStatus:s}},m8=(0,te.connect)(p8,{})(d8);function di(t){return i.createElement($.A,{direction:"horizontal",size:"xs"},i.createElement(K.A,{disabled:!1,loading:!1,variant:"link",onClick:t.onCancel,formAction:"none","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"cancel","data-testid":t.cancelTestId},t.cancelText||(0,l.Ay)`Cancel`),i.createElement(K.A,{disabled:t.submitDisabled||!1,loading:t.isLoading||!1,variant:"primary",onClick:t.onSubmit,formAction:"submit","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"save","data-testid":t.submitTestId},t.submitText||(0,l.Ay)`Submit`))}var _I=v(9921),h8=Object.defineProperty,f8=Object.defineProperties,y8=Object.getOwnPropertyDescriptors,xI=Object.getOwnPropertySymbols,g8=Object.prototype.hasOwnProperty,A8=Object.prototype.propertyIsEnumerable,LI=(t,n,a)=>n in t?h8(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,hh=(t,n)=>{for(var a in n||(n={}))g8.call(n,a)&&LI(t,a,n[a]);if(xI)for(var a of xI(n))A8.call(n,a)&&LI(t,a,n[a]);return t},fh=(t,n)=>f8(t,y8(n));function E8({field:t,input:n,formField:a}={field:{name:"default"},input:{}}){const o=s=>{const{touched:c,error:u,warning:p}=s.meta,[h,f]=i.useState(s.input.value||""),y=i.createElement(_I.A,fh(hh({},n),{enteredTextLabel:()=>h,value:h,onBlur:()=>{n?.onBlur&&n.onBlur(h),s.input.onChange(h)},onChange:g=>f(g.detail.value)}));return a?i.createElement(X.A,fh(hh({},a),{errorText:c&&(u||p)}),n.loading?i.createElement(Et.A,null):y):y};return i.createElement(qe.D0,fh(hh({},t),{style:{maxWidth:"800px"},component:o}))}var b8=Object.defineProperty,v8=Object.defineProperties,S8=Object.getOwnPropertyDescriptors,kI=Object.getOwnPropertySymbols,T8=Object.prototype.hasOwnProperty,I8=Object.prototype.propertyIsEnumerable,MI=(t,n,a)=>n in t?b8(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,ml=(t,n)=>{for(var a in n||(n={}))T8.call(n,a)&&MI(t,a,n[a]);if(kI)for(var a of kI(n))I8.call(n,a)&&MI(t,a,n[a]);return t},FI=(t,n)=>v8(t,S8(n));function eu({field:t,formField:n,checkbox:a,panoramaTag:o}={field:{name:"default"},formField:{},checkbox:{checked:!1}}){const s=c=>{const u=!!(c.input.value===void 0?a.checked:c.input.value),p=o?{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(o)}:{},h=o?{"data-analytics-type":U.EVENT_VALUE,"data-analytics":et(u.toString())}:{};return i.createElement(X.A,ml(ml({},n),p),i.createElement(Ea.A,ml(FI(ml({},a),{checked:u,onChange:f=>c.input.onChange(f.detail.checked)}),h),a?.label||""))};return i.createElement(qe.D0,FI(ml({},t),{component:s}))}var C8=Object.defineProperty,R8=Object.defineProperties,w8=Object.getOwnPropertyDescriptors,UI=Object.getOwnPropertySymbols,P8=Object.prototype.hasOwnProperty,O8=Object.prototype.propertyIsEnumerable,$I=(t,n,a)=>n in t?C8(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,D8=(t,n)=>{for(var a in n||(n={}))P8.call(n,a)&&$I(t,a,n[a]);if(UI)for(var a of UI(n))O8.call(n,a)&&$I(t,a,n[a]);return t},N8=(t,n)=>R8(t,w8(n));const _8=31536e6;function zbe({field:t}={field:{name:"default"},formField:{},input:{value:""}}){const n=a=>React.createElement("div",{style:{maxWidth:"800px"}},React.createElement("input",{className:"awsui-input awsui-input-type-text",type:"date",value:a.input.value,min:new Date(Date.now()).toISOString().slice(0,10),max:new Date(Date.now()+_8).toISOString().slice(0,10),pattern:"[0-9]{4}-[0-1][0-9]-[0-3][0-9]",onChange:o=>a.input.onChange(o.target.value)}));return React.createElement(Field,N8(D8({},t),{component:n}))}var x8=Object.defineProperty,L8=Object.defineProperties,k8=Object.getOwnPropertyDescriptors,jI=Object.getOwnPropertySymbols,M8=Object.prototype.hasOwnProperty,F8=Object.prototype.propertyIsEnumerable,VI=(t,n,a)=>n in t?x8(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,U8=(t,n)=>{for(var a in n||(n={}))M8.call(n,a)&&VI(t,a,n[a]);if(jI)for(var a of jI(n))F8.call(n,a)&&VI(t,a,n[a]);return t},$8=(t,n)=>L8(t,k8(n));const BI=Array.from(Array(24),(t,n)=>({label:`${n%12||12}:00 ${n<12?"AM":"PM"}`,value:String(n)}));function qbe({field:t,select:n}={field:{name:"default"},select:{selectedOption:{}}}){const a=o=>React.createElement(Select,{options:BI,selectedOption:BI.find(s=>{const c=o.input.value===void 0?n.selectedOption.value:o.input.value;return s.value===c}),onChange:s=>o.input.onChange(s.detail.selectedOption)});return React.createElement(Field,$8(U8({},t),{component:a}))}var j8=Object.defineProperty,V8=Object.defineProperties,B8=Object.getOwnPropertyDescriptors,GI=Object.getOwnPropertySymbols,G8=Object.prototype.hasOwnProperty,z8=Object.prototype.propertyIsEnumerable,zI=(t,n,a)=>n in t?j8(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,tu=(t,n)=>{for(var a in n||(n={}))G8.call(n,a)&&zI(t,a,n[a]);if(GI)for(var a of GI(n))z8.call(n,a)&&zI(t,a,n[a]);return t},yh=(t,n)=>V8(t,B8(n));function Ia({field:t,formField:n,input:a,maxWidth:o,optional:s}={field:{name:"default"},formField:{},input:{value:""}}){const c=u=>{(0,i.useEffect)(()=>{h(u.input.value||"")},[u.input.value]);const[p,h]=(0,i.useState)(""),{touched:f,error:y,warning:g}=u.meta,A=i.createElement(He.A,yh(tu({},a),{"data-cy":a?.testTag,value:p,onBlur:()=>{a?.onBlur&&a.onBlur(p),u.input.onChange(p)},onChange:({detail:E})=>h(E.value),autoFocus:!1}));return n?i.createElement(X.A,yh(tu(tu({},n),s?{label:i.createElement("span",null,n.label," ",i.createElement("i",null,"- ",(0,l.Ay)`optional`)," ")}:{}),{errorText:f&&(y||g)}),i.createElement("div",{style:{maxWidth:o||"800px"}},A)):A};return i.createElement(qe.D0,yh(tu({},t),{component:c}))}var q8=Object.defineProperty,K8=Object.defineProperties,W8=Object.getOwnPropertyDescriptors,qI=Object.getOwnPropertySymbols,H8=Object.prototype.hasOwnProperty,J8=Object.prototype.propertyIsEnumerable,KI=(t,n,a)=>n in t?q8(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,hl=(t,n)=>{for(var a in n||(n={}))H8.call(n,a)&&KI(t,a,n[a]);if(qI)for(var a of qI(n))J8.call(n,a)&&KI(t,a,n[a]);return t},WI=(t,n)=>K8(t,W8(n));function HI({field:t,formField:n,radioGroup:a,panoramaTag:o}={field:{name:"default"},formField:{},radioGroup:{}}){const s=c=>{var u;const p=o?{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(o)}:{},h=o?{"data-analytics-type":U.EVENT_VALUE,"data-analytics":et(c.input.value)}:{};return i.createElement(X.A,hl(hl({},n),p),i.createElement(Tr.A,hl(WI(hl({},a),{value:(u=c.input)==null?void 0:u.value,onChange:f=>c.input.onChange(f.detail.value)}),h)))};return i.createElement(qe.D0,WI(hl({},t),{component:s}))}var Y8=Object.defineProperty,Q8=Object.defineProperties,X8=Object.getOwnPropertyDescriptors,JI=Object.getOwnPropertySymbols,Z8=Object.prototype.hasOwnProperty,e6=Object.prototype.propertyIsEnumerable,YI=(t,n,a)=>n in t?Y8(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Wo=(t,n)=>{for(var a in n||(n={}))Z8.call(n,a)&&YI(t,a,n[a]);if(JI)for(var a of JI(n))e6.call(n,a)&&YI(t,a,n[a]);return t},gh=(t,n)=>Q8(t,X8(n));function Rr({field:t,formField:n,select:a,isLoading:o,button:s,maxWidth:c,panoramaTag:u}={field:{name:"default"},formField:{},select:{},button:{}}){const p=h=>{const{touched:f,error:y,warning:g}=h.meta,A=h.input.value===void 0?a.selectedOption.value:h.input.value,E=()=>a.options.flatMap(x=>{var O;return(O=x.options)!=null?O:x}).find(x=>x.value===A),[b,C]=(0,i.useState)(E()),I=u?{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(u)}:{},R=u?{"data-analytics-type":U.EVENT_VALUE,"data-analytics":et(A)}:{},L=i.createElement(ze.A,Wo(gh(Wo({},a),{selectedOption:b,onChange:F=>{C(F.detail.selectedOption),h.input.onChange(F.detail.selectedOption)}}),R)),P=s&&s.shouldShowButton?i.createElement("div",Wo({},n?{}:I),i.createElement(ba.A,{gridDefinition:[{colspan:{default:c?8:9}},{colspan:{default:c?4:3}}]},i.createElement("div",null,L),i.createElement("div",null,i.createElement(K.A,{ariaLabel:s.text,target:"_blank",href:s.href},s.text)))):L;return n?i.createElement(X.A,Wo(gh(Wo({},n),{errorText:f&&(y||g)}),I),i.createElement("div",{style:{maxWidth:c??"800px"}},o?i.createElement(Et.A,null):P)):P};return i.createElement(qe.D0,gh(Wo({},t),{component:p}))}var t6=Object.defineProperty,n6=Object.defineProperties,r6=Object.getOwnPropertyDescriptors,QI=Object.getOwnPropertySymbols,a6=Object.prototype.hasOwnProperty,i6=Object.prototype.propertyIsEnumerable,XI=(t,n,a)=>n in t?t6(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Yr=(t,n)=>{for(var a in n||(n={}))a6.call(n,a)&&XI(t,a,n[a]);if(QI)for(var a of QI(n))i6.call(n,a)&&XI(t,a,n[a]);return t},Ho=(t,n)=>n6(t,r6(n));function Kbe({field:t,formField:n,select:a,manualInput:o,button:s,isLoading:c,maxWidth:u,panoramaTag:p}){const h=Ho(Yr({},a),{options:o.separatingText?[o.option,{label:o.separatingText,options:a.options}]:[o.option,...a.options]}),[f,y]=useState(),g=useRef(null);useEffect(()=>{if(!g.current.input.value)y(void 0);else{const E=a.options.find(b=>b.value===g.current.input.value);y(E||o.option)}},[a.options]);const A=E=>{const{touched:b,error:C,warning:I}=E.meta,R=n?.errorText?n?.errorText:b&&(C||I),L=f&&f.value===o.option.value,P=p?{"data-analytics-type":PanoramaAttributes.EVENT_DETAIL,"data-analytics":formatPanoramaAttribute(p)}:{},F=p?{"data-analytics-type":PanoramaAttributes.EVENT_VALUE,"data-analytics":formatPanoramaAttribute(E.input.value)}:{},[x,O]=useState(E.input.value),j=W=>{E.input.onChange(W)};useEffect(()=>{g.current=E},[]);const M=React.createElement(Select,Yr(Ho(Yr({},h),{selectedOption:f,onChange:({detail:W})=>{y(W.selectedOption),j(W.selectedOption.value!==o.option.value?W.selectedOption.value:"")}}),F)),B=s&&s.shouldShowButton?React.createElement("div",Yr({},n?{}:P),React.createElement(Grid,{gridDefinition:[{colspan:{default:u?8:9}},{colspan:{default:u?4:3}}]},React.createElement("div",null,M),React.createElement("div",null,React.createElement(Button,{ariaLabel:s.text,target:"_blank",href:s.href},s.text)))):M,V=React.createElement(Input,Ho(Yr({},o.props),{value:x,onChange:({detail:W})=>O(W.value),onBlur:()=>j(x)}));return n?React.createElement(SpaceBetween,{size:"l"},React.createElement(FormField,Yr(Ho(Yr({},n.select),{errorText:L?"":R}),P),React.createElement("div",{style:{maxWidth:u??"800px"}},c?React.createElement(Spinner,null):B)),L&&React.createElement(FormField,Yr(Ho(Yr({},n.input),{errorText:R}),P),React.createElement("div",{style:{maxWidth:u??"800px"}},c?React.createElement(Spinner,null):V))):React.createElement(SpaceBetween,{size:"l"},B,L&&V)};return React.createElement(Field,Ho(Yr({},t),{component:A}))}var o6=Object.defineProperty,s6=Object.defineProperties,l6=Object.getOwnPropertyDescriptors,ZI=Object.getOwnPropertySymbols,c6=Object.prototype.hasOwnProperty,u6=Object.prototype.propertyIsEnumerable,eC=(t,n,a)=>n in t?o6(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,fl=(t,n)=>{for(var a in n||(n={}))c6.call(n,a)&&eC(t,a,n[a]);if(ZI)for(var a of ZI(n))u6.call(n,a)&&eC(t,a,n[a]);return t},yl=(t,n)=>s6(t,l6(n));function d6({formField:t,select:n,manualInput:a,value:o,onChange:s,isLoading:c}){const u=yl(fl({},n),{options:a?.separatingText?[a.option,{label:a.separatingText,options:n.options}]:[a?.option,...n.options]}),[p,h]=(0,i.useState)(),[f,y]=(0,i.useState)(o),[g,A]=(0,i.useState)(),E=(0,i.useRef)(p);return(0,i.useEffect)(()=>{var b;!((b=n?.options)==null?void 0:b.find(I=>I.value===o))&&!g&&h(void 0)},[n.options]),(0,i.useEffect)(()=>{var b;if(!c)if(!o)h(void 0);else{const C=(b=n?.options)==null?void 0:b.find(I=>I.value===o);h(C||a.option)}},[c]),(0,i.useEffect)(()=>{if(p){const b=p?.value===a?.option.value;if(g)b||s?.(p.value);else{const C=E.current?"":o;s?.(b?C:p?.value),y(C)}A(b)}E.current=p},[p]),(0,i.useEffect)(()=>{g&&s?.(f)},[f]),i.createElement($.A,{size:"l"},i.createElement(X.A,yl(fl({},t?.select),{errorText:g?"":t?.errorText}),c?i.createElement(Et.A,null):i.createElement(ze.A,yl(fl({},u),{selectedOption:p,onChange:({detail:b})=>h(b.selectedOption)}))),g&&i.createElement(X.A,yl(fl({},t?.input),{errorText:t?.errorText}),c?i.createElement(Et.A,null):i.createElement(He.A,yl(fl({},a?.props),{value:f,onChange:({detail:b})=>y(b.value)}))))}var p6=Object.defineProperty,m6=Object.defineProperties,h6=Object.getOwnPropertyDescriptors,tC=Object.getOwnPropertySymbols,f6=Object.prototype.hasOwnProperty,y6=Object.prototype.propertyIsEnumerable,nC=(t,n,a)=>n in t?p6(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,nu=(t,n)=>{for(var a in n||(n={}))f6.call(n,a)&&nC(t,a,n[a]);if(tC)for(var a of tC(n))y6.call(n,a)&&nC(t,a,n[a]);return t},rC=(t,n)=>m6(t,h6(n));function g6({field:t,formField:n,textarea:a,maxWidth:o,optional:s}={field:{name:"default"},formField:{},textarea:{value:""}}){const c=u=>{(0,i.useEffect)(()=>{h(u.input.value||"")},[u.input.value]);const[p,h]=(0,i.useState)("");return i.createElement(X.A,nu(nu({},n),s?{label:i.createElement("span",null,n.label," ",i.createElement("i",null,"- ",(0,l.Ay)`optional`)," ")}:{}),i.createElement("div",{style:{maxWidth:o||"800px"}},i.createElement(Qs.A,rC(nu({},a),{value:p,onBlur:()=>{a?.onBlur&&a.onBlur(p),u.input.onChange(p)},onChange:({detail:f})=>h(f.value),autoFocus:!1}))))};return i.createElement(qe.D0,rC(nu({},t),{component:c}))}var A6=Object.defineProperty,E6=Object.defineProperties,b6=Object.getOwnPropertyDescriptors,aC=Object.getOwnPropertySymbols,v6=Object.prototype.hasOwnProperty,S6=Object.prototype.propertyIsEnumerable,iC=(t,n,a)=>n in t?A6(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,gl=(t,n)=>{for(var a in n||(n={}))v6.call(n,a)&&iC(t,a,n[a]);if(aC)for(var a of aC(n))S6.call(n,a)&&iC(t,a,n[a]);return t},oC=(t,n)=>E6(t,b6(n));function pi({field:t,formField:n,toggle:a,panoramaTag:o}={field:{name:"default"},formField:{},toggle:{checked:!1}}){const s=c=>{var u;const p=!!((u=c.input.value)!=null?u:a.checked),h=o?{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(o)}:{},f=o?{"data-analytics-type":U.EVENT_VALUE,"data-analytics":et(p.toString())}:{};return i.createElement(X.A,gl(gl({},n),h),i.createElement(dr.A,gl(oC(gl({},a),{checked:p,onChange:y=>c.input.onChange(y.detail.checked)}),f),a.label||""))};return i.createElement(qe.D0,oC(gl({},t),{component:s}))}const Me=t=>n=>n?void 0:l.Ay.translate("${0} is required.",t),Al=t=>t&&t.length>512?(0,l.Ay)`Must be ${512} characters or less`:void 0,Ca=t=>n=>n&&n.length>t?(0,l.Ay)`Must be ${t} characters or less`:void 0,T6=t=>n=>n&&n.length<t?(0,l.Ay)`Must be ${t} characters or longer`:void 0,Wbe=t=>t&&t.length<8?i18n`Must be ${8} characters or longer`:void 0,Jo=t=>t&&Number.isNaN(Number(t))?(0,l.Ay)`Must be a number`:void 0,ru=t=>n=>n&&n<t?(0,l.Ay)`Must be at least ${t}`:void 0,sC=t=>n=>n&&n>t?(0,l.Ay)`Must be at most ${t}`:void 0,Hbe=t=>t&&/[^a-zA-Z0-9]/.test(t)?i18n`Must only contain letters or numbers`:void 0,Jbe=t=>t&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)?i18n`Invalid email address`:void 0,lC="^[_A-Za-z][_0-9A-Za-z]*$",Zi=t=>RegExp(lC).test(t)?void 0:(0,l.Ay)`Invalid name given, must match pattern ${lC}`,Ah=()=>(0,l.Ay)`A name starts with a letter and contains only numbers, letters, and underscores(_)`,cC="^[-_0-9A-Za-z]*$",El=t=>RegExp(cC).test(t)?void 0:(0,l.Ay)`Invalid name given, must match pattern ${cC}`,bl=t=>t&&t.length>2&&t.length<256?void 0:(0,l.Ay)`Table names must be between 3 and 255 characters long`,I6=()=>(0,l.Ay)`Between 3 and 255 characters long. (A-Z,a-z,0-9,_,-,.)`,Eh=t=>_e(t,[Me((0,l.Ay)`Type name`),Zi,Al]),C6=/^arn:aws[a-zA-Z-]*:iam::[0-9]+:role\/.*$/,au=t=>t.match(C6)?void 0:(0,l.Ay)`Please enter a valid IAM Role ARN`,uC=t=>{if(!((0,sa.tf)(t)&&(0,sa.qg)(t).service==="lambda"))return(0,l.Ay)`Invalid Lambda function ARN.`},iu=t=>{if(!ms.includes(t))return/^([$]context[.])(args|arguments|identity|source)([.]\w+)*/.test(t)?void 0:(0,l.Ay)`Not a valid key.`};function _e(t,n){for(const a of n){const o=a(t);if(o)return o}return null}var R6=Object.defineProperty,w6=Object.defineProperties,P6=Object.getOwnPropertyDescriptors,dC=Object.getOwnPropertySymbols,O6=Object.prototype.hasOwnProperty,D6=Object.prototype.propertyIsEnumerable,pC=(t,n,a)=>n in t?R6(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Qr=(t,n)=>{for(var a in n||(n={}))O6.call(n,a)&&pC(t,a,n[a]);if(dC)for(var a of dC(n))D6.call(n,a)&&pC(t,a,n[a]);return t},Ra=(t,n)=>w6(t,P6(n)),N6=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())}),z=(t=>(t.NAME="name",t.DESCRIPTION="description",t.TYPE="type",t.REGION="region",t.ROLE_SOURCE="roleSource",t.SERVICE_ROLE_ARN="serviceRoleArn",t.SELECTED_DDB="selectedDDB",t.SELECTED_LAMBDA="selectedLambda",t.SELECTED_ES="selectedES",t.SELECTED_OS="selectedOS",t.SELECTED_EB="selectedEB",t.HTTP_ENDPOINT="httpEndpoint",t.VERSIONED="versioned",t.DDB_ADAPTER="dynamoDBAdapter",t.BASE_TYPE_DEF_SDL="baseTypeDefinitionSDL",t.ENABLE_GENERATE_GRAPHQL="enableGenerateGraphQL",t.SELECTED_RUNTIME="selectedRuntime",t.DELTA_SYNC_CONFIG="deltaSyncConfig",t.DELTA_SYNC_TABLE_NAME="deltaSyncTableName",t.DELTA_SYNC_TABLE_TTL="deltaSyncTableTTL",t.BASE_TABLE_TTL="baseTableTTL",t.RELATIONAL_DB_SOURCE_TYPE="relationalDatabaseSourceType",t.DB_CLUSTER_IDENTIFIER="dbClusterIdentifier",t.SCHEMA="schema",t.DATABASE_NAME="databaseName",t.AWS_SECRET_STORE_ARN="awsSecretStoreArn",t.DYNAMODBTABLEDESCRIPTION="dynamoDBTableDescription",t.METRICSCONFIG="metricsConfig",t.HTTP_CONFIG="httpConfig",t.SIGNING_REGION="signingRegion",t.SIGNING_SERVICE_NAME="signingServiceName",t.ENABLE_HTTP_AUTHORIZATION_CONFIG="enableHttpAuthorizationConfig",t))(z||{});const _6={[_.DYNAMODB]:Ra(Qr({},Kn[_.DYNAMODB]),{recordToFormValue:{awsRegion:"region",tableName:"selectedDDB"},beforeCreate:(t,n)=>{const a=t.get("versioned",!1);return Ra(Qr({},n),{versioned:a,deltaSyncConfig:a?t.get("deltaSyncConfig"):null})}}),[_.ELASTIC_SEARCH]:Ra(Qr({},Kn[_.ELASTIC_SEARCH]),{recordToFormValue:{awsRegion:"region",endpoint:null,domainName:"selectedES"}}),[_.OPEN_SEARCH]:Ra(Qr({},Kn[_.OPEN_SEARCH]),{recordToFormValue:{awsRegion:"region",endpoint:null,domainName:"selectedOS"}}),[_.LAMBDA]:Ra(Qr({},Kn[_.LAMBDA]),{recordToFormValue:{lambdaFunctionArn:"selectedLambda"}}),[_.EVENT_BRIDGE]:Ra(Qr({},Kn[_.EVENT_BRIDGE]),{recordToFormValue:{eventBusArn:"selectedEB"}}),[_.HTTP]:Ra(Qr({},Kn[_.HTTP]),{recordToFormValue:{endpoint:"httpEndpoint"},beforeCreate:(t,n)=>{const a=t.get("httpConfig");return Ra(Qr({},n),{authorizationConfig:a?.authorizationConfig})}}),[_.RDS]:Ra(Qr({},Kn[_.RDS]),{recordToFormValue:{relationalDatabaseSourceType:"relationalDatabaseSourceType",awsRegion:"region",dbClusterIdentifier:"dbClusterIdentifier",databaseName:"databaseName",schema:"schema",awsSecretStoreArn:"awsSecretStoreArn"}})},x6={[Ya.DYNAMODB]:void 0,[Ya.ELASTIC_SEARCH]:void 0,[Ya.OPEN_SEARCH]:void 0,[Ya.LAMBDA]:void 0,[Ya.EVENT_BRIDGE]:void 0,[Ya.HTTP]:void 0,[Ya.RDS]:void 0},L6=t=>N6(void 0,null,function*(){const n=Qr({},x6),a=t.get("type"),o=_6[a];if(!o)return n;const{Record:s,recordToFormValue:c,recordField:u,beforeCreate:p}=o;let h={};for(const f in c)c[f]&&(h[f]=t.get(c[f],""));return h=p?.(t,h)||h,n[u]=new s(h),n.openSearchServiceConfig?n.openSearchServiceConfig=yield n.openSearchServiceConfig.replaceDomainNameWithEndpoint():n.elasticsearchConfig&&(n.elasticsearchConfig=yield n.elasticsearchConfig.replaceDomainNameWithEndpoint()),n}),k6=t=>{const n={};for(const a of t)n[a]="";return n};var M6=(t=>(t.DELTA_SYNC_BASE_TABLE_TTL="deltaSyncConfig_baseTableTTL",t.DELTA_SYNC_TABLE_NAME="deltaSyncConfig_deltaSyncTableTTL",t.DELTA_SYNC_TABLE_TTL="deltaSyncConfig_deltaSyncTableTTL",t.NAME="NAME",t.DESCRIPTION="DESCRIPTION",t.TYPE="TYPE",t.REGION="REGION",t.HTTP_ENDPOINT="HTTP_ENDPOINT",t.DATABASE_NAME="DATABASE_NAME",t.SCHEMA="SCHEMA",t.SELECTED_DDB="SELECTED_DDB",t.DELTA_SYNC_CONFIG="DELTA_SYNC_CONFIG",t.SELECTED_ES="SELECTED_ES",t.SELECTED_OS="SELECTED_OS",t.RELATIONAL_DB_SOURCE_TYPE="RELATIONAL_DB_SOURCE_TYPE",t.DB_CLUSTER_IDENTIFIER="DB_CLUSTER_IDENTIFIER",t.AWS_SECRET_STORE_ARN="AWS_SECRET_STORE_ARN",t.SELECTED_LAMBDA="SELECTED_LAMBDA",t.SELECTED_EB="SELECTED_EB",t.ROLE_SOURCE="ROLE_SOURCE",t.SERVICE_ROLE_ARN="SERVICE_ROLE_ARN",t.SIGNING_SERVICE_NAME="SIGNING_SERVICE_NAME",t.SIGNING_REGION="SIGNING_REGION",t))(M6||{});const fn="rules",F6=(t,n)=>{switch(t){case _.DYNAMODB:return["selectedDDB"];case _.DDB_DELTA_SYNC:return["deltaSyncTableName"];case _.ELASTIC_SEARCH:return["selectedES"];case _.OPEN_SEARCH:return["selectedOS"];case _.RDS:return n.dbClusterIdentifier?["relationalDatabaseSourceType","dbClusterIdentifier"]:["relationalDatabaseSourceType","awsSecretStoreArn"];case _.LAMBDA:return["selectedLambda"];case _.EVENT_BRIDGE:return["selectedEB"];default:return[]}},U6=t=>{let n=["name","description","type"];const{type:a,selectedDDB:o,selectedES:s,region:c,selectedOS:u,selectedLambda:p,httpEndpoint:h,selectedEB:f,dbClusterIdentifier:y,awsSecretStoreArn:g,roleSource:A,versioned:E,httpConfig:b}=t,C=a===_.NONE,I=a===_.HTTP,R=a===_.DYNAMODB&&o||a===_.ELASTIC_SEARCH&&s||a===_.OPEN_SEARCH&&u||a===_.LAMBDA&&p||a===_.HTTP&&h||a===_.EVENT_BRIDGE&&f||a===_.RDS&&y&&g||C;return a&&(!C&&!I&&n.push("region"),c&&(n=n.concat(F6(a,t)),R&&(A===Dt.ROLE_EXISTING&&n.push("serviceRoleArn"),n.push("roleSource"))),(I||c)&&(a===_.HTTP&&n.push("httpEndpoint"),a===_.RDS&&n.push("databaseName","schema")),E&&n.push("baseTableTTL","deltaSyncTableName","deltaSyncTableTTL"),I&&b?.authorizationConfig&&n.push("signingRegion","signingServiceName","serviceRoleArn")),n},ou=(t,n)=>{let a;switch(t){case"deltaSyncTableTTL":a=n.deltaSyncConfig.deltaSyncTableTTL;break;case"deltaSyncTableName":a=n.deltaSyncConfig.deltaSyncTableName;break;case"baseTableTTL":a=n.deltaSyncConfig.baseTableTTL;break;default:break}return a},$6=(t,n)=>{var a,o,s,c,u,p;let h;switch(t){case"signingRegion":h=(s=(o=(a=n.httpConfig)==null?void 0:a.authorizationConfig)==null?void 0:o.awsIamConfig)==null?void 0:s.signingRegion;break;case"signingServiceName":h=(p=(u=(c=n.httpConfig)==null?void 0:c.authorizationConfig)==null?void 0:u.awsIamConfig)==null?void 0:p.signingServiceName;break;default:break}return h},Yt=t=>{const n={baseTableTTL:{rules:[Jo,ru(0)],errorKey:"deltaSyncConfig_baseTableTTL"},deltaSyncTableName:{rules:[],errorKey:"deltaSyncConfig_deltaSyncTableTTL"},deltaSyncTableTTL:{rules:[Jo,Me((0,l.Ay)`Delta sync time to live (TTL)`),ru(1)],errorKey:"deltaSyncConfig_deltaSyncTableTTL"},name:{rules:[Me((0,l.Ay)`Data source name`),Zi,Al],errorKey:"NAME"},description:{rules:[Ca(2e3)],errorKey:"DESCRIPTION"},type:{rules:[Me((0,l.Ay)`Data source type`)],errorKey:"TYPE"},region:{rules:[Me((0,l.Ay)`Region`)],errorKey:"REGION"},httpEndpoint:{rules:[Me((0,l.Ay)`HTTP Endpoint`)],errorKey:"HTTP_ENDPOINT"},databaseName:{rules:[],errorKey:"DATABASE_NAME"},schema:{rules:[],errorKey:"SCHEMA"},selectedDDB:{rules:[Me((0,l.Ay)`Table name`)],errorKey:"SELECTED_DDB"},"deltaSyncConfig.deltaSyncTableName":{rules:[Me((0,l.Ay)`Delta sync table name`)],errorKey:"DELTA_SYNC_CONFIG".deltaSyncTableName},selectedES:{rules:[Me((0,l.Ay)`Elasticsearch domain`)],errorKey:"SELECTED_ES"},selectedOS:{rules:[Me((0,l.Ay)`Amazon OpenSearch domain`)],errorKey:"SELECTED_OS"},relationalDatabaseSourceType:{rules:[],errorKey:"RELATIONAL_DB_SOURCE_TYPE"},dbClusterIdentifier:{rules:[Me((0,l.Ay)`RDS Cluster ARN`)],errorKey:"DB_CLUSTER_IDENTIFIER"},awsSecretStoreArn:{rules:[Me((0,l.Ay)`AWS Secrets Manager secret`)],errorKey:"AWS_SECRET_STORE_ARN"},selectedLambda:{rules:[Me((0,l.Ay)`Lambda function ARN`),uC],errorKey:"SELECTED_LAMBDA"},selectedEB:{rules:[Me((0,l.Ay)`Event bus ARN`)],errorKey:"SELECTED_EB"},roleSource:{rules:[],errorKey:"ROLE_SOURCE"},serviceRoleArn:{rules:[Me((0,l.Ay)`Existing role`)],errorKey:"SERVICE_ROLE_ARN"},signingRegion:{rules:[Me((0,l.Ay)`Signing region`)],errorKey:"SIGNING_REGION"},signingServiceName:{rules:[Me((0,l.Ay)`Signing service name`)],errorKey:"SIGNING_SERVICE_NAME"}};return t.versioned&&n.deltaSyncTableName.rules.push(Me((0,l.Ay)`Delta sync table name`)),n},j6=t=>{const n=[{disabled:!1,value:_.DYNAMODB,label:(0,l.Ay)`Amazon DynamoDB table`},{disabled:!1,value:_.OPEN_SEARCH,label:(0,l.Ay)`Amazon OpenSearch (successor to Amazon Elasticsearch) domain`},{disabled:!1,value:_.LAMBDA,label:(0,l.Ay)`AWS Lambda function`},{disabled:!1,value:_.HTTP,label:(0,l.Ay)`HTTP endpoint`},{disabled:!1,value:_.EVENT_BRIDGE,label:(0,l.Ay)`Amazon EventBridge`}];return rn()!==br&&n.push({disabled:!1,value:_.RDS,label:(0,l.Ay)`Relational database`}),t&&t.type===_.ELASTIC_SEARCH&&n.push({disabled:!1,value:_.ELASTIC_SEARCH,label:(0,l.Ay)`Amazon Elasticsearch domain`}),n.push({disabled:!1,value:_.NONE,label:(0,l.Ay)`None`}),n},V6=(t,n)=>{const a=t.getResourceName(),o=n.getResourceName();return a.localeCompare(o)},mC=["deltaSyncTableName","baseTableTTL","deltaSyncTableTTL"],hC=["signingRegion","signingServiceName"],B6="AWS_IAM",G6=t=>{switch(t.type){case _.DYNAMODB:return t.dynamodbConfig.awsRegion;case _.OPEN_SEARCH:return t.openSearchServiceConfig.awsRegion;case _.ELASTIC_SEARCH:return t.elasticsearchConfig.awsRegion;case _.LAMBDA:return(0,sa.qg)(t.lambdaConfig.lambdaFunctionArn).region||"";case _.EVENT_BRIDGE:return(0,sa.qg)(t.eventBridgeConfig.eventBusArn).region||"";default:return"us-east-1"}},z6=()=>[{cell:t=>i.createElement(qo,{to:`/datasources/${t.name}/edit`,text:t.name}),header:(0,l.Ay)`Name`,id:"name",sortingField:"name"},{cell:t=>t.type||i.createElement(Et.A,null),header:(0,l.Ay)`Type`,id:"type",sortingField:"type"},{cell:t=>{const n=G6(t),a=xs(n),o=(0,i.useMemo)(()=>uF(t,a),[t,a]);return o?i.createElement(ue.A,{href:o,target:"_blank"},t.getResourceName()):t.getResourceName()},header:i.createElement($.A,{size:"xs",direction:"horizontal"},(0,l.Ay)`Resource`,i.createElement("span",{role:"img","aria-label":(0,l.Ay)`Opens in a new tab`},i.createElement(Tn.A,{name:"external"}))),id:"resource",sortingComparator:V6}];function q6({formData:t,enumScalars:n,addIndex:a,removeIndex:o}){const s=(0,i.useMemo)(()=>({indexName:Me((0,l.Ay)`Index name`),primaryKey:Me((0,l.Ay)`Primary key`)}),[]);return i.createElement(mn.A,{headingTagOverride:"h2",headerText:(0,l.Ay)`Additional Indexes`,variant:"footer"},i.createElement($.A,{size:"l"},t.Indexes.map((c,u)=>i.createElement(ba.A,{key:`index-${c.Name}`,gridDefinition:[{colspan:{default:5}},{colspan:{default:3}},{colspan:{default:3}},{colspan:{default:1}}]},i.createElement(Ia,{field:{name:`Indexes[${u}].Name`,validate:[s.indexName,bl,El]},formField:{label:(0,l.Ay)`Index name`}}),i.createElement(Rr,{field:{name:`Indexes[${u}]`,validate:[s.primaryKey],normalize:(p,h)=>{const f=t.Attributes.find(y=>y.AttributeName===p.value)||null;return f&&h.SortKey&&f.AttributeName===h.SortKey.AttributeName?h.withPrimaryKey(f).withSortKey(null):h.withPrimaryKey(f)},format:p=>p&&p.PrimaryKey?p.PrimaryKey.AttributeName:t.Attributes.first().AttributeName},select:{"data-testid":"primary-key-select",filteringType:"auto",filteringAriaLabel:l.Ay.translate("Find ${0}",(0,l.Ay)`Primary key`),filteringClearAriaLabel:(0,l.Ay)`Clear field`,options:t.Attributes.filter(p=>!p.Field.isList()&&p.Field.isOfDynamoDBScalarType(n)).map(p=>({value:p.AttributeName,label:p.AttributeName,description:p.getBaseType()})).toArray()},formField:{label:(0,l.Ay)`Primary key`}}),i.createElement(Rr,{field:{name:`Indexes[${u}]`,normalize:(p,h)=>{const f=t.Attributes.find(y=>y.AttributeName===p.value)||null;return h.withSortKey(f)},format:p=>p&&p.SortKey&&p.SortKey.AttributeName?p.SortKey.AttributeName:"XAMZNONE"},select:{"data-testid":"sort-key-select",filteringType:"auto",filteringAriaLabel:l.Ay.translate("Find ${0}",(0,l.Ay)`Sort key`),filteringClearAriaLabel:(0,l.Ay)`Clear field`,options:(0,T.List)([{value:"XAMZNONE",label:"None"}]).concat(t.Attributes.filter(p=>!p.Field.isList()&&p.Field.isOfDynamoDBScalarType(n)).filter(p=>p.Field.name!==t.Indexes.getIn([u,"PrimaryKey","AttributeName"],"")).map(p=>({value:p.AttributeName,label:p.AttributeName,description:p.getBaseType()}))).toArray()},formField:{label:(0,l.Ay)`Sort key`}}),i.createElement(q.A,{padding:{top:"xl"}},i.createElement(K.A,{"data-testid":"remove-index",formAction:"none",variant:"icon",iconName:"close",onClick:()=>o(u)})))).toArray(),i.createElement(K.A,{formAction:"none",onClick:()=>a()},(0,l.Ay)`Add Index`)))}function K6({formData:t,options:n,existingSchema:a,onChangeSource:o,onChangeSelectedType:s,onChangeTypeDefinition:c}){return i.createElement(Le,{title:"Define or select a type"},i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`Define a new type or select an existing type`,description:(0,l.Ay)`The type will be used to create DynamoDB tables and auto-generate queries.`},i.createElement(Tr.A,{items:[{value:Vi.DEFINE_NEW,label:(0,l.Ay)`Define new type`},{value:Vi.USE_EXISTING,label:(0,l.Ay)`Use existing type`}],value:t.SelectedTypeSource,onChange:u=>o(u.detail.value)})),t.SelectedTypeSource===Vi.USE_EXISTING?i.createElement(X.A,{label:(0,l.Ay)`Select a type`,description:(0,l.Ay)`The type will be used to create DynamoDB tables and auto-generate queries.`,errorText:t.TypeError?t.TypeError.text:null},i.createElement("div",{style:{maxWidth:"800px"}},i.createElement(ze.A,{"data-testid":"select-a-type",filteringType:"auto",options:n,selectedOption:n.find(u=>{const p=t.Type?t.Type.typeConfig.name:"None";return u.value===p}),onChange:u=>s(u.detail.selectedOption.value)}))):i.createElement(Xs,{mode:{base:"graphqlschema",displayName:"GraphQL Schema",parse:u=>TS(u,a)},annotations:t.TypeError?[t.TypeError]:[],value:t.TypeText,onEdit:({value:u})=>c(u),Analytics:at})))}function W6({formData:t,enumScalars:n}){return i.createElement(Rr,{field:{name:"Attributes",normalize:(a,o)=>{const s=a.value;return o.map(c=>c.AttributeName===s?c.set("IsPrimaryKey",!0):c.set("IsPrimaryKey",!1))},format:a=>{const o=a.find(s=>s.IsPrimaryKey);return o?o.AttributeName:a.size?a.first().AttributeName:o}},select:{"data-testid":"primary-key-select",filteringType:"auto",filteringAriaLabel:l.Ay.translate("Find ${0}",(0,l.Ay)`Primary Key`),filteringClearAriaLabel:(0,l.Ay)`Clear field`,options:t.Attributes.filter(a=>!a.IsSortKey).filter(a=>a.Field.isOfDynamoDBScalarType(n)&&!a.Field.isList()).map(a=>({value:a.AttributeName,label:a.AttributeName,description:a.getBaseType()})).toArray()},formField:{label:(0,l.Ay)`Primary Key`,description:(0,l.Ay)`Select the primary key.`}})}function H6({formData:t,enumScalars:n}){return i.createElement(Rr,{field:{name:"Attributes",normalize:(a,o)=>{const s=a.value;return s==="XAMZNONE"?o.map(c=>c.set("IsSortKey",!1)):o.map(c=>c.AttributeName===s?c.set("IsSortKey",!0):c.set("IsSortKey",!1))},format:a=>{const o=a.find(s=>s.IsSortKey);return o?o.AttributeName:"XAMZNONE"}},select:{"data-testid":"sort-key-select",filteringType:"auto",filteringAriaLabel:l.Ay.translate("Find ${0}",(0,l.Ay)`Sort key`),filteringClearAriaLabel:(0,l.Ay)`Clear field`,options:(0,T.List)([{value:"XAMZNONE",label:"None"}]).concat(t.Attributes.filter(a=>!a.IsPrimaryKey).filter(a=>a.Field.isOfDynamoDBScalarType(n)&&!a.Field.isList()).map(a=>({value:a.AttributeName,label:a.AttributeName,description:a.getBaseType()}))).toArray()},formField:{label:(0,l.Ay)`Sort key`,description:(0,l.Ay)`Select the sort key.`}})}function J6(){const t=(0,i.useMemo)(()=>Me((0,l.Ay)`Table name`),[]);return i.createElement(Ia,{field:{name:"TableName",validate:[t,bl,El]},formField:{stretch:!0,label:(0,l.Ay)`Table name`,description:(0,l.Ay)`Create a table with this name and connect it as a data source.`,constraintText:I6()}})}var Y6=Object.defineProperty,Q6=Object.defineProperties,X6=Object.getOwnPropertyDescriptors,fC=Object.getOwnPropertySymbols,Z6=Object.prototype.hasOwnProperty,e5=Object.prototype.propertyIsEnumerable,yC=(t,n,a)=>n in t?Y6(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,t5=(t,n)=>{for(var a in n||(n={}))Z6.call(n,a)&&yC(t,a,n[a]);if(fC)for(var a of fC(n))e5.call(n,a)&&yC(t,a,n[a]);return t},n5=(t,n)=>Q6(t,X6(n));const gC=Ve.APPSYNC_JS,Yo=t=>({row:0,column:0,type:"error",text:t}),r5=t=>t&&t.kind==="ObjectTypeDefinition";class a5 extends i.Component{constructor(n){super(n),this.cachedLocalSchemaDocument=null,this.schemaHighlight=(0,pl.F)(new Xc.i),this.setEnableGenerateGraphQL=a=>{const{changeFieldValue:o}=this.props;o("EnableGenerateGraphQL",a),this.setState({enableGenerateGraphQL:a})},this.setNewTypeDefinition=a=>{const{formData:o,enumScalars:s,changeFieldValue:c}=this.props;let u;try{u=(0,Q.parse)(a),this.cachedLocalSchemaDocument&&(0,Q.buildASTSchema)(n5(t5({},this.cachedLocalSchemaDocument),{definitions:[...this.cachedLocalSchemaDocument.definitions,...u.definitions]}))}catch{c("TypeError",null);return}const p=u.definitions[0];if(u.definitions.length!==1||!r5(p)){c("TypeError",Yo((0,l.Ay)`You must provide exactly 1 object type definition.`));return}try{const y=o.getTableDescription();Js(p,y)}catch(y){c("TypeError",Yo(y.message));return}c("TypeError",null),c("TypeText",a);const h=Bd(p),f=Ic(h,s);h.typeConfig.name!==o.Type.typeConfig.name&&c("TableName",f.TableName),c("Type",h),c("Attributes",f.Attributes)},this.setType=a=>{const{getType:o,changeFieldValue:s,formData:c}=this.props,u=o(a);if(!u){s("TypeError",Yo((0,l.Ay)`Select an existing type or define a new type.`));return}try{const p=(0,Q.parse)(u.print()).definitions[0],h=c.getTableDescription();Js(p,h),s("TypeError",null),s("Type",u)}catch(p){s("TypeError",Yo(p.message)),s("Type",u)}},this.cancelForm=()=>{this.setState({redirectTo:"/schema"})},this.removeIndex=a=>{const{formData:o,changeFieldValue:s}=this.props;s("Indexes",o.Indexes.remove(a))},this.addIndex=()=>{const{formData:a,changeFieldValue:o,enumScalars:s}=this.props,c=a.Attributes.find(y=>y.IsPrimaryKey)||null,u=a.Attributes.find(y=>y.IsSortKey)||null,p=u?u.AttributeName:null,h=a.Attributes.filter(y=>y.Field.isOfDynamoDBScalarType(s)&&!y.Field.isList()).find(y=>!y.IsPrimaryKey&&y.AttributeName!==p)||null;let f="";c&&(f+=`${c.AttributeName}-`),h&&(f+=`${h.AttributeName}-`),f+="index",o("Indexes",a.Indexes.push(new Xa({Name:f,PrimaryKey:c,SortKey:h})))},this.setSelectedTypeSource=a=>{const{changeFieldValue:o,formData:s}=this.props;a===Vi.USE_EXISTING?(o("SelectedTypeSource",a),o("TypeError",null)):(o("SelectedTypeSource",a),this.setNewTypeDefinition(s.TypeText))},this.state={redirectTo:null,enableGenerateGraphQL:!0,selectedRuntime:gC}}componentDidMount(){Li(vt.PROVISION_TYPES,ct.CREATE_RESOURCE);const{changeFieldValue:n,formData:a}=this.props;this.getLocalSchemaDocument(),a&&(this.setNewTypeDefinition(a.TypeText),n(z.SELECTED_RUNTIME,gC))}componentDidUpdate(n){const{existingSchema:a,formData:o}=this.props;a.lastSavedText&&!n.existingSchema.lastSavedText&&(this.setNewTypeDefinition(o.TypeText),this.getLocalSchemaDocument()),o.Type!==n.formData.Type&&o.SelectedTypeSource===Vi.USE_EXISTING&&this.resetRecord(o.Type);const s=o.getPrimaryKey(),c=n.formData.getPrimaryKey();s&&!c?this.validateSpecialIDCase():s&&c&&(s.AttributeName!==c.AttributeName||s.AttributeType!==c.AttributeType)&&this.validateSpecialIDCase()}setSelectedRuntime(n){const{changeFieldValue:a}=this.props;a(z.SELECTED_RUNTIME,n),this.setState({selectedRuntime:n})}getLocalSchemaDocument(){const{existingSchema:n}=this.props;if(!this.cachedLocalSchemaDocument){if(!n.lastSavedText||n.lastSavedText.length===0)return null;const a=(0,Q.parse)(n.lastSavedText);this.cachedLocalSchemaDocument=Ns(a)}return this.cachedLocalSchemaDocument}validateSpecialIDCase(){var n;const{formData:a,changeFieldValue:o}=this.props;try{const s=(0,Q.parse)(a.TypeText).definitions[0],c=a.getTableDescription();Js(s,c),o("TypeError",null)}catch(s){((n=a.TypeError)==null?void 0:n.text)!==s.message&&o("TypeError",Yo(s.message))}}resetRecord(n){const{enumScalars:a,changeFieldValue:o}=this.props;if(n){const s=Ic(n,a);o("Attributes",s.Attributes),o("TableName",s.TableName),o("Type",s.Type),o("TypeText",s.TypeText);try{const c=(0,Q.parse)(s.TypeText).definitions[0],u=s.getTableDescription();Js(c,u),o("TypeError",null)}catch(c){o("TypeError",Yo(c.message))}}}render(){const{redirectTo:n,enableGenerateGraphQL:a,selectedRuntime:o}=this.state;if(n)return i.createElement(Ko,{to:n});const{handleSubmit:s,formData:c,existingSchema:u,formError:p,enumScalars:h,schemaIsBlank:f}=this.props;if(!c.Type||c.Type.recordStatus.status==="GETTING")return i.createElement(Et.A,{size:"large"});const y=!!c.Attributes.find(A=>A.IsPrimaryKey),g=(0,T.List)(TK(u.typeRecords).map(A=>({value:A.typeConfig.name,label:A.typeConfig.name}))).toArray();return i.createElement("form",{onSubmit:s},i.createElement(Rn.A,{actions:i.createElement(di,{disabled:!y,onCancel:this.cancelForm,submitText:(0,l.Ay)`Create`}),errorText:p},i.createElement($.A,{size:"l"},i.createElement(K6,{formData:c,options:g,onChangeSource:this.setSelectedTypeSource,onChangeSelectedType:this.setType,onChangeTypeDefinition:this.setNewTypeDefinition,existingSchema:this.cachedLocalSchemaDocument}),i.createElement(Le,{title:`Create a table to hold ${c.Type.typeConfig.name} objects`,"data-testid":"table-name-form",footer:!!a&&i.createElement(ph,{updateRuntime:A=>this.setSelectedRuntime(A),selectedRuntime:o})},i.createElement($.A,{size:"l"},i.createElement(J6,null),i.createElement(W6,{formData:c,enumScalars:h}),i.createElement(H6,{formData:c,enumScalars:h}),i.createElement(q6,{formData:c,enumScalars:h,addIndex:this.addIndex,removeIndex:this.removeIndex}),i.createElement(X.A,{label:(0,l.Ay)`Automatically generate GraphQL`,description:l.Ay.translate("Turning this on will extend your existing schema and automatically configure resolvers."),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"automaticallyGenerateGraphql"},i.createElement(dr.A,{checked:a,onChange:A=>this.setEnableGenerateGraphQL(A.detail.checked),disabled:f},(0,l.Ay)`Enable GraphQL auto generate`)))),a&&i.createElement(Le,{title:"The following will be merged into your schema.",disableContentPaddings:!0},i.createElement(Ir.x,{content:c.printSchemaTransform(h,u),lineNumbers:!0,highlight:this.schemaHighlight})))))}}const i5=(0,qe.zW)({form:Ke.ProvisionTypesForm,initialValues:new gm})(a5),o5=t=>({changeFieldValue:(n,a)=>{t((0,AI.Zg)(Ke.ProvisionTypesForm,n,a))}}),s5=(t,n)=>{const a=new gm().Type,o=Ic(a,n.enumScalars),s=(0,qe.ru)(Ke.ProvisionTypesForm)(t)||o;return{initialValues:o,formData:s,getType:c=>n.existingSchema.typeRecords.find(u=>u.typeConfig.name===c&&u.typeConfig.kind==="OBJECT")}},l5=(0,te.connect)(s5,o5)(i5);function c5(){Vt(vt.SCHEMA,ct.CREATE_RESOURCE);const[t,n]=(0,i.useState)(null),a=gc(),o=dn(),s=mb(o),c=(0,G.Zp)(),u=de();(0,i.useLayoutEffect)(()=>{u(Ct({get:fU}))},[]),(0,i.useEffect)(()=>{s&&s.status===H.CREATING&&c("..")},[s]);const p=f=>{var y;try{f.validate();const g=a.lastSavedText,E=g?.length>0?(0,Q.parse)(g).definitions:[{}],b=(0,Q.parse)(f.Type.print()).definitions[0],C=f.getTableDescription();Js(b,C);const I=new Jl({typeDefinition:b,tableDescription:C,serviceRoleArn:"",apiId:o,existingDefinitions:E,enableAutoID:!0}),R=Kp({adapter:I,typeDefinition:b,localSchema:a,dynamoTable:f,createTable:!0,runtime:(y=f.selectedRuntime)!=null?y:Ve.APPSYNC_JS});u(Dp(R))}catch(g){n(g.message)}},h=a.typeRecords.filter(f=>!!(f&&f.typeConfig.kind==="ENUM")).map(f=>f.typeConfig.name).toMap().mapEntries(f=>f?[f[1],!0]:[]).toMap();return i.createElement(wn.A,{header:i.createElement($t,{title:"Create Resources",description:"Create a table from a GraphQL type and instantly connect it with queries."})},i.createElement(l5,{enumScalars:h,onCancel:()=>c("../schema"),onSubmit:p,formError:t,schemaIsBlank:!a.lastSavedText||a.lastSavedText.length===0,existingSchema:a}))}var eo=v(27377);function yr(){return i.createElement("div",{className:"loading-page"},i.createElement("div",{className:"loading-column"},i.createElement("div",{className:"loading-spinner"},i.createElement(Et.A,{size:"large"}))))}function Ybe(){return React.createElement("div",{className:"loading-panel"},React.createElement("div",{className:"loading-column"},React.createElement("div",{className:"loading-spinner"},React.createElement(Spinner,{size:"large"}))))}const Ot={title:"Schema",saveButton:"Save Schema",undoButton:"Undo Edits",createButton:"Create Resources",mergedSubtitle:"Your Merged API\u2019s schema is created from the schemas of your included Source APIs, and is read only. Changes to the schema must be initiated in your source APIs.",graphqlSubtitle:"Design your schema using GraphQL SDL, attach resolvers, and quickly deploy AWS resources.",saveStatus:{unsaved:"Schema has unsaved changes",upToDate:"Schema is up to date"},resolvers:{title:"Resolvers",searchPlaceholder:"Filter types...",description:["A resolver connects a field to a data source.","When a request is made to the field, the configured resolver returns or updates the appropriate data."]},workFlow:{invalidSchema:"Correct schema errors and click Save again.",updatingSchema:"Updating schema...",saveComplete:"Save complete",hasNoEdits:"There are no schema edits to save."}},u5=({field:t,type:n,resolver:a})=>{let o=!0,s,c,u;return a?(s=`${n.typeConfig.name}/${t.name}/resolver`,c=a.kind==="UNIT"?`${a.dataSourceName}`:(0,l.Ay)`Pipeline`,u=l.Ay.translate("Edit resolver for ${0}.${1}",n.typeConfig.name,t.name),{resolverText:c,resolverLink:s,existingResolver:o,ariaLabel:u}):(o=!1,s=`${n.typeConfig.name}/${t.name}/attach`,c=(0,l.Ay)`Attach`,u=l.Ay.translate("Attach resolver for ${0}.${1}",n.typeConfig.name,t.name),{resolverText:c,resolverLink:s,existingResolver:o,ariaLabel:u})};var mi=v(25796),bh=v(4213);function d5({dataAnalyticsType:t,dataAnalytics:n,ddConfig:a,format:o,iconName:s,variant:c}){const u=()=>{const p=a.getConfigFile(o);(0,bh.saveAs)(p)};return i.createElement(K.A,{variant:c||"primary","data-analytics-type":t,"data-analytics":n,onClick:u,iconName:s},(0,l.Ay)`Download Config`)}var p5=v(27666),m5=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const h5=xe.getAppSyncClient(),AC="schema.json",EC=[{text:AC,id:Io.JSON,disabled:!1},{text:"schema.graphql",id:Io.SDL,disabled:!1}];class f5 extends i.Component{constructor(n){super(n),this.handleOnClick=a=>m5(this,null,function*(){Sn({eventType:"click",eventContext:"exportSchema",eventDetail:"fileType",eventValue:a.detail.id});const o={apiId:this.props.apiId,format:a.detail.id};this.setState({isloading:!0});const s=EC.find(c=>c.id===a.detail.id).text;try{let u=(yield h5.send(new p5.Q(o))).schema.transformToString();a.detail.id===Io.JSON&&(u=JSON.stringify(JSON.parse(u),null,4));const p=new File([u],s,{type:"text/plain;charset=utf-8"});(0,bh.saveAs)(p),this.setState({isloading:!1})}catch(c){this.setState({isloading:!1,isErrored:!0,message:c.message})}}),this.state={isloading:!1,isErrored:!1,message:""}}render(){const{disabled:n}=this.props,a=i.createElement(mi.A,{disabled:n,items:EC,onItemClick:this.handleOnClick,loading:this.props.schema===void 0||this.state.isloading},(0,l.Ay)`Export schema`);return this.state.isErrored?i.createElement("div",null,i.createElement(xn.A,{visible:this.state.isErrored,header:(0,l.Ay)`Error`,onDismiss:()=>{this.setState({isErrored:!1})},footer:i.createElement(q.A,{float:"right"},i.createElement(K.A,{onClick:()=>{this.setState({isErrored:!1})}},(0,l.Ay)`Close`))},i.createElement(wt.A,{type:"error",header:(0,l.Ay)`Failed downloading file '${AC}'`,statusIconAriaLabel:(0,l.Ay)`error`},this.state.message)),a):a}}const y5=t=>({schema:t.localSchema.lastSavedText,apiId:t.environment.selectedApiId}),g5=(0,te.connect)(y5,{})(f5);function A5({onChange:t,readOnly:n,disabled:a,setSelectedAssociationId:o}){const s=(0,pl.F)(new Xc.i),c=de(),u=St(),[p,h]=_o(),f=gc(),[y,g]=(0,i.useState)(f.text),[A,E]=(0,i.useState)(),b=!p&&h?[{text:(0,l.Ay)`Merged API`,items:[{text:`${u.name} (${h.length})`,id:u.apiId}]},{text:(0,l.Ay)`Source APIs`,items:h.map(L=>({text:L.sourceGraphqlApi?L.sourceGraphqlApi.name:L.sourceApiAssociation.sourceApiArn,id:L.sourceApiAssociation.associationId}))}]:[],C=u.graphqlConfig.isMergedApi();(0,i.useEffect)(()=>{!A&&b&&b.length>0&&(E(b[0].items[0]),o(b[0].items[0].id))},[b]),(0,i.useEffect)(()=>{const L=R();L!==y&&g(L)},[f,A]);const I=L=>{L.detail.id!==u.apiId&&(Sn({eventType:"click",eventContext:"filterSchema",eventDetail:"filterBySourceApi"}),c($B(L.detail.id))),b.find(P=>P.items.find(F=>F.id===L.detail.id?(E(F),o(F.id),!0):!1))},R=()=>{if(C&&f.errors&&f.errors.size>0){const L=f.errors.map(P=>P.message).toArray().join(`
`);return`{
	"${(0,l.Ay)`Error`}": "${L}"
}`}return A&&A.id&&A.id!==u.apiId?f.associationIdsInitialized.has(A.id)?f.getSchemaByAssociation(A.id):(0,l.Ay)`Loading`:f.isInitialized?f.text:(0,l.Ay)`Loading`};return i.createElement(it.A,{disableContentPaddings:!0,fitHeight:n,header:i.createElement(be.A,{actions:i.createElement($.A,{direction:"horizontal",size:"xs"},C&&i.createElement(mi.A,{disabled:p,loading:p,onItemClick:I,items:b,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"filterBySourceApi"},A&&A.text),i.createElement(g5,{disabled:a}))},i.createElement("span",null,l.Ay.translate(Ot.title),C&&i.createElement("i",null," - ",(0,l.Ay)`read only`," ")))},n?i.createElement("div",{className:"schema-content-code-view"},i.createElement(Ir.x,{content:y,lineNumbers:!0,highlight:s})):i.createElement(Xs,{value:y,onEdit:({value:L})=>t(L),mode:IS(),Analytics:at}))}var su=v(7015);const E5=t=>{if(!t)return{};const n=60,a=49,o=60;let s=0;const c={};return t.forEach(u=>{let p=n,h=0;if(u.typeConfig.kind===Be.INPUT_OBJECT&&(p=n+a,h=u.typeConfig.inputFields.size),u.typeConfig.kind===Be.OBJECT&&(p=n+a,h=u.typeConfig.fields.size),u.typeConfig.kind===Be.SCHEMA){p=n+a;let y=0;u.typeConfig.queryType&&(y+=1),u.typeConfig.mutationType&&(y+=1),u.typeConfig.subscriptionType&&(y+=1),h=y}u.typeConfig.kind===Be.ENUM&&(p=n+a,h=u.typeConfig.enumValues.size),u.typeConfig.kind===Be.INTERFACE&&(p=n+a,h=u.typeConfig.fields.toArray().length),u.typeConfig.kind===Be.UNION&&(p=n+a,h=u.typeConfig.possibleTypes.toArray().length),u.typeConfig.kind===Be.SCALAR&&(h=0,p=n);const f=p+h*o;c[u.typeConfig.name]={start:s,end:s+f},s=s+f+1}),c},b5=t=>{const a=t.scrollPosition-1e3,o=t.scrollPosition+t.containerHeight+1e3,s=t.start,c=t.end,u=s>a&&s<o,p=c>a&&c<o,h=s<a&&c>o;return u||p||h?{render:!0,height:t.end-t.start}:{render:!1,height:t.end-t.start}};function v5(t){return t.render?i.createElement("div",null,t.children):i.createElement("div",{style:{height:t.height,borderBottom:`1px solid ${su.S44}`}})}class S5 extends i.Component{constructor(n){super(n),this.state={scrollTop:0},this.setRef=o=>{this.ref=o};const a=10;this.throttledSetPosition=(0,he.debounce)(o=>this.setPosition.bind(this)(o.target),a)}componentDidMount(){this.ref.addEventListener("scroll",this.throttledSetPosition)}componentWillUnmount(){this.ref.removeEventListener("scroll",this.throttledSetPosition)}setPosition(n){const a=n.scrollTop;this.setState({scrollTop:a})}render(){try{const n=document.querySelector("#resolver-scroll"),a=n?n.getBoundingClientRect().height:1e3,o=this.props.items.map(s=>{if(!this.props.scrollPositionMap[s.key])return{item:s,key:s.key,isVisible:!0,height:60};const{render:u,height:p}=b5({scrollPosition:this.state.scrollTop,containerHeight:a,start:this.props.scrollPositionMap[s.key].start,end:this.props.scrollPositionMap[s.key].end});return{item:s,key:s.key,render:u,height:p}});return i.createElement("div",{className:"util-scrolling-container",id:"resolver-scroll",ref:this.setRef},o.map(s=>i.createElement(v5,{key:s.key,render:s.render,height:s.height},s.item)))}catch{return i.createElement("div",{className:"util-scrolling-container",id:"resolver-scroll",ref:this.setRef},this.props.items)}}}function T5(t){const n=Ks(t.field);return i.createElement("p",{key:`field-name-${t.field.name}`,className:"field-name-cell"},n)}function I5(t){if(t.hide)return null;if(t.isDisabled)return i.createElement(Et.A,null);const n=St(),{resolver:a,field:o,type:s}=t,{existingResolver:c,resolverLink:u,resolverText:p,ariaLabel:h}=u5({field:o,type:s,resolver:a}),f=c?"virtualized-list-row-padding":"virtualized-list-row-button-padding",y=c?i.createElement(K.A,{ariaLabel:h,variant:"inline-link",onClick:()=>t.gotoResolverForm(u)},p):i.createElement(K.A,{ariaLabel:h,onClick:()=>t.gotoResolverForm(u)},p);return i.createElement("div",{key:`${t.resolver?t.resolver.resolverArn:"null-resolver"}`,className:f},n.graphqlConfig.isMergedApi()&&!c?i.createElement("span",null,Lr):y)}function Xbe(t){return React.createElement("div",{key:`value-${t.value}`,className:"virtualized-list-row-padding"},React.createElement("span",{key:t.value},t.value))}const C5=(t,n,a,o)=>[{id:"field-header",header:(0,l.Ay)`Field`,cell:s=>i.createElement(T5,{field:s})},{id:"resolver-header",header:(0,l.Ay)`Resolver`,cell:s=>i.createElement(I5,{type:n,field:s,resolver:t.get(ce(n.typeConfig.name,s.name)),isDisabled:a,gotoResolverForm:o})}];function R5({typeRecord:t}){const n=(0,G.Zp)(),[a,o]=ZB(t),s=(0,i.useMemo)(()=>bK(o,f=>ce(f.typeName,f.fieldName)),[o]),c=dn(),u=ne(f=>f.workflows.getIn([c,"status"])===H.CREATING),p=f=>f.length?`implements ${f.map(y=>y.name).join(", ")}`:"",h=t.typeConfig.fields.toArray();return i.createElement("div",{className:"type-table-container"},i.createElement(Ht.A,{header:i.createElement(be.A,{headingTagOverride:"h3",description:p(t.typeConfig.interfaces.toArray()),counter:`(${h.length})`},t.typeConfig.name),empty:(0,l.Ay)`Type ${t.typeConfig.name} has no fields.`,columnDefinitions:C5(s,t,u,f=>n(f)),items:h,loading:a}))}const w5=({filteredTypes:t})=>{const n=(0,i.useMemo)(()=>t.map(a=>i.createElement(R5,{key:a.typeConfig.name,typeRecord:a})),[t]);try{const a=(0,T.List)(t),o=E5(a);return i.createElement(S5,{scrollPositionMap:o,items:n})}catch{return i.createElement("div",{className:"util-scrolling-container",id:"resolver-scroll"},n)}};function P5(t){const[n,a]=(0,i.useState)(""),o=n!==""?t.typeRecords.reduce((c,u)=>{const p=Tm(n.toLowerCase(),u.typeConfig.name.toLowerCase()),h=u.typeConfig.fields.filter(f=>Tm(n.toLowerCase(),f.name.toLowerCase()));return(p||h.size>0)&&c.push(h.size>0?u.set("typeConfig",u.typeConfig.set("fields",h)):u),c},[]):t.typeRecords.toArray(),s=Ot.resolvers.description.map(c=>l.Ay.translate(c)).join(" ");return i.createElement(it.A,{fitHeight:!0,disableContentPaddings:!0,header:i.createElement(be.A,{description:i.createElement($.A,{size:"s"},i.createElement(q.A,{variant:"p"},s),i.createElement(X.A,null,i.createElement(ur.A,{filteringPlaceholder:l.Ay.translate(Ot.resolvers.searchPlaceholder),filteringAriaLabel:l.Ay.translate(Ot.resolvers.searchPlaceholder),onChange:({detail:c})=>a(c.filteringText),filteringText:n,"data-testid":"resolver-search-input",filteringClearAriaLabel:(0,l.Ay)`Clear filter`,countText:ei(o.length)})))},l.Ay.translate(Ot.resolvers.title))},i.createElement(w5,{filteredTypes:o}))}const O5=`# Welcome to ${Wt("AWS AppSync")}!
#
# Use this editor to define the structure of your API with the GraphQL
# schema definition language (SDL).
#
# Getting started is easy!
#
# 1. Uncomment (cmd/ctrl + /) the schema below and click save.
# 2. Click provision resources to deploy a DynamoDB table and connect it with queries.
# 3. Go to the queries tab and query DynamoDB with GraphQL.
#
# schema {
#     query: Query
#     mutation: Mutation
# }
# type Query {
#     # Get a single value of type 'Post' by primary key.
#     singlePost(id: ID!): Post
# }
# type Mutation {
#     # Put a single value of type 'Post'.
#     # If an item exists it's updated. If it does not it's created.
#     putPost(id: ID!, title: String!): Post
# }
# type Post {
#     id: ID!
#     title: String!
# }
#
`;var D5=Object.defineProperty,bC=Object.getOwnPropertySymbols,N5=Object.prototype.hasOwnProperty,_5=Object.prototype.propertyIsEnumerable,vC=(t,n,a)=>n in t?D5(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,SC=(t,n)=>{for(var a in n||(n={}))N5.call(n,a)&&vC(t,a,n[a]);if(bC)for(var a of bC(n))_5.call(n,a)&&vC(t,a,n[a]);return t};const x5=500,TC=t=>t.typeConfig.kind===Be.OBJECT;class L5 extends i.Component{constructor(n){super(n),this.cachedSchema=this.props.localSchema.text,this.updateLocalSchema=(0,he.debounce)(this.props.updateLocalSchema,x5),this.gotoProvision=()=>{this.setState({redirectTo:"createResources"})},this.setNotificationMessage=a=>{this.setState(o=>({notificationMessage:a,announcementId:o.announcementId+1}))},this.onSave=()=>{const a=hS(this.cachedSchema,this.props.localSchema.lastSavedText),o=new Jp(a);if(!o.hasEdits){this.props.updateWorkFlowStatus({apiId:this.props.environment.selectedApiId,info:l.Ay.translate(Ot.workFlow.hasNoEdits),status:H.INFO}),this.setNotificationMessage(l.Ay.translate(Ot.workFlow.hasNoEdits));return}if(!o.isValid){this.props.updateWorkFlowStatus({apiId:this.props.environment.selectedApiId,info:l.Ay.translate(Ot.workFlow.invalidSchema),status:H.ERRORED}),this.setNotificationMessage(l.Ay.translate(Ot.workFlow.invalidSchema));return}const s=this.props.environment.selectedApiId;this.props.updateWorkFlowStatus({apiId:s,info:l.Ay.translate(Ot.workFlow.updatingSchema),status:H.CREATING}),this.setNotificationMessage(l.Ay.translate(Ot.workFlow.updatingSchema)),this.props.saveSchemaWF({input:{apiId:s,definition:new TextEncoder().encode(o.text)},onError:c=>{const u=[this.props.updateWorkFlowStatus({apiId:s,info:c.message,status:H.ERRORED})];return this.setNotificationMessage(c.message),u},onSuccess:()=>{const c=[this.props.updateWorkFlowStatus({apiId:s,info:l.Ay.translate(Ot.workFlow.saveComplete),status:H.CREATE_SUCCESS}),Gp({duration:2e3,actions:[this.props.updateWorkFlowStatus({apiId:s,info:"",status:H.NONE})]})];return this.setNotificationMessage(l.Ay.translate(Ot.workFlow.saveComplete)),c}})},this.state={selectedAssociationId:this.props.graphqlApi.apiId,redirectTo:void 0,notificationMessage:"",announcementId:0}}componentDidMount(){const n=this.props.graphqlApi.graphqlConfig.isMergedApi();Li(vt.SCHEMA,n?ct.VIEW_RESOURCE:ct.EDIT_RESOURCE);const a=n?bG:uU;this.props.setHelpSlug({get:a}),this.putDefaultSchema()}putDefaultSchema(){(this.props.localSchema.text===""||!this.props.localSchema.text)&&this.props.localSchema.typeRecords.size===0&&this.props.mergeLocalSchemaRecord({text:O5})}render(){if(this.props.isLoading)return i.createElement(yr,null);if(this.state.redirectTo)return i.createElement(G.C5,{to:this.state.redirectTo});const n={onChange:c=>{this.cachedSchema=c,this.updateLocalSchema(c)},readOnly:this.props.graphqlApi.graphqlConfig.isMergedApi(),disabled:this.props.isDisabled,setSelectedAssociationId:c=>this.setState({selectedAssociationId:c})},a=this.props.isDisabled||this.props.localSchema.hasEdits,o={typeRecords:this.state.selectedAssociationId===this.props.graphqlApi.apiId?this.props.localSchema.typeRecords.filter(TC).toList():this.props.localSchema.getTypesByAssociation(this.state.selectedAssociationId).filter(TC).toList()},s=this.props.graphqlApi.graphqlConfig.isMergedApi()?Ot.mergedSubtitle:Ot.graphqlSubtitle;return i.createElement(wn.A,{header:i.createElement($t,{showHelpLink:!0,title:l.Ay.translate(Ot.title),description:l.Ay.translate(s),actions:!this.props.graphqlApi.graphqlConfig.isMergedApi()&&i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(K.A,{ariaLabel:l.Ay.translate(Ot.createButton),key:"1",onClick:this.gotoProvision,disabled:a,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(Ot.createButton)},l.Ay.translate(Ot.createButton)),i.createElement(K.A,{ariaLabel:l.Ay.translate(Ot.undoButton),variant:"link",onClick:this.props.cancelLocalSchemaEdits,disabled:!this.props.localSchema.hasEdits,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(Ot.undoButton)},l.Ay.translate(Ot.undoButton)),i.createElement(K.A,{ariaLabel:l.Ay.translate(Ot.saveButton),variant:"primary","data-testid":"save-schema-btn",onClick:this.onSave,disabled:!this.props.localSchema.hasEdits,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(Ot.saveButton)},l.Ay.translate(Ot.saveButton)))})},i.createElement(rl,{message:this.state.notificationMessage,key:this.state.announcementId}),i.createElement(fr,{entityType:N.SCHEMA}),i.createElement(eo.A,{columns:2},i.createElement(A5,SC({},n)),i.createElement(P5,SC({},o))))}}const k5=t=>{const n=t.pagination.typesByGraphqlApiVersion.get(t.environment.getApiVersionId()),a=n&&n.isLoading&&!n.lastUpdated,o=t.entities.get(t.environment.selectedApiId);return{errors:t.errors.localSchema,localSchema:t.localSchema,warnings:t.warnings.localSchema,environment:t.environment,isLoading:a,isDisabled:t.workflows.getIn([t.environment.selectedApiId,"status"])===H.CREATING,graphqlApi:o}},M5=(0,te.connect)(k5,{updateLocalSchema:HU,saveSchemaWF:XE,cancelLocalSchemaEdits:JU,updateWorkFlowStatus:Ja,mergeLocalSchemaRecord:Gr,delayDispatch:Gp,setHelpSlug:Ct})(L5);var vh=v(86484);function IC({request:t,response:n,requestErrored:a,responseErrored:o,showAlert:s,isJS:c,onClose:u}){const p=c?"function":"mapping template";return s?i.createElement(wt.A,{onDismiss:u,dismissible:!0,dismissAriaLabel:(0,l.Ay)`close`,statusIconAriaLabel:(0,l.Ay)`info`},i.createElement($.A,{size:"l"},i.createElement(Pm,{label:a?(0,l.Ay)`Request error`:(0,l.Ay)`Evaluated request ${p}`,key:"evaluation-request"},i.createElement(Ir.x,{lineNumbers:!0,content:t,highlight:vh.A})),i.createElement(Pm,{label:o?(0,l.Ay)`Response error`:(0,l.Ay)`Evaluated response ${p}`,key:"evaluation-response"},i.createElement(Ir.x,{lineNumbers:!0,content:n,highlight:vh.A})))):null}var ot=(t=>(t.dataSourceName="dataSourceName",t.enabledRequest="enabledRequestMappingTemplate",t.enabledResponse="enabledResponseMappingTemplate",t.requestTemplate="requestMappingTemplate",t.responseTemplate="responseMappingTemplate",t.code="code",t.runtime="runtime",t.batchSize="maxBatchSize",t.syncConfig="syncConfig",t.syncConfigDetection="syncConfig.conflictDetection",t.cachingConfig="cachingConfig",t.pipelineConfig="pipelineConfig",t.metricsConfig="metricsConfig",t))(ot||{});const eve=null,lu={title:"Edit Resolver",description:{UNIT:"A unit resolver performs an operation on a single data source.",PIPELINE:"A pipeline resolver is composed of a list of functions."},runtimeChange:{code:{[pt.UNIT_RESOLVER]:tn.function,[pt.PIPELINE_RESOLVER]:tn.resolver},mappingTemplates:{requestMappingTemplate:mm,responseMappingTemplate:hm}}};var F5=Object.defineProperty,CC=Object.getOwnPropertySymbols,U5=Object.prototype.hasOwnProperty,$5=Object.prototype.propertyIsEnumerable,RC=(t,n,a)=>n in t?F5(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,wC=(t,n)=>{for(var a in n||(n={}))U5.call(n,a)&&RC(t,a,n[a]);if(CC)for(var a of CC(n))$5.call(n,a)&&RC(t,a,n[a]);return t};const Ln=class Bl{constructor(n){n&&(this._mocker=n.mocker,this._typeName=n.typeName,this._fieldName=n.fieldName)}getTemplate(n,a=!1){var o,s,c;const u=Bl.DEFAULT_CONTEXTS[n];let p={};const h={};switch(!0){case!u:p={};break;case!this._mocker:case!this._typeName:case!this._fieldName:case!a:p=u;break;default:{const f=this._mocker.getTypeMocker(this._typeName),y=f?.getFieldMocker(this._fieldName);if(!y){p=u;break}h.arguments=(o=y.getMockArguments(Bl.MOCK_DEPTH))!=null?o:void 0,h.result=(s=y.getMockResult(Bl.MOCK_DEPTH))!=null?s:void 0,h.source=(c=y.getMockSource(Bl.MOCK_DEPTH))!=null?c:void 0,p=wC(wC({},u),h);break}}return JSON.stringify(p,null,2)}};Ln.MOCK_DEPTH=1,Ln.UNSELECTED="UNSELECTED",Ln.CONTEXT_API_KEY="CONTEXT_API_KEY",Ln.CONTEXT_USER_POOLS="CONTEXT_USER_POOLS",Ln.CONTEXT_IAM="CONTEXT_IAM",Ln.SELECT_OPTIONS=()=>[{label:(0,l.Ay)`Context w/ ApiKey auth`,value:Ln.CONTEXT_API_KEY},{label:(0,l.Ay)`Context with Cognito User Pools auth`,value:Ln.CONTEXT_USER_POOLS},{label:(0,l.Ay)`Context with IAM auth`,value:Ln.CONTEXT_IAM}],Ln.DEFAULT_CONTEXTS={[Ln.UNSELECTED]:{},[Ln.CONTEXT_API_KEY]:{arguments:{},env:{},source:{},result:{}},[Ln.CONTEXT_IAM]:{arguments:{},env:{},source:{},result:{},identity:{accountId:"id-accountId",cognitoIdentityPoolId:"id-cognitoIdentityPoolId",cognitoIdentityId:"id-cognitoIdentityId",sourceIp:["x.x.x.x"],username:"my-username",userArn:"my:user:arn"}},[Ln.CONTEXT_USER_POOLS]:{arguments:{},env:{},source:{},result:{},identity:{sub:"uuid",issuer:"https://cognito-idp.{region}.amazonaws.com/{userPoolId}",username:"my-username",claims:{},sourceIp:["x.x.x.x"],defaultAuthStrategy:"ALLOW"}}};let Qo=Ln;var j5=Object.defineProperty,V5=Object.defineProperties,B5=Object.getOwnPropertyDescriptors,PC=Object.getOwnPropertySymbols,G5=Object.prototype.hasOwnProperty,z5=Object.prototype.propertyIsEnumerable,OC=(t,n,a)=>n in t?j5(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,DC=(t,n)=>{for(var a in n||(n={}))G5.call(n,a)&&OC(t,a,n[a]);if(PC)for(var a of PC(n))z5.call(n,a)&&OC(t,a,n[a]);return t},q5=(t,n)=>V5(t,B5(n));const K5=t=>({name:"SampleContextName",content:DC({arguments:{},env:{},source:{},result:{},request:{}},t===le.APPSYNC_JS?{prev:{}}:{})}),Sh=t=>t instanceof Cn?Hs.FunctionTestContexts(t):t instanceof Sr?Hs.ResolverTestContexts(t):"",W5=t=>{try{const n=JSON.parse(t);return Array.isArray(n)?n:[]}catch(n){return at.logOperationalError(Ge.JSON_PARSE_ERROR,n),[]}},H5=(t,n)=>{const a=`${n.apiId}-${Sh(n)}`,o=t.userPreferences.get(a,"[]");return W5(o)},J5=(t,n)=>{const a=q5(DC({},n),{id:crypto.randomUUID()});return[a,t.concat(a)]},Y5=(t,n)=>t.map(a=>a.id===n.id?n:a),Q5=(t,n)=>n.id?[n,Y5(t,n)]:J5(t,n);var X5=Object.defineProperty,Z5=Object.defineProperties,e7=Object.getOwnPropertyDescriptors,NC=Object.getOwnPropertySymbols,t7=Object.prototype.hasOwnProperty,n7=Object.prototype.propertyIsEnumerable,_C=(t,n,a)=>n in t?X5(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,r7=(t,n)=>{for(var a in n||(n={}))t7.call(n,a)&&_C(t,a,n[a]);if(NC)for(var a of NC(n))n7.call(n,a)&&_C(t,a,n[a]);return t},a7=(t,n)=>Z5(t,e7(n));const xC=t=>_e(t,[Me((0,l.Ay)`Test context name`)]),LC=t=>{try{return JSON.parse(t),_e(t,[Me((0,l.Ay)`Execution context`)])}catch(n){return n.message}};function i7({context:t,samples:n,allowAutomock:a,visible:o,onClose:s,onDelete:c,onSave:u}){const p=(0,i.useMemo)(()=>!!t.id,[t]),h=(0,i.useMemo)(Qo.SELECT_OPTIONS,[Qo]),[f,y]=(0,i.useState)(),{ace:g,loadingAce:A}=PS(at),[E,b]=(0,i.useState)(""),[C,I]=(0,i.useState)(""),[R,L]=(0,i.useState)(""),[P,F]=(0,i.useState)(""),[x,O]=(0,i.useState)(""),[j,M]=(0,i.useState)(!0);(0,i.useEffect)(()=>{const Z=JSON.stringify(t.content,null,2);b(Z),I(Z),L(t.name)},[t]);const B=()=>{const Z=xC(R),ie=LC(E);O(Z),F(ie),!(Z||ie)&&u(a7(r7({},t),{name:R,content:JSON.parse(E)}))},V=Z=>{O(xC(Z.trim())),L(Z.trim())},W=Z=>{F(LC(Z)),b(Z)},Y=Z=>{const ie=n.getTemplate(Z.selectedOption.value,j);I(ie)};return i.createElement(xn.A,{closeAriaLabel:"Close",size:"large",onDismiss:s,visible:o,header:(0,l.Ay)`Configure test context`,"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"configureTestContext","data-cy":"configureTestContext",footer:i.createElement(q.A,{variant:"span",float:"right"},i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(K.A,{ariaLabel:(0,l.Ay)`Cancel`,variant:"link",onClick:s,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"cancel","data-testid":"cancel-context-button"},(0,l.Ay)`Cancel`),p&&i.createElement(K.A,{"data-testid":"delete-context-button",ariaLabel:(0,l.Ay)`Delete`,key:1,variant:"normal",onClick:()=>c(t.id),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"delete"},(0,l.Ay)`Delete`),i.createElement(K.A,{"data-testid":"save-context-button",ariaLabel:(0,l.Ay)`Save`,variant:"primary",onClick:B,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"save","data-cy":"save"},(0,l.Ay)`Save`)))},i.createElement($.A,{size:"l"},i.createElement(q.A,{variant:"h5"},(0,l.Ay)`Configure a context to test against.`),i.createElement(X.A,{label:(0,l.Ay)`Select a sample test context`,stretch:!0,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"selectASampleTestContext","data-testid":"sample-context-select-field"},i.createElement(ze.A,{"data-testid":"sample-context-select",placeholder:(0,l.Ay)`Select a sample test context`,options:h,selectedOption:null,onChange:Z=>Y(Z.detail),"data-analytics-type":U.EVENT_VALUE}),a&&i.createElement(Ea.A,{checked:j,onChange:Z=>M(Z.detail.checked)},(0,l.Ay)`Auto mock source, arguments, and result.`)),i.createElement(X.A,{label:(0,l.Ay)`Test context name`,stretch:!0,errorText:x,"data-testid":"sample-context-name-field"},i.createElement(He.A,{placeholder:(0,l.Ay)`My test context`,value:R,onChange:Z=>V(Z.detail.value)})),i.createElement(X.A,{label:(0,l.Ay)`Execution context`,stretch:!0,errorText:P,"data-testid":"sample-context-content-field"},i.createElement(wS.A,{ace:g,loading:A,language:"json",value:C,preferences:f,onPreferencesChange:({detail:Z})=>y(Z),onDelayedChange:({detail:Z})=>W(Z.value)}))))}var o7=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const s7=t=>o7(void 0,[t],function*({context:n,record:a}){var o,s;const c=((o=a.runtime)==null?void 0:o.name)===le.APPSYNC_JS,u=JSON.stringify(n.content),p=c?{runtimeFields:{code:a.code,runtime:a.runtime,function:$p.REQUEST},context:u}:{mappingTemplate:a.requestMappingTemplate,context:u},h=yield QE(p),f=c?{runtimeFields:{code:a.code,runtime:a.runtime,function:$p.RESPONSE},context:u}:{mappingTemplate:a.responseMappingTemplate,context:u},y=yield QE(f);let g=[];return c&&(g=(s=y?.codeErrors)!=null?s:[]),{evaluatedRequest:h.message,evaluatedResponse:y.message,requestErrored:h.error,responseErrored:y.error,annotations:g}}),l7="create-new-context-button-id",c7=t=>{const n=t.map(a=>({text:a.name,id:a.id}));return[{text:n.length?(0,l.Ay)`Saved contexts`:(0,l.Ay)`No saved contexts`,items:n},{text:(0,l.Ay)`Create new context`,id:l7}]};var u7=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});function d7({record:t,testContexts:n,selected:a,onContextSelected:o,openModal:s,onTestExecuted:c}){const[u,p]=(0,i.useState)(!1),h=y=>{const g=n.find(A=>A.id===y);o(g??null)},f=()=>u7(this,null,function*(){if(!a)return;p(!0);const y=yield s7({context:a,record:t});c(y),p(!1)});return i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(mi.A,{items:c7(n),onItemClick:({detail:y})=>h(y.id),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"selectTestContext"},a?a.name:(0,l.Ay)`Select test context`),a&&i.createElement(K.A,{ariaLabel:(0,l.Ay)`Edit test`,onClick:s,variant:"normal",formAction:"none","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"editTest"},(0,l.Ay)`Edit test`),a&&i.createElement(K.A,{ariaLabel:(0,l.Ay)`Run test`,onClick:f,loading:u,variant:"normal",formAction:"none","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"runTest"},(0,l.Ay)`Run test`))}const p7=new Qo;function kC({record:t,setShowAlert:n,setEvaluatedContext:a,suppliedSampleContexts:o}){var s;const c=(0,i.useMemo)(()=>{var P;return K5((P=t?.runtime)==null?void 0:P.name)},[(s=t?.runtime)==null?void 0:s.name]),u=de(),p=ne(P=>H5(P,t)),[h,f]=(0,i.useState)(null),[y,g]=(0,i.useState)(!1);(0,i.useEffect)(()=>{u(pb(Sh(t)))},[]);const A=()=>{g(!0)},E=()=>{g(!1)},b=P=>{const F=JSON.stringify(P);u(No({name:Sh(t),value:F,apiId:t.apiId,displayAlert:!0}))},C=P=>{const[F,x]=Q5(p,P);b(x),f(F),E()},I=P=>{const F=p.filter(x=>x.id!==P);b(F),f(null),E()},R=P=>{f(P),P||g(!0)},L=P=>{a(P),n(!0)};return i.createElement(i.Fragment,null,i.createElement(i7,{visible:y,onClose:E,onSave:C,samples:o||p7,onDelete:I,context:h||c,allowAutomock:t instanceof Sr}),i.createElement(d7,{record:t,testContexts:p,selected:h,onContextSelected:R,openModal:A,onTestExecuted:L}))}function MC(t,n){return t.find(a=>a.value===n)}const m7=()=>Object.entries(vy).map(([n,a])=>({label:a,value:a})),h7=()=>[{label:(0,l.Ay)`Pipeline Resolver`,value:pt.PIPELINE_RESOLVER},{label:(0,l.Ay)`Unit Resolver`,value:pt.UNIT_RESOLVER}],Th=m7(),FC=h7();function f7({isUpdate:t,visible:n,onDismiss:a,onSave:o,selectorType:s,runtime:c}){const u=()=>{var O;return(O=c.name)!=null?O:gd},p=()=>{let O=Ad;return c.name===Ve.APPSYNC_JS&&c.runtimeVersion&&(O=c.runtimeVersion),MC(Th,O)},h=MC(FC,s),[f,y]=(0,i.useState)(h),[g,A]=(0,i.useState)(u()),[E,b]=(0,i.useState)(p()),C=s===pt.FUNCTION;(0,i.useEffect)(()=>{A(u()),b(p())},[c.name,c.runtimeVersion]);const I=()=>{var O;const j=(O=E.value)!=null?O:Ad,M=new lr({name:g,runtimeVersion:g===Ve.APPSYNC_JS?j:Ty});o(M,f?.value),a()};function R(){return i.createElement(i.Fragment,null,i.createElement(It.A,null,i.createElement("p",null,i.createElement("small",null,(0,l.Ay)`Version`))),i.createElement(ze.A,{className:"version-select",selectedOption:E,onChange:({detail:O})=>b(O.selectedOption),options:Th,selectedAriaLabel:"Selected",disabled:g===Ve.VTL}))}function L(){return i.createElement(i.Fragment,null,(0,l.Ay)`Allows you to use JavaScript`,Th.length>1&&i.createElement(R,null))}function P(){return i.createElement(X.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"runtime",label:i.createElement(It.A,null,(0,l.Ay)`Select a runtime`)},i.createElement(Tr.A,{onChange:({detail:O})=>A(O.value),value:g,items:[{value:Ve.APPSYNC_JS,label:(0,l.Ay)`AppSync JavaScript (APPSYNC_JS)`,description:i.createElement(L,null)},{value:Ve.VTL,label:"Velocity Template Language (VTL)",description:(0,l.Ay)`Allows you to use VTL and Direct Lambda resolvers`}],"data-analytics-type":U.EVENT_VALUE,"data-analytics":et(g)}))}const F=({detail:O})=>{y(O.selectedOption)};function x(){return i.createElement(X.A,{label:i.createElement(q.A,null,`${(0,l.Ay)`Resolver type`} `,i.createElement(ue.A,{fontSize:"body-s",external:!0,href:"https://docs.aws.amazon.com/appsync/latest/devguide/resolver-reference-overview-js.html"},(0,l.Ay)`Learn more`))},i.createElement(ze.A,{selectedOption:f,disabled:!!(s===pt.PIPELINE_RESOLVER&&t),onChange:F,options:FC,selectedAriaLabel:"Selected"}))}return i.createElement(xn.A,{"data-testid":"update-runtime-modal","data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"updateRuntime",onDismiss:a,visible:n,footer:i.createElement(q.A,{float:"right"},i.createElement($.A,{direction:"horizontal",size:"xs"},i.createElement(K.A,{variant:"link",onClick:a,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"cancel"},(0,l.Ay)`Cancel`),i.createElement(K.A,{variant:"primary",onClick:I,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"update"},(0,l.Ay)`Update`))),header:(0,l.Ay)`Update runtime`},i.createElement($.A,{direction:"vertical",size:"m"},i.createElement(wt.A,{type:"warning",statusIconAriaLabel:(0,l.Ay)`warning`},(0,l.Ay)`Changing the Runtime will remove your existing code or mapping templates.`),!C&&i.createElement(x,null),i.createElement(P,null)))}var y7=(t=>(t.UPDATE_RUNTIME="Update runtime",t.DELETE_RESOLVER="Delete resolver",t.DELETE_FUNCTION="Delete function",t))(y7||{}),g7=(t=>(t.CONFIRM_DELETE="Confirm Delete",t.RUNTIME="Runtime",t.NONE="None",t))(g7||{});const A7=(t,n)=>{const a=[{text:(0,l.Ay)`Update runtime`,id:"Update runtime"}];switch(t){case pt.FUNCTION:a.push({text:(0,l.Ay)`Delete function`,id:"Delete function",disabled:!n});break;case pt.PIPELINE_RESOLVER:case pt.UNIT_RESOLVER:a.push({text:(0,l.Ay)`Delete resolver`,id:"Delete resolver",disabled:!n});break;default:break}return a},E7=t=>{const n=l.Ay.translate(t===pt.FUNCTION?"function":"resolver");return[l.Ay.translate("You are permanently deleting this ${0}.",n),l.Ay.translate("This data will no longer be available after deletion.")].join(" ")};function UC({isUpdate:t,readonly:n,selectorType:a,onDelete:o,resourceName:s,onSave:c,loading:u,runtime:p}){const[h,f]=(0,i.useState)("None"),[y,g]=(0,i.useMemo)(()=>[A7(a,t),E7(a)],[a,t]),A=({detail:b})=>{switch(b.id){case"Update runtime":f("Runtime");break;case"Delete resolver":case"Delete function":f("Confirm Delete");break;default:break}},E=(0,l.Ay)`Confirm`.toLowerCase();return i.createElement("div",{"data-testid":"runtime-action-selector"},i.createElement(mi.A,{onItemClick:A,disabled:n||u,items:y,expandToViewport:!0,"data-testid":"actions-button-dropdown","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"actions"},(0,l.Ay)`Actions`),i.createElement(Rc,{"data-testid":"actions-delete-modal",header:`${(0,l.Ay)`Delete`} ${s}`,i18nStrings:{modalContentText:g,inputDescriptionText:(0,l.Ay)`To confirm this deletion, type ${`"${E}"`}.`,cancelButtonText:"Cancel",actionButtonText:"Delete"},triggerAction:o,visible:h==="Confirm Delete",onDismiss:()=>f("None"),confirmText:E}),i.createElement(f7,{isUpdate:t,visible:h==="Runtime",onDismiss:()=>f("None"),onSave:c,selectorType:a,runtime:p}))}const Ih=({typeName:t,fieldName:n})=>a=>{var o;const s=a.localSchema.typeRecords.find(c=>c.typeConfig.name===t);return(o=s?.typeConfig)==null?void 0:o.fields.find(c=>c.name===n)},wr={label:"Enhanced monitoring",description:["Publishes additional metrics to CloudWatch.","Additional charges apply."],link:"https://aws.amazon.com/cloudwatch/pricing/",linkText:"View pricing details",toggleLabel:"Enable enhanced monitoring",resolverMetricsBehaviour:{label:"Resolver metrics behavior",description:"Enable enhanced resolver metrics for all resolvers or configure specific resolvers later."},dataSourceMetricsLevel:{label:"Data source metrics behavior",description:"Enable enhanced data source metrics for all data sources or configure specific data sources later."},checkBox:{label:"Operation metrics behavior",description:"Enable enhanced monitoring for GraphQL operations."}},Ch="PER_RESOLVER_METRICS",Rh="PER_DATA_SOURCE_METRICS",tve="FULL_REQUEST_RESOLVER_METRICS",b7="FULL_REQUEST_DATA_SOURCE_METRICS",v7=()=>[{value:"PER_RESOLVER_METRICS",label:(0,l.Ay)`Per-resolver`},{value:"FULL_REQUEST_RESOLVER_METRICS",label:(0,l.Ay)`Full request resolver metrics`}],S7=()=>[{value:Rh,label:(0,l.Ay)`Per-data source`},{value:b7,label:(0,l.Ay)`Full request data source metrics`}];var Xo=v(53360);function $C({text:t}){const n=(0,G.Zp)(),a=dn();return i.createElement(wt.A,{action:i.createElement(K.A,{onClick:()=>n(`/${a}/v1/cache`)},(0,l.Ay)`Change in Caching`),statusIconAriaLabel:"Info"},t)}const T7=({fields:t})=>{const n="cachingConfig.cachingKeys",a=ms[0],o=25,s=Array.from(t.getAll());return i.createElement(Xo.A,{empty:(0,l.Ay)`No caching keys defined`,addButtonText:(0,l.Ay)`Add new key`,removeButtonText:(0,l.Ay)`Remove`,items:s,definition:[{label:(0,l.Ay)`Key`,errorText:c=>iu(c),control:(c,u)=>i.createElement(E8,{field:{name:`${n}[${u}]`,validate:iu},input:{options:ms.map(p=>({value:p})),empty:(0,l.Ay)`No matches found, using custom key`}})}],onAddButtonClick:()=>t.push(a),onRemoveButtonClick:c=>t.remove(c.detail.itemIndex),additionalInfo:`${o-s.length} items can be added.`,disableAddButton:s.length>=o})};function I7({perResolverCachingEnabled:t,defaultTtl:n,cachingConfig:a}){const[o,s]=(0,i.useState)(!0),c=[(0,l.Ay)`This feature requires caching.`,(0,l.Ay)`In Caching, choose per-resolver caching to enable caching.`].join(" ");return i.createElement(mn.A,{headerText:(0,l.Ay)`Cache settings`,variant:"container",expanded:o,onChange:()=>s(!o)},i.createElement($.A,{size:"l"},i.createElement(pi,{toggle:{label:(0,l.Ay)`Enable Caching`,"data-cy":"caching-toggle",disabled:!t},field:{name:"cachingConfig.enableCaching"},panoramaTag:"enableCaching"}),a&&a.enableCaching&&i.createElement(i.Fragment,null,i.createElement(Ia,{field:{name:"cachingConfig.ttl",format:u=>u>0?String(u):"",parse:Number,validate:[Jo]},input:{"data-testid":"cache-ttl",placeholder:String(n)},formField:{label:(0,l.Ay)`Cache time to live (TTL)`,description:(0,l.Ay)`Enter the time in seconds that cache entries will persist.`},maxWidth:"90px"}),i.createElement(X.A,{label:(0,l.Ay)`Caching keys`,description:(0,l.Ay)`Specify caching keys for this resolver.`},i.createElement(qe.ED,{name:"cachingConfig.cachingKeys",component:T7})),i.createElement(ue.A,{href:"https://docs.aws.amazon.com/appsync/latest/devguide/enabling-caching.html#caching-behavior",external:!0},(0,l.Ay)`Learn more about caching keys`)),!t&&i.createElement($C,{text:c})))}var C7=Object.defineProperty,jC=Object.getOwnPropertySymbols,R7=Object.prototype.hasOwnProperty,w7=Object.prototype.propertyIsEnumerable,VC=(t,n,a)=>n in t?C7(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,P7=(t,n)=>{for(var a in n||(n={}))R7.call(n,a)&&VC(t,a,n[a]);if(jC)for(var a of jC(n))w7.call(n,a)&&VC(t,a,n[a]);return t};function O7(){return i.createElement("div",null,i.createElement(q.A,{variant:"p"},(0,l.Ay)`You have no data sources...`),i.createElement(qo,{to:"/datasources/new",text:(0,l.Ay)`Add datasource`,enablePanorama:!0}))}function BC({onChange:t,buttonProps:n}){const[a,o]=qr(),s=(0,i.useMemo)(()=>o.map(c=>({value:c.name,label:c.name})),[o]);return!a&&o&&o.length===0?i.createElement(O7,null):i.createElement(Rr,{field:P7({name:"dataSourceName",normalize:c=>c.value},t?{onChange:t}:{}),formField:{label:(0,l.Ay)`Data source name`,description:(0,l.Ay)`Select the data source to call.`},select:{options:s,placeholder:(0,l.Ay)`Select a data source`,statusType:a?"loading":"finished",loadingText:(0,l.Ay)`Loading data sources`,"data-testid":"datasource-name-select"},button:n,maxWidth:"560px"})}function vl({region:t,setRegion:n,testid:a,placeholder:o}){const s=Gi(),c=s.find(u=>u.value===t);return(0,i.useEffect)(()=>{t||n(mt())},[t]),i.createElement(ze.A,{"data-analytics-type":U.EVENT_VALUE,placeholder:o,"data-analytics":c?.value||"","data-testid":a??"region-select",selectedOption:c,onChange:({detail:u})=>n(u.selectedOption.value),options:s,filteringType:"auto"})}function GC({syncConfig:t,onChange:n}){var a;const o=(a=t?.lambdaConflictHandlerConfig)==null?void 0:a.lambdaConflictHandlerArn,[s,c]=(0,i.useState)(o?Ur(o):mt()),[u,p]=In(pn.LAMBDA,s),h=(0,i.useMemo)(()=>p.map(A=>({value:A,label:A})),[p]),f=(0,i.useMemo)(()=>h.find(A=>A.label===o),[h,o]),y=A=>{c(A),n("syncConfig.lambdaConflictHandlerConfig.lambdaConflictHandlerArn","")};(0,i.useEffect)(()=>{o&&c(Ur(o))},[o]);const g=t?.conflictDetection==="VERSION";return i.createElement(Le,{title:"Conflict detection and resolution"},i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`Conflict detection`,description:(0,l.Ay)`Detect conflicts when multiple requests try to update data concurrently`},i.createElement(dr.A,{checked:t?.conflictDetection==="VERSION",onChange:({detail:A})=>n("syncConfig.conflictDetection",A.checked?"VERSION":"NONE"),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et("conflictResolution")},(0,l.Ay)`Enable conflict detection`)),g&&i.createElement(X.A,{label:(0,l.Ay)`Conflict resolution`,description:(0,l.Ay)`Select the conflict resolution strategy when conflicts are detected`},i.createElement(Tr.A,{items:ds,value:t.conflictHandler,onChange:({detail:A})=>{n("syncConfig.conflictHandler",A.value)},"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et("conflictDetection")})),g&&t.conflictHandler===Ma.LAMBDA&&i.createElement("div",{style:{maxWidth:"560px"}},i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`AWS Region`,description:(0,l.Ay)`Select the region that your lambda function is located in.`},i.createElement(vl,{region:s,setRegion:y})),!!s&&i.createElement(X.A,{label:(0,l.Ay)`Function ARN`,description:(0,l.Ay)`Select an existing function`},i.createElement(ze.A,{selectedOption:f,statusType:u?"loading":"finished",options:h,onChange:({detail:A})=>{n("syncConfig.lambdaConflictHandlerConfig.lambdaConflictHandlerArn",A.selectedOption.value)},empty:(0,l.Ay)`No lambda functions.`}))))))}class zC extends i.Component{constructor(n){super(n),this.isBatchingValid=a=>{if(Number.isNaN(a))return(0,l.Ay)`Must be a number`;if(a<0||a>2e3)return(0,l.Ay)`Value must be between 0 and 2000.`},this.toggleShowBatchingSizeInput=()=>{const{updateMaxBatchSize:a}=this.props,{enabledBatchingSizeTemplate:o}=this.state;this.setState({enabledBatchingSizeTemplate:!o}),a(o?5:0)},this.state={enabledBatchingSizeTemplate:!!this.props.maxBatchSize}}render(){const{enabledRequestMappingTemplate:n}=this.props;return i.createElement(mn.A,{variant:"container",header:i.createElement(be.A,{variant:"h2"},(0,l.Ay)`Configure Batching`),defaultExpanded:!0},i.createElement($.A,{size:"l"},!n&&i.createElement(dr.A,{checked:this.state.enabledBatchingSizeTemplate,onChange:this.toggleShowBatchingSizeInput},(0,l.Ay)`Enable batching`),(this.state.enabledBatchingSizeTemplate||n)&&i.createElement(Ia,{field:{name:"maxBatchSize",format:a=>a>0?String(a):"",parse:Number,validate:[this.isBatchingValid]},input:{placeholder:"0"},formField:{label:(0,l.Ay)`Maximum batching size`,description:n?(0,l.Ay)`The maximum batch size to use when using the BatchInvoke operation. Batch size must be between 0 and 2000.`:(0,l.Ay)`Toggle this setting to activate batching and specify the maximum batch size. Batch size must be between 0 and 2000.`},maxWidth:"560px"})))}}const Pr={code:{infoBadge:"Run test, or save to refresh errors",header:"Resolver code"},vtl:{request:{id:"before-mapping-template-container",header:"Before mapping template",description:"Runs before any functions in the resolver are invoked."},response:{id:"after-mapping-template-container",header:"After mapping template",description:"Runs after all functions in the pipeline have finished."}},dataSource:{headerText:"Data source"},functions:"pipelineConfig.functions"};function D7({baseResolver:t,localResolver:n,changeFieldValue:a}){var o;const[,s]=qr(),c=(0,i.useMemo)(()=>s.find(h=>h.name===n.dataSourceName),[n.dataSourceName,s.length]),u=(o=c?.dynamodbConfig)==null?void 0:o.versioned,p=c?.type===_.LAMBDA;return(0,i.useEffect)(()=>{const h=p?t.maxBatchSize:0;a(ot.batchSize,h)},[p]),(0,i.useEffect)(()=>{var h;const f=u?(h=t?.syncConfig)==null?void 0:h.conflictDetection:"NONE";a(ot.syncConfigDetection,f)},[u]),i.createElement($.A,{size:"l"},i.createElement(mn.A,{variant:"container",headerText:l.Ay.translate(Pr.dataSource.headerText)},i.createElement(BC,null)),u&&i.createElement(GC,{syncConfig:n.syncConfig,onChange:a}),p&&i.createElement(zC,{enabledRequestMappingTemplate:n.enabledRequestMappingTemplate,updateMaxBatchSize:h=>a(ot.batchSize,h),maxBatchSize:n.maxBatchSize}))}var qC=v(88373);const N7=()=>[{id:"default",text:(0,l.Ay)`Default`,value:tn.function}];function KC({onChange:t,selectedDataSource:n}){const a=n?.type,o=(0,i.useMemo)(()=>{var s;const c=(s=tn[a])!=null?s:N7();return{flattened:c.reduce((u,p)=>"items"in p?[...u,...p.items]:[...u,p],[]),items:c}},[a]);return i.createElement(mi.A,{items:o.items,onItemClick:({detail:s})=>{t(o.flattened.find(c=>c.id===s.id).value)}},(0,l.Ay)`Use a code sample`)}var _7=Object.defineProperty,cu=Object.getOwnPropertySymbols,WC=Object.prototype.hasOwnProperty,HC=Object.prototype.propertyIsEnumerable,JC=(t,n,a)=>n in t?_7(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,x7=(t,n)=>{for(var a in n||(n={}))WC.call(n,a)&&JC(t,a,n[a]);if(cu)for(var a of cu(n))HC.call(n,a)&&JC(t,a,n[a]);return t},L7=(t,n)=>{var a={};for(var o in t)WC.call(t,o)&&n.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&cu)for(var o of cu(t))n.indexOf(o)<0&&HC.call(t,o)&&(a[o]=t[o]);return a};function wh(t){const n=t,{id:a,content:o}=n,s=L7(n,["id","content"]);return i.createElement("div",{className:"mapping-template-container"},i.createElement(mn.A,x7({defaultExpanded:!0,disableContentPaddings:!0,variant:"container"},s),i.createElement("div",{id:a},o)))}var Ph=v(89651);class Oh extends i.Component{constructor(n){super(n),this.state={expanded:!1}}render(){return i.createElement(mn.A,{headerText:this.props.header,defaultExpanded:!1,expanded:this.state.expanded,onChange:()=>{const{expanded:n}=this.state;this.setState({expanded:!n})},disableContentPaddings:!0},this.props.content)}}var k7=v(90287),M7=Object.defineProperty,F7=Object.defineProperties,U7=Object.getOwnPropertyDescriptors,YC=Object.getOwnPropertySymbols,$7=Object.prototype.hasOwnProperty,j7=Object.prototype.propertyIsEnumerable,QC=(t,n,a)=>n in t?M7(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,XC=(t,n)=>{for(var a in n||(n={}))$7.call(n,a)&&QC(t,a,n[a]);if(YC)for(var a of YC(n))j7.call(n,a)&&QC(t,a,n[a]);return t},ZC=(t,n)=>F7(t,U7(n));const eR=(0,pl.F)(new k7.h),Dh={value:"CREATE_FUNCTION_OPTION",label:(0,l.Ay)`Create new function`,iconName:"add-plus"},V7=t=>t?t.map(n=>({value:n.functionId,label:n.name,description:n.dataSourceName,filteringTags:n.description?[n.description]:void 0})).unshift(Dh).toArray():[Dh];function B7(t){return t.hasFunctions?i.createElement(q.A,{textAlign:"center",color:"inherit"},i.createElement("b",null,(0,l.Ay)`Empty resolver`),i.createElement(q.A,{variant:"p",margin:{bottom:"s"},color:"inherit"},(0,l.Ay)`No functions in this resolver`)):i.createElement(q.A,{textAlign:"center",color:"inherit"},i.createElement("b",null,(0,l.Ay)`No functions`),i.createElement(q.A,{variant:"p",margin:{bottom:"s"},color:"inherit"},(0,l.Ay)`You do not have any functions in this API.`),i.createElement(K.A,{onClick:t.onAdd,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"createFunction"},(0,l.Ay)`Create function`))}function G7(t){const n=(0,G.Zp)(),a=(0,G.zy)(),{apiId:o,versionId:s}=(0,G.g)(),[c,u]=(0,i.useState)(-1),{isLoading:p,allFunctions:h,functionsList:f,functionsIds:y}=t,g=c!==-1,A=g?f.get(c):null,E=y.size>1,b=c===0,C=y.size>0&&c===y.size-1,I=!p&&!!h&&h.isEmpty(),R=()=>{if(c>0&&t.functionsIds.size>1){const{input:{onChange:V}}=t,W=t.functionsIds.get(c);V(t.functionsIds.splice(c-1,2,W,t.functionsIds.get(c-1)))}u(c-1)},L=()=>{if(c>-1&&c<t.functionsIds.size-1){const{input:{onChange:V}}=t,W=t.functionsIds.get(c);V(t.functionsIds.splice(c,2,t.functionsIds.get(c+1),W)),u(c+1)}},P=()=>{if(c>-1&&c<t.functionsIds.size){const{input:{onChange:V}}=t;V(t.functionsIds.delete(c)),u(c-1)}},F=()=>{const V=`/${o}/${s}`;n(`${V}/functions/new?referrer=${a.pathname.slice(V.length)}`)},x=V=>{const{value:W}=V.detail.selectedOption;if(W===Dh.value)F();else{const{input:{onChange:Y}}=t;Y(t.functionsIds.push(W))}};(0,i.useEffect)(()=>{t.listResolverFunctions({paginationKey:{apiId:o,versionId:s},paginateRecord:new ke})},[]);const{items:O,filteredItemsCount:j,collectionProps:M,filterProps:B}=(0,Wn.G)(f.toArray(),{filtering:{},selection:{}});return i.createElement(Ph.A,ZC(XC({},M),{empty:i.createElement(B7,{hasFunctions:!!(h&&h.size),onAdd:F}),loading:p,items:O,"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"functions",header:i.createElement(be.A,{variant:"h2",actions:i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(K.A,{ariaLabel:(0,l.Ay)`Move up`,disabled:!(g&&E&&!b),iconName:"angle-up",formAction:"none",onClick:R,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"moveUp"},(0,l.Ay)`Move up`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Move down`,disabled:!(g&&E&&!C),iconName:"angle-down",formAction:"none",onClick:L,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"moveDown"},(0,l.Ay)`Move down`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Remove`,disabled:!g,iconName:"close",formAction:"none",onClick:P,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"remove"},(0,l.Ay)`Remove`),i.createElement(q.A,null,i.createElement(ze.A,{options:V7(h),filteringType:"auto",disabled:I,statusType:p?"loading":"finished",loadingText:(0,l.Ay)`Loading functions`,selectedOption:null,placeholder:(0,l.Ay)`Add function`,onChange:x,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"addFunction"}))),description:(0,l.Ay)`Each function is executed in sequence and can execute a single operation against a data source.`},(0,l.Ay)`Functions`),cardsPerRow:[{cards:1}],cardDefinition:{header:V=>i.createElement(qo,{to:`/functions/${V.functionId}/edit`,text:i.createElement("span",null,V.name,i.createElement(q.A,{variant:"small",padding:{horizontal:"xxs"}},(0,l.Ay)`Edit`)),withReferrer:!0,enablePanorama:!0,panoramaTag:"edit"}),sections:[{id:"main",width:50,header:(0,l.Ay)`Description`,content:V=>V.description||"-"},{id:"datasource",width:50,header:(0,l.Ay)`Data Source`,content:V=>V.dataSourceName},{id:"mappingTemplates",width:100,content:V=>{var W;return((W=V.runtime)==null?void 0:W.name)===Ve.APPSYNC_JS?i.createElement(Oh,{header:i.createElement("span",null,(0,l.Ay)`Function code`," ",i.createElement(q.A,{variant:"small"},(0,l.Ay)`read-only`)),content:i.createElement(Ir.x,{content:V.code,highlight:KS.A})}):i.createElement(i.Fragment,null,i.createElement("div",null,V.requestMappingTemplate?i.createElement(Oh,{header:i.createElement("span",null,(0,l.Ay)`Request Mapping Template`," ",i.createElement(q.A,{variant:"small"},(0,l.Ay)`read-only`)),content:i.createElement(Ir.x,{content:V.requestMappingTemplate,highlight:eR})}):i.createElement("span",{className:"awsui-util-status-inactive"},(0,l.Ay)`Request mapping template disabled`)),i.createElement("div",null,V.responseMappingTemplate?i.createElement(Oh,{header:i.createElement("span",null,(0,l.Ay)`Response Mapping Template`," ",i.createElement(q.A,{variant:"small"},(0,l.Ay)`read-only`)),content:i.createElement(Ir.x,{content:V.responseMappingTemplate,highlight:eR})}):i.createElement("span",{className:"awsui-util-status-inactive"},(0,l.Ay)`Response mapping template disabled`)))}}]},filter:i.createElement(ur.A,ZC(XC({},B),{countText:String(j),filteringAriaLabel:(0,l.Ay)`Find by function name`,filteringPlaceholder:(0,l.Ay)`Find by function name`})),selectionType:"single",onSelectionChange:V=>{const W=V.detail.selectedItems[0]?V.detail.selectedItems[0].pipelineIndex:-1;W!==c&&u(W)},selectedItems:[A],ariaLabels:{itemSelectionLabel:(V,W)=>W.name,selectionGroupLabel:(0,l.Ay)`Functions`}}))}const tR=(0,te.connect)((t,n)=>{const{environment:a,entities:o}=t,{selectedApiId:s}=a,c=t.pagination.functionsByGraphqlApiVersion.get(a.getApiVersionId()),u=c?c.items.map(y=>o.get(y)).toList():(0,T.List)(),p=n.input.value&&n.input.value!==""?n.input.value:[],h=(0,T.List)(p),f=h.map((y,g)=>o.get(Cn.getKey(s,y),new Cn).set("pipelineIndex",g)).toList();return{allFunctions:u,functionsList:f,functionsIds:h,isLoading:c?c.isLoading:!0,apiId:a.selectedApiId,versionId:a.selectedVersionId}},{listResolverFunctions:LA})(G7),z7=(0,qe.fj)(Ke.ResolverForm);function q7({defaultCodeValue:t,setDefaultCodeValue:n,changeFieldValue:a,annotations:o,type:s}){const[,c]=qr(),u=ne(g=>z7(g,ot.dataSourceName)),p=(0,i.useMemo)(()=>c.find(g=>g.name===u),[u,c.length]),h=s===pt.PIPELINE_RESOLVER,{isLoading:f,result:y}=_n(Bt.isEnhancedLoggingEnabled);return i.createElement($.A,{size:"l"},i.createElement(wh,{headerText:l.Ay.translate(Pr.code.header),headerInfo:o?.length>0&&i.createElement(qC.A,null,l.Ay.translate(Pr.code.infoBadge)),headerActions:!h&&i.createElement(KC,{onChange:g=>{n(g)},selectedDataSource:p}),content:f?i.createElement(Et.A,null):i.createElement(Rm,{value:t,onEdit:g=>a(ot.code,g.value),annotations:o,Analytics:at,isEnhancedLoggingEnabled:y})}),h&&i.createElement(qe.D0,{name:Pr.functions,component:tR}))}const K7=0;function nR(t,n){const a=/[\w.${}]+/,s=t.getSelection().getCursor(),c=t.getLine(s.row),u=s.column;let p=u;function h(){p&&a.test(c.charAt(p-1))&&(p-=1,setTimeout(h,K7))}h();const f=p!==u&&c.slice(p,u),y=[],g={},A=new RegExp(a.source,"g");for(let E=-1;E<=1;E+=2){let{row:b}=s;const C=Math.min(Math.max(b+E*500,0),t.doc.getAllLines().length-1)+E;for(;b!==C;b+=E){const I=t.doc.getLine(b);let R=A.exec(I);for(;R!==null&&R.length>0;){if(b===s.row&&R[0]===f){R=A.exec(I);continue}if(R[0].includes("$util.")||R[0].includes("$ctx.")||R[0].includes("$context.")){R=A.exec(I);continue}n==="prefix"&&(!f||R[0].lastIndexOf(f,0)===0)&&!Object.prototype.hasOwnProperty.call(g,R[0])?(g[R[0]]=!0,R[0].length>0&&R[0].charAt(0)==="$"&&y.push(R[0])):n==="contains"&&(!f||R[0].includes(f.slice(1)))&&!Object.prototype.hasOwnProperty.call(g,R[0])&&R[0].length>0&&R[0].charAt(0)==="$"&&y.push(R[0]),R=A.exec(I)}}}return y}const W7=["#end","#else","#break","#stop","#[[ #]]","#{end}","#{else}","#{break}","#{stop}"],H7=["#if( conditional )","#elseif( conditional )","#foreach( $item in $items )","#set( $variable = value )","#{if( conditional )}","#{elseif( conditional )}","#{foreach( $item in $items )}","#{set( $variable = value )}"],J7=["$foreach","$foreach.parent","$foreach.count","$foreach.hasNext","$foreach.first","$foreach.last","$foreach.topmost","$foreach.parent.count","$foreach.parent.hasNext","$foreach.parent.first","$foreach.parent.last","$velocityCount","$!bodyContent","$bodyContent"],Y7=["#return","#return( $data )","#{return}","#{return( $data )}"],Q7=["$util","$util.time","$util.list","$util.map","$util.dynamodb",'$util.escapeJavaScript("")',"$util.transform.toDynamoDBFilterExpression($ctx.args.filter)","$util.transform.toElasticsearchQueryDSL($ctx.args.filter)","$util.transform.toOpensearchQueryDSL($ctx.args.filter)",'$util.urlEncode("")','$util.urlDecode("")',"$util.base64Encode([])",'$util.base64Decode("")','$util.parseJson("")',"$util.toJson(Object)","$util.autoId()","$util.autoUlid()","$util.autoKsuid()","$util.unauthorized()",'$util.error("")','$util.error("", "")','$util.error("", "", Object)','$util.error("", "", Object, Object)','$util.appendError("")','$util.appendError("", "")','$util.appendError("", "", Object)','$util.appendError("", "", Object, Object)','$util.validate(boolean, "")','$util.validate(boolean, "", "")',"$util.quiet(Object)","$util.qr(Object)",'$util.validate(boolean, "", "", Object)','$util.validate(boolean, "", "", Object, Object)',"$util.isNull(Object)",'$util.isNullOrEmpty("")','$util.isNullOrBlank("")',"$util.defaultIfNull(Object, Object)",'$util.defaultIfNullOrEmpty("", "")','$util.defaultIfNullOrBlank("", "")',"$util.isString(Object)","$util.isNumber(Object)","$util.isBoolean(Object)","$util.isList(Object)","$util.isMap(Object)","$util.typeOf(Object)",'$util.matches("", "")',"$util.time.nowISO8601()","$util.time.nowEpochSeconds()","$util.time.nowEpochMilliSeconds()",'$util.time.nowFormatted("")','$util.time.nowFormatted("", "")','$util.time.parseFormattedToEpochMilliSeconds("", "")','$util.time.parseFormattedToEpochMilliSeconds("", "", "")','$util.time.parseISO8601ToEpochMilliSeconds("")',"$util.time.epochMilliSecondsToSeconds(long)","$util.time.epochMilliSecondsToISO8601(long)",'$util.time.epochMilliSecondsToFormatted(long, "")','$util.time.epochMilliSecondsToFormatted(long, "", "")',"$util.list.copyAndRetainAll(List, List)","$util.list.copyAndRemoveAll(List, List)",'$util.list.sortList(List, boolean, "")',"$util.map.copyAndRetainAllKeys(Map, Map)","$util.map.copyAndRemoveAllKeys(Map, Map)","$util.dynamodb.toDynamoDB(Object)","$util.dynamodb.toDynamoDBJson(Object)",'$util.dynamodb.toString("")','$util.dynamodb.toStringJson("")',"$util.dynamodb.toStringSet(List<String>)","$util.dynamodb.toStringSetJson(List<String>)","$util.dynamodb.toNumber(Number)","$util.dynamodb.toNumberJson(Number)","$util.dynamodb.toNumberSet(List<Number>)","$util.dynamodb.toNumberSetJson(List<Number>)",'$util.dynamodb.toBinary("")','$util.dynamodb.toBinaryJson("")',"$util.dynamodb.toBinarySet(List<String>)","$util.dynamodb.toBinarySetJson(List<String>)","$util.dynamodb.toBoolean(boolean)","$util.dynamodb.toBooleanJson(boolean)","$util.dynamodb.toNull()","$util.dynamodb.toNullJson()","$util.dynamodb.toList(List)","$util.dynamodb.toListJson(List)","$util.dynamodb.toMap(Map)","$util.dynamodb.toMapJson(Map)","$util.dynamodb.toMapValues(Map)","$util.dynamodb.toMapValuesJson(Map)",'$util.dynamodb.toS3Object("key", "bucket", "region")','$util.dynamodb.toS3ObjectJson("key", "bucket", "region")','$util.dynamodb.toS3Object("key", "bucket", "region", "version")','$util.dynamodb.toS3ObjectJson("key", "bucket", "region", "version")','$util.dynamodb.fromS3ObjectJson("")','$util.str.toLower("")','$util.str.toUpper("")','$util.str.toReplace("")','$util.str.normalize("")',"$util.math.roundNum(Double)","$util.math.minVal(Double, Double)","$util.math.maxVal(Double, Double)","$util.math.randomDouble()","$util.math.randomWithinRange(Integer, Integer)","$util.authType()","$extensions.invalidateSubscriptions(Object)","$extensions.setSubscriptionFilter(Object)","$extensions.setSubscriptionInvalidationFilter(Object)","$util.transform.toSubscriptionFilter(Map)","$util.transform.toSubscriptionFilter(Map, List)","$util.transform.toSubscriptionFilter(Map, List, Map)","$extensions.evictFromApiCache(String, String, Map)","$util.log.info(Object)",'$util.log.info("", Object...)',"$util.log.error(Object)",'$util.log.error("", Object...)'],X7=["$ctx","$ctx.args","$ctx.arguments","$ctx.src","$ctx.source","$ctx.result","$ctx.identity","$ctx.identity.accountId","$ctx.identity.claims","$ctx.identity.cognitoIdentityId","$ctx.identity.cognitoIdentityPoolId","$ctx.identity.defaultAuthStrategy","$ctx.identity.issuer","$ctx.identity.sourceIp","$ctx.identity.sub","$ctx.identity.user","$ctx.identity.userArn","$ctx.identity.username","$ctx.stash","$ctx.prev","$ctx.prev.result","$context","$context.args","$context.arguments","$context.src","$context.source","$context.result","$context.identity","$context.identity.accountId","$context.identity.claims","$context.identity.cognitoIdentityId","$context.identity.cognitoIdentityPoolId","$context.identity.defaultAuthStrategy","$context.identity.issuer","$context.identity.sourceIp","$context.identity.sub","$context.identity.user","$context.identity.userArn","$context.identity.username","$context.stash","$context.prev","$context.prev.result","$context.identity.resolverContext","$ctx.identity.resolverContext","$context.request","$ctx.request","$context.error","$ctx.error","$context.outErrors","$ctx.outErrors","$context.request.domainName","$ctx.request.domainName"],Z7=["$context.info","$context.info.fieldName","$context.info.parentTypeName","$context.info.variables","$context.info.selectionSetList","$context.info.selectionSetGraphQL"],e4=["$ctx.info","$ctx.info.fieldName","$ctx.info.parentTypeName","$ctx.info.variables","$ctx.info.selectionSetList","$ctx.info.selectionSetGraphQL"],rR=["$util.log.debug(Object)",'$util.log.debug("", Object...)'],aR=[].concat(W7,H7,J7,Y7,Q7,X7,Z7,e4);function iR(t,n,a){const o=[],s=[],c=t;function u(f){f.lastIndexOf(c)===0&&o.indexOf(f)===-1&&(o.push(f),s.push(f))}function p(f){f.includes(c.slice(1))&&f[0]===c[0]&&o.indexOf(f)===-1&&(o.push(f),s.push(f))}function h(){n==="prefix"?(aR.forEach(u),a&&rR.forEach(u)):n==="contains"&&(aR.forEach(p),a&&rR.forEach(p))}return h(),s}function t4(t,n,a=!1){let o=[],s=[],c=[];const u=n,p=n.charAt(0),h=iR(u,"prefix",a);p==="$"&&(o=nR(t,"prefix")),o=(0,he.union)(o,h),o.sort(),p==="$"&&(c=nR(t,"contains"),c.sort()),s=iR(u,"contains",a),s.sort();const f=(0,he.union)(c,s);return o=(0,he.union)(o,f),o}const n4=t=>(n,a,o,s,c)=>{let u=[];try{const h=a.getLine(o.row).split(" ").pop(),f=t4(a,h,t);s!==h?u=f.map(y=>({snippet:`${s}${y.split(s).pop()}`,value:y})):u=f.map(y=>({value:y}))}catch(p){at.logOperationalError(Ge.AUTOCOMPLETE_VTL_ERROR,p)}c(null,u)},r4=t=>({base:"velocity",displayName:"Velocity",autocomplete:(0,he.throttle)(n4(t),500)});function Zo({value:t,onEdit:n}){const{isLoading:a,result:o}=_n(Bt.isEnhancedLoggingEnabled),[s,c]=(0,i.useState)();return(0,i.useEffect)(()=>{a||c(r4(o))},[a,o]),a||!s?i.createElement(q.A,{color:"inherit",textAlign:"center",padding:{vertical:"l"}},i.createElement(Et.A,null)):i.createElement(Xs,{value:t,onEdit:u=>n(u.value),Analytics:at,mode:s})}var a4=v(90666);function i4({dispatchToggleHelp:t,children:n}){return i.createElement(ue.A,{variant:"info",onFollow:()=>t()},n||(0,l.Ay)`Info`)}const to=(0,te.connect)(null,{dispatchToggleHelp:sA})(i4),o4=(t,n)=>{var a,o;return t.startsWith("/customdomains")?s4(t):(o=(a=n?.get)==null?void 0:a.call(n,n.args))!=null?o:Cs()},s4=t=>{if(t[0]==="/"&&(t=t.slice(1).trim()),!t?.length)return Cs();const n=t.split("/");return n[0]==="customdomains"?n.length>2&&n[2]==="details"?n.length===4&&n[3]==="edit-details"?OU():n.length===4&&n[3]==="edit-associations"?wU():CU():n.length===2&&n[1]==="create"?TU():vU():Cs()};function l4(){const t=(0,G.zy)(),n=ne(o=>o.view.helpSlug),a=o4(t.pathname,n);return i.createElement(a4.A,{header:i.createElement(q.A,{variant:"h2"},a[0]),footer:a[2]},a[1])}const c4=t=>{switch(t?.type){case _.ELASTIC_SEARCH:return Av;case _.OPEN_SEARCH:return Ev;case _.DYNAMODB:return fv;case _.LAMBDA:return vv;case _.HTTP:return bv;case _.RDS:return Tv;case _.EVENT_BRIDGE:return dm;case _.NONE:return Sv;default:return[]}},u4=t=>{switch(t?.type){case _.ELASTIC_SEARCH:return Rv;case _.OPEN_SEARCH:return wv;case _.DYNAMODB:return Iv;case _.LAMBDA:return Ov;case _.HTTP:return Pv;case _.RDS:return Nv;case _.EVENT_BRIDGE:return pm;case _.NONE:return Dv;default:return[]}};function d4(t){var n,a;const{requestErrorHandler:o,responseErrorHandler:s,templateBypassAllowed:c,enabledRequestMappingTemplate:u,enabledResponseMappingTemplate:p,toggleTemplateBypass:h,datasource:f}=t,y=!c,g=c,A=c4(f),E=u4(f);return i.createElement(mn.A,{headerText:(0,l.Ay)`Configure mapping templates`,variant:"container",defaultExpanded:!0},i.createElement($.A,{size:"l"},g&&i.createElement(q.A,{margin:{vertical:"xs"}},i.createElement(dr.A,{onChange:()=>h("requestMappingTemplate"),checked:u},(0,l.Ay)`Enable request mapping template`)),(y||u)&&i.createElement(it.A,{header:i.createElement(be.A,{variant:"h2",description:(0,l.Ay)`Translate a GraphQL query into a format specific to your data source.`,actions:i.createElement(ze.A,{"data-testid":"request-mapping-template-dropdown",options:A,placeholder:(0,l.Ay)`Select a sample template`,selectedOption:A.find(b=>b.value===t.requestMappingTemplate),onChange:({detail:b})=>{t.setDefaultRequestTemplate(b.selectedOption.value)},"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et("selectASampleTemplateRequest")}),info:i.createElement(to,null)},(0,l.Ay)`Configure the request mapping template.`),disableContentPaddings:!0},i.createElement(qi,{key:Ge.RESOLVER_ERROR_BOUNDARY,context:{formatter:o,record:{enabled:t.enabledRequestMappingTemplate,templateLength:t.requestMappingTemplate.length,dataSourceType:(n=t.datasource)==null?void 0:n.type}}},i.createElement(Zo,{value:t.requestMappingTemplate,onEdit:t.onEditRequestMappingTemplate}))),g&&i.createElement(q.A,{margin:{vertical:"xs"}},i.createElement(dr.A,{onChange:()=>h("responseMappingTemplate"),checked:p},(0,l.Ay)`Enable response mapping template`)),(y||p)&&i.createElement(it.A,{header:i.createElement(be.A,{variant:"h2",description:(0,l.Ay)`Translate a GraphQL query into a format specific to your data source.`,actions:i.createElement(ze.A,{"data-testid":"response-mapping-template-dropdown",options:E,placeholder:(0,l.Ay)`Select a sample template`,selectedOption:E.find(b=>b.value===t.responseMappingTemplate),onChange:({detail:b})=>{t.setDefaultResponseTemplate(b.selectedOption.value)},"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et("selectASampleTemplateResponse")}),info:i.createElement(to,null)},(0,l.Ay)`Configure the response mapping template.`),disableContentPaddings:!0},i.createElement(qi,{key:Ge.RESOLVER_ERROR_BOUNDARY,context:{formatter:s,record:{enabled:t.enabledResponseMappingTemplate,templateLength:t.responseMappingTemplate.length,dataSourceType:(a=t.datasource)==null?void 0:a.type}}},i.createElement(Zo,{value:t.responseMappingTemplate,onEdit:t.onEditResponseMappingTemplate})))))}var p4=Object.defineProperty,m4=Object.defineProperties,h4=Object.getOwnPropertyDescriptors,uu=Object.getOwnPropertySymbols,oR=Object.prototype.hasOwnProperty,sR=Object.prototype.propertyIsEnumerable,lR=(t,n,a)=>n in t?p4(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Nh=(t,n)=>{for(var a in n||(n={}))oR.call(n,a)&&lR(t,a,n[a]);if(uu)for(var a of uu(n))sR.call(n,a)&&lR(t,a,n[a]);return t},f4=(t,n)=>m4(t,h4(n)),y4=(t,n)=>{var a={};for(var o in t)oR.call(t,o)&&n.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&uu)for(var o of uu(t))n.indexOf(o)<0&&sR.call(t,o)&&(a[o]=t[o]);return a};const g4=(0,qe.fj)(Ke.ResolverForm);function A4(t){var n=t,{resolverType:a}=n,o=y4(n,["resolverType"]);return a===pt.PIPELINE_RESOLVER?i.createElement(E4,Nh({},o)):a===pt.UNIT_RESOLVER?i.createElement(v4,Nh({},o)):null}const du=(t,n)=>a=>f4(Nh({},a),{resolverType:t,template:n});function E4({requestMappingTemplate:t,responseMappingTemplate:n,changeFieldValue:a}){return i.createElement($.A,{size:"l"},i.createElement(wh,{id:Pr.vtl.request.id,header:i.createElement(be.A,{description:l.Ay.translate(Pr.vtl.request.description)},l.Ay.translate(Pr.vtl.request.header)),content:i.createElement(qi,{metricKey:Ge.RESOLVER_ERROR_BOUNDARY,context:{formatter:du(pt.PIPELINE_RESOLVER,"request"),record:{templateLength:t?.length}}},i.createElement(Zo,{value:t,onEdit:o=>{a(ot.requestTemplate,o)}}))}),i.createElement(qe.D0,{name:Pr.functions,component:tR}),i.createElement(wh,{id:Pr.vtl.response.id,header:i.createElement(be.A,{description:l.Ay.translate(Pr.vtl.response.description)},l.Ay.translate(Pr.vtl.response.header)),content:i.createElement(qi,{metricKey:Ge.RESOLVER_ERROR_BOUNDARY,context:{formatter:du(pt.PIPELINE_RESOLVER,"response"),record:{templateLength:n?.length}}},i.createElement(Zo,{value:n,onEdit:o=>{a(ot.responseTemplate,o)}}))}))}function b4({key:t,typeName:n,schema:a}){const o=a.getRootMutationTypeName()||"Mutation";return n===o&&t===_.DYNAMODB?gv:js[t]}function v4({requestMappingTemplate:t,responseMappingTemplate:n,setDefaultRequestTemplate:a,setDefaultResponseTemplate:o,typeName:s,changeFieldValue:c}){const[,u]=qr(),p=gc(),h=[ot.enabledRequest,ot.enabledResponse,ot.dataSourceName],f=ne(b=>g4(b,...h)),y=(0,i.useMemo)(()=>u.find(b=>b.name===f.dataSourceName),[f.dataSourceName,u.length]);(0,i.useEffect)(()=>{const b=y?.type===_.LAMBDA;t||(c(ot.enabledRequest,!b),b||A(ot.requestTemplate)),n||(c(ot.enabledResponse,!b),b||A(ot.responseTemplate))},[y]);const g=b=>{c(b,"")},A=b=>{let C="";b===ot.requestTemplate?C=b4({key:y?.type,typeName:s,schema:p}):b===ot.responseTemplate&&(C=Vs[y?.type]),c(b,C)},E=b=>{g(b),b===ot.requestTemplate?(f.enabledRequestMappingTemplate||A(ot.requestTemplate),c(ot.enabledRequest,!f.enabledRequestMappingTemplate)):b===ot.responseTemplate&&(f.enabledResponseMappingTemplate||A(ot.responseTemplate),c(ot.enabledResponse,!f.enabledResponseMappingTemplate))};return i.createElement(d4,{requestErrorHandler:du(pt.UNIT_RESOLVER,"request"),responseErrorHandler:du(pt.UNIT_RESOLVER,"response"),datasource:y,requestMappingTemplate:t,responseMappingTemplate:n,setDefaultRequestTemplate:a,setDefaultResponseTemplate:o,onEditRequestMappingTemplate:b=>c(ot.requestTemplate,b),onEditResponseMappingTemplate:b=>c(ot.responseTemplate,b),enabledRequestMappingTemplate:f.enabledRequestMappingTemplate,enabledResponseMappingTemplate:f.enabledResponseMappingTemplate,templateBypassAllowed:y?.allowsBlankTemplates(),toggleTemplateBypass:E})}const S4=t=>({label:(0,l.Ay)`Data source name`,description:(0,l.Ay)`Select the data source to resolve.`,constraint:i.createElement(T4,null),secondaryControl:i.createElement(I4,null),type:se.SELECT,config:{stateKey:"dataSource.selected",placeholder:(0,l.Ay)`Select data source`,empty:(0,l.Ay)`You have no data sources...`,options:t.map(n=>({value:n.name,label:n.name}))}});function T4(){const t=ne(n=>n.environment.getApiVersionId());return i.createElement(ue.A,{external:!0,href:`#/${t}/datasources/new`},(0,l.Ay)`Create new data source`)}function I4(){const t=de(),n=ne(u=>u.environment),[a,o]=(0,i.useState)(0),s=(0,l.Ay)`Data sources refreshed`,c=u=>{u.preventDefault(),t(wA({paginationKey:{apiId:n.selectedApiId,versionId:n.selectedVersionId},paginateRecord:new ke})),o(p=>p+1)};return i.createElement("div",null,i.createElement(K.A,{ariaLabel:(0,l.Ay)`Refresh`,iconName:"refresh",onClick:c}),i.createElement(rl,{message:s,key:a}))}const C4={label:"Maximum batching size",description:"The maximum batch size to use when using the BatchInvoke operation.",type:se.INPUT,constraint:"Batch size must be between 1 and 2000.",config:{enablePanorama:!0,stateKey:"dataSource.batching.size",type:"number",step:1,inputMode:"numeric"}},R4=t=>[{label:"Batching",type:se.TOGGLE,config:{label:"Enable batching",stateKey:"dataSource.batching.enabled"}},...t.enabled?[C4]:[]],w4=t=>[{label:"Conflict resolution",description:"Select the conflict resolution strategy when conflicts are detected.",info:{onFollow:t},type:se.RADIO,config:{stateKey:"dataSource.conflictDetection.strategy",items:ds}}],P4=t=>({label:"Function ARN",description:"Select an existing function.",type:se.SELECT,config:{placeholder:"Select ARN",stateKey:"dataSource.conflictDetection.lambda",options:t.map(n=>({value:n,label:n}))}}),O4=(t,n,a)=>[{label:"Conflict detection",description:"Detect conflicts when multiple requests try to update data concurrently.",info:{onFollow:a},type:se.TOGGLE,config:{label:"Enable conflict detection",stateKey:"dataSource.conflictDetection.enabled"}},...t.enabled?w4(a):[],...t.enabled&&t.strategy===Ma.LAMBDA?[P4(n)]:[]],D4=(t,n,a,o)=>{switch(n){case _.LAMBDA:return R4(t.batching);case _.DDB_DELTA_SYNC:return O4(t.conflictDetection,a,o);default:return[]}},cR=t=>{var n,a,o;const s=de(),[,c]=qr(),[u,p]=(0,i.useState)(),[,h]=In(pn.LAMBDA,(a=(n=u?.dynamodbConfig)==null?void 0:n.awsRegion)!=null?a:mt());(0,i.useEffect)(()=>{const g=c.find(A=>A.name===t?.selected.value);p(g)},[t?.selected,c]);const f=()=>{s(Ct({get:wG})),s(Co(!0))};return(0,i.useMemo)(()=>{var g;let A=u?.type;return A===_.DYNAMODB&&((g=u.dynamodbConfig)!=null&&g.versioned)&&(A=_.DDB_DELTA_SYNC),{header:{title:"Data source"},content:{fields:[S4(c),...D4(t,A,h,f)]}}},[c,u,t.batching.enabled,t.conflictDetection.enabled,(o=t.conflictDetection)==null?void 0:o.strategy])};function uR(){return i.createElement(q.A,{color:"text-status-inactive",fontSize:"body-s"},(0,l.Ay)`Publishes additional metrics to CloudWatch.`,"\xA0",(0,l.Ay)`Additional charges apply.`,"\xA0",i.createElement(gt,{href:"https://aws.amazon.com/cloudwatch/pricing/",text:"Learn more about pricing",variant:"info",ariaLabel:(0,l.Ay)`Link to Cloudwatch pricing`}))}const N4=t=>({label:"Enhanced monitoring",description:i.createElement(uR,null),type:se.TOGGLE,config:{label:"Enable resolver enhanced monitoring",stateKey:ot.metricsConfig,disabled:!t}});function _h({text:t}){const n=(0,G.Zp)(),a=dn();return i.createElement(wt.A,{statusIconAriaLabel:"Info",action:i.createElement(K.A,{onClick:()=>n(`/${a}/v1/settings/apiConfigurations/edit`)},(0,l.Ay)`Change in Settings`)},t)}const _4=()=>{var t;const n=St(),a=((t=n?.graphqlConfig.enhancedMetricsConfig)==null?void 0:t.resolverLevelMetricsBehavior)===Ch,o=[(0,l.Ay)`This feature requires enhanced monitoring.`,(0,l.Ay)`In Settings, enable enhanced monitoring, then set resolver metrics behavior to per-resolver.`].join(" ");return(0,i.useMemo)(()=>({header:{title:"Enhanced monitoring"},content:{fields:[N4(a)],posttext:!a&&i.createElement(_h,{text:o})}}),[a])},x4=({onChange:t,showErrors:n})=>[{label:(0,l.Ay)`Key`,errorText:a=>n?iu(a):"",control:(a,o)=>i.createElement(_I.A,{options:ms.map(s=>({value:s})),value:a,enteredTextLabel:()=>a,onChange:({detail:s})=>t(o,s.value)})}],xh=25,L4=ms[0];function k4({state:t,errors:n,stateKey:a,onChange:o}){const s=he.get(t,a,[]),c=()=>{if(s.length<xh){const f=s.concat(L4);o(a,f)}},u=({detail:f})=>{const y=[...s];y.splice(f.itemIndex,1),o(a,y)},p=(f,y)=>{const g=[...s];g.splice(f,1,y),o(a,g)},h=he.get(n,a);return i.createElement(Xo.A,{empty:(0,l.Ay)`No caching keys defined`,addButtonText:(0,l.Ay)`Add new key`,removeButtonText:(0,l.Ay)`Remove`,items:s,definition:x4({onChange:p,showErrors:h}),onAddButtonClick:c,onRemoveButtonClick:u,additionalInfo:`${xh-s.length} items can be added.`,disableAddButton:s.length>=xh})}const M4=t=>({label:"Caching",description:i.createElement("div",null,(0,l.Ay)`Server-side data caching capabilities make data available in a high speed, in-memory cache, improving performance and decreasing latency.`,"\xA0",(0,l.Ay)`There is a charge for caching.`,"\xA0",i.createElement(gt,{href:"https://docs.aws.amazon.com/appsync/latest/devguide/enabling-caching.html",text:"Learn more about pricing",variant:"info",ariaLabel:(0,l.Ay)`Link to 'Caching and compression' in the AppSync docs`})),type:se.TOGGLE,config:{label:"Enable caching",stateKey:"caching.enabled",disabled:!t?.apiCachingBehavior}}),F4=()=>({label:"Caching keys",description:"Specify caching keys for this resolver.",optional:!0,stretch:!0,hideErrors:!0,type:se.CUSTOM,config:{stateKey:"caching.keys",Component:k4,props:{}}});function U4({state:t,stateKey:n,onChange:a}){const o=he.get(t,n,"");return i.createElement("div",{className:"awsui-util-d-i"},i.createElement(He.A,{type:"number",step:1,className:"custom-input-small",autoComplete:!0,value:o,onChange:({detail:s})=>a(n,s.value)}))}const $4=()=>({label:"Caching time to live (TTL)",description:"Enter the TTL length, or the time during which cache entries will persist. TTL is measured in seconds.",type:se.CUSTOM,constraint:"TTL must be between 1 and 3600 seconds.",config:{stateKey:"caching.ttl",Component:U4,props:{}}}),j4=(t,n)=>{if(!t.enabled)return[];const a=[$4()];return n===Ne.PER_RESOLVER&&a.push(F4()),a},V4=t=>{const n=Wp(),a=!!n?.apiCachingBehavior;return(0,i.useMemo)(()=>({header:{title:"Caching detail"},content:{fields:[M4(n),...j4(t,n?.apiCachingBehavior)],posttext:!a&&i.createElement($C,{text:(0,l.Ay)`Caching is disabled for this API. Enable caching in the Caching page.`})}}),[t.enabled,t.keys,a])};function B4({isPerResolverMetricsEnabled:t}){const[n,a]=(0,i.useState)(!0),o=[(0,l.Ay)`This feature requires enhanced monitoring.`,(0,l.Ay)`In Settings, enable enhanced monitoring, then set resolver metrics behavior to per-resolver.`].join(" ");return i.createElement(mn.A,{headerText:(0,l.Ay)`Enhanced monitoring`,variant:"container",expanded:n,onChange:()=>a(!n)},i.createElement($.A,{size:"xl"},i.createElement(pi,{toggle:{disabled:!t,label:(0,l.Ay)`Enable enhanced monitoring`,"data-cy":"resolver-enhanced-metrics-toggle"},formField:{description:i.createElement(uR,null)},field:{name:ot.metricsConfig,format:s=>s===oe.g4.ENABLED,normalize:s=>s?oe.g4.ENABLED:oe.g4.DISABLED},panoramaTag:"enableResolverEnhancedMetrics"}),!t&&i.createElement(_h,{text:o})))}function G4(t){var n;const a=de(),[o,s]=(0,i.useState)(t.resolver.code),[c,u]=(0,i.useState)(t.resolver.requestMappingTemplate),[p,h]=(0,i.useState)(t.resolver.responseMappingTemplate),[f,y]=(0,i.useState)(((n=t.localResolverRecord.runtime)==null?void 0:n.name)===le.APPSYNC_JS),g=(E,b)=>{a((0,qe.Zg)(Ke.ResolverForm,E,b))};(0,i.useEffect)(()=>{var E;y(((E=t.localResolverRecord.runtime)==null?void 0:E.name)===le.APPSYNC_JS)},[t.localResolverRecord.runtime]),(0,i.useEffect)(()=>{s(t.resolver.code)},[t.resolver.code]),(0,i.useEffect)(()=>{u(t.resolver.requestMappingTemplate)},[t.resolver.requestMappingTemplate]),(0,i.useEffect)(()=>{h(t.resolver.responseMappingTemplate)},[t.resolver.responseMappingTemplate]);const A=Ed(t.resolver.kind);return i.createElement("form",{onSubmit:E=>E.preventDefault()},i.createElement($.A,{size:"l"},f?i.createElement(q7,{defaultCodeValue:o,setDefaultCodeValue:s,changeFieldValue:g,annotations:t.annotations,type:A}):i.createElement(A4,{resolverType:A,typeName:t.resolver.typeName,requestMappingTemplate:c,setDefaultRequestTemplate:u,responseMappingTemplate:p,setDefaultResponseTemplate:h,changeFieldValue:g}),A===pt.UNIT_RESOLVER&&i.createElement(D7,{baseResolver:t.resolver,localResolver:t.localResolverRecord,changeFieldValue:g}),i.createElement(I7,{perResolverCachingEnabled:t.perResolverCachingEnabled,cachingConfig:t.cachingConfig,defaultTtl:t.defaultTtl}),i.createElement(B4,{isPerResolverMetricsEnabled:t.isPerResolverMetricsEnabled})))}const z4=(0,qe.zW)({form:Ke.ResolverForm})(G4),q4={Query:()=>({}),Mutation:()=>({}),Subscription:()=>({})},K4=({fieldName:t,typeName:n,schema:a})=>{try{return new Qo({fieldName:t,typeName:n,mocker:new yg((0,Q.parse)(a),q4)})}catch{return new Qo}},W4=t=>t?l.Ay.translate("Resolver: ${0}",Ks(t).trim()):lu.title,H4=t=>lu.description[t]||"",J4=t=>lu.runtimeChange.code[t],Y4=(t,n)=>t===pt.UNIT_RESOLVER?{requestMappingTemplate:js[n]||"",responseMappingTemplate:Vs[n]||""}:lu.runtimeChange.mappingTemplates;function Sl(t){const n=t.cancelText||"Cancel",a=t.submitText||"Submit";return i.createElement(q.A,{float:"right"},i.createElement($.A,{direction:"horizontal",size:"xs"},i.createElement(K.A,{onClick:t.onCancel,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"cancel","data-testid":"modal-cancel",variant:"link"},l.Ay.translate(n)),i.createElement(K.A,{onClick:t.onSubmit,disabled:t.disabled,loading:t.loading,variant:"primary","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"save","data-testid":"modal-submit"},l.Ay.translate(a))))}function Q4({visible:t,handleDismiss:n,handleConfirm:a}){return i.createElement(xn.A,{closeAriaLabel:"Close",visible:t,header:(0,l.Ay)`Convert to pipeline resolver`,onDismiss:n,footer:i.createElement(Sl,{cancelText:"Cancel",onCancel:n,submitText:"Convert",onSubmit:a})},i.createElement("span",null,i.createElement(q.A,{variant:"p"},(0,l.Ay)`Are you sure you want to convert this to a pipeline resolver?`),i.createElement(q.A,{variant:"p"},(0,l.Ay)`AppSync will perform the following tasks:`,i.createElement("br",null),i.createElement("ol",null,i.createElement("li",null,(0,l.Ay)`Create a new function using your existing data source and mapping templates`),i.createElement("li",null,(0,l.Ay)`Update this resolver to a pipeline resolver which uses the function`))),i.createElement(q.A,{variant:"p"},(0,l.Ay)`This will also update the resolver version to ${"2018-05-29"}`,".\xA0",i.createElement(gt,{text:"Learn more",href:"https://docs.aws.amazon.com/appsync/latest/devguide/pipeline-resolvers.html"}))))}var X4=Object.defineProperty,Z4=Object.defineProperties,eJ=Object.getOwnPropertyDescriptors,dR=Object.getOwnPropertySymbols,tJ=Object.prototype.hasOwnProperty,nJ=Object.prototype.propertyIsEnumerable,pR=(t,n,a)=>n in t?X4(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Tl=(t,n)=>{for(var a in n||(n={}))tJ.call(n,a)&&pR(t,a,n[a]);if(dR)for(var a of dR(n))nJ.call(n,a)&&pR(t,a,n[a]);return t},pu=(t,n)=>Z4(t,eJ(n));const es=(0,qe.fj)(Ke.ResolverForm);function rJ(t){var n,a;const{apiId:o,versionId:s,typeName:c,fieldName:u}=(0,G.g)(),p=(0,G.Zp)(),h=de();Vt(vt.UNIT_RESOLVERS,ct.EDIT_RESOURCE);const f=ne(Ih({typeName:c,fieldName:u})),y=ne(J=>J.entities.get(ce(o,s,c,"resolver",u),new Sr)),g=(0,i.useRef)(y.recordStatus.status),A=ne(J=>{var Ee;const Te=Object.values(ot);return y.merge(pu(Tl({},es(J,...Te)),{runtime:new lr(es(J,ot.runtime)),pipelineConfig:new Us({functions:(0,T.List)(((Ee=es(J,ot.pipelineConfig))==null?void 0:Ee.functions)||[])}),cachingConfig:new $s(es(J,ot.cachingConfig)),syncConfig:new Qa(es(J,ot.syncConfig)),metricsConfig:es(J,ot.metricsConfig)}))}),[,E]=qr(),b=gc().lastSavedText,C=Wp(),I=C?.apiCachingBehavior===Ne.PER_RESOLVER,R=St(),L=((n=R?.graphqlConfig.enhancedMetricsConfig)==null?void 0:n.resolverLevelMetricsBehavior)===Ch,{recordStatus:P}=y,[F,x]=(0,i.useState)(new Qo),[O,j]=(0,i.useState)({evaluatedRequest:"",evaluatedResponse:"",requestErrored:!1,responseErrored:!1,annotations:[]}),[M,B]=(0,i.useState)(!1),[V,W]=(0,i.useState)({show:!1,runtime:Ve.APPSYNC_JS}),[Y,Z]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(!y.resolverArn){const J=new Sr({typeName:c,fieldName:u,apiId:o});h(tj({entity:J,metadata:{fetchFunctions:!0}}))}return x(K4({fieldName:u,typeName:c,schema:b})),ie},[c,u]),(0,i.useEffect)(()=>{y.resolverArn&&t.initialize(y)},[y.kind,y.resolverArn,y.runtime.name,y.runtime.runtimeVersion]),(0,i.useEffect)(()=>{const{status:J,detail:Ee,code:Te}=y.recordStatus,Ie=J===H.ERRORED&&Te===Fa.NOT_FOUND;g.current===H.DELETING&&J===H.NONE&&ye(),g.current=J,Ie&&p("../attach"),J===H.ERRORED&&Ee&&j(pu(Tl({},O),{annotations:P.detail})),J===H.UPDATE_SUCCESS&&Y&&Z(!1)},[P]);const ie=()=>{y&&h(Kt(N.RESOLVER)({entity:y.merge({recordStatus:new fe({status:H.NONE})})}))},ye=()=>{p("..")},ve=()=>{y&&h(Z$({entity:y}))},Ce=(J,Ee)=>{var Te;if(Ee===pt.PIPELINE_RESOLVER&&Ed(y.kind)===pt.UNIT_RESOLVER)return W({show:!0,runtime:J.name});const Ie=Ee===pt.UNIT_RESOLVER&&((Te=E.find(qt=>qt.name===A.dataSourceName))==null?void 0:Te.type),ft=y.merge(Tl({runtime:J},J.getRuntimeDependentFieldsFromEntity(pu(Tl({code:J4(Ee)},Y4(Ee,Ie)),{functionVersion:null}))));return h(DA({entity:ft}))},Ae=J=>{J.preventDefault();const Ee=A.runtime,Te=y.merge(pu(Tl({dataSourceName:A.dataSourceName,cachingConfig:A.cachingConfig,syncConfig:A.syncConfig,maxBatchSize:A.maxBatchSize,pipelineConfig:A.pipelineConfig,runtime:Ee},Ee.getRuntimeDependentFieldsFromEntity({code:A.code,requestMappingTemplate:A.requestMappingTemplate,responseMappingTemplate:A.responseMappingTemplate,functionVersion:null})),{metricsConfig:A?.metricsConfig}));h(DA({entity:Te}))};return!y.resolverArn||Y?i.createElement(yr,null):i.createElement(wn.A,{header:i.createElement($.A,{size:"m"},i.createElement($t,{info:i.createElement(Sa,null),title:W4(f),description:H4(A.kind),actions:i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(kC,{record:A,setShowAlert:B,setEvaluatedContext:j,suppliedSampleContexts:F}),i.createElement(UC,{isUpdate:!0,selectorType:Ed(A.kind),onDelete:ve,onSave:Ce,resourceName:A.fieldName,runtime:A.runtime,loading:P?.status===H.DELETING}),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Save`,loading:vn(P?.status),variant:"primary",onClick:Ae,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"save",disabled:!t.dirty},(0,l.Ay)`Save`))}),i.createElement(IC,{isJS:((a=A.runtime)==null?void 0:a.name)===Ve.APPSYNC_JS,showAlert:M,request:O.evaluatedRequest,response:O.evaluatedResponse,onClose:()=>B(!1),requestErrored:O.requestErrored,responseErrored:O.responseErrored}))},i.createElement(z4,{perResolverCachingEnabled:I,cachingConfig:A.cachingConfig,defaultTtl:C?.ttl,resolver:y,localResolverRecord:A,annotations:O.annotations,isPerResolverMetricsEnabled:L}),i.createElement(Q4,{visible:V.show,handleDismiss:J=>{J.preventDefault(),W({show:!1,runtime:Ve.APPSYNC_JS})},handleConfirm:J=>{J.preventDefault(),h(FB({resolver:A,runtime:V.runtime})),Z(!0),W({show:!1,runtime:Ve.APPSYNC_JS})}}))}const aJ=(0,qe.zW)({form:Ke.ResolverForm})(rJ);var iJ=Object.defineProperty,oJ=Object.defineProperties,sJ=Object.getOwnPropertyDescriptors,mR=Object.getOwnPropertySymbols,lJ=Object.prototype.hasOwnProperty,cJ=Object.prototype.propertyIsEnumerable,hR=(t,n,a)=>n in t?iJ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,fR=(t,n)=>{for(var a in n||(n={}))lJ.call(n,a)&&hR(t,a,n[a]);if(mR)for(var a of mR(n))cJ.call(n,a)&&hR(t,a,n[a]);return t},yR=(t,n)=>oJ(t,sJ(n));const uJ={title:l.Ay.translate(sn.title),description:l.Ay.translate("Configure your resolver"),containers:[]},gR=({state:t,selectedType:n,apiCacheRecord:a})=>{const[o,s]=dJ(a,t.caching);let c=!1,u={size:""},p=!1,h={lambda:""};return t.resolver.type===pt.UNIT_RESOLVER&&([c,u]=AR(n,t.dataSource.batching),[p,h]=ER(n,t.dataSource.conflictDetection)),[!!(c||p||o),{form:"",dataSource:{batching:u,conflictDetection:h},caching:s,metricsConfig:""}]},AR=(t,{enabled:n,size:a})=>{let o="";switch(!0){case(!n||t!==_.LAMBDA):break;case a===void 0:o=l.Ay.translate(dh.dataSource.batching.size.required);break;case(a<1||a>2e3):o=l.Ay.translate(dh.dataSource.batching.size.invalid,1,2e3);break;default:break}return[!!o,{size:o}]},ER=(t,{enabled:n,strategy:a,lambda:o})=>{let s="";switch(!0){case(!n||t!==_.DDB_DELTA_SYNC):break;case a===Ma.LAMBDA:{s=Me((0,l.Ay)`Lambda function ARN`)(o?.value)||"";break}default:break}return[!!s,{lambda:s}]},dJ=(t,{enabled:n,ttl:a,keys:o})=>{let s=!1,c="";const u=1,p=3600;switch(!0){case!n:break;case(a<u||a>p):c=l.Ay.translate(dh.caching.ttl.invalid,u,p);break;case t.apiCachingBehavior===Ne.PER_RESOLVER:s=pJ(o);break;default:break}return[!!c||s,{ttl:c,keys:!0}]},pJ=(t=[])=>t.some(n=>iu(n)),mJ=()=>({header:{title:l.Ay.translate(sn.containers.resolver.title)},content:{fields:[{label:l.Ay.translate(sn.containers.resolver.field.label),type:se.RADIO,config:{stateKey:"resolver.type",items:[{value:pt.UNIT_RESOLVER,label:l.Ay.translate(sn.containers.resolver.field.options.unit.label),description:l.Ay.translate(sn.containers.resolver.field.options.unit.description)},{value:pt.PIPELINE_RESOLVER,label:l.Ay.translate(sn.containers.resolver.field.options.pipeline.label),description:l.Ay.translate(sn.containers.resolver.field.options.pipeline.description)}]}}]},footer:{label:l.Ay.translate(sn.containers.resolver.footer.label),defaultExpanded:!0,fields:[{label:l.Ay.translate(sn.containers.resolver.footer.field.label),type:se.RADIO,config:{stateKey:"resolver.runtime",items:[{value:Ve.APPSYNC_JS,label:l.Ay.translate(sn.containers.resolver.footer.field.options.js.label),description:l.Ay.translate(sn.containers.resolver.footer.field.options.js.description)},{value:Ve.VTL,label:l.Ay.translate(sn.containers.resolver.footer.field.options.vtl.label),description:l.Ay.translate(sn.containers.resolver.footer.field.options.vtl.description)}]}}]}}),hJ=(t,n,a,o)=>{const s={dataSource:cR(a.dataSource),caching:V4(a.caching),metricsConfig:_4()};return yR(fR({},uJ),{info:{onFollow:o},description:n&&l.Ay.translate(sn.description,`${t}.${Ks(n).trim()}`),containers:[mJ(),...a.resolver.type===pt.UNIT_RESOLVER?[s.dataSource]:[],s.caching,s.metricsConfig]})},fJ=t=>{const n={name:t.runtime,runtimeVersion:Sc(t.runtime)};return new lr(n)},yJ=(t,n)=>{const a=t===pt.PIPELINE_RESOLVER;return{code:a?tn.resolver:tn.function,requestMappingTemplate:a?mm:js[n],responseMappingTemplate:a?hm:Vs[n]}},gJ=(t,n)=>{const a=n.apiCachingBehavior;return new $s({enableCaching:a!==Ne.NONE?t.enabled:!1,ttl:t.ttl,cachingKeys:a===Ne.PER_RESOLVER?(0,T.List)(t.keys):(0,T.List)()})},bR=(t,n)=>{var a;const o=!!(n===_.DDB_DELTA_SYNC&&t.enabled);return new Qa({conflictDetection:o?"VERSION":"NONE",conflictHandler:o?t.strategy:"",lambdaConflictHandlerConfig:new ko({lambdaConflictHandlerArn:o?(a=t.lambda)==null?void 0:a.value:""})})},vR=(t,n)=>n!==_.LAMBDA||!t.enabled?0:t.size,AJ=({state:t,selectedType:n,apiCacheRecord:a,typeName:o,fieldName:s,apiId:c})=>{var u,p;const h=yJ(t.resolver.type,n);return new Sr(yR(fR({typeName:o,fieldName:s,apiId:c,kind:R_(t.resolver.type),runtime:fJ(t.resolver),dataSourceName:(p=(u=t.dataSource)==null?void 0:u.selected)==null?void 0:p.value,pipelineConfig:new Us},h),{cachingConfig:gJ(t.caching,a),syncConfig:bR(t.dataSource.conflictDetection,n),maxBatchSize:vR(t.dataSource.batching,n),metricsConfig:t.metricsConfig?oe.g4.ENABLED:oe.g4.DISABLED}))};var EJ=Object.defineProperty,bJ=Object.defineProperties,vJ=Object.getOwnPropertyDescriptors,SR=Object.getOwnPropertySymbols,SJ=Object.prototype.hasOwnProperty,TJ=Object.prototype.propertyIsEnumerable,TR=(t,n,a)=>n in t?EJ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Lh=(t,n)=>{for(var a in n||(n={}))SJ.call(n,a)&&TR(t,a,n[a]);if(SR)for(var a of SR(n))TJ.call(n,a)&&TR(t,a,n[a]);return t},IJ=(t,n)=>bJ(t,vJ(n));function CJ(){const{typeName:t,fieldName:n,apiId:a}=(0,G.g)(),o=(0,G.Zp)(),s=de(),[,c]=qr(),u=Wp(),[p,h]=(0,i.useState)(JSON.parse(JSON.stringify(D3))),[f,y]=(0,i.useState)(JSON.parse(JSON.stringify(EI))),[g,A]=(0,i.useState)(!1),[E,b]=(0,i.useState)(!1),C=(0,i.useMemo)(()=>{var M;const B=c.find(V=>{var W;return V.name===((W=p.dataSource.selected)==null?void 0:W.value)});return B?.type===_.DYNAMODB&&((M=B?.dynamodbConfig)!=null&&M.versioned)?_.DDB_DELTA_SYNC:B?.type},[c,p.dataSource.selected]),I=ne(M=>{var B;const V=M.localSchema.typeRecords.find(W=>W.typeConfig.name===t);return(B=V?.typeConfig)==null?void 0:B.fields.find(W=>W.name===n)}),R=ne(M=>{var B;return(B=M.localSchema)==null?void 0:B.isInitialized}),L=ne(M=>{var B;return(B=M.entities.get(Sr.getKey(a,t,n)))==null?void 0:B.recordStatus});(0,i.useLayoutEffect)(()=>(s(Nn("form")),()=>{s(Nn("default"))}),[]),(0,i.useEffect)(()=>{L&&(L.status===H.CREATE_SUCCESS&&o("../resolver"),L.status===H.ERRORED&&(y(IJ(Lh({},EI),{form:L.message})),b(!1)))},[L]),(0,i.useEffect)(()=>{!I&&R&&o("..")},[R,I]),(0,i.useEffect)(()=>{if(g){const[,M]=gR({state:p,selectedType:C,apiCacheRecord:u});y(M)}},[p]);const F=hJ(t,I,p,()=>{s(Ct({get:Ac})),s(Co(!0))}),x=M=>{b(!0),A(!0),M.preventDefault();const[B,V]=gR({state:p,selectedType:C,apiCacheRecord:u});if(B){y(V),b(!1);return}const W=AJ({state:p,selectedType:C,apiCacheRecord:u,fieldName:n,typeName:t,apiId:a});s(X$({entity:W}))},O=(M,B)=>{h(Lh({},he.set(p,M,B)))},j=()=>{o(-1)};return!I||!u?i.createElement(yr,null):i.createElement(Uo,Lh({state:p,errors:g&&f,onCancel:j,onChange:O,saving:E,onSave:x},F))}function RJ(){const t=de();return(0,i.useLayoutEffect)(()=>{t(Ct({get:Ac}))},[]),i.createElement(G.BV,null,i.createElement(G.qh,{path:"attach",element:i.createElement(CJ,null)}),i.createElement(G.qh,{path:"resolver",element:i.createElement(aJ,null)}),i.createElement(G.qh,{path:"pipelineResolver",element:i.createElement(G.C5,{to:"../resolver"})}),i.createElement(G.qh,{path:"*",element:i.createElement(Ko,{to:"schema"})}))}function wJ(){return i.createElement(G.BV,null,i.createElement(G.qh,{index:!0,element:i.createElement(M5,null)}),i.createElement(G.qh,{path:"createResources",element:i.createElement(c5,null)}),i.createElement(G.qh,{path:":typeName/:fieldName/*",element:i.createElement(RJ,null)}),i.createElement(G.qh,{path:"*",element:i.createElement(G.C5,{to:"."})}))}var ts=v(79171),Xr=v(15608),PJ=Object.defineProperty,OJ=Object.defineProperties,DJ=Object.getOwnPropertyDescriptors,IR=Object.getOwnPropertySymbols,NJ=Object.prototype.hasOwnProperty,_J=Object.prototype.propertyIsEnumerable,CR=(t,n,a)=>n in t?PJ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,kh=(t,n)=>{for(var a in n||(n={}))NJ.call(n,a)&&CR(t,a,n[a]);if(IR)for(var a of IR(n))_J.call(n,a)&&CR(t,a,n[a]);return t},RR=(t,n)=>OJ(t,DJ(n));function xJ({handleDelete:t,handleEdit:n,handleNew:a,hasSelected:o}){return i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(K.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"edit",disabled:!o,onClick:n},(0,l.Ay)`Edit`),i.createElement(K.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"delete",disabled:!o,onClick:t},(0,l.Ay)`Delete`),i.createElement(K.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"createDataSource",onClick:a,variant:"primary"},(0,l.Ay)`Create data source`))}function LJ(){const[t,n]=(0,i.useState)([]),[a,o]=(0,i.useState)({pageSize:10}),s=St(),[c,u]=qr(),p=de(),h=(0,G.Zp)();Vt(vt.DATA_SOURCES,ct.LIST_RESOURCE),(0,i.useLayoutEffect)(()=>{const P=s.graphqlConfig.isMergedApi()?bb:qF;p(Ct({get:P}))},[s]);const{items:f,filteredItemsCount:y,collectionProps:g,filterProps:A,paginationProps:E}=(0,Wn.G)(u,{filtering:{fields:["name"]},pagination:{pageSize:a.pageSize},sorting:{},selection:{trackBy:"name",keepSelection:!0}}),b=()=>{const P=t[0];p(k$({entity:P}))},C=()=>{const P=t[0];h(`${P.name}/edit`)},I=()=>{h("new")},R=s.graphqlConfig.isMergedApi(),L=t.length>0;return i.createElement(wn.A,{header:i.createElement($.A,{size:"m"},i.createElement($t,{title:"Data sources",description:"Connect existing AWS resources to your API."}),i.createElement(fr,{entityType:N.DATA_SOURCE}))},i.createElement(Ht.A,RR(kh({},g),{loading:c,header:i.createElement(be.A,{variant:"h2",actions:!R&&i.createElement(xJ,{handleDelete:b,handleEdit:C,handleNew:I,hasSelected:L}),counter:t.length>0?`(${t.length}/${f.length})`:`(${f.length})`},(0,l.Ay)`Data sources`),empty:(0,l.Ay)`You do not have any data sources in this API.`,columnDefinitions:z6(),items:f,preferences:i.createElement(ts.A,{title:(0,l.Ay)`Preferences`,confirmLabel:(0,l.Ay)`Confirm`,cancelLabel:(0,l.Ay)`Cancel`,preferences:a,onConfirm:({detail:P})=>o(P),pageSizePreference:{title:(0,l.Ay)`Items per page`,options:[{value:5,label:"5"},{value:10,label:"10"},{value:20,label:"20"},{value:50,label:"50"}]}}),visibleColumns:a.visibleContent,filter:i.createElement(ur.A,RR(kh({},A),{countText:ei(y),filteringAriaLabel:(0,l.Ay)`Filter by data source name.`,filteringPlaceholder:(0,l.Ay)`Filter by data source name.`})),pagination:i.createElement(Xr.A,kh({},E)),selectionType:"single",selectedItems:t,onSelectionChange:P=>{n(P.detail.selectedItems)}})))}var kJ=Object.defineProperty,MJ=Object.defineProperties,FJ=Object.getOwnPropertyDescriptors,wR=Object.getOwnPropertySymbols,UJ=Object.prototype.hasOwnProperty,$J=Object.prototype.propertyIsEnumerable,PR=(t,n,a)=>n in t?kJ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,jJ=(t,n)=>{for(var a in n||(n={}))UJ.call(n,a)&&PR(t,a,n[a]);if(wR)for(var a of wR(n))$J.call(n,a)&&PR(t,a,n[a]);return t},VJ=(t,n)=>MJ(t,FJ(n));function Mh({fieldName:t,label:n,changeFieldValue:a,formValues:o,formValuesError:s,setFormValuesError:c,selectedRegion:u,hasSubmitted:p}){const[h,f]=In(pn.DDB,u),y=(0,i.useMemo)(()=>f.map(E=>({value:E,label:E})),[f.length,h]),g=t||z.DELTA_SYNC_TABLE_NAME,A=z[t];return i.createElement(X.A,{label:n,description:(0,l.Ay)`Select a table from the dropdown.`,errorText:p?s[t===z.DELTA_SYNC_TABLE_NAME?z.DELTA_SYNC_TABLE_NAME:A]:""},i.createElement(ze.A,{"data-testid":`data-source-${g}-dynamo-table-select`,filteringType:"auto",options:y,selectedOption:{value:t===z.DELTA_SYNC_TABLE_NAME?ou(t,o):o[A],label:t===z.DELTA_SYNC_TABLE_NAME?ou(t,o):o[A]},onChange:({detail:{selectedOption:E}})=>{a(t===z.DELTA_SYNC_TABLE_NAME?t:A,E.value)},onBlur:()=>{const E=t===z.DELTA_SYNC_TABLE_NAME?ou(t,o):o[A],b=t===z.DELTA_SYNC_TABLE_NAME?Yt(o)[t][fn]:Yt(o)[A][fn],C=_e(E,b);c(VJ(jJ({},s),{[t===z.DELTA_SYNC_TABLE_NAME?z.DELTA_SYNC_TABLE_NAME:A]:C}))},statusType:h?"loading":"finished"}))}var BJ=Object.defineProperty,GJ=Object.defineProperties,zJ=Object.getOwnPropertyDescriptors,OR=Object.getOwnPropertySymbols,qJ=Object.prototype.hasOwnProperty,KJ=Object.prototype.propertyIsEnumerable,DR=(t,n,a)=>n in t?BJ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,WJ=(t,n)=>{for(var a in n||(n={}))qJ.call(n,a)&&DR(t,a,n[a]);if(OR)for(var a of OR(n))KJ.call(n,a)&&DR(t,a,n[a]);return t},HJ=(t,n)=>GJ(t,zJ(n));const Fh={label:(0,l.Ay)`Enter a function ARN`,value:"manualArn"};function JJ({fieldName:t,changeFieldValue:n,formValues:a,formValuesError:o,setFormValuesError:s,selectedRegion:c,label:u,hasSubmitted:p}){const h=(0,i.useRef)(c),[f,y]=In(pn.LAMBDA,c),g=(0,i.useMemo)(()=>[Fh,{label:(0,l.Ay)`Select a Lambda function`,options:y.map(I=>({value:I,label:I}))}],[y.length,f]),A=z[t],[E,b]=(0,i.useState)(!1);(0,i.useEffect)(()=>{!E&&a[A]&&!y.includes(a[A])&&b(!0)},[y]),(0,i.useEffect)(()=>{!E&&h.current!==c&&(C(void 0),n(A,void 0),b(!1)),h.current=c},[c]);const C=I=>{const R=_e(I,Yt(a)[z.SELECTED_LAMBDA][fn]);s(HJ(WJ({},o),{[A]:R}))};return i.createElement($.A,{size:"l"},i.createElement(X.A,{label:u,description:(0,l.Ay)`Select an existing function.`,errorText:!E&&p?o[z.SELECTED_LAMBDA]:""},i.createElement(ze.A,{"data-testid":"lambda-function-select",options:g,filteringType:"auto",selectedOption:E?Fh:{value:a[A],label:a[A]},onChange:({detail:{selectedOption:I}})=>{const R=I.value===Fh.value,L=R?void 0:I.value;C(L),n(A,L),b(R)},statusType:f?"loading":"finished"})),E&&i.createElement(X.A,{label:(0,l.Ay)`Function ARN`,description:(0,l.Ay)`Manually enter a function ARN.`,errorText:p?o[z.SELECTED_LAMBDA]:""},i.createElement(He.A,{"data-testid":"lambda-function-input",placeholder:(0,l.Ay)`Enter function ARN`,disabled:!E||!f&&g?.length===0,value:a[A],onChange:({detail:I})=>{C(I.value),n(A,I.value)}})))}var YJ=Object.defineProperty,QJ=Object.defineProperties,XJ=Object.getOwnPropertyDescriptors,NR=Object.getOwnPropertySymbols,ZJ=Object.prototype.hasOwnProperty,e9=Object.prototype.propertyIsEnumerable,_R=(t,n,a)=>n in t?YJ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,t9=(t,n)=>{for(var a in n||(n={}))ZJ.call(n,a)&&_R(t,a,n[a]);if(NR)for(var a of NR(n))e9.call(n,a)&&_R(t,a,n[a]);return t},n9=(t,n)=>QJ(t,XJ(n));function xR({fieldName:t,label:n,description:a,changeFieldValue:o,formValues:s,formValuesError:c,setFormValuesError:u,selectedRegion:p,hasSubmitted:h}){const[f,y]=In(pn.OPEN_SEARCH,p),g=(0,i.useMemo)(()=>y.map(E=>({value:E,label:E})),[y.length,f]),A=z[t];return i.createElement(X.A,{label:n,description:a,errorText:h?c[A]:""},i.createElement(ze.A,{"data-testid":"open-elastic-select",filteringType:"auto",options:g,selectedOption:{value:s[A],label:s[A]},onChange:({detail:{selectedOption:E}})=>{o(A,E.value)},onBlur:()=>{const E=_e(s[A],Yt(s)[A][fn]);u(n9(t9({},c),{[t]:E}))},statusType:f?"loading":"finished"}))}var r9=Object.defineProperty,a9=Object.defineProperties,i9=Object.getOwnPropertyDescriptors,LR=Object.getOwnPropertySymbols,o9=Object.prototype.hasOwnProperty,s9=Object.prototype.propertyIsEnumerable,kR=(t,n,a)=>n in t?r9(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,MR=(t,n)=>{for(var a in n||(n={}))o9.call(n,a)&&kR(t,a,n[a]);if(LR)for(var a of LR(n))s9.call(n,a)&&kR(t,a,n[a]);return t},FR=(t,n)=>a9(t,i9(n));function l9({changeFieldValue:t,formValues:n,formValuesError:a,setFormValuesError:o,selectedRegion:s,hasSubmitted:c}){const[u,p]=In(pn.RDS,s),[h,f]=In(pn.SECRETS_MANAGER,s),y=(0,i.useMemo)(()=>p.map(A=>({value:A,label:A})),[p.length,u]),g=(0,i.useMemo)(()=>f.map(A=>({value:A,label:A})),[f.length,h]);return i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`Relational database source type`,description:(0,l.Ay)`Enter the source type for the relational database.`,errorText:c?a[z.RELATIONAL_DB_SOURCE_TYPE]:""},i.createElement(He.A,{"data-testid":"data-source-relational-database-source-type",value:n[z.RELATIONAL_DB_SOURCE_TYPE],onChange:({detail:A})=>{t(z.RELATIONAL_DB_SOURCE_TYPE,A.value)},disabled:!0,placeholder:"RDS_HTTP_ENDPOINT"})),p&&i.createElement(X.A,{label:(0,l.Ay)`RDS Cluster ARN`,description:(0,l.Ay)`Select an existing RDS Cluster ARN.`,errorText:c?a[z.DB_CLUSTER_IDENTIFIER]:""},i.createElement(ze.A,{"data-testid":"rds-cluster-select",filteringType:"auto",options:y,selectedOption:{value:n[z.DB_CLUSTER_IDENTIFIER],label:n[z.DB_CLUSTER_IDENTIFIER]},onChange:({detail:{selectedOption:A}})=>{t(z.DB_CLUSTER_IDENTIFIER,A.value)},onBlur:()=>{const A=_e(n[z.DB_CLUSTER_IDENTIFIER],Yt(n)[z.DB_CLUSTER_IDENTIFIER][fn]);o(FR(MR({},a),{[z.DB_CLUSTER_IDENTIFIER]:A}))},statusType:u?"loading":"finished"})),f&&i.createElement(X.A,{label:(0,l.Ay)`AWS Secret Store Arn containing the database username and password.`,description:(0,l.Ay)`Enter the AWS Secret Store Arn containing username and password`,errorText:c?a[z.AWS_SECRET_STORE_ARN]:""},i.createElement(ze.A,{"data-testid":"secret-store-select",filteringType:"auto",options:g,selectedOption:{value:n[z.AWS_SECRET_STORE_ARN],label:n[z.AWS_SECRET_STORE_ARN]},onChange:({detail:{selectedOption:A}})=>{t(z.AWS_SECRET_STORE_ARN,A.value)},onBlur:()=>{const A=_e(n[z.AWS_SECRET_STORE_ARN],Yt(n)[z.AWS_SECRET_STORE_ARN][fn]);o(FR(MR({},a),{[z.AWS_SECRET_STORE_ARN]:A}))},statusType:h?"loading":"finished"})))}var c9=Object.defineProperty,u9=Object.defineProperties,d9=Object.getOwnPropertyDescriptors,UR=Object.getOwnPropertySymbols,p9=Object.prototype.hasOwnProperty,m9=Object.prototype.propertyIsEnumerable,$R=(t,n,a)=>n in t?c9(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,h9=(t,n)=>{for(var a in n||(n={}))p9.call(n,a)&&$R(t,a,n[a]);if(UR)for(var a of UR(n))m9.call(n,a)&&$R(t,a,n[a]);return t},f9=(t,n)=>u9(t,d9(n));function jR({fieldName:t,changeFieldValue:n,formValues:a,formValuesError:o,setFormValuesError:s,hasSubmitted:c,label:u,description:p,placeholder:h}){const[f,y]=In(pn.IAM),g=(0,i.useMemo)(()=>y.map(E=>({value:E,label:E})),[y.length]),A=z[t];return i.createElement(X.A,{label:u||(0,l.Ay)`Select an existing role`,errorText:c?o[A]:"",description:p},i.createElement(ze.A,{"data-testid":"data-source-existing-role-select",filteringType:"auto",options:g,disabled:y.length===0,placeholder:h,selectedOption:{value:a[A],label:a[A]},onChange:({detail:{selectedOption:E}})=>{n(A,E.value)},onBlur:()=>{const E=_e(a[A],Yt(a)[A][fn]);s(f9(h9({},o),{[A]:E}))},statusType:f?"loading":"finished"}))}var y9=Object.defineProperty,g9=Object.defineProperties,A9=Object.getOwnPropertyDescriptors,VR=Object.getOwnPropertySymbols,E9=Object.prototype.hasOwnProperty,b9=Object.prototype.propertyIsEnumerable,BR=(t,n,a)=>n in t?y9(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Uh=(t,n)=>{for(var a in n||(n={}))E9.call(n,a)&&BR(t,a,n[a]);if(VR)for(var a of VR(n))b9.call(n,a)&&BR(t,a,n[a]);return t},$h=(t,n)=>g9(t,A9(n));function v9({changeFieldValue:t,formValues:n,formValuesError:a,setFormValuesError:o,hasSubmitted:s}){var c,u,p,h;const{httpConfig:f}=n,y=(u=(c=f?.authorizationConfig)==null?void 0:c.awsIamConfig)==null?void 0:u.signingServiceName,g=(h=(p=f?.authorizationConfig)==null?void 0:p.awsIamConfig)==null?void 0:h.signingRegion,A=!!f?.authorizationConfig;return i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`HTTP endpoint`,description:(0,l.Ay)`Enter the base URL of the HTTP endpoint.`,errorText:s?a[z.HTTP_ENDPOINT]:""},i.createElement(He.A,{"data-testid":"data-source-http-endpoint",value:n[z.HTTP_ENDPOINT],onChange:({detail:E})=>{t(z.HTTP_ENDPOINT,E.value)},onBlur:()=>{const E=_e(n[z.HTTP_ENDPOINT],Yt(n)[z.HTTP_ENDPOINT][fn]);o($h(Uh({},a),{[z.HTTP_ENDPOINT]:E}))},placeholder:(0,l.Ay)`e.g. https://api.my_domain.com`})),i.createElement(X.A,{label:(0,l.Ay)`Authorization configuration`,info:i.createElement(to,null),description:(0,l.Ay)`Enable authorization configuration in case the HTTP endpoint requires authorization.`},i.createElement(dr.A,{"data-testid":"data-source-enable-http-authorization-config-toggle",checked:A,onChange:({detail:E})=>E.checked?t(z.HTTP_CONFIG,new Ms({endpoint:f?.endpoint,authorizationConfig:new ov})):t(z.HTTP_CONFIG,new Ms({endpoint:f?.endpoint})),name:z.ENABLE_HTTP_AUTHORIZATION_CONFIG},(0,l.Ay)`Enable authorization configuration`)),A&&i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`Signing region`,description:(0,l.Ay)`The signing Region for AWS Identity and Access Management authorization.`,errorText:s?a[z.SIGNING_REGION]:""},i.createElement(vl,{region:g,placeholder:(0,l.Ay)`Select signing region`,setRegion:E=>{t(z.SIGNING_REGION,E);const b=Yt(n)[z.SIGNING_REGION][fn],C=_e(E,b);o($h(Uh({},a),{[z.SIGNING_REGION]:C}))}})),i.createElement(X.A,{label:(0,l.Ay)`Signing service name`,description:(0,l.Ay)`The signing service name for AWS Identity and Access Management authorization.`,errorText:s?a[z.SIGNING_SERVICE_NAME]:""},i.createElement(He.A,{"data-testid":"data-source-http-signing-service-name",value:y,onChange:({detail:E})=>{t(z.SIGNING_SERVICE_NAME,E.value)},onBlur:()=>{const E=_e(n[z.SIGNING_SERVICE_NAME],Yt(n)[z.SIGNING_SERVICE_NAME][fn]);o($h(Uh({},a),{[z.SIGNING_SERVICE_NAME]:E}))},placeholder:(0,l.Ay)`Type a name for your signing service`})),i.createElement(jR,{fieldName:"SERVICE_ROLE_ARN",formValues:n,formValuesError:a,changeFieldValue:t,setFormValuesError:o,hasSubmitted:s,label:(0,l.Ay)`IAM role`,description:i.createElement(i.Fragment,null,l.Ay.translate("An IAM role is required so that AWS AppSync can access your ${0}.",(0,l.Ay)`HTTP endpoint`),"\xA0",i.createElement(gt,{href:"https://docs.aws.amazon.com/appsync/latest/devguide/security_iam_service-with-iam.html#security_iam_service-with-iam-roles-service",text:(0,l.Ay)`Learn more`})),placeholder:(0,l.Ay)`Select IAM role`})))}function S9({type:t,formValues:n,formValuesError:a,setFormValuesError:o,changeFieldValue:s,hasSubmitted:c}){switch(t){case _.HTTP:return i.createElement(v9,{formValues:n,formValuesError:a,setFormValuesError:o,changeFieldValue:s,hasSubmitted:c});case _.RDS:return i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`Logical database name`,description:(0,l.Ay)`Enter the database name.`},i.createElement(He.A,{"data-testid":"data-source-database-name",value:n[z.DATABASE_NAME],onChange:({detail:u})=>{s(z.DATABASE_NAME,u.value)},placeholder:"e.g. database_name"})),i.createElement(X.A,{label:(0,l.Ay)`Database schema`,description:(0,l.Ay)`Enter the database schema.`},i.createElement(He.A,{"data-testid":"data-source-schema",value:n[z.SCHEMA],onChange:({detail:u})=>{s(z.SCHEMA,u.value)},placeholder:"e.g. database_schema"})));default:return null}}const T9=S9;var I9=Object.defineProperty,C9=Object.defineProperties,R9=Object.getOwnPropertyDescriptors,GR=Object.getOwnPropertySymbols,w9=Object.prototype.hasOwnProperty,P9=Object.prototype.propertyIsEnumerable,zR=(t,n,a)=>n in t?I9(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,qR=(t,n)=>{for(var a in n||(n={}))w9.call(n,a)&&zR(t,a,n[a]);if(GR)for(var a of GR(n))P9.call(n,a)&&zR(t,a,n[a]);return t},KR=(t,n)=>C9(t,R9(n));function O9({versioned:t,changeFieldValue:n,formValues:a,formValuesError:o,setFormValuesError:s,hasSubmitted:c}){return i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`Versioning`,info:i.createElement(to,null)},i.createElement(dr.A,{"data-testid":"data-source-version-toggle",checked:a[z.VERSIONED],onChange:({detail:u})=>{n(z.VERSIONED,u.checked)},name:z.VERSIONED},(0,l.Ay)`Enable data source versioning`)),t&&i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`Base table time to live (TTL in minutes)`,info:i.createElement(to,null),errorText:c?o[z.BASE_TABLE_TTL]:""},i.createElement(He.A,{"data-testid":"data-source-delta-sync-config-base-table-ttl",value:String(a[z.DELTA_SYNC_CONFIG][z.BASE_TABLE_TTL]||""),onChange:({detail:u})=>{n(z.BASE_TABLE_TTL,u.value)},onBlur:()=>{const u=_e(String(a[z.DELTA_SYNC_CONFIG][z.BASE_TABLE_TTL]||""),Yt(a)[z.BASE_TABLE_TTL][fn]);s(KR(qR({},o),{[z.BASE_TABLE_TTL]:u}))},type:"number"})),i.createElement(Mh,{fieldName:z.DELTA_SYNC_TABLE_NAME,label:(0,l.Ay)`Delta sync table name`,formValues:a,formValuesError:o,setFormValuesError:s,changeFieldValue:n,selectedRegion:a[z.REGION],hasSubmitted:c}),i.createElement(X.A,{label:(0,l.Ay)`Delta sync table time to live (TTL in minutes)`,info:i.createElement(to,null),errorText:c?o[z.DELTA_SYNC_TABLE_TTL]:""},i.createElement(He.A,{"data-testid":"data-source-delta-sync-config-delta-sync-table-ttl",value:String(a[z.DELTA_SYNC_CONFIG][z.DELTA_SYNC_TABLE_TTL]||""),onChange:({detail:u})=>{n(z.DELTA_SYNC_TABLE_TTL,u.value)},onBlur:()=>{const u=_e(String(a[z.DELTA_SYNC_CONFIG][z.DELTA_SYNC_TABLE_TTL]||""),Yt(a)[z.DELTA_SYNC_TABLE_TTL][fn]);s(KR(qR({},o),{[z.DELTA_SYNC_TABLE_TTL]:u}))},type:"number"}))))}var D9=Object.defineProperty,N9=Object.defineProperties,_9=Object.getOwnPropertyDescriptors,WR=Object.getOwnPropertySymbols,x9=Object.prototype.hasOwnProperty,L9=Object.prototype.propertyIsEnumerable,HR=(t,n,a)=>n in t?D9(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,k9=(t,n)=>{for(var a in n||(n={}))x9.call(n,a)&&HR(t,a,n[a]);if(WR)for(var a of WR(n))L9.call(n,a)&&HR(t,a,n[a]);return t},M9=(t,n)=>N9(t,_9(n));function F9({fieldName:t,changeFieldValue:n,formValues:a,formValuesError:o,setFormValuesError:s,selectedRegion:c,label:u,hasSubmitted:p}){const[h,f]=In(pn.EVENT_BRIDGE,c),y=(0,i.useMemo)(()=>f.map(A=>({value:A,label:A})),[f.length,h]),g=z[t];return i.createElement(X.A,{description:(0,l.Ay)`Select an event bus arn from the dropdown.`,label:u,errorText:p?o[g]:""},i.createElement(ze.A,{"data-testid":"event-bridge-select",filteringType:"auto",options:y,selectedOption:{value:a[g],label:a[g]},onChange:({detail:{selectedOption:A}})=>{n(g,A.value)},onBlur:()=>{const A=_e(a[g],Yt(a)[g][fn]);s(M9(k9({},o),{[g]:A}))},statusType:h?"loading":"finished"}))}function U9({metricsConfig:t,changeFieldValue:n,perDataSourceMetricsEnabled:a}){const o=t===oe.JK.ENABLED,s=[(0,l.Ay)`This feature requires enhanced monitoring.`,(0,l.Ay)`In Settings, enable enhanced monitoring, then set data source metrics behavior to per-data source.`].join(" ");return i.createElement($.A,{size:"xs"},i.createElement(X.A,{label:(0,l.Ay)`Enhanced monitoring`,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et("enhanced-metrics-toggle"),description:i.createElement(q.A,{color:"text-status-inactive",fontSize:"body-s",variant:"span"},(0,l.Ay)`Publishes additional metrics to CloudWatch.`,"\xA0",(0,l.Ay)`Additional charges apply.`,"\xA0",i.createElement(gt,{text:"Learn more about pricing",href:"https://aws.amazon.com/cloudwatch/pricing/"}))},i.createElement(dr.A,{checked:o,name:z.METRICSCONFIG,"data-testid":"enhanced-metrics-toggle-in-datasource",disabled:!a,"data-analytics-type":U.EVENT_VALUE,"data-analytics":et(o.toString()),onChange:({detail:c})=>{n(z.METRICSCONFIG,c.checked?oe.JK.ENABLED:oe.JK.DISABLED)}},(0,l.Ay)`Enable data source enhanced monitoring`)),!a&&i.createElement(_h,{text:s}))}function $9(t){return(0,i.useEffect)(()=>{t.selectedRole?t.changeFieldValue(z.ROLE_SOURCE,Dt.ROLE_EXISTING):t.changeFieldValue(z.ROLE_SOURCE,Dt.ROLE_NEW)},[]),i.createElement($.A,{size:"s"},i.createElement(X.A,{label:(0,l.Ay)`Create or use an existing role`,description:(0,l.Ay)`Allow AWS AppSync to securely interact with your data source.`,errorText:t.formValuesError[z.ROLE_SOURCE]},i.createElement(Tr.A,{"data-testid":"data-source-role-select",value:t.formValues[z.ROLE_SOURCE],onChange:({detail:{value:n}})=>{t.changeFieldValue(z.ROLE_SOURCE,n)},items:[{value:Dt.ROLE_NEW,label:(0,l.Ay)`New role`},{value:Dt.ROLE_EXISTING,label:(0,l.Ay)`Existing role`}]})),t.roleSource===Dt.ROLE_EXISTING&&i.createElement(jR,{fieldName:t.fieldName,formValues:t.formValues,formValuesError:t.formValuesError,changeFieldValue:t.changeFieldValue,setFormValuesError:t.setFormValuesError,hasSubmitted:t.hasSubmitted}))}const j9=Ve.APPSYNC_JS;function V9({type:t,hasSubmitted:n,formValues:a,formValuesError:o,setFormValuesError:s,changeFieldValue:c}){switch(t){case _.DYNAMODB:return i.createElement(Mh,{fieldName:"SELECTED_DDB",label:(0,l.Ay)`Table name`,formValues:a,formValuesError:o,setFormValuesError:s,changeFieldValue:c,selectedRegion:a[z.REGION],hasSubmitted:n});case _.DDB_DELTA_SYNC:return i.createElement(Mh,{fieldName:z.DELTA_SYNC_TABLE_NAME,label:(0,l.Ay)`Delta sync table name`,formValues:a,formValuesError:o,setFormValuesError:s,changeFieldValue:c,selectedRegion:a[z.REGION],hasSubmitted:n});case _.ELASTIC_SEARCH:return i.createElement(xR,{fieldName:"SELECTED_ES",label:(0,l.Ay)`Elasticsearch domain`,description:(0,l.Ay)`Select an existing Amazon Elasticsearch domain.`,formValues:a,formValuesError:o,setFormValuesError:s,changeFieldValue:c,selectedRegion:a[z.REGION],hasSubmitted:n});case _.OPEN_SEARCH:return i.createElement(xR,{fieldName:"SELECTED_OS",label:(0,l.Ay)`Amazon OpenSearch (successor to Amazon Elasticsearch) domain`,description:(0,l.Ay)`Select an existing Amazon OpenSearch (successor to Amazon Elasticsearch) domain.`,formValues:a,formValuesError:o,setFormValuesError:s,changeFieldValue:c,selectedRegion:a[z.REGION],hasSubmitted:n});case _.RDS:return i.createElement(l9,{formValues:a,formValuesError:o,setFormValuesError:s,changeFieldValue:c,selectedRegion:a[z.REGION],hasSubmitted:n});case _.LAMBDA:return i.createElement(JJ,{fieldName:"SELECTED_LAMBDA",formValues:a,label:(0,l.Ay)`Function`,formValuesError:o,setFormValuesError:s,changeFieldValue:c,selectedRegion:a[z.REGION],hasSubmitted:n});case _.EVENT_BRIDGE:return i.createElement(F9,{fieldName:"SELECTED_EB",formValues:a,label:(0,l.Ay)`Event bus ARN`,formValuesError:o,setFormValuesError:s,changeFieldValue:c,selectedRegion:a[z.REGION],hasSubmitted:n});default:return null}}function B9({changeFieldValue:t,baseTypeDefinitionSDL:n,selectedRuntime:a,dynamoDBAdapter:o}){const s=(0,pl.F)(new Xc.i);return i.createElement($.A,{size:"l"},i.createElement(it.A,{disableContentPaddings:!0,fitHeight:!0,header:i.createElement(be.A,null,(0,l.Ay)`Define an object type to hold data for this table.`),footer:i.createElement(ph,{updateRuntime:c=>t(z.SELECTED_RUNTIME,c),selectedRuntime:a===null?j9:a})},i.createElement(Xs,{value:n,onEdit:({value:c})=>t(z.BASE_TYPE_DEF_SDL,c),mode:IS(),Analytics:at})),i.createElement(it.A,{disableContentPaddings:!0,header:i.createElement(be.A,null,(0,l.Ay)`The following will be merged into your schema.`)},i.createElement(Ir.x,{content:o.getSDL(),lineNumbers:!0,highlight:s})))}var G9=Object.defineProperty,z9=Object.defineProperties,q9=Object.getOwnPropertyDescriptors,JR=Object.getOwnPropertySymbols,K9=Object.prototype.hasOwnProperty,W9=Object.prototype.propertyIsEnumerable,YR=(t,n,a)=>n in t?G9(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,mu=(t,n)=>{for(var a in n||(n={}))K9.call(n,a)&&YR(t,a,n[a]);if(JR)for(var a of JR(n))W9.call(n,a)&&YR(t,a,n[a]);return t},hu=(t,n)=>z9(t,q9(n)),H9=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const J9=Ve.APPSYNC_JS;function Y9({changeFieldValue:t,showAdditionalDynamoConfig:n,showInferenceToggle:a,formValues:o,versioned:s,formValuesError:c,setFormValuesError:u,hasSubmitted:p,enableGenerateGraphQL:h,perDataSourceMetricsEnabled:f}){return i.createElement($.A,{size:"l"},i.createElement(U9,{metricsConfig:o?.metricsConfig,changeFieldValue:t,perDataSourceMetricsEnabled:f}),n&&i.createElement(O9,{versioned:s,formValues:o,formValuesError:c,setFormValuesError:u,changeFieldValue:t,hasSubmitted:p}),a&&i.createElement(X.A,{label:(0,l.Ay)`Automatically generate GraphQL`,description:(0,l.Ay)`Turning this on will extend your existing schema and automatically configure resolvers.`,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"automaticallyGenerateGraphql"},i.createElement(dr.A,{"data-testid":"data-source-enable-generate-graphQL-toggle",checked:h,onChange:y=>t(z.ENABLE_GENERATE_GRAPHQL,y.detail.checked),"data-analytics-type":U.EVENT_VALUE,"data-analytics":h},(0,l.Ay)`Enable GraphQL auto generate`)))}function Q9({datasourceName:t,handleSubmit:n,localSchema:a,formValues:o,formError:s,formValuesError:c,setFormValuesError:u,changeFieldValue:p,hasSubmitted:h,isLoading:f,isCreate:y}){var g;const A=dn(),E=de(),[,b]=gb(t),[C,I]=(0,i.useState)(null),[R,L]=(0,i.useState)([]),P=St(),F=((g=P?.graphqlConfig.enhancedMetricsConfig)==null?void 0:g.dataSourceLevelMetricsBehavior)===Rh,x=(0,i.useRef)({formValues:o}),{type:O,name:j,selectedDDB:M,selectedES:B,selectedOS:V,roleSource:W,selectedLambda:Y,serviceRoleArn:Z,region:ie,versioned:ye,httpEndpoint:ve,selectedEB:Ce,dbClusterIdentifier:Ae,awsSecretStoreArn:J,baseTypeDefinitionSDL:Ee,enableGenerateGraphQL:Te,selectedRuntime:Ie,dynamoDBAdapter:ft,dynamoDBTableDescription:qt}=o,Ze=O===_.NONE,bt=O===_.HTTP,jt=O===_.DYNAMODB&&M||O===_.ELASTIC_SEARCH&&B||O===_.OPEN_SEARCH&&V||O===_.LAMBDA&&Y||O===_.HTTP&&ve||O===_.EVENT_BRIDGE&&Ce||O===_.RDS&&Ae&&J||Ze,_a=W===Dt.ROLE_EXISTING&&Z||W===Dt.ROLE_NEW,xr=O===_.DYNAMODB&&M&&ie,yo=y&&ft&&qt&&xr,dy=yo&&Te;(0,i.useEffect)(()=>{const me=Ee!==x.current.formValues.baseTypeDefinitionSDL||qt!==x.current.formValues.dynamoDBTableDescription||j!==x.current.formValues.name||W!==x.current.formValues.roleSource||Z!==x.current.formValues.serviceRoleArn,On=O!==x.current.formValues.type||M!==x.current.formValues.selectedDDB||ie!==x.current.formValues.region;O===_.DYNAMODB&&M&&ie&&(On&&bEe(),me&&EEe(a)),x.current.formValues.type!==O&&(A_(O),x.current.formValues.type&&p(z.REGION,"")),x.current.formValues=o},[o]),(0,i.useEffect)(()=>{t&&b?(p({[z.NAME]:t,[z.DESCRIPTION]:b.description,[z.TYPE]:b.type,[z.SERVICE_ROLE_ARN]:b.serviceRoleArn}),A_(b.type),py(b.dynamodbConfig),my(b.elasticsearchConfig),hEe(b.openSearchServiceConfig),fEe(b.eventBridgeConfig),yEe(b.lambdaConfig),gEe(b.httpConfig),AEe(b.relationalDatabaseConfig),b.serviceRoleArn?p(z.ROLE_SOURCE,Dt.ROLE_EXISTING):p(z.ROLE_SOURCE,Dt.ROLE_NEW)):(p(z.SELECTED_RUNTIME,J9),W||p(z.ROLE_SOURCE,Dt.ROLE_NEW))},[]),(0,i.useEffect)(()=>(E(Nn("form")),()=>{E(Nn("default")),E(Fi(N.DATA_SOURCE))}),[]);const py=me=>{me&&p({[z.REGION]:me.awsRegion,[z.SELECTED_DDB]:me.tableName,[z.VERSIONED]:me.versioned,[z.DELTA_SYNC_CONFIG]:me.deltaSyncConfig||new lm})},my=me=>{me&&p({[z.REGION]:me.awsRegion,[z.SELECTED_ES]:me.endpoint})},hEe=me=>{me&&p({[z.REGION]:me.awsRegion,[z.SELECTED_OS]:me.domainName})},fEe=me=>{if(me){const On=me.eventBusArn,xa=Ur(On);p({[z.REGION]:xa,[z.SELECTED_EB]:On})}},yEe=me=>{if(me){const On=me.lambdaFunctionArn,xa=Ur(On);p({[z.REGION]:xa,[z.SELECTED_LAMBDA]:On})}},gEe=me=>{me&&p({[z.ENABLE_HTTP_AUTHORIZATION_CONFIG]:!!me?.authorizationConfig,[z.HTTP_ENDPOINT]:me.endpoint,[z.HTTP_CONFIG]:me||new Ms})},AEe=me=>{me&&p({[z.REGION]:me.awsRegion,[z.RELATIONAL_DB_SOURCE_TYPE]:me.relationalDatabaseSourceType,[z.DB_CLUSTER_IDENTIFIER]:me.dbClusterIdentifier,[z.DATABASE_NAME]:me.databaseName,[z.SCHEMA]:me.schema,[z.AWS_SECRET_STORE_ARN]:me.awsSecretStoreArn})},EEe=me=>{try{const On=(0,Q.parse)(Ee),xa=(On.definitions&&On.definitions.length)>0?On.definitions[0]:null;if(qt&&xa&&xa.kind==="ObjectTypeDefinition"){const TEe=me.lastSavedText&&me.lastSavedText.length>0?(0,Q.parse)(me.lastSavedText).definitions:[{}],IEe=new Jl({typeDefinition:xa,tableDescription:qt,serviceRoleArn:W===Dt.ROLE_NEW?"":o.serviceRoleArn,apiId:A,dataSourceName:j||void 0,existingDefinitions:TEe});p(z.DDB_ADAPTER,IEe)}}catch{}},bEe=()=>H9(this,null,function*(){if(O===_.DYNAMODB&&M&&ie){const me=yield HE({TableName:M},ie);if(me&&me.Table){const On=dS(me.Table),xa=GK(On,me.Table);p({[z.DYNAMODBTABLEDESCRIPTION]:me.Table,[z.BASE_TYPE_DEF_SDL]:xa})}}}),A_=me=>{const On=me===_.RDS?Re.RDS_DATA:void 0;L(Gi(On))};if(C)return i.createElement(Ko,{to:C});const vEe=O||(xr||yo),SEe=i.createElement("i",null," - ",(0,l.Ay)`optional`);return i.createElement("form",{onSubmit:me=>n(me,o)},i.createElement(Rn.A,{actions:i.createElement(di,{onCancel:()=>I("/datasources"),disabled:!(j&&jt&&(Ze||_a)),submitText:b?(0,l.Ay)`Save`:(0,l.Ay)`Create`,isLoading:f}),errorText:s},i.createElement($.A,{size:"l"},i.createElement(it.A,{header:i.createElement(be.A,{variant:"h2"},b?(0,l.Ay)`Edit data source`:(0,l.Ay)`Create new data source`),footer:vEe&&i.createElement(Y9,{changeFieldValue:p,showAdditionalDynamoConfig:xr,showInferenceToggle:yo,formValues:o,versioned:ye,formValuesError:c,setFormValuesError:u,hasSubmitted:h,enableGenerateGraphQL:Te,perDataSourceMetricsEnabled:F})},i.createElement(eo.A,{borders:"horizontal"},i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`Data source name`,constraintText:Ah(),errorText:h?c[z.NAME]:""},i.createElement(He.A,{"data-testid":"data-source-name",value:o[z.NAME],onChange:({detail:me})=>{p(z.NAME,me.value)},onBlur:()=>{const me=_e(o[z.NAME],Yt(o)[z.NAME][fn]);u(hu(mu({},c),{[z.NAME]:me}))},disabled:!!b,placeholder:(0,l.Ay)`Type a name for your data source`})),i.createElement(X.A,{label:i.createElement(i.Fragment,null,(0,l.Ay)`Description`," ",SEe),errorText:h?c[z.DESCRIPTION]:""},i.createElement(Qs.A,{"data-testid":"data-source-description",value:o[z.DESCRIPTION],onChange:({detail:me})=>{p(z.DESCRIPTION,me.value)},onBlur:()=>{const me=_e(o[z.DESCRIPTION],Yt(o)[z.DESCRIPTION][fn]);u(hu(mu({},c),{[z.DESCRIPTION]:me}))},placeholder:(0,l.Ay)`Type a description for your data source`})),i.createElement(X.A,{label:(0,l.Ay)`Data source type`,description:(0,l.Ay)`Select the type of your data source.`,errorText:h?c[z.TYPE]:""},i.createElement(ze.A,{"data-testid":"data-source-type",controlId:"data-source-type-dropdown",options:j6(b),selectedOption:{value:o[z.TYPE],label:o[z.TYPE]},onChange:({detail:{selectedOption:me}})=>{p(z.TYPE,me.value)},onBlur:()=>{const me=_e(o[z.TYPE],Yt(o)[z.TYPE][fn]);u(hu(mu({},c),{[z.TYPE]:me}))}})),O&&!Ze&&!bt&&i.createElement(X.A,{label:(0,l.Ay)`Region`,description:(0,l.Ay)`Select the region that contains your data source.`,errorText:h?c[z.REGION]:""},i.createElement(ze.A,{"data-testid":"region-select",options:R,selectedOption:{value:o[z.REGION],label:o[z.REGION]},onChange:({detail:{selectedOption:me}})=>{p(z.REGION,me.value)},onBlur:()=>{const me=_e(o[z.REGION],Yt(o)[z.REGION][fn]);u(hu(mu({},c),{[z.REGION]:me}))}})),(bt||O&&ie)&&i.createElement(T9,{formValues:o,formValuesError:c,setFormValuesError:u,changeFieldValue:p,type:O,hasSubmitted:h}),O&&ie&&i.createElement(V9,{type:O,hasSubmitted:h,formValues:o,formValuesError:c,setFormValuesError:u,changeFieldValue:p}),O&&ie&&jt&&i.createElement($9,{fieldName:"SERVICE_ROLE_ARN",selectedRole:Z,formValues:o,formValuesError:c,changeFieldValue:p,roleSource:W,setFormValuesError:u,hasSubmitted:h})))),dy&&i.createElement(B9,{changeFieldValue:p,baseTypeDefinitionSDL:Ee,selectedRuntime:Ie,dynamoDBAdapter:ft}))))}var X9=Object.defineProperty,Z9=Object.defineProperties,eY=Object.getOwnPropertyDescriptors,QR=Object.getOwnPropertySymbols,tY=Object.prototype.hasOwnProperty,nY=Object.prototype.propertyIsEnumerable,XR=(t,n,a)=>n in t?X9(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,fu=(t,n)=>{for(var a in n||(n={}))tY.call(n,a)&&XR(t,a,n[a]);if(QR)for(var a of QR(n))nY.call(n,a)&&XR(t,a,n[a]);return t},jh=(t,n)=>Z9(t,eY(n)),rY=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});function ZR(){const t=(0,G.Zp)(),{datasourceName:n}=(0,G.g)(),a=!!n,[o,s]=(0,i.useState)(ya.getKey("",n)),[,c]=gb(n),u=de(),[p,h]=(0,i.useState)(null),f=ne(M=>M.localSchema),y=St(),[g,A]=(0,i.useState)(!1),[E,b]=(0,i.useState)(c?c.toJS():new ya().toJS()),[C,I]=(0,i.useState)(k6(Object.values(z)));Vt(vt.DATA_SOURCES,a?ct.EDIT_RESOURCE:ct.CREATE_RESOURCE),(0,i.useLayoutEffect)(()=>{const M=y?.graphqlConfig.isMergedApi()?bb:WF;u(Ct({get:M}))},[]),(0,i.useEffect)(()=>{s(ya.getKey("",n))},[n]);const R=(M,B)=>M===Dt.ROLE_NEW&&B!==_.NONE&&B!==_.HTTP,L=M=>{A(!0);const B={};return U6(M).forEach(V=>{var W;return(W=Yt(M)[V])==null?void 0:W.rules.forEach(()=>{let Y=M[V];const Z=Yt(M)[V].rules;mC.includes(V)?Y=ou(V,M):hC.includes(V)&&(Y=$6(V,M));const ie=_e(Y,Z);ie&&(B[V]=ie)})}),I(B),yS(),B},P=M=>Object.keys(M).some(B=>!!M[B]),F=(M,B)=>rY(this,null,function*(){var V;M.preventDefault();const W=L(B);if(P(W))return;const Y=new ya(B),Z=Y.get(z.ROLE_SOURCE),ie=Y.get(z.TYPE),ye=yield L6(Y),ve=Y.merge(ye).merge({apiId:y.apiId,description:Y.description,shouldCreateRole:R(Z,ie)});if(s(ve.getKey()),!!(!a&&ve.type===_.DYNAMODB&&ve.enableGenerateGraphQL&&ve.dynamoDBAdapter&&ve.baseTypeDefinitionSDL)){const J=(0,Q.parse)(ve.baseTypeDefinitionSDL).definitions[0];try{const Ee=Kp({adapter:ve.dynamoDBAdapter,typeDefinition:J,localSchema:f,createTable:!1,runtime:(V=ve.selectedRuntime)!=null?V:Ve.APPSYNC_JS});u(Dp(Ee)),t("..");return}catch(Ee){h(Ee.message);return}}u((a?x$:L$)({entity:ve}))}),x=(M,B)=>b(V=>{var W,Y;return jh(fu({},V),{httpConfig:{endpoint:V.httpEndpoint,authorizationConfig:{authorizationType:B6,awsIamConfig:{signingRegion:M===z.SIGNING_REGION?B:(W=V.httpConfig)==null?void 0:W.authorizationConfig.awsIamConfig.signingRegion,signingServiceName:M===z.SIGNING_SERVICE_NAME?B:(Y=V.httpConfig)==null?void 0:Y.authorizationConfig.awsIamConfig.signingServiceName}}}})}),O=(M,B)=>b(V=>{var W,Y,Z;return jh(fu({},V),{deltaSyncConfig:{baseTableTTL:Number(M===z.BASE_TABLE_TTL?B:(W=V.deltaSyncConfig)==null?void 0:W.baseTableTTL),deltaSyncTableName:M===z.DELTA_SYNC_TABLE_NAME?B:(Y=V.deltaSyncConfig)==null?void 0:Y.deltaSyncTableName,deltaSyncTableTTL:Number(M===z.DELTA_SYNC_TABLE_TTL?B:(Z=V.deltaSyncConfig)==null?void 0:Z.deltaSyncTableTTL)}})}),j=(M,B)=>typeof M=="string"?hC.includes(M)?x(M,B):mC.includes(M)?O(M,B):b(V=>jh(fu({},V),{[M]:B})):b(V=>{const W=fu({},V);return Object.keys(M).forEach(Y=>{W[Y]=M[Y]}),W});return i.createElement(wn.A,{header:i.createElement($.A,{size:"m"},i.createElement($t,{title:a?(0,l.Ay)`Update Data Source`:(0,l.Ay)`New Data Source`}),i.createElement(m8,{recordKey:o,redirectToOnSuccess:"/datasources"}))},i.createElement(Q9,{datasourceName:n,localSchema:f,formError:p,formValues:E,formValuesError:C,setFormValuesError:I,handleSubmit:F,changeFieldValue:j,isLoading:c?.recordStatus&&vn(c.recordStatus.status),isCreate:!a,hasSubmitted:g}))}function aY(){return i.createElement(G.BV,null,i.createElement(G.qh,{index:!0,element:i.createElement(LJ,null)}),i.createElement(G.qh,{path:":datasourceName/edit",element:i.createElement(ZR,null)}),i.createElement(G.qh,{path:"new",element:i.createElement(ZR,null)}),i.createElement(G.qh,{path:"*",element:i.createElement(G.C5,{to:"."})}))}var iY=Object.defineProperty,oY=Object.defineProperties,sY=Object.getOwnPropertyDescriptors,ew=Object.getOwnPropertySymbols,lY=Object.prototype.hasOwnProperty,cY=Object.prototype.propertyIsEnumerable,tw=(t,n,a)=>n in t?iY(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,yu=(t,n)=>{for(var a in n||(n={}))lY.call(n,a)&&tw(t,a,n[a]);if(ew)for(var a of ew(n))cY.call(n,a)&&tw(t,a,n[a]);return t},Vh=(t,n)=>oY(t,sY(n));const uY=()=>[{cell:t=>i.createElement(qo,{to:`/functions/${t.functionId}/edit`,text:t.name}),header:i.createElement("span",null,(0,l.Ay)`Name`),id:"name",sortingField:"name"},{cell:t=>t.description,header:i.createElement("span",null,(0,l.Ay)`Description`),id:"desc"},{cell:t=>t.runtime.name,header:i.createElement("span",null,(0,l.Ay)`Runtime`),id:"runtime"},{cell:t=>i.createElement(qo,{to:`/datasources/${t.dataSourceName}/edit`,text:t.dataSourceName}),header:i.createElement("span",null,(0,l.Ay)`Data Source`),id:"ds_name",sortingField:"dataSourceName"}];function dY({hasSelected:t,handleEdit:n,handleDelete:a,handleNew:o}){return i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(K.A,{ariaLabel:(0,l.Ay)`Edit`,disabled:!t,onClick:n,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"edit"},(0,l.Ay)`Edit`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Delete`,disabled:!t,onClick:a,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"delete"},(0,l.Ay)`Delete`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Create function`,variant:"primary",onClick:o,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"createFunction"},(0,l.Ay)`Create function`))}function pY(t){const n=de(),[a,o]=(0,i.useState)([]),[s,c]=(0,i.useState)({pageSize:50}),{selectedApiId:u,selectedVersionId:p}=ne(x=>x.environment),h=(0,G.Zp)(),y=St().graphqlConfig.isMergedApi();Vt(vt.FUNCTIONS,ct.LIST_RESOURCE),(0,i.useEffect)(()=>{n(LA({paginationKey:{apiId:u,versionId:p},paginateRecord:new ke}))},[]);const{items:g,filteredItemsCount:A,collectionProps:E,filterProps:b,paginationProps:C}=(0,Wn.G)(t.functions.toArray()||[],{filtering:{fields:["name"],empty:t.isLoading?i.createElement(Et.A,{size:"large"}):i.createElement(q.A,{variant:"p",color:"text-body-secondary"},(0,l.Ay)`You do not have any functions in this API.`)},pagination:{pageSize:s.pageSize},sorting:{},selection:{trackBy:"functionId",keepSelection:!0}}),I=()=>{const x=a[0];n(xA({entity:x}))},R=()=>{const x=a[0];h(`${x.functionId}/edit`)},L=()=>{h("new")},P=a.length>0,F={selectionType:"single",selectedItems:a,onSelectionChange:x=>{o(x.detail.selectedItems)}};return i.createElement(wn.A,{header:i.createElement($.A,{size:"m"},i.createElement($t,{title:"Functions",description:"A function performs a single operation against a data source and can be used inside a pipeline resolver, which can contain one or more functions."}),i.createElement(fr,{entityType:N.RESOLVER_FUNCTION}))},i.createElement(Ht.A,Vh(yu(Vh(yu({},E),{header:i.createElement(be.A,{actions:!y&&i.createElement(dY,{hasSelected:P,handleEdit:R,handleDelete:I,handleNew:L}),counter:a?.length>0?`(${a.length}/${g.length})`:`(${g.length})`},(0,l.Ay)`Functions`),columnDefinitions:uY(),items:g,preferences:i.createElement(ts.A,{title:(0,l.Ay)`Preferences`,confirmLabel:(0,l.Ay)`Confirm`,cancelLabel:(0,l.Ay)`Cancel`,preferences:s,onConfirm:({detail:x})=>c(x),pageSizePreference:{title:(0,l.Ay)`Items per page`,options:[{value:10,label:"10"},{value:25,label:"25"},{value:50,label:"50"},{value:100,label:"100"}]}}),visibleColumns:s.visibleContent,filter:i.createElement(ur.A,Vh(yu({},b),{countText:ei(A),filteringAriaLabel:(0,l.Ay)`Filter`,filteringPlaceholder:(0,l.Ay)`Filter`})),pagination:i.createElement(Xr.A,yu({},C))}),y?{}:F),{"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"functions"})))}const mY=t=>{const n=t.environment.selectedApiId,a=t.environment.selectedVersionId,o=ce(n,a),s=t.pagination.functionsByGraphqlApiVersion.get(o),c=s?s.items.map(p=>t.entities.get(p)):[];return{functions:(0,T.List)(c),isLoading:s?s.isLoading:!0}},hY=(0,te.connect)(mY)(pY),fY=[{label:"General",options:[{label:"Get item by id",value:`## Below example shows how to look up an item with a Primary Key of "id" from GraphQL arguments
## The helper $util.dynamodb.toDynamoDBJson automatically converts to a DynamoDB formatted request
## There is a "context" object with arguments, identity, headers, and parent field information you can access.
## It also has a shorthand notation avaialable:
##  - $context or $ctx is the root object
##  - $ctx.arguments or $ctx.args contains arguments
##  - $ctx.identity has caller information, such as $ctx.identity.username
##  - $ctx.request.headers contains headers, such as $context.request.headers.xyz
##  - $ctx.source is a map of the parent field, for instance $ctx.source.xyz
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference.html

{
    "operation": "GetItem",
    "key": {
        "id": $util.dynamodb.toDynamoDBJson($ctx.args.id),
    }
}`},{label:"List items",value:`## Below example will return all items in a table using a Scan
## Filtering conditions can be optionally added to scans with a "filter" and an "expression", however
##   if possible it is best practice to use a Query and/or Index for frequent conditionals
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference-dynamodb.html#aws-appsync-resolver-mapping-template-reference-dynamodb-scan
## You can also paginate through records in a table by using "nextToken" and "limit", which can be
##   arguments passed from your GraphQL query in a client application (you can uncomment out below)
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/configuring-resolvers.html#advanced-resolvers

{
    "operation" : "Scan",
    ## Add 'limit' and 'nextToken' arguments to this field in your schema to implement pagination. **
    ## "limit": $util.defaultIfNull(\${ctx.args.limit}, 20),
    ## "nextToken": $util.toJson($util.defaultIfNullOrBlank($ctx.args.nextToken, null))
}`},{label:"Put item",value:`## Below example shows how to create an object from all provided GraphQL arguments
## The primary key of the obejct is a randomly generated UUD using the $util.autoId() utility
## Other utilities include $util.matches() for regular expressions, $util.time.nowISO8601() or
##   $util.time.nowEpochMilliSeconds() for timestamps, and even List or Map helpers like
##   $util.list.copyAndRetainAll() $util.map.copyAndRemoveAllKeys() for shallow copies
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-context-reference.html#utility-helpers-in-util

{
    "operation" : "PutItem",
    "key" : {
        ## If object "id" should come from GraphQL arguments, change to $util.dynamodb.toDynamoDBJson($ctx.args.id)
        "id": $util.dynamodb.toDynamoDBJson($util.autoId()),
    },
    "attributeValues" : $util.dynamodb.toMapValuesJson($ctx.args)
}`},{label:"Put item with S3 Object",value:`## Below example will automatically use the S3Link functionality to create a pointer in your table
##   to an S3 bucket. This should be used in conjunction with the AppSync client SDK which coordinates
##   the object upload/download to S3. It requires an "S3Object" type in your GraphQL schema.
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/building-a-client-app-react.html#complex-objects
{
    "operation" : "PutItem",
    "key" : {
        "id" : { "S" : "\${util.autoId()}" }
    },
    #set( $attribs = $util.dynamodb.toMapValues($ctx.args) )
    #if($util.isNull($ctx.args.file.version))
        #set( $attribs.file = $util.dynamodb.toS3Object($ctx.args.file.key, $ctx.args.file.bucket, $ctx.args.file.region))
    #else
        #set( $attribs.file = $util.dynamodb.toS3Object($ctx.args.file.key, $ctx.args.file.bucket, $ctx.args.file.region, $ctx.args.file.version))
    #end
    "attributeValues" : $util.toJson($attribs)
}`},{label:"Delete item by id",value:`{
    "operation" : "DeleteItem",
    "key" : {
        ## If your table's hash key is not named 'id', update it here. **
        "id" : { "S" : "\${ctx.args.id}" }
        ## If your table has a sort key, add it as an item here. **
    }
}`}]},{label:"Queries",options:[{label:"Simple query",value:`## Below example shows an equality query to find an item by GraphQL input argument of "id"
## Queries can be run against a table or an index, which can be more performant than a Scan operation
##   If using an index you will also provide an "index" : "indexname" where indexname is the name of your index
## "expression" is the logical EQUALITY condition that will be evaluated
## "espressionValues" is the attribute in DynamoDB that you're evaluating the "expression" condition against
## You can optionally provide "filter" that will filter the results returned from a query
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference-dynamodb.html#aws-appsync-resolver-mapping-template-reference-dynamodb-query

{
    "operation" : "Query",
    "query" : {
        ## Provide a query expression. **
        "expression": "id = :id",
        "expressionValues" : {
            ":id" : $util.dynamodb.toDynamoDBJson($ctx.args.id)
        }
    }
}`},{label:"Query with greater than expression",value:`{
    "operation" : "Query",
    "query" : {
        ## Provide a query expression. **
        "expression": "id = :id and createdAt > :createdAt",
        "expressionValues" : {
            ":id" : {
                "S" : "\${ctx.args.id}"
            },
            ":createdAt": {
                "S": "\${ctx.args.createdAt}"
            }
        }
    }
}`},{label:"Query with filter on index",value:`## Below example shows an example of a query against a table, indexed by the "name" attribute
## The query returns any items in the index matching a certain "name", and then applies a
##    filter to the results to match only the results with a certain "city" attribute
## "expressionNames" is used as a placeholder or alias to the DynamoDB attribute, and is
##    necessary for certain reserved attribute keywords like "name" or "owner"
## "filter" : "expression" is the logical condition applied after the query runs, you can use:
##   - NOT_NULL(), NULL(), CONTAINS(), NOT_CONTAINS()
##    - This also works for attributes that are sets. For example, you can use "expression" : "contains(projects, :favfood)
##      to check an attribute called "projects" of type String Set ("SS") for matches of a certain favorite food
##   - BEGINS_WITH(), IN(), BETWEEN()
##   - Comparators: >, <. >=, <= can be used for the "expression" key inside a filter
##     - For example, "expression" : "#age > :age" would work on an attribute of type number
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference-dynamodb.html#aws-appsync-resolver-mapping-template-reference-dynamodb-filter

{
    "operation" : "Query",
    "index" : "name-index",
    "query" : {
        "expression": "#name = :name",
        "expressionNames" : {
        "#name" : "name"
    },
        "expressionValues" : {
            ":name" : {
                "S" : $util.dynamodb.toDynamoDBJson($ctx.args.name)
            }
        }
    },
    "filter" : {
        "expression" : "contains(#city, :city)",
        "expressionNames" : {
            "#city" : "city"
        },
        "expressionValues" : {
            ":city" : $util.dynamodb.toDynamoDBJson($ctx.args.city)
        }
    }
}`},{label:"Query with contains expression",value:`{
    "operation" : "Query",
    "query" : {
        ## Provide a query expression. **
        "expression": "id = :id",
        "expressionValues" : {
            ":id" : {
                "S" : "\${ctx.args.id}"
            }
        }
    },
    "filter": {
        "expression": "contains(tags, :tag)",
        "expressionValues" : {
            ":tag": {
                "S": "\${ctx.args.tag}"
            }
        }
    }
}`},{label:"Get all items created today",value:`#set( $todayString = $util.time.nowISO8601().substring(0, 10) )
{
    "operation" : "Query",
    "query" : {
        ## Provide a query expression. **
        "expression": "id = :id and begins_with(createdAt, :today)",
        "expressionValues" : {
            ":id" : {
                "S" : "\${ctx.args.id}"
            },
            ":today": {
                "S": "$todayString"
            }
        }
    }
}`},{label:"Simple query with pagination",value:`{
    "operation" : "Query",
    "query" : {
        ## Provide a query expression. **
        "expression": "id = :id",
        "expressionValues" : {
            ":id" : {
                "S" : "\${ctx.args.id}"
            }
        }
    },
    ## Add 'limit' and 'nextToken' arguments to this field in your schema to implement pagination. **
    "limit": $util.defaultIfNull(\${ctx.args.limit}, 20),
    "nextToken": $util.toJson($util.defaultIfNullOrBlank($ctx.args.nextToken, null))
}`}]},{label:"Batch operations",options:[{label:"Batch get items",value:`## Example below shows single-table batch read where the table name is "Posts" and the items in
##   DynamoDB have a primary key of "id". You can read from multiple tables at once by
##   specifying each table name under "tables" - e.g. "tables": {"Table1": "...", "Table2": "..."}
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/tutorial-dynamodb-batch.html

#set($ids = [])
#foreach($id in \${ctx.args.ids})
    #set($map = {})
    $util.qr($map.put("id", $util.dynamodb.toString($id)))
    $util.qr($ids.add($map))
#end

{
    "operation" : "BatchGetItem",
    "tables" : {
        "Posts": {
            "keys": $util.toJson($ids),
            "consistentRead": true
        }
    }
}`},{label:"Batch put items",value:`## Example below shows single-table batch write where the table name is "Posts" and the objects
##   passed as arguments are written to DynamoDB. You can write to multiple tables at once by
##   specifying each table name under "tables" - e.g. "tables": {"Table1": "...", "Table2": "..."}
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/tutorial-dynamodb-batch.html

#set($postsdata = [])
#foreach($item in \${ctx.args.posts})
    $util.qr($postsdata.add($util.dynamodb.toMapValues($item)))
#end

{
    "operation" : "BatchPutItem",
    "tables" : {
        "Posts": $utils.toJson($postsdata)
    }
}`},{label:"Batch delete items",value:`## Example below shows single-table batch delete where the table name is "Posts" and the items in
##   DynamoDB have a primary key of "id". You can delete from multiple tables at once by
##   specifying each table name under "tables" - e.g. "tables": {"Table1": "...", "Table2": "..."}
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/tutorial-dynamodb-batch.html

#set($ids = [])
#foreach($id in \${ctx.args.ids})
    #set($map = {})
    $util.qr($map.put("id", $util.dynamodb.toString($id)))
    $util.qr($ids.add($map))
#end

{
    "operation" : "BatchDeleteItem",
    "tables" : {
        "Posts": $util.toJson($ids)
    }
}`}]},{label:"Authorization",options:[{label:"Cognito User Pool group access",value:`#set($expression = "")
#set($expressionValues = {})
#foreach($group in $ctx.identity.claims.get("cognito:groups"))
    #set( $expression = "\${expression} contains(groupsCanAccess, :var$foreach.count )" )
    #set( $val = {})
    #set( $test = $val.put("S", $group))
    #set( $values = $expressionValues.put(":var$foreach.count", $val))
    #if ( $foreach.hasNext )
    #set( $expression = "\${expression} OR" )
    #end
#end
{
    "operation" : "Scan",
    "filter":{
        "expression": "$expression",
        "expressionValues": $utils.toJson($expressionValues)
    }
}`},{label:"Put item with Cognito identity",value:`#set( $attributes = $util.dynamodb.toMapValues($ctx.args) )
$util.qr($attributes.put("identity", $ctx.identity.cognitoIdentityId))
{
    "operation" : "PutItem",
    "key" : {
        "id" : { "S" : "\${context.args.id}" }
    },
    "attributeValues": $util.toJson($attributes)
}`},{label:"Owner can delete an item",value:`{
    "operation" : "DeleteItem",
    "key" : {
        "id" : { "S" : "\${context.args.id}" }
    },
    "condition" : {
        "expression"       : "contains(Owner,:expectedOwner)",
        "expressionValues" : {
            ":expectedOwner" : { "S" : "\${context.identity.username}" }
        }
    }
}`}]},{label:"Offline client",options:[{label:"Offline-enabled put item",value:`{
    "operation" : "PutItem",
    "key": {
        "id": { "S" : "$utils.autoId()"}
    },
    #set( $attribs = $util.dynamodb.toMapValues($ctx.args) )
    $util.qr($attribs.remove("relayState"))
    #set( $attribs.version = { "N" : 1 } )
    "attributeValues" : $util.toJson($attribs)
}`},{label:"Conditional update with version",value:`{
    "operation" : "UpdateItem",
    "key" : {
        "id" : $util.dynamodb.toDynamoDBJson($ctx.args.id)
    },

    ## Set up some space to keep track of things we're updating **
    #set( $expNames  = {} )
    #set( $expValues = {} )
    #set( $expSet = {} )
    #set( $expAdd = {} )
    #set( $expRemove = [] )

    ## Increment "version" by 1 **
    $!{expAdd.put("version", ":one")}
    $!{expValues.put(":one", $util.dynamodb.toDynamoDB(1))}

    ## Iterate through each argument, skipping "id" and "expectedVersion" **
    #foreach( $entry in $util.map.copyAndRemoveAllKeys($ctx.args, ["id","expectedVersion"]).entrySet() )
        #if( $util.isNull($entry.value) )
            ## If the argument is set to "null", then remove that attribute from the item in DynamoDB **

            #set( $discard = \${expRemove.add("#\${entry.key}")} )
            $!{expNames.put("#\${entry.key}", "\${entry.key}")}
        #else
            ## Otherwise set (or update) the attribute on the item in DynamoDB **

            $!{expSet.put("#\${entry.key}", ":\${entry.key}")}
            $!{expNames.put("#\${entry.key}", "\${entry.key}")}
            $!{expValues.put(":\${entry.key}", $util.dynamodb.toDynamoDB($entry.value))}
        #end
    #end

    ## Start building the update expression, starting with attributes we're going to SET **
    #set( $expression = "" )
    #if( !\${expSet.isEmpty()} )
        #set( $expression = "SET" )
        #foreach( $entry in $expSet.entrySet() )
            #set( $expression = "\${expression} \${entry.key} = \${entry.value}" )
            #if ( $foreach.hasNext )
                #set( $expression = "\${expression}," )
            #end
        #end
    #end

    ## Continue building the update expression, adding attributes we're going to ADD **
    #if( !\${expAdd.isEmpty()} )
        #set( $expression = "\${expression} ADD" )
        #foreach( $entry in $expAdd.entrySet() )
            #set( $expression = "\${expression} \${entry.key} \${entry.value}" )
            #if ( $foreach.hasNext )
                #set( $expression = "\${expression}," )
            #end
        #end
    #end

    ## Continue building the update expression, adding attributes we're going to REMOVE **
    #if( !\${expRemove.isEmpty()} )
        #set( $expression = "\${expression} REMOVE" )

        #foreach( $entry in $expRemove )
            #set( $expression = "\${expression} \${entry}" )
            #if ( $foreach.hasNext )
                #set( $expression = "\${expression}," )
            #end
        #end
    #end

    ## Finally, write the update expression into the document, along with any expressionNames and expressionValues **
    "update" : {
        "expression" : "\${expression}",
        #if( !\${expNames.isEmpty()} )
            "expressionNames" : $utils.toJson($expNames),
        #end
        #if( !\${expValues.isEmpty()} )
            "expressionValues" : $utils.toJson($expValues),
        #end
    },

    "condition" : {
        "expression"       : "version = :expectedVersion",
        "expressionValues" : {
            ":expectedVersion" : $util.dynamodb.toDynamoDBJson($ctx.args.expectedVersion)
        }
    }
}`}]}],yY=`## Below example shows how to look up an item with a Primary Key of "id" from GraphQL arguments
## The helper $util.dynamodb.toDynamoDBJson automatically converts to a DynamoDB formatted request
## There is a "context" object with arguments, identity, headers, and parent field information you can access.
## It also has a shorthand notation avaialable:
##  - $context or $ctx is the root object
##  - $ctx.arguments or $ctx.args contains arguments
##  - $ctx.identity has caller information, such as $ctx.identity.username
##  - $ctx.request.headers contains headers, such as $context.request.headers.xyz
##  - $ctx.source is a map of the parent field, for instance $ctx.source.xyz
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference.html

{
    "operation": "GetItem",
    "key": {
        "id": $util.dynamodb.toDynamoDBJson($ctx.args.id),
    }
}`,nve=null,gY=[{label:"Get document by id",value:`#**
    Use the 'path' to get a single value by id.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "operation": "GET",
    "path": "/<index>/<type>/\${context.arguments.id}",
    "params": {}
}`},{label:"Simple term query",value:`#**
    The 'params' key accepts any valid Elasticsearch DSL expression.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "operation":"GET",
    "path":"/<index>/<type>/_search",
    "params":{
        "body": {
            "from": 0,
            "size": 50,
            "query": {
                "term" :{
                    "<field>":"\${context.arguments.<field>}"
                }
            }
        }
    }
}`},{label:"Paginate with fixed-size pages",value:`#**
    The 'params' key accepts any valid Elasticsearch DSL expression.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "operation": "GET",
    "path": "/<index>/<type>/_search",
    "params": {
        "body": {
            "from": \${context.arguments.from},
            "size": \${context.arguments.size}
        }
    }
}`},{label:"Get all documents within a 20 mile radius",value:`#**
    The 'params' key accepts any valid Elasticsearch DSL expression.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "operation":"GET",
    "path":"/<index>/<type>/_search",
    "params":{
        "body": {
            "query": {
              "filtered" : {
                  "query" : {
                      "match_all" : {}
                  },
                  "filter" : {
                      "geo_distance" : {
                          "distance" : "20mi",
                          "location" : {
                              "lat" : 47.6205,
                              "lon" : 122.3493
                          }
                      }
                  }
              }
            }
        }
    }
}`}],AY=`#**
The 'params' key accepts any valid Elasticsearch DSL expression.
You must replace the <index>, <type>, and <field> placeholders with actual values.
*#
{
  "operation":"GET",
  "path":"/<index>/<type>/_search",
  "params":{
      "body": {
          "from": 0,
          "size": 50,
          "query": {
              "term" :{
                  "<field>":"\${context.args.<field>}"
              }
          }
      }
  }
}`,EY=[{label:"Get document by id",value:`#**
    Use the 'path' to get a single value by id.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "operation": "GET",
    "path": "/<index>/<type>/\${context.arguments.id}",
    "params": {}
}`},{label:"Simple term query",value:`#**
    The 'params' key accepts any valid OpenSearch (successor to Elasticsearch) DSL expression.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "operation":"GET",
    "path":"/<index>/<type>/_search",
    "params":{
        "body": {
            "from": 0,
            "size": 50,
            "query": {
                "term" :{
                    "<field>":"\${context.arguments.<field>}"
                }
            }
        }
    }
}`},{label:"Paginate with fixed-size pages",value:`#**
    The 'params' key accepts any valid OpenSearch (successor to Elasticsearch) DSL expression.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "operation": "GET",
    "path": "/<index>/<type>/_search",
    "params": {
        "body": {
            "from": \${context.arguments.from},
            "size": \${context.arguments.size}
        }
    }
}`},{label:"Get all documents within a 20 mile radius",value:`#**
    The 'params' key accepts any valid OpenSearch (successor to Elasticsearch) DSL expression.
    You must replace the <index> and <type> placeholder with actual values.
*#
{
    "operation":"GET",
    "path":"/<index>/<type>/_search",
    "params":{
        "body": {
            "query": {
              "filtered" : {
                  "query" : {
                      "match_all" : {}
                  },
                  "filter" : {
                      "geo_distance" : {
                          "distance" : "20mi",
                          "location" : {
                              "lat" : 47.6205,
                              "lon" : 122.3493
                          }
                      }
                  }
              }
            }
        }
    }
}`}],bY=`#**
The 'params' key accepts any valid OpenSearch (successor to Elasticsearch) DSL expression.
You must replace the <index>, <type>, and <field> placeholders with actual values.
*#
{
  "operation":"GET",
  "path":"/<index>/<type>/_search",
  "params":{
      "body": {
          "from": 0,
          "size": 50,
          "query": {
              "term" :{
                  "<field>":"\${context.args.<field>}"
              }
          }
      }
  }
}`,vY=[{label:"GET and forward arguments as query params",value:`{
    "method": "GET",
    ## E.G. if full path is https://api.xxxxxxxxx.com/posts then resourcePath would be /posts **
    "resourcePath": "/",
    "params":{
        "query":$util.toJson($ctx.args),
        "headers": {
            "Authorization": "$ctx.request.headers.Authorization"
        }
    }
}`},{label:"POST and forward arguments as json",value:`{
    "method": "POST",
    ## E.G. if full path is https://api.xxxxxxxxx.com/posts then resourcePath would be /posts **
    "resourcePath": "/",
    "params":{
        "body":$util.toJson($ctx.args),
        "headers":{
            "Content-Type": "application/json",
            "Authorization": "$ctx.request.headers.Authorization"
        }
    }
}`},{label:"GET and forward headers",value:`{
    "method": "GET",
    "resourcePath": "/",
    "params":{
        ## you can forward the headers using the below utility
        "headers": $utils.http.copyheaders($ctx.request.headers)
    }
}`},{label:"Simple GET",value:`{
    "method": "GET",
    "resourcePath": "/"
}`},{label:"Simple DELETE",value:`{
    "method": "DELETE",
    "resourcePath": "/"
}`}],SY=`#**
Make an arbitrary HTTP call when this field is listed in a query selection set.
The "relativePath" is the resource path relative to the root URL provided when you
created the HTTP data source. Pass a "params" object to forward headers, body,
and query parameters to the HTTP endpoint.
*#
{
  "method": "GET",
  ## E.G. if full path is https://api.xxxxxxxxx.com/posts then resourcePath would be /posts **
  "resourcePath": "/",
  "params":{
      "query":$util.toJson($ctx.args),
      "headers": {
          "Authorization": "$ctx.request.headers.Authorization"
      }
  }
}`,TY=[{label:"Invoke and forward arguments",value:`#**
    The value of 'payload' after the template has been evaluated
    will be passed as the event to ${Wt("AWS Lambda")}.
*#
{
    "operation": "Invoke",
    "payload": $util.toJson($context.arguments)
}`},{label:"BatchInvoke and forward arguments",value:`#**
    The BatchInvoke operation combines multiple ${Wt("AWS Lambda")} resolvers into a single invocation.
    When using BatchInvoke the ${Wt("AWS Lambda")} function should expect a list of key values and return
    a list of result values in the same order.

    The value of 'payload' after the template has been evaluated will be
    a single item in the list that makes up the event to ${Wt("AWS Lambda")}.
*#
{
    "operation": "BatchInvoke",
    "payload": $util.toJson($context.arguments)
}`}],IY=`#**
The value of 'payload' after the template has been evaluated
will be passed as the event to ${Wt("AWS Lambda")}.
*#
{
  "operation": "Invoke",
  "payload": $util.toJson($context.args)
}`,CY=[{label:"Simple publish",value:`#**
    Resolvers with None data sources can locally publish events
    that fire subscriptions without hitting a backend data source.
    The value of 'payload' after the template has been evaluated
    will be directly forwarded to the response.
*#
{
    "payload": {
        "body": "\${context.arguments.body}",
        "from": "\${context.identity.username}",
        "to":  "\${context.arguments.to}",
        "sentAt": "$util.time.nowISO8601()"
    }
}`}],RY=`#**
Resolvers with None data sources can locally publish events that fire
subscriptions or otherwise transform data without hitting a backend data source.
The value of 'payload' is forwarded to $ctx.result in the response mapping template.
*#
{
    "payload": {
        "hello": "local",
    }
}`,wY=[{label:"Select statement for a relational database data source.",value:`{
    "version": "2018-05-29",
    "statements": [
            "select * from Pets where type = :TYPE"
    ],

    "variableMap": {
        ":TYPE": $util.toJson($ctx.args.type)
    }
}`}],PY=`{
    "version": "2018-05-29",
    "statements": [
            "select * from Pets where type = :TYPE"
    ],

    "variableMap": {
        ":TYPE": $util.toJson($ctx.args.type)
    }
}`,OY=[{label:"General",options:[{label:"Return single item",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $util.error($ctx.error.message, $ctx.error.type)
#end
## Pass back the result from DynamoDB. **
$util.toJson($ctx.result)`},{label:"Return a list of results",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
  $util.error($ctx.error.message, $ctx.error.type)
#end
#**
    Return a flat list of results from a Query or Scan operation.
*#
$util.toJson($ctx.result.items)`},{label:"Return paginated results",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
  $util.error($ctx.error.message, $ctx.error.type)
#end
#**
    Scan and Query operations return a list of items and a nextToken. Pass them
    to the client for use in pagination.
*#
{
    "items": $util.toJson($ctx.result.items),
    "nextToken": $util.toJson($util.defaultIfNullOrBlank($context.result.nextToken, null))
}`}]},{label:"Batch operations",options:[{label:"Batch response",value:`## Batch results are available in $context.result.data as name of the table (TABLENAME below)
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/tutorial-dynamodb-batch.html

$util.toJson($ctx.result.data.TABLENAME)`},{label:"Batch response with error handling",value:`## Batch results are available in $context.result.data as name of the table (TABLENAME below)
## If there was an error with invocation there may be partial results in $ctx.error object
## You can append an error for that field in GraphQL response along with successful data
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/tutorial-dynamodb-batch.html

#if($ctx.error)
    $utils.appendError($ctx.error.message, $ctx.error.message)
#end
$utils.toJson($ctx.result.data)`}]},{label:"Authorization",options:[{label:"Return only my owned records",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $util.error($ctx.error.message, $ctx.error.type)
#end
#set($myResults = [])
#foreach($item in $ctx.result.items)
    ## For Cognito User Pools use $ctx.identity.username instead
    #if($item.Owner == $ctx.identity.cognitoIdentityId)
        #set($added = $myResults.add($item))
    #end
#end
$utils.toJson($myResults)`},{label:"Return a single record if public",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $util.error($ctx.error.message, $ctx.error.type)
#end
#if($ctx.result.public == 'yes')
    $utils.toJson($ctx.result)
#else
    $utils.unauthorized()
#end`},{label:"Return record if viewable by my groups",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $util.error($ctx.error.message, $ctx.error.type)
#end
#set($permissions = $ctx.result.GroupsCanAccess)
#set($claimPermissions = $ctx.identity.claims.get("cognito:groups"))

#foreach($per in $permissions)
    #foreach($cgroups in $claimPermissions)
        #if($cgroups == $per)
            #set($hasPermission = true)
        #end
    #end
#end

#if($hasPermission)
    $utils.toJson($ctx.result)
#else
    $utils.unauthorized()
#end`},{label:"Return a list of public records",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $util.error($ctx.error.message, $ctx.error.type)
#end
#set($publicRecords = [])
#foreach($item in $ctx.result.items)
    #if($item.public == 'yes')
        #set($added = $publicRecords.add($item))
    #end
#end
$utils.toJson($publicRecords)`}]},{label:"Offline client",options:[{label:"Offline-enabled response",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $util.error($ctx.error.message, $ctx.error.type)
#end
$util.qr($context.result.put("relayState", "$context.arguments.relayState"))
$util.toJson($context.result)`}]}],DY=`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $util.error($ctx.error.message, $ctx.error.type)
#end
## Pass back the result from DynamoDB. **
$util.toJson($ctx.result)`,NY=[{label:"Return single document's source",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $util.error($ctx.error.message, $ctx.error.type)
#end
#**
    $context.result contains the full response of the Elasticsearch query.
    You can use this template to return the data from an Elasticsearch
    query that returns a single result.
*#
$util.toJson($context.result.get("_source"))`},{label:"Return a list of document sources",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $util.error($ctx.error.message, $ctx.error.type)
#end
#**
    $context.result contains the full response of the Elasticsearch query.
    Select a subset of information or iterate through hits to return the
    same shape as is expected by this field.
*#
[
    #foreach($entry in $context.result.hits.hits)
        ## $velocityCount starts at 1 and increments with the #foreach loop **
        #if( $velocityCount > 1 ) , #end
        $util.toJson($entry.get("_source"))
    #end
]`}],_Y=`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $util.error($ctx.error.message, $ctx.error.type)
#end
#**
$context.result contains the full response of the Elasticsearch query.
Select a subset of information or iterate through hits to return the
same shape as is expected by this field.
*#
[
#foreach($entry in $context.result.hits.hits)
  ## $velocityCount starts at 1 and increments with the #foreach loop **
  ## The following line adds commas between elements in the list. 
  #if( $velocityCount > 1 ) , #end
  $util.toJson($entry.get("_source"))
#end
]`,xY=[{label:"Return single document's source",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $util.error($ctx.error.message, $ctx.error.type)
#end
#**
    $context.result contains the full response of the OpenSearch (successor to Elasticsearch) query.
    You can use this template to return the data from an OpenSearch (successor to Elasticsearch)
    query that returns a single result.
*#
$util.toJson($context.result.get("_source"))`},{label:"Return a list of document sources",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $util.error($ctx.error.message, $ctx.error.type)
#end
#**
    $context.result contains the full response of the OpenSearch (successor to Elasticsearch) query.
    Select a subset of information or iterate through hits to return the
    same shape as is expected by this field.
*#
[
    #foreach($entry in $context.result.hits.hits)
        ## $velocityCount starts at 1 and increments with the #foreach loop **
        #if( $velocityCount > 1 ) , #end
        $util.toJson($entry.get("_source"))
    #end
]`}],LY=`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $util.error($ctx.error.message, $ctx.error.type)
#end
#**
$context.result contains the full response of the OpenSearch (successor to Elasticsearch) query.
Select a subset of information or iterate through hits to return the
same shape as is expected by this field.
*#
[
#foreach($entry in $context.result.hits.hits)
  ## $velocityCount starts at 1 and increments with the #foreach loop **
  ## The following line adds commas between elements in the list. 
  #if( $velocityCount > 1 ) , #end
  $util.toJson($entry.get("_source"))
#end
]`,kY=[{label:"Return response on 200 (OK)",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
  $util.error($ctx.error.message, $ctx.error.type)
#end
## if the response status code is not 200, then return an error. Else return the body **
#if($ctx.result.statusCode == 200)
    ## If response is 200, return the body.
    $ctx.result.body
#else
    ## If response is not 200, append the response to error block.
    $utils.appendError($ctx.result.body, "$ctx.result.statusCode")
#end`},{label:"Return XML response as JSON",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
  $util.error($ctx.error.message, $ctx.error.type)
#end
## if the response is of xml type return a json representation return the body **
#if($ctx.result.statusCode == 200)
    ## If response is 200, return the body.
    $utils.xml.toJsonString($ctx.result.body)
#else
    ## If response is not 200, append the response to error block.
    $utils.appendError($ctx.result.body, "$ctx.result.statusCode")
#end`}],MY=`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
  $util.error($ctx.error.message, $ctx.error.type)
#end
## If the response is not 200 then return an error. Else return the body **
#if($ctx.result.statusCode == 200)
    $ctx.result.body
#else
    $utils.appendError($ctx.result.body, "$ctx.result.statusCode")
#end`,FY=[{label:"Return lambda result",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
  $util.error($ctx.error.message, $ctx.error.type)
#end

$util.toJson($context.result)`}],UY=`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
  $util.error($ctx.error.message, $ctx.error.type)
#end
$util.toJson($context.result)`,$Y=[{label:"Forward the result",value:"$util.toJson($context.result)"}],jY="$util.toJson($context.result)",VY=[{label:"Return response on 200 (OK)",value:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $utils.error($ctx.error.message, $ctx.error.type)
#end

$utils.toJson($utils.rds.toJsonObject($ctx.result)[0])`}],BY=`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
    $utils.error($ctx.error.message, $ctx.error.type)
#end

$utils.toJson($utils.rds.toJsonObject($ctx.result)[0])`,nw=[{label:"Put a single event on an event bus",value:`## Below example shows how to put a single event on an event bus
## There is a "context" object with arguments, identity, headers, and parent field information you can access.
## It also has a shorthand notation available:
##  - $context or $ctx is the root object
##  - $ctx.arguments or $ctx.args contains arguments
##  - $ctx.identity has caller information, such as $ctx.identity.username
##  - $ctx.request.headers contains headers, such as $context.request.headers.xyz
##  - $ctx.source is a map of the parent field, for instance $ctx.source.xyz
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference.html

{
    "version": "2018-05-29",
    "operation": "PutEvents",
    "events": [{
        "source": "appsync",
        "detail": { 
            "name": $util.toJson($ctx.arguments.name),
            "message": $util.toJson($ctx.arguments.message)
        },
        "detailType": "some detail type"
    }]
}`},{label:"Put a single event on an event bus with time and resources",value:`## Below example shows how to put a single event on an event bus
## There is a "context" object with arguments, identity, headers, and parent field information you can access.
## It also has a shorthand notation available:
##  - $context or $ctx is the root object
##  - $ctx.arguments or $ctx.args contains arguments
##  - $ctx.identity has caller information, such as $ctx.identity.username
##  - $ctx.request.headers contains headers, such as $context.request.headers.xyz
##  - $ctx.source is a map of the parent field, for instance $ctx.source.xyz
## Read more: https://docs.aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-reference.html

{
    "version": "2018-05-29",
    "operation": "PutEvents",
    "events": [{
        "source": "appsync",
        "time": $util.toJson($util.time.nowISO8601()), 
        "resources": $util.toJson($ctx.arguments.resources),
        "detail": { 
            "name": $util.toJson($ctx.arguments.name),
            "message": $util.toJson($ctx.arguments.message)
        },
        "detailType": "some detail type"
    }]
}`}],GY=nw[0].value,rw=[{label:"General",options:[{label:"Return the EventBridge response",id:`## Raise a GraphQL field error in case of a datasource invocation error
#if($ctx.error)
   $util.error($ctx.error.message, $ctx.error.type)
#end
## Pass back the result from EventBridge. **
$util.toJson($ctx.result)`}]}],zY=rw[0].options[0].id,Bh={[_.DYNAMODB]:yY,[_.ELASTIC_SEARCH]:AY,[_.OPEN_SEARCH]:bY,[_.LAMBDA]:IY,[_.HTTP]:SY,[_.NONE]:RY,[_.RDS]:PY,[_.EVENT_BRIDGE]:GY},Gh={[_.DYNAMODB]:DY,[_.ELASTIC_SEARCH]:_Y,[_.OPEN_SEARCH]:LY,[_.LAMBDA]:UY,[_.HTTP]:MY,[_.NONE]:jY,[_.RDS]:BY,[_.EVENT_BRIDGE]:zY},qY={[_.DYNAMODB]:fY,[_.ELASTIC_SEARCH]:gY,[_.OPEN_SEARCH]:EY,[_.LAMBDA]:TY,[_.NONE]:CY,[_.HTTP]:vY,[_.RDS]:wY,[_.EVENT_BRIDGE]:nw},KY={[_.DYNAMODB]:OY,[_.ELASTIC_SEARCH]:NY,[_.OPEN_SEARCH]:xY,[_.LAMBDA]:FY,[_.NONE]:$Y,[_.HTTP]:kY,[_.RDS]:VY,[_.EVENT_BRIDGE]:rw};function aw(t){const n=a=>{t.selectedDataSource&&(a==="requestMappingTemplate"?(t.enabledRequestMappingTemplate?t.setRequestMappingTemplate(""):t.setRequestMappingTemplate(Bh[t.selectedDataSource.type]),t.setEnabledRequestMappingTemplate(!t.enabledRequestMappingTemplate)):a==="responseMappingTemplate"&&(t.enabledResponseMappingTemplate?t.setResponseMappingTemplate(""):t.setResponseMappingTemplate(Gh[t.selectedDataSource.type]),t.setEnabledResponseMappingTemplate(!t.enabledResponseMappingTemplate)))};return i.createElement(q.A,{margin:{vertical:"xs"}},i.createElement(dr.A,{onChange:()=>n(t.name),checked:t.checked},t.description))}function iw({title:t,description:n,actions:a,children:o}){return i.createElement(it.A,{className:"code-mirror-form-section",disableContentPaddings:!0,header:i.createElement(be.A,{variant:"h2",actions:a,info:i.createElement(to,null),description:n},t)},o)}var WY=Object.defineProperty,HY=Object.defineProperties,JY=Object.getOwnPropertyDescriptors,ow=Object.getOwnPropertySymbols,YY=Object.prototype.hasOwnProperty,QY=Object.prototype.propertyIsEnumerable,sw=(t,n,a)=>n in t?WY(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,lw=(t,n)=>{for(var a in n||(n={}))YY.call(n,a)&&sw(t,a,n[a]);if(ow)for(var a of ow(n))QY.call(n,a)&&sw(t,a,n[a]);return t},cw=(t,n)=>HY(t,JY(n));function XY({isLoading:t,defaultCodeValue:n,changeFieldValue:a,annotations:o,isEnhancedLoggingEnabled:s}){return t?i.createElement(Et.A,null):i.createElement(Rm,{value:n,onEdit:c=>a("code",c.value),annotations:o,Analytics:at,isEnhancedLoggingEnabled:s})}function ZY({functionRecord:t,initialized:n,initialize:a,syncConfig:o,changeFieldValue:s,datasources:c,selectedDataSourceName:u,selectedDataSource:p,code:h,runtime:f,requestMappingTemplate:y,responseMappingTemplate:g,enabledRequestMappingTemplate:A,enabledResponseMappingTemplate:E,maxBatchSize:b,annotations:C}){const[I,R]=(0,i.useState)(h),[L,P]=(0,i.useState)(y),[F,x]=(0,i.useState)(g),{isLoading:O,result:j}=_n(Bt.isEnhancedLoggingEnabled);(0,i.useEffect)(()=>{p?.allowsBlankTemplates()&&(y===null||y==="")&&(s("enabledRequestMappingTemplate",!1),s("requestMappingTemplate",""))},[y]),(0,i.useEffect)(()=>{p?.allowsBlankTemplates()&&(g===null||g==="")&&(s("enabledResponseMappingTemplate",!1),s("responseMappingTemplate",""))},[g]),(0,i.useEffect)(()=>{R(t.code)},[t.code]),(0,i.useEffect)(()=>{P(t.requestMappingTemplate)},[t.requestMappingTemplate]),(0,i.useEffect)(()=>{x(t.responseMappingTemplate)},[t.responseMappingTemplate]),(0,i.useEffect)(()=>{n&&t.functionArn&&a(t)},[t.functionArn,t.runtime.name,t.runtime.runtimeVersion]),(0,i.useEffect)(()=>{const Y=p?.type;f?.name===Ve.VTL&&!y&&!g&&p&&(P(Bh[Y]),x(Gh[Y])),f?.name===Ve.APPSYNC_JS&&!h&&R(tn.function)},[f]);const M=(Y,Z,ie)=>{if(Z){const ye=c&&c.find(ve=>Z===ve.name);if(ie&&!ye?.allowsBlankTemplates()&&(s("enabledRequestMappingTemplate",!0),s("enabledResponseMappingTemplate",!0)),ye){const ve=ye.type;if(!y){const Ae=Bh[ve];P(Ae),s("requestMappingTemplate",Ae)}if(!g){const Ae=Gh[ve];x(Ae),s("responseMappingTemplate",Ae)}const Ce=tn.function;h!==Ce&&h===tn.resolver&&(R(Ce),s("code",Ce))}}},B=p?.allowsBlankTemplates(),V=p&&p.dynamodbConfig&&p.dynamodbConfig.versioned,W=f?.name===Ve.APPSYNC_JS;return i.createElement("form",{onSubmit:Y=>Y.preventDefault()},i.createElement($.A,{size:"l"},i.createElement(mn.A,{variant:"container",headerText:(0,l.Ay)`Choose data source`,defaultExpanded:!t.functionId,"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"chooseDataSource"},i.createElement(BC,{onChange:M})),i.createElement(mn.A,{variant:"container",headerText:(0,l.Ay)`Function details`,defaultExpanded:!t.functionId,"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"functionDetails"},i.createElement($.A,{size:"l"},i.createElement(Ia,{field:{name:"name",validate:[Zi]},input:{placeholder:(0,l.Ay)`Type a name for your function`,"data-testid":"function-name-input"},formField:{label:(0,l.Ay)`Function name`,constraintText:Ah()},maxWidth:"560px"}),i.createElement(g6,{field:{name:"description"},optional:!0,formField:{label:(0,l.Ay)`Description`},textarea:{"data-testid":"function-description-textarea",placeholder:"-"},maxWidth:"560px"}))),u&&p&&i.createElement("div",{className:"mapping-template-container"},i.createElement(mn.A,{headerText:W?(0,l.Ay)`Function code`:(0,l.Ay)`Configure mapping templates`,headerInfo:C?.length>0&&i.createElement(qC.A,null,(0,l.Ay)`Run test, or save to refresh errors`),headerActions:W&&i.createElement(KC,{onChange:Y=>R(Y),selectedDataSource:p}),defaultExpanded:!0,variant:"container",disableContentPaddings:W},W?i.createElement(XY,{isLoading:O,defaultCodeValue:I,changeFieldValue:s,annotations:C,isEnhancedLoggingEnabled:j}):i.createElement($.A,{size:"l"},B&&i.createElement(aw,{name:"requestMappingTemplate",checked:A,description:(0,l.Ay)`Enable request mapping template`,enabledRequestMappingTemplate:A,enabledResponseMappingTemplate:E,selectedDataSource:p,setEnabledResponseMappingTemplate:Y=>s("enabledResponseMappingTemplate",Y),setEnabledRequestMappingTemplate:Y=>s("enabledRequestMappingTemplate",Y),setRequestMappingTemplate:P,setResponseMappingTemplate:x}),(A||!B)&&i.createElement(iw,{title:(0,l.Ay)`Configure the request mapping template.`,description:(0,l.Ay)`Translate a GraphQL query into a format specific to your data source.`,actions:i.createElement(ze.A,{"data-testid":"request-mapping-template-dropdown",options:qY[p.type]||[],placeholder:(0,l.Ay)`Select a sample template`,onChange:({detail:Y})=>P(Y.selectedOption.value),selectedOption:null,ariaLabel:(0,l.Ay)`Select a sample template`})},i.createElement(qi,{metricKey:Ge.FUNCTION_ERROR_BOUNDARY,context:{formatter:Y=>cw(lw({},Y),{templateLength:y.length}),record:{dataSourceType:p.type,template:"request"}}},i.createElement(Zo,{value:L,onEdit:Y=>s("requestMappingTemplate",Y)}))),B&&i.createElement(aw,{name:"responseMappingTemplate",checked:E,description:(0,l.Ay)`Enable response mapping template`,enabledRequestMappingTemplate:A,enabledResponseMappingTemplate:E,selectedDataSource:p,setEnabledResponseMappingTemplate:Y=>s("enabledResponseMappingTemplate",Y),setEnabledRequestMappingTemplate:Y=>s("enabledRequestMappingTemplate",Y),setRequestMappingTemplate:P,setResponseMappingTemplate:x}),(E||!B)&&i.createElement(iw,{title:(0,l.Ay)`Configure the response mapping template.`,description:(0,l.Ay)`Translate the results back to GraphQL.`,actions:i.createElement(ze.A,{"data-testid":"response-mapping-template-dropdown",options:KY[p.type]||[],placeholder:(0,l.Ay)`Select a sample template`,onChange:({detail:Y})=>x(Y.selectedOption.value),selectedOption:null,ariaLabel:(0,l.Ay)`Select a sample template`})},i.createElement(qi,{metricKey:Ge.FUNCTION_ERROR_BOUNDARY,context:{formatter:Y=>cw(lw({},Y),{templateLength:g.length}),record:{dataSourceType:p.type,template:"response"}}},i.createElement(Zo,{value:F,onEdit:Y=>s("responseMappingTemplate",Y)})))))),i.createElement(i.Fragment,null,V&&i.createElement(GC,{syncConfig:o,onChange:s}),p?.type===_.LAMBDA&&i.createElement(zC,{enabledRequestMappingTemplate:A,updateMaxBatchSize:Y=>s("maxBatchSize",Y),maxBatchSize:b}))))}const eQ=(0,qe.zW)({form:Ke.FunctionForm})(ZY),wa=(0,qe.fj)(Ke.FunctionForm),tQ=(t,n)=>{const a=wa(t,"dataSourceName"),o=wa(t,"requestMappingTemplate"),s=wa(t,"responseMappingTemplate"),c=wa(t,"enabledRequestMappingTemplate"),u=wa(t,"enabledResponseMappingTemplate"),p=wa(t,"code"),h=wa(t,"runtime"),f=wa(t,"maxBatchSize"),y=a&&ya.getKey(t.environment.selectedApiId,a),g=y?t.entities.get(y):void 0,A=t.pagination.dataSourcesByGraphqlApiVersion.get(t.environment.getApiVersionId()),{entities:E}=t,b=A?A.items.map(I=>E.get(I)):void 0,C=wa(t,"syncConfig");return{selectedDataSourceName:a,selectedDataSource:g,requestMappingTemplate:o,responseMappingTemplate:s,enabledRequestMappingTemplate:c,enabledResponseMappingTemplate:u,maxBatchSize:f,datasources:b,initialValues:n.functionRecord,syncConfig:C,code:p,runtime:h}},nQ=(0,te.connect)(tQ,t=>({changeFieldValue:(n,a)=>t((0,qe.Zg)(Ke.FunctionForm,n,a)),listFunctionsDispatch:n=>t(WA(n))}))(eQ);var rQ=Object.defineProperty,aQ=Object.defineProperties,iQ=Object.getOwnPropertyDescriptors,uw=Object.getOwnPropertySymbols,oQ=Object.prototype.hasOwnProperty,sQ=Object.prototype.propertyIsEnumerable,dw=(t,n,a)=>n in t?rQ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,zh=(t,n)=>{for(var a in n||(n={}))oQ.call(n,a)&&dw(t,a,n[a]);if(uw)for(var a of uw(n))sQ.call(n,a)&&dw(t,a,n[a]);return t},pw=(t,n)=>aQ(t,iQ(n));function lQ(t){const[n,a]=(0,i.useState)({pageSize:50});(0,i.useEffect)(()=>{t.functionId&&t.listResolversByFunction({paginationKey:{apiId:t.apiId,versionId:t.versionId,functionId:t.functionId},paginateRecord:new ke})},[]);const{items:o,filteredItemsCount:s,collectionProps:c,filterProps:u,paginationProps:p}=(0,Wn.G)(t.functionResolvers.toArray()||[],{filtering:{fields:["name"],noMatch:(0,l.Ay)`No results`,empty:t.isLoading?i.createElement(Et.A,{size:"large"}):i.createElement(q.A,{variant:"p",margin:{bottom:"l"}},(0,l.Ay)`You do not have any pipeline resolvers for this function.`),filteringFunction:(h,f)=>Tm(f.toLowerCase(),`${h.typeName}.${h.fieldName}`.toLowerCase())},pagination:{pageSize:n.pageSize},sorting:{},selection:{trackBy:"apiId",keepSelection:!0}});return i.createElement(Ph.A,pw(zh({},c),{cardDefinition:{header:h=>i.createElement("div",{key:h.resolverArn},i.createElement(qo,{to:`/schema/${h.typeName}/${h.fieldName}/resolver`,text:`${h.typeName}.${h.fieldName}`})),sections:[{id:"numFunctions",width:100,content:h=>{const f=h.pipelineConfig.functions.size;return i.createElement("span",null,(0,l.Ay)`${f} resolver function(s)`)}}]},items:o,header:i.createElement(be.A,{variant:"h2"},(0,l.Ay)`Referenced pipeline resolvers`),pagination:i.createElement(Xr.A,zh({},p)),preferences:i.createElement(ts.A,{title:(0,l.Ay)`Preferences`,confirmLabel:(0,l.Ay)`Confirm`,cancelLabel:(0,l.Ay)`Cancel`,onConfirm:({detail:h})=>a(h),preferences:n,pageSizePreference:{title:(0,l.Ay)`Items per page`,options:[{value:10,label:"10"},{value:25,label:"25"},{value:50,label:"50"},{value:100,label:"100"}]}}),filter:i.createElement(ur.A,pw(zh({},u),{countText:String(s),filteringAriaLabel:(0,l.Ay)`Find by resolver name`,filteringPlaceholder:(0,l.Ay)`Find by resolver name`})),ariaLabels:{itemSelectionLabel:(h,f)=>`${f.typeName}.${f.fieldName}`,selectionGroupLabel:(0,l.Ay)`Pipeline resolvers`}}))}const cQ=(t,n)=>{const a=t.environment.selectedApiId,o=t.environment.selectedVersionId,{functionId:s}=n,c=ce(a,o,n.functionId),u=t.pagination.resolversByGraphqlApiVersionTypeFunctionId.get(c),p=u?u.items.map(y=>t.entities.get(y)):[],h=(0,T.List)(p),f=u===void 0||u.isLoading;return{apiId:a,versionId:o,functionId:s,isLoading:f,functionResolvers:h}},uQ=(0,te.connect)(cQ,{listResolversByFunction:nj})(lQ);var dQ=Object.defineProperty,pQ=Object.defineProperties,mQ=Object.getOwnPropertyDescriptors,mw=Object.getOwnPropertySymbols,hQ=Object.prototype.hasOwnProperty,fQ=Object.prototype.propertyIsEnumerable,hw=(t,n,a)=>n in t?dQ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,gu=(t,n)=>{for(var a in n||(n={}))hQ.call(n,a)&&hw(t,a,n[a]);if(mw)for(var a of mw(n))fQ.call(n,a)&&hw(t,a,n[a]);return t},yQ=(t,n)=>pQ(t,mQ(n));const Au=(t,n)=>(0,qe.Zg)(Ke.FunctionForm,t,n);function gQ(){var t,n,a,o;const[s,c]=(0,i.useState)({evaluatedRequest:"",evaluatedResponse:"",requestErrored:!1,responseErrored:!1,annotations:[]}),[u,p]=(0,i.useState)(!1),h=de(),{apiId:f,functionId:y}=(0,G.g)(),g=!!y,A=ne(B=>{const V=Cn.getKey(f,y);return B.entities.get(V,new Cn({apiId:f,functionId:y}))}),E=ne(B=>{const V=(0,qe.fj)(Ke.FunctionForm);return A.merge({requestMappingTemplate:V(B,"requestMappingTemplate"),responseMappingTemplate:V(B,"responseMappingTemplate"),code:V(B,"code"),runtime:V(B,"runtime")})}),b=ne(B=>{if(!E?.dataSourceName)return;const V=ce(f,"v1","datasource",E.dataSourceName);return B.entities.get(V)}),C=(0,i.useRef)((t=A?.recordStatus)==null?void 0:t.status),I=(0,G.Zp)();Vt(vt.FUNCTIONS,g?ct.EDIT_RESOURCE:ct.CREATE_RESOURCE),(0,i.useEffect)(()=>{const{status:B,detail:V,code:W}=A.recordStatus;if(B===H.GETTING){C.current=B;return}const Y=g&&B===H.ERRORED&&W===Fa.NOT_FOUND,Z=!g&&B===H.CREATE_SUCCESS||C.current===H.CREATING&&B===H.NONE,ie=g&&C.current===H.DELETING&&B===H.NONE;(Z||Y||ie)&&I(".."),B===H.ERRORED&&V&&c(yQ(gu({},s),{annotations:V})),C.current=B},[A.recordStatus]),(0,i.useLayoutEffect)(()=>(g&&!A.functionArn&&h(kA({entity:A})),g||h(Vr(!1)),function(){g||h(Vr(!0)),h(Fi(N.RESOLVER_FUNCTION))}),[]);const R=(a=(n=A?.recordStatus)==null?void 0:n.status)!=null?a:H.NONE,{requestMappingTemplate:L,responseMappingTemplate:P,runtime:F}=A,x=(L===null||L===""||P===null||P==="")&&F?.name!==Ve.APPSYNC_JS,O=B=>{const V=E.runtime,W=B.merge(gu(gu({runtime:V},V.name===Ve.APPSYNC_JS?{code:E.code}:{}),V.name===Ve.VTL?{requestMappingTemplate:E.requestMappingTemplate,responseMappingTemplate:E.responseMappingTemplate}:{}));h(g?NA({entity:W}):_A({entity:W}))},j=()=>{g?h(xA({entity:A})):I("..")},M=B=>{const V=A.merge(gu({runtime:B},B.getRuntimeDependentFieldsFromEntity({code:tn.function,requestMappingTemplate:b?Cn.getDefaultTemplate(b.type,"requestMappingTemplate"):"",responseMappingTemplate:b?Cn.getDefaultTemplate(b.type,"responseMappingTemplate"):""})));if(g){h(NA({entity:V}));return}h(Au("runtime",V.runtime)),h(Au("code",V.code)),h(Au("requestMappingTemplate",V.requestMappingTemplate)),h(Au("responseMappingTemplate",V.responseMappingTemplate))};return i.createElement(wn.A,{header:i.createElement($.A,{size:"m"},i.createElement($t,{info:i.createElement(Sa,null),title:g?A.name:(0,l.Ay)`New function`,description:!g&&(0,l.Ay)`A function performs a single operation against a data source.`,actions:i.createElement($.A,{size:"xs",direction:"horizontal"},!x&&g&&A&&i.createElement(kC,{record:E,setShowAlert:p,setEvaluatedContext:c}),i.createElement(UC,{isUpdate:g,selectorType:pt.FUNCTION,onDelete:j,onSave:M,resourceName:A.name,runtime:A.runtime,loading:R===H.DELETING}),i.createElement(K.A,{ariaLabel:g?(0,l.Ay)`Save`:(0,l.Ay)`Create`,variant:"primary",loading:vn(R),onClick:()=>h((0,AI.tA)(Ke.FunctionForm)),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":g?"Save":"Create"},g?(0,l.Ay)`Save`:(0,l.Ay)`Create`))}),i.createElement(IC,{isJS:((o=A?.runtime)==null?void 0:o.name)===Ve.APPSYNC_JS,showAlert:u,request:s.evaluatedRequest,response:s.evaluatedResponse,onClose:()=>{p(!1)},requestErrored:s.requestErrored,responseErrored:s.responseErrored}))},i.createElement($.A,{size:"m"},i.createElement(nQ,{functionRecord:A,annotations:s.annotations,onSubmit:O}),g&&i.createElement(uQ,{functionId:y})))}const hi={title:"New function",description:"A function performs a single operation against a data source.",containers:{details:{title:"Function details",fields:{functionName:{label:"Function name",constraint:"A name starts with a letter and contains only numbers, letters, and underscores(_)",placeholder:"Type a name for your function"},description:{label:"Description",placeholder:"-"}}}}},AQ={description:{length:"Must be ${0} characters or less"}},fw={form:"",dataSource:{selected:"",batching:{size:""},conflictDetection:{lambda:""}},function:{name:"",description:""}},EQ={function:{name:"",description:""},dataSource:{selected:{value:"",label:""},batching:{enabled:!1},conflictDetection:{enabled:!1,strategy:Ma.AUTO,lambda:{label:"",value:""}}}};var bQ=Object.defineProperty,vQ=Object.defineProperties,SQ=Object.getOwnPropertyDescriptors,yw=Object.getOwnPropertySymbols,TQ=Object.prototype.hasOwnProperty,IQ=Object.prototype.propertyIsEnumerable,gw=(t,n,a)=>n in t?bQ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,CQ=(t,n)=>{for(var a in n||(n={}))TQ.call(n,a)&&gw(t,a,n[a]);if(yw)for(var a of yw(n))IQ.call(n,a)&&gw(t,a,n[a]);return t},RQ=(t,n)=>vQ(t,SQ(n));const wQ={title:l.Ay.translate(hi.title),description:l.Ay.translate(hi.description),containers:[]},Aw=({state:t,selectedType:n})=>{const[a,o]=PQ(t.function),[s,c]=OQ(t.dataSource),[u,p]=AR(n,t.dataSource.batching),[h,f]=ER(n,t.dataSource.conflictDetection);return[!!(u||h||a||s),{form:"",function:o,dataSource:{selected:c,batching:p,conflictDetection:f}}]},PQ=({name:t,description:n})=>{var a;let s="";const c=(a=_e(t,[Zi]))!=null?a:"";switch(!0){case n.length>512:s=l.Ay.translate(AQ.description.length,512);break;default:break}return[!!(c||s),{name:c,description:s}]},OQ=({selected:t})=>{const n=Me((0,l.Ay)`Data source name`)(t.value);return[!!n,n]},DQ=()=>({header:{title:l.Ay.translate(hi.containers.details.title)},content:{fields:[{label:l.Ay.translate(hi.containers.details.fields.functionName.label),type:se.INPUT,constraint:l.Ay.translate(hi.containers.details.fields.functionName.constraint),config:{stateKey:"function.name",placeholder:l.Ay.translate(hi.containers.details.fields.functionName.placeholder)}},{label:l.Ay.translate(hi.containers.details.fields.description.label),optional:!0,type:se.TEXTAREA,config:{stateKey:"function.description",placeholder:hi.containers.details.fields.description.placeholder}}]}}),NQ=(t,n)=>RQ(CQ({},wQ),{info:{onFollow:n},containers:[DQ(),cR(t.dataSource)]}),_Q=({state:t,selectedType:n,apiId:a})=>new Cn({apiId:a,name:t.function.name,description:t.function.description,runtime:new lr({runtime:Ve.APPSYNC_JS,version:Sc(Ve.APPSYNC_JS)}),dataSourceName:t.dataSource.selected.value,code:tn.function,syncConfig:bR(t.dataSource.conflictDetection,n),maxBatchSize:vR(t.dataSource.batching,n)});var xQ=Object.defineProperty,LQ=Object.defineProperties,kQ=Object.getOwnPropertyDescriptors,Ew=Object.getOwnPropertySymbols,MQ=Object.prototype.hasOwnProperty,FQ=Object.prototype.propertyIsEnumerable,bw=(t,n,a)=>n in t?xQ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,qh=(t,n)=>{for(var a in n||(n={}))MQ.call(n,a)&&bw(t,a,n[a]);if(Ew)for(var a of Ew(n))FQ.call(n,a)&&bw(t,a,n[a]);return t},UQ=(t,n)=>LQ(t,kQ(n));function $Q(){const{apiId:t,versionId:n}=(0,G.g)(),[a]=(0,Ye.ok)(),o=(0,G.Zp)(),s=de(),[,c]=qr(),[u,p]=(0,i.useState)(JSON.parse(JSON.stringify(EQ))),[h,f]=(0,i.useState)(JSON.parse(JSON.stringify(fw))),[y,g]=(0,i.useState)(!1),[A,E]=(0,i.useState)(!1),b=(0,i.useMemo)(()=>{var O;const j=c.find(M=>{var B;return M.name===((B=u.dataSource.selected)==null?void 0:B.value)});return j?.type===_.DYNAMODB&&((O=j?.dynamodbConfig)!=null&&O.versioned)?_.DDB_DELTA_SYNC:j?.type},[c,u.dataSource.selected]),C=ne(O=>O.entities.get(Cn.getKey(t,""))),I=C?.recordStatus;(0,i.useLayoutEffect)(()=>(s(Nn("form")),()=>{s(Nn("default"))}),[]),(0,i.useEffect)(()=>()=>{s(Zd(N.RESOLVER_FUNCTION)({entity:new Cn({apiId:t})}))},[]),(0,i.useEffect)(()=>{if(I){if(I.status===H.CREATE_SUCCESS){const O=a&&a.get("referrer");if(O)o(`/${t}/${n}${O}`);else{const j=I.message.split("/")[3];o(`${j}/edit`)}}I.status===H.ERRORED&&(f(UQ(qh({},fw),{form:I.message})),E(!1))}},[I]),(0,i.useEffect)(()=>{if(y){const[,O]=Aw({state:u,selectedType:b});f(O)}},[u]);const L=NQ(u,()=>{s(Ct({get:Ac})),s(Co(!0))}),P=O=>{E(!0),g(!0),O.preventDefault();const[j,M]=Aw({state:u,selectedType:b});if(j){f(M),E(!1);return}const B=_Q({state:u,selectedType:b,apiId:t});s(_A({entity:B}))},F=(O,j)=>{p(qh({},he.set(u,O,j)))},x=()=>{o(-1)};return i.createElement(Uo,qh({state:u,errors:y&&h,onCancel:x,onChange:F,saving:A,onSave:P},L))}function jQ(){const t=de(),n=St();return(0,i.useEffect)(()=>{const a=n.graphqlConfig.isMergedApi()?TG:Ac;t(Ct({get:a}))},[]),i.createElement(G.BV,null,i.createElement(G.qh,{index:!0,element:i.createElement(hY,null)}),i.createElement(G.qh,{path:":functionId/edit",element:i.createElement(gQ,null)}),i.createElement(G.qh,{path:"new",element:i.createElement($Q,null)}),i.createElement(G.qh,{path:"*",element:i.createElement(G.C5,{to:"."})}))}var ln=v(54369),fi=v(40961);function vw(t){return t instanceof Q.GraphQLNonNull}function VQ(t){return t instanceof Q.GraphQLList}function Sw(t){return VQ(t)||vw(t)}function ns(t){return t instanceof Q.GraphQLObjectType}function Eu(t){return t instanceof Q.GraphQLUnionType}function Tw(t){return t instanceof Q.GraphQLScalarType}function Iw(t){return t instanceof Q.GraphQLEnumType}function rs(t){return t instanceof Q.GraphQLInputObjectType}function Kh(t){return t instanceof Q.GraphQLInterfaceType}function bu(t){return t.charAt(0).toUpperCase()+t.slice(1)}const BQ={keyword:"#B11A04",def:"#D2054E",property:"#1F61A0",qualifier:"#1C92A9",attribute:"#8B2BB9",number:"#2882F9",string:"#D64292",builtin:"#D47509",string2:"#0B7FC7",variable:"#397D13",atom:"#CA9800",background:"inherit",headerBackground:"inherit",textDefault:"inherit",dividers:"inherit",inputBackground:"inherit",buttonBorder:"inherit"},GQ=i.createElement("svg",{width:"12",height:"9"},i.createElement("path",{fill:"inherit",d:"M 0 2 L 9 2 L 4.5 7.5 z"})),zQ=i.createElement("svg",{width:"12",height:"9"},i.createElement("path",{fill:"inherit",d:"M 0 0 L 0 9 L 5.5 4.5 z"})),qQ=i.createElement("svg",{style:{marginRight:"3px",marginLeft:"-3px"},width:"12",height:"12",viewBox:"0 0 18 18",fill:"inherit",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0ZM16 16H2V2H16V16ZM14.99 6L13.58 4.58L6.99 11.17L4.41 8.6L2.99 10.01L6.99 14L14.99 6Z",fill:"inherit"})),KQ=i.createElement("svg",{style:{marginRight:"3px",marginLeft:"-3px"},width:"12",height:"12",viewBox:"0 0 18 18",fill:"inherit",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M16 2V16H2V2H16ZM16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z",fill:"inherit"}));function vu(t){return t.checked?t.styleConfig.checkboxChecked:t.styleConfig.checkboxUnchecked}function WQ(t){const n=t.getFields();if(n.id){const o=["id"];return n.email?o.push("email"):n.name&&o.push("name"),o}if(n.edges)return["edges"];if(n.node)return["node"];if(n.nodes)return["nodes"];const a=[];return Object.keys(n).forEach(o=>{(0,Q.isLeafType)(n[o].type)&&a.push(o)}),a.length?a.slice(0,2):["__typename"]}function Cw(t){return vw(t.type)&&t.defaultValue===void 0}function HQ(t){let n=t;for(;Sw(n);)n=n.ofType;return n}function yi(t){let n=t;for(;Sw(n);)n=n.ofType;return n}function Rw(t,n){if(typeof n!="string"&&n.kind==="VariableDefinition")return n.variable;if(Tw(t))try{let a;switch(t.name){case"String":a={kind:"StringValue",value:t.parseValue(n)},a.value=String(a.value??"");break;case"Float":a={kind:"FloatValue",value:t.parseValue(parseFloat(n.toString()))},a.value=String(a.value??0);break;case"Int":a={kind:"IntValue",value:t.parseValue(parseInt(n.toString(),10))},a.value=String(a.value??0);break;case"Boolean":try{const o=JSON.parse(n.toString());typeof o=="boolean"?a={kind:"BooleanValue",value:o}:a={kind:"BooleanValue",value:!1}}catch{a={kind:"BooleanValue",value:!1}}break;default:a={kind:"StringValue",value:t.parseValue(n)},a.value=String(a.value??"")}return a}catch(a){return console.error("error coercing arg value",a,n),{kind:"StringValue",value:n.toString()}}else try{const a=t.parseValue(n);return a?{kind:"EnumValue",value:String(a)}:{kind:"EnumValue",value:t.getValues()[0].name}}catch{return{kind:"EnumValue",value:t.getValues()[0].name}}}class JQ extends i.PureComponent{constructor(){super(...arguments),this._getArgSelection=()=>this.props.selection.fields.find(n=>n.name.value===this.props.arg.name),this._removeArg=()=>{const{selection:n}=this.props,a=this._getArgSelection();this._previousArgSelection=a,this.props.modifyFields(n.fields.filter(o=>o!==a),{commit:!0})},this._addArg=()=>{const{selection:n,arg:a,getDefaultScalarArgValue:o,parentField:s,makeDefaultArg:c}=this.props,u=yi(a.type);let p=null;if(this._previousArgSelection)p=this._previousArgSelection;else if(rs(u)){const h=u.getFields();p={kind:"ObjectField",name:{kind:"Name",value:a.name},value:{kind:"ObjectValue",fields:Su(o,c,s,Object.keys(h).map(f=>h[f]))}}}else(0,Q.isLeafType)(u)&&(p={kind:"ObjectField",name:{kind:"Name",value:a.name},value:o(s,a,u)});if(!p){console.error("Unable to add arg for argType",u);return}return this.props.modifyFields([...n.fields||[],p],{commit:!0})},this._setArgValue=(n,a)=>{let o=!1,s=!1,c=!1;try{n.kind==="VariableDefinition"?s=!0:n===null||typeof n>"u"?o=!0:typeof n.kind=="string"&&(c=!0)}catch{}const{selection:u}=this.props,p=this._getArgSelection();if(!p){console.error("missing arg selection when setting arg value");return}const h=yi(this.props.arg.type);if(!((0,Q.isLeafType)(h)||s||o||c)){console.warn("Unable to handle non leaf types in InputArgView.setArgValue",n);return}let y,g;return n===null||typeof n>"u"?g=null:!n.target&&n.kind&&n.kind==="VariableDefinition"?(y=n,g=y.variable):typeof n.kind=="string"?g=n:n.target&&typeof n.target.value=="string"&&(y=n.target.value,g=Rw(h,y)),this.props.modifyFields((u.fields||[]).map(E=>E===p?{...E,value:g}:E),a)},this._modifyChildFields=n=>this.props.modifyFields(this.props.selection.fields.map(a=>a.name.value===this.props.arg.name?{...a,value:{kind:"ObjectValue",fields:n}}:a),{commit:!0})}render(){const{arg:n,parentField:a}=this.props,o=this._getArgSelection();return i.createElement(ww,{argValue:o?o.value:null,arg:n,parentField:a,addArg:this._addArg,removeArg:this._removeArg,setArgFields:this._modifyChildFields,setArgValue:this._setArgValue,getDefaultScalarArgValue:this.props.getDefaultScalarArgValue,makeDefaultArg:this.props.makeDefaultArg,onRunOperation:this.props.onRunOperation,styleConfig:this.props.styleConfig,onCommit:this.props.onCommit,definition:this.props.definition})}}function YQ(t){if(Iw(t))return{kind:"EnumValue",value:t.getValues()[0].name};switch(t.name){case"String":return{kind:"StringValue",value:""};case"Float":return{kind:"FloatValue",value:"1.5"};case"Int":return{kind:"IntValue",value:"10"};case"Boolean":return{kind:"BooleanValue",value:!1};default:return{kind:"StringValue",value:""}}}function QQ(t,n,a){return YQ(a)}class XQ extends i.PureComponent{constructor(){super(...arguments),this._getArgSelection=()=>{const{selection:n}=this.props;return(n.arguments||[]).find(a=>a.name.value===this.props.arg.name)},this._removeArg=n=>{const{selection:a}=this.props,o=this._getArgSelection();return this._previousArgSelection=o,this.props.modifyArguments((a.arguments||[]).filter(s=>s!==o),{commit:n})},this._addArg=n=>{const{selection:a,getDefaultScalarArgValue:o,makeDefaultArg:s,parentField:c,arg:u}=this.props,p=yi(u.type);let h=null;if(this._previousArgSelection)h=this._previousArgSelection;else if(rs(p)){const f=p.getFields();h={kind:"Argument",name:{kind:"Name",value:u.name},value:{kind:"ObjectValue",fields:Su(o,s,c,Object.keys(f).map(y=>f[y]))}}}else(0,Q.isLeafType)(p)&&(h={kind:"Argument",name:{kind:"Name",value:u.name},value:o(c,u,p)});return h?this.props.modifyArguments([...a.arguments||[],h],{commit:n}):(console.error("Unable to add arg for argType",p),null)},this._setArgValue=(n,a)=>{let o=!1,s=!1,c=!1;try{n=n,n.kind==="VariableDefinition"?s=!0:n===null||typeof n>"u"?o=!0:typeof n.kind=="string"&&(c=!0)}catch{}const{selection:u}=this.props,p=this._getArgSelection();if(!p&&!s){console.error("missing arg selection when setting arg value");return}const h=yi(this.props.arg.type);if(!((0,Q.isLeafType)(h)||s||o||c)){console.warn("Unable to handle non leaf types in ArgView._setArgValue");return}let y,g;return n===null||typeof n>"u"?g=null:n.currentTarget&&typeof n.currentTarget.value=="string"?(n=n,y=n.currentTarget.value,g=Rw(h,y)):!n.currentTarget&&n.kind==="VariableDefinition"?(n=n,y=n,g=y.variable):typeof n.kind=="string"&&(g=n),this.props.modifyArguments((u.arguments||[]).map(A=>A===p?{...A,value:g}:A),a)},this._setArgFields=(n,a)=>{const{selection:o}=this.props,s=this._getArgSelection();if(!s){console.error("missing arg selection when setting arg value");return}return this.props.modifyArguments((o.arguments||[]).map(c=>c===s?{...c,value:{kind:"ObjectValue",fields:n}}:c),a)}}render(){const{arg:n,parentField:a}=this.props,o=this._getArgSelection();return i.createElement(ww,{argValue:o?o.value:null,arg:n,parentField:a,addArg:this._addArg,removeArg:this._removeArg,setArgFields:this._setArgFields,setArgValue:this._setArgValue,getDefaultScalarArgValue:this.props.getDefaultScalarArgValue,makeDefaultArg:this.props.makeDefaultArg,onRunOperation:this.props.onRunOperation,styleConfig:this.props.styleConfig,onCommit:this.props.onCommit,definition:this.props.definition})}}function ZQ(t){return t.ctrlKey&&t.key==="Enter"}function eX(t){return t!=="FragmentDefinition"}class tX extends i.PureComponent{constructor(){super(...arguments),this._handleBlur=n=>{this.props.setArgValue(n,{commit:!0})},this._handleKeyPress=n=>{n.key==="Enter"&&n.target.blur()},this._handleChange=n=>{const a=this._ref;a.style.width=`${Math.max(1,Math.min(15,n.target.value.length))}ch`}}componentDidMount(){const n=this._ref,{activeElement:a}=document;n&&a&&!(a instanceof HTMLTextAreaElement)&&(n.focus(),n.setSelectionRange(0,n.value.length))}componentDidUpdate(){const{argValue:n}=this.props,a=typeof n.value=="string"?n.value:"",o=this._ref;a!==o.value&&(o.value=a)}render(){const{arg:n,argValue:a,styleConfig:o}=this.props,s=yi(n.type),c=typeof a.value=="string"?a.value:"",u=this.props.argValue.kind==="StringValue"?o.colors.string:o.colors.number;return i.createElement("span",{style:{color:u}},s.name==="String"?'"':"",i.createElement("input",{style:{border:"none",borderBottom:o.colors.dividers,backgroundColor:"transparent",outline:"none",width:`${Math.max(1,Math.min(15,c.length))}ch`,color:o.colors.string,fontFamily:"Amazon Ember, Helvetica Neue, Roboto,Arial, sans-serif"},ref:p=>{this._ref=p},type:"text",onBlur:this._handleBlur,onKeyPress:this._handleKeyPress,onChange:this._handleChange,defaultValue:c}),s.name==="String"?'"':"")}}class ww extends i.PureComponent{constructor(n){super(n),this.state={displayArgActions:!1}}render(){const{argValue:n,arg:a,styleConfig:o}=this.props,s=yi(a.type);let c=null;if(n){if(n.kind==="Variable")c=i.createElement("span",{style:{color:o.colors.variable}},"$",n.name.value);else if(Tw(s))s.name==="Boolean"?c=i.createElement("select",{style:{color:o.colors.builtin},onChange:this.props.setArgValue,value:n.kind==="BooleanValue"?`${n.value}`:void 0},i.createElement("option",{key:"true",value:"true"},"true"),i.createElement("option",{key:"false",value:"false"},"false")):c=i.createElement(tX,{setArgValue:this.props.setArgValue,arg:a,argValue:n,styleConfig:this.props.styleConfig});else if(Iw(s))n.kind==="EnumValue"?c=i.createElement("select",{style:{backgroundColor:"white",color:o.colors.string2},onChange:this.props.setArgValue,value:n.value},s.getValues().map(A=>i.createElement("option",{key:A.name,value:A.name},A.name))):console.error("arg mismatch between arg and selection",s,n);else if(rs(s))if(n.kind==="ObjectValue"){const A=s.getFields();c=i.createElement("div",{style:{marginLeft:16}},Object.keys(A).sort().map(E=>i.createElement(JQ,{key:E,arg:A[E],parentField:this.props.parentField,selection:n,modifyFields:this.props.setArgFields,getDefaultScalarArgValue:this.props.getDefaultScalarArgValue,makeDefaultArg:this.props.makeDefaultArg,onRunOperation:this.props.onRunOperation,styleConfig:this.props.styleConfig,onCommit:this.props.onCommit,definition:this.props.definition})))}else console.error("arg mismatch between arg and selection",s,n)}const u=()=>{const A=a.name,E=(this.props.definition.variableDefinitions||[]).filter(O=>O.variable.name.value.startsWith(A)).length;let b;E>0?b=`${A}${E}`:b=A;const C=a.type.toString(),I=(0,Q.parseType)(C),R={kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:b}},type:I,directives:[]},L=O=>(this.props.definition.variableDefinitions||[]).find(j=>j.variable.name.value===O);let P;const F={};if(typeof n<"u"&&n!==null){const O=(0,Q.visit)(n,{Variable(B){const V=B.name.value,W=L(V);return F[V]=F[V]+1||1,W?.defaultValue}});P={...R.type.kind==="NonNullType"?{...R,type:R.type.type}:R,defaultValue:O}}else P=R;const x=Object.entries(F).filter(([O,j])=>j<2).map(([O,j])=>O);if(P){const O=this.props.setArgValue(P,{commit:!1});if(O){const j=O.definitions.find(Z=>Z.operation&&Z.name&&Z.name.value&&this.props.definition.name&&this.props.definition.name.value?Z.name.value===this.props.definition.name.value:!1),M=[...j.variableDefinitions||[],P].filter(Z=>x.indexOf(Z.variable.name.value)===-1),B={...j,variableDefinitions:M},W=O.definitions.map(Z=>j===Z?B:Z),Y={...O,definitions:W};this.props.onCommit(Y)}}},p=()=>{if(!n||!n.name||!n.name.value)return;const A=n.name.value,E=(this.props.definition.variableDefinitions||[]).find(I=>I.variable.name.value===A);if(!E)return;const{defaultValue:b}=E,C=this.props.setArgValue(b,{commit:!1});if(C){const I=C.definitions.find(j=>j.name.value===this.props.definition.name.value);if(!I)return;let R=0;(0,Q.visit)(I,{Variable(j){j.name.value===A&&(R+=1)}});let L=I.variableDefinitions||[];R<2&&(L=L.filter(j=>j.variable.name.value!==A));const P={...I,variableDefinitions:L},x=C.definitions.map(j=>I===j?P:j),O={...C,definitions:x};this.props.onCommit(O)}},h=n&&n.kind==="Variable",f=A=>{A.preventDefault(),A.stopPropagation(),h?p():u()},y=this.state.displayArgActions?i.createElement("button",{type:"submit",className:"toolbar-button",title:h?"Remove the variable":"Extract the current value into a GraphQL variable",onClick:f,onKeyPress:f,style:{...o.styles.actionButtonStyle,backgroundColor:o.colors.inputBackground,border:`1px solid ${o.colors.buttonBorder}`}},i.createElement("span",{style:{color:o.colors.variable}},"$")):null,g=()=>{const A=!n;A?this.props.addArg(!0):this.props.removeArg(!0),this.setState({displayArgActions:A})};return i.createElement("div",{style:{cursor:"pointer",minHeight:"16px",WebkitUserSelect:"none",userSelect:"none"},"data-arg-name":a.name,"data-arg-type":s.name,className:`graphiql-explorer-${a.name}`},i.createElement("span",{role:"button",tabIndex:0,"aria-roledescription":n?"Add argument":"Remove argument",onKeyPress:g,style:{cursor:"pointer",fill:o.colors.buttonBorder},onClick:g},rs(s)?i.createElement("span",null,n?this.props.styleConfig.arrowOpen:this.props.styleConfig.arrowClosed):i.createElement(vu,{checked:!!n,styleConfig:this.props.styleConfig}),i.createElement("span",{style:{color:o.colors.attribute},title:a.description,onMouseEnter:()=>{n!==null&&typeof n<"u"&&this.setState({displayArgActions:!0})},onMouseLeave:()=>this.setState({displayArgActions:!1})},a.name,Cw(a)?"*":"",": ",y," ")," "),c||i.createElement("span",null)," ")}}class nX extends i.PureComponent{constructor(){super(...arguments),this._addFragment=()=>{this.props.modifySelections([...this.props.selections,this._previousSelection||{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:this.props.implementingType.name}},selectionSet:{kind:"SelectionSet",selections:this.props.getDefaultFieldNames(this.props.implementingType).map(n=>({kind:"Field",name:{kind:"Name",value:n}}))}}])},this._removeFragment=()=>{const n=this._getSelection();this._previousSelection=n,this.props.modifySelections(this.props.selections.filter(a=>a!==n))},this._getSelection=()=>{const n=this.props.selections.find(a=>a.kind==="InlineFragment"&&a.typeCondition&&this.props.implementingType.name===a.typeCondition.name.value);if(n?.kind==="InlineFragment")return n},this._modifyChildSelections=(n,a)=>{const o=this._getSelection();return this.props.modifySelections(this.props.selections.map(s=>s===o?{directives:s.directives,kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:this.props.implementingType.name}},selectionSet:{kind:"SelectionSet",selections:n}}:s),a)}}render(){const{implementingType:n,schema:a,getDefaultFieldNames:o,styleConfig:s}=this.props,c=this._getSelection(),u=n.getFields(),p=c?.selectionSet?.selections??[];return i.createElement("div",{className:`graphiql-explorer-${n.name}`},i.createElement("span",{role:"button",tabIndex:0,"aria-roledescription":c?"Remove fragment":"Add fragment",onKeyPress:c?this._removeFragment:this._addFragment,style:{cursor:"pointer",fill:this.props.styleConfig.colors.buttonBorder},onClick:c?this._removeFragment:this._addFragment},i.createElement(vu,{checked:!!c,styleConfig:this.props.styleConfig}),i.createElement("span",{style:{color:s.colors.atom}},this.props.implementingType.name)),c?i.createElement("div",{style:{marginLeft:16}},Object.keys(u).sort().map(h=>i.createElement(Tu,{key:h,field:u[h],selections:p,modifySelections:this._modifyChildSelections,schema:a,getDefaultFieldNames:o,getDefaultScalarArgValue:this.props.getDefaultScalarArgValue,makeDefaultArg:this.props.makeDefaultArg,onRunOperation:this.props.onRunOperation,onCommit:this.props.onCommit,styleConfig:this.props.styleConfig,definition:this.props.definition,availableFragments:{}}))):null)}}class rX extends i.PureComponent{constructor(){super(...arguments),this._addFragment=()=>{this.props.modifySelections([...this.props.selections,this._previousSelection||{kind:"FragmentSpread",name:this.props.fragment.name}])},this._removeFragment=()=>{const n=this._getSelection();this._previousSelection=n,this.props.modifySelections(this.props.selections.filter(a=>!(a.kind==="FragmentSpread"&&a.name.value===this.props.fragment.name.value)))},this._getSelection=()=>this.props.selections.find(n=>n.kind==="FragmentSpread"&&n.name.value===this.props.fragment.name.value)}render(){const{styleConfig:n}=this.props,a=this._getSelection();return i.createElement("div",{className:`graphiql-explorer-${this.props.fragment.name.value}`},i.createElement("span",{role:"button",tabIndex:0,"aria-roledescription":a?"Remove fragment":"Add fragment",style:{cursor:"pointer",fill:this.props.styleConfig.colors.buttonBorder},onKeyPress:a?this._removeFragment:this._addFragment,onClick:a?this._removeFragment:this._addFragment},i.createElement(vu,{checked:!!a,styleConfig:this.props.styleConfig}),i.createElement("span",{style:{color:n.colors.def},className:`graphiql-explorer-${this.props.fragment.name.value}`},this.props.fragment.name.value)))}}function Su(t,n,a,o){const s=[];for(const c of o)if(n&&n(a,c)){const u=yi(c.type);if(rs(u)){const p=u.getFields();s.push({kind:"ObjectField",name:{kind:"Name",value:c.name},value:{kind:"ObjectValue",fields:Su(t,n,a,Object.keys(p).map(h=>p[h]))}})}else(0,Q.isLeafType)(u)&&s.push({kind:"ObjectField",name:{kind:"Name",value:c.name},value:t(a,c,u)})}return s}function Pw(t,n,a){const o=[];for(const s of a.args)if(Cw(s)||n&&n(a,s)){const c=yi(s.type);if(rs(c)){const u=c.getFields();o.push({kind:"Argument",name:{kind:"Name",value:s.name},value:{kind:"ObjectValue",fields:Su(t,n,a,Object.keys(u).map(p=>u[p]))}})}else(0,Q.isLeafType)(c)&&o.push({kind:"Argument",name:{kind:"Name",value:s.name},value:t(a,s,c)})}return o}class Tu extends i.PureComponent{constructor(n){super(n),this._addAllFieldsToSelections=a=>{const s={kind:"SelectionSet",selections:a?Object.keys(a).map(u=>({kind:"Field",name:{kind:"Name",value:u},arguments:[]})):[]},c=[...this.props.selections.filter(u=>u.kind==="InlineFragment"?!0:u.name.value!==this.props.field.name),{kind:"Field",name:{kind:"Name",value:this.props.field.name},arguments:Pw(this.props.getDefaultScalarArgValue,this.props.makeDefaultArg,this.props.field),selectionSet:s}];this.props.modifySelections(c)},this._addFieldToSelections=a=>{const o=[...this.props.selections,this._previousSelection||{kind:"Field",name:{kind:"Name",value:this.props.field.name},arguments:Pw(this.props.getDefaultScalarArgValue,this.props.makeDefaultArg,this.props.field)}];this.props.modifySelections(o)},this._handleUpdateSelections=a=>{if(this._getSelection()&&!a.altKey)this._removeFieldFromSelections();else{const s=(0,Q.getNamedType)(this.props.field.type),c=ns(s)&&s.getFields();!!c&&a.altKey?this._addAllFieldsToSelections(c):this._addFieldToSelections(c)}},this._removeFieldFromSelections=()=>{const a=this._getSelection();this._previousSelection=a,this.props.modifySelections(this.props.selections.filter(o=>o!==a))},this._getSelection=()=>{const a=this.props.selections.find(o=>o.kind==="Field"&&this.props.field.name===o.name.value);if(!a)return null;if(a.kind==="Field")return a},this._setArguments=(a,o)=>{const s=this._getSelection();if(!s){console.error("Missing selection when setting arguments",a);return}return this.props.modifySelections(this.props.selections.map(c=>c===s?{alias:s.alias,arguments:a,directives:s.directives,kind:"Field",name:s.name,selectionSet:s.selectionSet}:c),o)},this._modifyChildSelections=(a,o)=>this.props.modifySelections(this.props.selections.map(s=>{if(s.kind==="Field"&&this.props.field.name===s.name.value){if(s.kind!=="Field")throw new Error("invalid selection");return{alias:s.alias,arguments:s.arguments,directives:s.directives,kind:"Field",name:s.name,selectionSet:{kind:"SelectionSet",selections:a}}}return s}),o),this.state={displayFieldActions:!1}}render(){const{field:n,schema:a,getDefaultFieldNames:o,styleConfig:s}=this.props,c=this._getSelection(),u=HQ(n.type),p=n.args.sort((A,E)=>A.name.localeCompare(E.name));let h=`graphiql-explorer-node graphiql-explorer-${n.name}`;n.isDeprecated&&(h+=" graphiql-explorer-deprecated");const f=ns(u)||Kh(u)||Eu(u)?this.props.availableFragments&&this.props.availableFragments[u.name]:null,y=()=>{ns(u)&&c&&c.selectionSet&&c.selectionSet.selections.filter(E=>E.kind!=="FragmentSpread").length>0&&this.setState({displayFieldActions:!0})},g=i.createElement("div",{className:h},i.createElement("span",{role:"button","aria-roledescription":"Toggle field",tabIndex:0,title:n.description,style:{cursor:"pointer",display:"inline-flex",alignItems:"center",minHeight:"16px",WebkitUserSelect:"none",userSelect:"none",fill:s.colors.buttonBorder},"data-field-name":n.name,"data-field-type":u.name,onKeyPress:this._handleUpdateSelections,onClick:this._handleUpdateSelections,onFocus:y,onMouseEnter:y,onMouseLeave:()=>this.setState({displayFieldActions:!1})},ns(u)?i.createElement("span",null,c?this.props.styleConfig.arrowOpen:this.props.styleConfig.arrowClosed):null,ns(u)?null:i.createElement(vu,{checked:!!c,styleConfig:this.props.styleConfig}),i.createElement("span",{style:{color:s.colors.property},className:"graphiql-explorer-field-view"},n.name),this.state.displayFieldActions?i.createElement("button",{type:"submit",className:"toolbar-button",title:"Extract selections into a new reusable fragment",onClick:A=>{A.preventDefault(),A.stopPropagation();let b=`${u.name}Fragment`;const C=(f||[]).filter(F=>F.name.value.startsWith(b)).length;C>0&&(b=`${b}${C}`);const I=c?.selectionSet?.selections??[],R=[{kind:"FragmentSpread",name:{kind:"Name",value:b},directives:[]}],L={kind:"FragmentDefinition",name:{kind:"Name",value:b},typeCondition:{kind:"NamedType",name:{kind:"Name",value:u.name}},directives:[],selectionSet:{kind:"SelectionSet",selections:I}},P=this._modifyChildSelections(R,!1);if(P){const F={...P,definitions:[...P.definitions,L]};this.props.onCommit(F)}else console.warn("Unable to complete extractFragment operation")},style:{...s.styles.actionButtonStyle,color:s.colors.textDefault,backgroundColor:s.colors.inputBackground,border:`1px solid ${s.colors.buttonBorder}`}},i.createElement("span",null,"\u2026")):null),c&&p.length?i.createElement("div",{style:{marginLeft:16},className:"graphiql-explorer-graphql-arguments"},p.map(A=>i.createElement(XQ,{key:A.name,parentField:n,arg:A,selection:c,modifyArguments:this._setArguments,getDefaultScalarArgValue:this.props.getDefaultScalarArgValue,makeDefaultArg:this.props.makeDefaultArg,onRunOperation:this.props.onRunOperation,styleConfig:this.props.styleConfig,onCommit:this.props.onCommit,definition:this.props.definition}))):null);if(c&&(ns(u)||Kh(u)||Eu(u))){const A=Eu(u)?{}:u.getFields(),E=c?.selectionSet?.selections??[];return i.createElement("div",{className:`graphiql-explorer-${n.name}`},g,i.createElement("div",{style:{marginLeft:16}},f?f.map(b=>{const C=a.getType(b.typeCondition.name.value),I=b.name.value;return C&&i.createElement(rX,{key:I,fragment:b,selections:E,modifySelections:this._modifyChildSelections,styleConfig:this.props.styleConfig})}):null,Object.keys(A).sort().map(b=>i.createElement(Tu,{key:b,field:A[b],selections:E,modifySelections:this._modifyChildSelections,schema:a,getDefaultFieldNames:o,getDefaultScalarArgValue:this.props.getDefaultScalarArgValue,makeDefaultArg:this.props.makeDefaultArg,onRunOperation:this.props.onRunOperation,styleConfig:this.props.styleConfig,onCommit:this.props.onCommit,definition:this.props.definition,availableFragments:this.props.availableFragments})),Kh(u)||Eu(u)?a.getPossibleTypes(u).map(b=>i.createElement(nX,{key:u.name,implementingType:b,selections:E,modifySelections:this._modifyChildSelections,schema:a,getDefaultFieldNames:o,getDefaultScalarArgValue:this.props.getDefaultScalarArgValue,makeDefaultArg:this.props.makeDefaultArg,onRunOperation:this.props.onRunOperation,styleConfig:this.props.styleConfig,onCommit:this.props.onCommit,definition:this.props.definition})):null))}return g}}function aX(t){try{return t.trim()?(0,Q.parse)(t,{noLocation:!0}):null}catch(n){return new Error(n)}}const Iu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],name:{kind:"Name",value:"MyQuery"},directives:[],selectionSet:{kind:"SelectionSet",selections:[]}}]};let as=null;function iX(t){if(as&&as[0]===t)return as[1];const n=aX(t);return n?n instanceof Error?as?as[1]:Iu:(as=[t,n],n):Iu}const Ow={buttonStyle:{fontSize:"1.2em",padding:"0px",backgroundColor:"white",border:"none",margin:"5px 0px",height:"40px",width:"100%",display:"block",maxWidth:"none"},actionButtonStyle:{padding:"0px",backgroundColor:"white",border:"none",margin:"0px",maxWidth:"none",height:"15px",width:"15px",display:"inline-block",fontSize:"smaller"},explorerActionsStyle:{margin:"4px -8px -8px",paddingLeft:"8px",bottom:"0px",width:"100%",textAlign:"center",background:"none",borderTop:"none",borderBottom:"none"}};class oX extends i.PureComponent{constructor(n){super(n),this._modifySelections=(a,o)=>{let s=this.props.definition;s.selectionSet.selections.length===0&&this._previousOperationDef&&(s=this._previousOperationDef);let c;if(s.kind==="FragmentDefinition")c={...s,selectionSet:{...s.selectionSet,selections:a}};else if(s.kind==="OperationDefinition"){let u=a.filter(p=>!(p.kind==="Field"&&p.name.value==="__typename"));u.length===0&&(u=[{kind:"Field",name:{kind:"Name",value:"__typename ## Placeholder value"}}]),c={...s,selectionSet:{...s.selectionSet,selections:u}}}return this.props.onEdit(c,o)},this._onOperationRename=a=>this.props.onOperationRename(a.target.value),this._handlePotentialRun=a=>{ZQ(a)&&eX(this.props.definition.kind)&&this.props.onRunOperation(this.props.name)},this._rootViewElId=()=>{const{operationType:a,name:o}=this.props;return`${a}-${o||"unknown"}`},this.state={displayTitleActions:!1}}componentDidMount(){const n=this._rootViewElId();this.props.onMount(n)}render(){const{operationType:n,definition:a,schema:o,getDefaultFieldNames:s,styleConfig:c}=this.props,u=this._rootViewElId(),p=this.props.fields||{},h=a,{selections:f}=h.selectionSet,y=this.props.name||`${bu(n)} Name`;return i.createElement("div",{id:u,tabIndex:0,onKeyDown:this._handlePotentialRun,"aria-roledescription":`Run ${u}`,role:"button",style:{borderBottom:this.props.isLast?"none":`1px solid ${c.colors.dividers}`,marginBottom:"0em",paddingBottom:"1em"}},i.createElement("div",{style:{color:c.colors.keyword,paddingBottom:4},className:"graphiql-operation-title-bar",onFocus:()=>this.setState({displayTitleActions:!0}),onMouseEnter:()=>this.setState({displayTitleActions:!0}),onMouseLeave:()=>this.setState({displayTitleActions:!1})},n," ",i.createElement("span",{style:{color:c.colors.def}},i.createElement("input",{style:{color:c.colors.def,border:"none",borderBottom:`1px solid ${c.colors.dividers}`,backgroundColor:"transparent",outline:"none",width:`${Math.max(4,Math.min(15,y.length))}ch`},autoComplete:"false",placeholder:`${bu(n)} Name`,value:this.props.name,onKeyDown:this._handlePotentialRun,onChange:this._onOperationRename})),this.props.onTypeName?i.createElement("span",null,i.createElement("br",null),`on ${this.props.onTypeName}`):"",this.state.displayTitleActions?i.createElement("span",null,i.createElement("button",{type:"submit",className:"toolbar-button",onClick:()=>this.props.onOperationDestroy(),style:{...c.styles.actionButtonStyle,backgroundColor:c.colors.inputBackground,color:c.colors.textDefault,border:`1px solid ${c.colors.buttonBorder}`,height:"auto"}},i.createElement("span",null,"\u2715")),i.createElement("button",{type:"submit",className:"toolbar-button",onClick:()=>this.props.onOperationClone(),style:{...c.styles.actionButtonStyle,backgroundColor:c.colors.inputBackground,color:c.colors.textDefault,border:`1px solid ${c.colors.buttonBorder}`,height:"auto"}},i.createElement("span",null,"\u2398"))):""),Object.keys(p).sort().map(g=>i.createElement(Tu,{key:g,field:p[g],selections:f,modifySelections:this._modifySelections,schema:o,getDefaultFieldNames:s,getDefaultScalarArgValue:this.props.getDefaultScalarArgValue,makeDefaultArg:this.props.makeDefaultArg,onRunOperation:this.props.onRunOperation,styleConfig:this.props.styleConfig,onCommit:this.props.onCommit,definition:this.props.definition,availableFragments:this.props.availableFragments})))}}class sX extends i.PureComponent{constructor(n){super(n),this._resetScroll=()=>{const a=this._ref;a&&(a.scrollLeft=0)},this._handleRootViewMount=a=>{if(this.state.operationToScrollTo&&this.state.operationToScrollTo===a){const o=`.graphiql-explorer-root #${a}`;document.querySelector(o)?.scrollIntoView()}},this.state={operationToScrollTo:null,announcementKey:0,announcementMessage:""}}componentDidMount(){this._resetScroll()}render(){const{schema:n,query:a,makeDefaultArg:o}=this.props;if(!n)return i.createElement("div",{style:{fontFamily:"Amazon Ember, Helvetica Neue, Roboto,Arial, sans-serif"},className:"error-container"},"No Schema Available");const s={colors:this.props.colors||BQ,checkboxChecked:this.props.checkboxChecked||qQ,checkboxUnchecked:this.props.checkboxUnchecked||KQ,arrowClosed:this.props.arrowClosed||zQ,arrowOpen:this.props.arrowOpen||GQ,styles:this.props.styles?{...Ow,...this.props.styles}:Ow},c=n.getQueryType(),u=n.getMutationType(),p=n.getSubscriptionType();if(!c&&!u&&!p)return i.createElement("div",null,"Missing query type");const h=c&&c.getFields(),f=u&&u.getFields(),y=p&&p.getFields(),g=iX(a),A=this.props.getDefaultFieldNames||WQ,E=this.props.getDefaultScalarArgValue||QQ,{definitions:b}=g,C=b.map(M=>M.kind==="FragmentDefinition"||M.kind==="OperationDefinition"?M:null).filter(Boolean),I=C.length===0?Iu.definitions:C,R=(M,B)=>{const V=B==null||B===""?null:{kind:"Name",value:B,loc:void 0},W={...M,name:V},Z=g.definitions.map(ie=>M===ie?W:ie);return{...g,definitions:Z}},L=M=>{let B;M.kind==="FragmentDefinition"?B="fragment":B=M.operation;const V=`${M.name&&M.name.value||""}Copy`,Y={...M,name:{kind:"Name",value:V,loc:void 0}},ie=[...g.definitions,Y];return this.setState({operationToScrollTo:`${B}-${V}`}),{...g,definitions:ie}},P=M=>{const V=g.definitions.filter(W=>M!==W);return{...g,definitions:V}},F=M=>{const B=g.definitions,V=g.definitions.length===1&&g.definitions[0]===Iu.definitions[0],W=V?[]:B.filter(Ae=>Ae.kind==="OperationDefinition"?Ae.operation===M:!1),Y=`My${bu(M)}${W.length===0?"":W.length+1}`,ye={kind:"OperationDefinition",operation:M,name:{kind:"Name",value:Y},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename # Placeholder value",loc:null},arguments:[],directives:[],selectionSet:null,loc:null}],loc:null},loc:null},ve=V?[ye]:[...g.definitions,ye],Ce={...g,definitions:ve};this.setState({operationToScrollTo:`${M}-${Y}`}),this.props.onEdit((0,Q.print)(Ce))},x=[h?"Query":null,f?"Mutation":null,y?"Subscription":null].filter(Boolean),O=x.map(M=>({text:M,id:M.toLowerCase()})),j=I.reduce((M,B)=>{if(B.kind==="FragmentDefinition"){const V=B,W=V.typeCondition.name.value,Z=[...M[W]||[],V].sort((ie,ye)=>ie.name.value.localeCompare(ye.name.value));return{...M,[W]:Z}}return M},{});return i.createElement("div",{ref:M=>{this._ref=M},style:{fontSize:12,textOverflow:"ellipsis",whiteSpace:"nowrap",margin:0,padding:8,fontFamily:'Consolas, Inconsolata, "Droid Sans Mono", Monaco, monospace',display:"flex",flexDirection:"column",backgroundColor:s.colors.background,color:s.colors.textDefault},className:"graphiql-explorer-root"},i.createElement(rl,{message:this.state.announcementMessage,key:this.state.announcementKey}),i.createElement(mi.A,{disabled:x.length===0,items:O,onItemClick:({detail:M})=>{F(M.id),this.setState(B=>({announcementMessage:`${bu(M.id)} added`,announcementKey:B.announcementKey+1}))}},"Add new operation"),i.createElement("div",{style:{flexGrow:"1",paddingTop:8}},I.map((M,B)=>{const V=M&&M.name&&M.name.value,W=M.kind==="FragmentDefinition"?"fragment":M&&M.operation||"query",Y=Te=>{const Ie=R(M,Te);this.props.onEdit((0,Q.print)(Ie))},Z=()=>{const Te=L(M);this.props.onEdit((0,Q.print)(Te))},ie=()=>{const Te=P(M);this.props.onEdit((0,Q.print)(Te))},ye=M.kind==="FragmentDefinition"&&M.typeCondition.kind==="NamedType"&&n.getType(M.typeCondition.name.value),ve=ye instanceof Q.GraphQLObjectType?ye.getFields():null,Ce={query:h,mutation:f,subscription:y,FragmentDefinition:ve},Ae=Ce[W]??Ce[M.kind]??null,J=M.kind==="FragmentDefinition"?M.typeCondition.name.value:null,Ee=Te=>{const Ie=(0,Q.print)(Te);this.props.onEdit(Ie)};return i.createElement(oX,{key:"explorer-root",isLast:B===I.length-1,fields:Ae,operationType:W,name:V,definition:M,onOperationRename:Y,onOperationDestroy:ie,onOperationClone:Z,onTypeName:J,onMount:this._handleRootViewMount,onCommit:Ee,onEdit:(Te,Ie)=>{let ft;if(typeof Ie=="object"&&typeof Ie.commit<"u"?ft=Ie.commit:ft=!0,Te){const qt={...g,definitions:g.definitions.map(Ze=>Ze===M?Te:Ze)};return ft&&Ee(qt),qt}return g},schema:n,getDefaultFieldNames:A,getDefaultScalarArgValue:E,makeDefaultArg:o,onRunOperation:()=>{this.props.onRunOperation&&this.props.onRunOperation(V)},styleConfig:s,availableFragments:j})})))}}class lX extends i.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null}}componentDidCatch(n,a){this.setState({hasError:!0,error:n,errorInfo:a}),console.error("Error in component",n,a)}render(){return this.state.hasError?i.createElement("div",{style:{padding:18,fontFamily:"Amazon Ember, Helvetica Neue, Roboto,Arial, sans-serif"}},i.createElement("div",null,"Something went wrong"),i.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.state.error?this.state.error.toString():null,i.createElement("br",null),this.state.errorInfo?this.state.errorInfo.componentStack:null)):this.props.children}}function cX(t){return i.createElement("div",{className:"docExplorerWrap","data-analytics-type":"eventContext","data-analytics":"explorer",style:{height:"100%",width:t.width??320,minWidth:t.width??320,zIndex:7,display:t.explorerIsOpen?"flex":"none",flexDirection:"column",overflow:"auto",color:t.colors.textDefault,borderColor:t.colors.dividers}},i.createElement("div",{className:"doc-explorer-title-bar",style:{borderColor:t.colors.dividers??"inherit"}},i.createElement("div",{className:"doc-explorer-title",style:{fontFamily:"Amazon Ember, Helvetica Neue, Roboto,Arial, sans-serif"}},t.title??"Explorer"),i.createElement("div",{className:"doc-explorer-rhs"},i.createElement("div",{id:"docExplorerHide",className:"docExplorerHide",role:"button","aria-label":"Hide explorer pane",tabIndex:0,onKeyPress:t.onToggleExplorer,onClick:t.onToggleExplorer},"\u2715"))),i.createElement("div",{className:"doc-explorer-contents",style:{padding:"0px",borderBottom:`2px solid ${t.colors.dividers}`,borderLeft:`1px solid ${t.colors.dividers}`,boxSizing:"border-box"}},i.createElement(lX,null,i.createElement(sX,{...t}))))}const uX=cX;var Dw=v(98302),dX=v(81447),Nw=v(70513),_w=v(25874),xw=v(47330),pX=v(87907),mX=v(13976),Cu=v(12892),Lw=v(734),hX=v(60904),fX=v(74152),yX=v(12721),gi=v(91536),kw=v(89642);class gX{constructor(n){this.storage=n}async get(n){if(this.storage){const a=this.storage.getItem(`graphiql_${n}`);let o=a;if(EX(a)&&(o=await a),o==="null"||o==="undefined")this.storage.removeItem(`graphiql_${n}`);else return o||""}return""}set(n,a){if(this.storage){const o=`graphiql_${n}`;a?AX(this.storage,o,a)&&this.storage.setItem(o,a):this.storage.removeItem(o)}}}function AX(t,n,a){try{return t.setItem(n,a),!0}catch(o){return o instanceof DOMException&&(o.code===22||o.code===1014||o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t.length!==0}}function EX(t){return!!(t&&t.then&&t.catch)}var bX=v(15237),ive=v(61274),ove=v(40795),sve=v(28527),lve=v(76895),cve=v(23653),uve=v(38820),dve=v(8208),pve=v(16792),mve=v(79654);function Mw(){const t=Array.from(document.body.querySelectorAll('button, input, select, [tabindex]:not([tabindex="-1"])')),a=(t.findIndex(o=>o===document.activeElement)+1)%t.length;t[a].focus()}const Fw=bX;class vX extends i.Component{constructor(n){super(n),this._onKeyDown=(a,o)=>{o.code==="Escape"&&(o.stopPropagation(),Mw())}}componentDidMount(){if(this.props.ResultsTooltip){const n=document.createElement("div");Fw.registerHelper("info","graphql-results",(a,o,s,c)=>{const u=this.props.ResultsTooltip;return(0,Se.H)(n).render(i.createElement(u,{pos:c})),n})}this.viewer=Fw(this._node,{lineWrapping:!0,value:this.props.value||"",readOnly:!0,scrollbarStyle:null,theme:this.props.editorTheme||"graphiql",mode:null,keyMap:"sublime",foldGutter:{minFoldSize:3},gutters:["CodeMirror-foldgutter"],info:!!this.props.ResultsTooltip,extraKeys:{"Cmd-F":"findPersistent","Ctrl-F":"findPersistent","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight"}}),this.viewer.on("keydown",this._onKeyDown)}shouldComponentUpdate(n){return this.props.value!==n.value}componentDidUpdate(){this.viewer.setValue(this.props.value||"")}componentWillUnmount(){this.viewer.off("keydown",this._onKeyDown),this.viewer=null}render(){return i.createElement("div",{className:"log-window",ref:n=>{this._node=n}})}getCodeMirror(){return this.viewer}getClientHeight(){return this._node&&this._node.clientHeight}}const Uw=()=>`# Welcome to GraphiQL
#
# ${(0,l.Ay)`Type queries into this side of the screen, and you will see intelligent typeaheads aware of the current GraphQL type schema and live syntax and validation errors highlighted within the text.`}
#
# ${(0,l.Ay)`GraphQL queries typically start with a "{" character. Lines that starts with a # are ignored.`}
#
# ${(0,l.Ay)`An example GraphQL query might look like:`}
#
#     {
#       field(arg: "value") {
#         subField
#       }
#     }
#
# ${(0,l.Ay)`Keyboard shortcuts:`}
#
#  ${(0,l.Ay)`Prettify Query:  Shift-Ctrl-P`}
#
#       ${(0,l.Ay)`Run Query:  Ctrl-Enter (or press the play button above)`}
#
#   ${(0,l.Ay)`Auto Complete:  Ctrl-Space (or just start typing)`}
#

`;var SX=v(60023),TX=v(42838),IX=v(17334),CX=v(6477),RX=v(26698),gr;(function(t){t.DARK="awsdark",t.LIGHT="awslight",t.RO_DARK="readonly-awsdark",t.RO_LIGHT="readonly-awslight"})(gr||(gr={}));const $w={[gr.LIGHT]:{keyword:"#0073BB",def:"#015B9D",property:"#8456CE",qualifier:"#8A6B05",attribute:"#4066DF",number:"#A32952",string:"#1F8104",builtin:"#8A5505",string2:"#C33D69",variable:"#0D7D70",meta:"#B33086",atom:"#BC4D01",background:"#FFFFFF",headerBackground:"#FAFAFA",textDefault:"#16191F",dividers:"#D5DBDB",inputBackground:"#FFFFFF",buttonBorder:"#879596"},[gr.DARK]:{keyword:"#00A1C9",def:"#529CCB",property:"#A783E1",qualifier:"#B2911C",attribute:"#688AE8",number:"#CE567C",string:"#82B771",builtin:"#C78F67",string2:"#DA7596",variable:"#33B7A8",meta:"#D256A0",atom:"#FF9900",background:"#16191F",headerBackground:"#21252c",textDefault:"#EAEDED",dividers:"#414750",inputBackground:"#1a2029",buttonBorder:"#879596"}},wX=200,PX=/^[a-zA-Z0-9_@(]$/;var Wh;(function(t){t.query="graphql",t.schema="graphql-schema",t.variable="graphql-variables"})(Wh||(Wh={}));const OX=({isDarkMode:t,readonly:n})=>{switch(!0){case(t&&n):return gr.RO_DARK;case t:return gr.DARK;case n:return gr.RO_LIGHT;default:return gr.LIGHT}};class jw extends i.Component{constructor(n){super(n),this._onKeyUp=(a,o)=>{PX.test(o.key)&&this.autocomplete()},this._onKeyDown=(a,o)=>{o.code==="Escape"&&(o.stopPropagation(),Mw())},this._onEdit=()=>{this.ignoreChangeEvent||(this.cachedValue=this.editor.getValue(),this.props.onEdit&&this.props.onEdit(this.cachedValue))},this._onHasCompletion=(a,o)=>{(0,RX.A)(a,o,this.props.onHintInformationRender)},this.autocomplete=IX(()=>this.editor.execCommand("autocomplete"),wX),this.cachedValue=n.value||"",this.isDarkMode=this.props?.editorTheme===gr.DARK||this.props?.editorTheme===gr.RO_DARK}componentDidMount(){const n=v(15237);v(9751),v(57829),v(97923),v(55218),v(61274),v(40795),v(76895),v(23653),v(38820),v(28527),v(71561),v(8208),v(63344),v(7176),v(93718),v(63704),v(24238),v(1794),v(47418),v(38911),v(85391),v(36506),v(14884),v(59886),this.editor=n(this._node,{mode:Wh[this.props.mode],value:this.props.value||"",lineNumbers:!0,tabSize:2,theme:OX({isDarkMode:this.isDarkMode,readonly:this.props.readOnly}),keyMap:"sublime",autoCloseBrackets:!0,matchBrackets:!0,showCursorWhenSelecting:!0,...this.props.readOnly?{cursorBlinkRate:-1,readOnly:!0}:{},foldGutter:{minFoldSize:4},lint:{schema:this.props.schema??void 0},hintOptions:{schema:this.props.schema??void 0,closeOnUnfocus:!0,completeSingle:!1,container:this._node},info:{schema:this.props.schema??void 0,renderDescription:a=>(0,TX.sanitize)((0,SX.xI)(a,{gfm:!0,breaks:!0})),onClick:a=>this.props.onClickReference?.(a)},jump:{schema:this.props.schema??void 0,onClick:a=>this.props.onClickReference?.(a)},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Cmd-Space":()=>this.editor.showHint({completeSingle:!0}),"Ctrl-Space":()=>this.editor.showHint({completeSingle:!0}),"Alt-Space":()=>this.editor.showHint({completeSingle:!0}),"Shift-Space":()=>this.editor.showHint({completeSingle:!0}),"Shift-Alt-Space":()=>this.editor.showHint({completeSingle:!0}),"Cmd-Enter":()=>this.props.onRunQuery?.(),"Ctrl-Enter":()=>this.props.onRunQuery?.(),"Shift-Ctrl-P":()=>this.props.onPrettifyQuery?.(),"Shift-Ctrl-F":()=>this.props.onPrettifyQuery?.(),"Cmd-F":"findPersistent","Ctrl-F":"findPersistent","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight"}}),this.editor.on("change",this._onEdit),this.editor.on("keyup",this._onKeyUp),this.editor.on("hasCompletion",this._onHasCompletion),this.editor.on("beforeChange",this._onBeforeChange),this.editor.on("keydown",this._onKeyDown)}componentDidUpdate(n){const a=v(15237);this.ignoreChangeEvent=!0,this.props.schema!==n.schema&&(this.editor.options.lint.schema=this.props.schema,this.editor.options.hintOptions.schema=this.props.schema,this.editor.options.info.schema=this.props.schema,this.editor.options.jump.schema=this.props.schema,a.signal(this.editor,"change",this.editor)),this.props.value!==n.value&&this.props.value!==this.cachedValue&&(this.cachedValue=this.props.value,this.editor.setValue(this.props.value)),this.ignoreChangeEvent=!1,this.props.readOnly&&this.editor.refresh()}componentWillUnmount(){this.editor&&(this.editor.off("change",this._onEdit),this.editor.off("keyup",this._onKeyUp),this.editor.off("keydown",this._onKeyDown),this.editor.off("hasCompletion",this._onHasCompletion),this.editor.off("beforeChange",this._onBeforeChange),this.editor=null)}render(){return i.createElement("div",{className:this.isDarkMode?"code-editor darkmode":"code-editor lightmode",ref:n=>{this._node=n}})}getCodeMirror(){return this.editor}getClientHeight(){return this._node&&this._node.clientHeight}_onBeforeChange(n){if(n.origin==="paste"){const a=n.text.map(CX.vr);n.update(n.from,n.to,a)}}}const Ru=t=>t.readOnly?i.createElement(jw,{...t,ref:t.refToForward,key:"read-only-editor",readOnly:!0,value:t.value}):i.createElement(jw,{...t,ref:t.refToForward,key:"read-write-editor",readOnly:!1,value:t.value,onEdit:t.onChange});var er;(function(t){t.SERVICE="service",t.SERVICE_SUB_SECTION="serviceSubSection",t.SERVICE_CONSOLE_PAGE="serviceConsolePage",t.EVENT_CONTEXT="eventContext",t.EVENT_DETAIL="eventDetail",t.EVENT_VALUE="eventValue",t.FUNNEL="funnel",t.TASK_ID="taskId"})(er||(er={}));function DX(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",focusable:"false","aria-hidden":"true"},i.createElement("path",{className:"filled",d:"M2 2h12v12H2z"}))}function NX({isRunning:t,onRun:n,onStop:a,operations:o}){const s=({detail:u})=>t?a():n(u.id),c=()=>o?.map((u,p)=>({id:u.name?.value??"*",text:u.name?.value??"<Unnamed>"}))??[];return i.createElement("div",{className:"execute-button-wrap"},t?i.createElement(K.A,{"data-cy":"execute-button",variant:"primary",iconSvg:i.createElement(DX,null),onClick:s,"data-analytics-type":er.EVENT_DETAIL,"data-analytics":"stop"}):i.createElement(mi.A,{"data-cy":"execute-button",variant:"primary",items:c(),onItemClick:s,"data-analytics-type":er.EVENT_DETAIL,"data-analytics":"run"},(0,l.Ay)`Run`))}const Hh=350,_X=(0,l.Ay)`Results available`;class yn extends i.Component{constructor(n){if(super(n),this.toggleEnableLogs=()=>{const s=!this.state.enableLogPolling;this.setState({enableLogPolling:s,requestLogEvents:[]})},this.noOpLogHandler=s=>{},this.logHandler=(s,c)=>{const u=this,p=c?{linkToLogs:c}:{};Yh(s)&&(this.setState({requestLogEvents:[],isPollingLogs:!0,...p}),this.logObservable=s,s.subscribe(h=>{u.setState({requestLogEvents:h})},h=>{console.warn(`Could not get log events from promise: ${h.message}`),u.logObservable=null,u.setState({requestLogEvents:[{message:(0,l.Ay)`Error fetching logs.`}],isPollingLogs:!1,linkToLogs:void 0})},()=>{u.logObservable=null,u.setState({isPollingLogs:!1})}))},this.handleClickReference=s=>{this.setState({docExplorerOpen:!0},()=>{this.docExplorerComponent.showDocForReference(s)})},this.handleRunQuery=async s=>{this._editorQueryID++;const c=this._editorQueryID,u=this.autoCompleteLeafs()||this.state.query,{variables:p}=this.state;let{operationName:h}=this.state;s&&s!==h&&(h=s,this.handleEditOperationName(h));try{this.setState({isWaitingForResponse:!0,response:null,operationName:h});const f=await this._fetchQuery(u,p,h,g=>{c===this._editorQueryID&&this.setState({response:JSON.stringify(g,null,2)})});let y=null;xX(f)?y=f:this.setState({isWaitingForResponse:!1}),this.setState(g=>({announcementKey:g.announcementKey+1,subscription:y}))}catch(f){this.setState({isWaitingForResponse:!1,response:f.message})}},this.handleStopQuery=()=>{const{subscription:s}=this.state;this.setState({isWaitingForResponse:!1,subscription:null}),s&&s.unsubscribe()},this.handlePrettifyQuery=()=>{const s=this.getCodeEditor();s.setValue((0,Q.print)((0,Q.parse)(s.getValue())))},this.handleEditQuery=s=>(0,hX.default)(s||100,c=>{const u=this._updateQueryFacts(c,this.state.operationName,this.state.operations,this.state.schema);if(this.setState({query:c,...u}),this.props.onEditQuery)return this.props.onEditQuery(c)}),this._updateQueryFacts=(s,c,u,p)=>{const h=(0,Cu.Ay)(p,s);if(h){const f=(0,Lw.A)(u,c,h.operations),{onEditOperationName:y}=this.props;return y&&c!==f&&y(f),{operationName:f,...h}}},this.handleEditVariables=s=>{this.setState({variables:s}),this.props.onEditVariables&&this.props.onEditVariables(s)},this.handleEditOperationName=s=>{const{onEditOperationName:c}=this.props;c&&c(s)},this.handleHintInformationRender=s=>{s.addEventListener("click",this._onClickHintInformation);let c;s.addEventListener("DOMNodeRemoved",c=()=>{c&&s.removeEventListener("DOMNodeRemoved",c),s.removeEventListener("click",this._onClickHintInformation)})},this.handleEditorRunQuery=()=>{this._runQueryAtCursor()},this._onClickHintInformation=s=>{if(s.target.className==="typeName"){const c=s.target.innerHTML,{schema:u}=this.state;if(u){const p=u.getType(c);p&&this.setState({docExplorerOpen:!0},()=>{this.docExplorerComponent.showDoc(p)})}}},this.handleToggleExplorer=()=>{this.setState({explorerPaneOpen:!this.state.explorerPaneOpen})},this.handleToggleDocs=()=>{typeof this.props.onToggleDocs=="function"&&this.props.onToggleDocs(!this.state.docExplorerOpen),this.setState({docExplorerOpen:!this.state.docExplorerOpen})},this.handleResizeStart=s=>{if(!this._didClickDragBar(s))return;s.preventDefault();const c=s.clientX-(0,gi.Gp)(s.target);let u,p=h=>{if(h.buttons===0)return u?u():null;const f=fi.findDOMNode(this.editorBarComponent),y=h.clientX-(0,gi.Gp)(f)-c,g=f.clientWidth-y;this.setState({editorFlex:y/g})};u=()=>{p&&document.removeEventListener("mousemove",p),u&&document.removeEventListener("mouseup",u),p=null,u=null},document.addEventListener("mousemove",p),document.addEventListener("mouseup",u)},this.handleResetResize=()=>{this.setState({editorFlex:1})},this.handleDocsResizeStart=s=>{s.preventDefault();const c=this.state.docExplorerWidth,u=s.clientX-(0,gi.Gp)(s.target);let p,h=f=>{if(f.buttons===0)return p?p():null;const y=fi.findDOMNode(this),g=f.clientX-(0,gi.Gp)(y)-u,A=y.clientWidth-g;A<100?this.setState({docExplorerOpen:!1}):this.setState({docExplorerOpen:!0,docExplorerWidth:Math.min(A,650)})};p=()=>{this.state.docExplorerOpen||this.setState({docExplorerWidth:c}),h&&document.removeEventListener("mousemove",h),p&&document.removeEventListener("mouseup",p),h=null,p=null},document.addEventListener("mousemove",h),document.addEventListener("mouseup",p)},this.handleDocsResetResize=()=>{this.setState({docExplorerWidth:Hh})},this.handleLogViewerResizeStart=s=>{s.preventDefault();const c=fi.findDOMNode(this.toggleFetchLogsInput);if(s.target===c)return;const u=fi.findDOMNode(this.gotoCloudWatchLink);if(s.target===u)return;let p=!1;const h=this.state.logViewerOpen,f=this.state.logViewerHeight,y=s.clientY-(0,gi.Sj)(s.target);let g,A=E=>{if(E.buttons===0)return g?g():null;p=!0;const b=fi.findDOMNode(this.editorBarComponent),C=E.clientY-(0,gi.Sj)(b)-y,I=b.clientHeight-C;I<60?this.setState({logViewerOpen:!1,logViewerHeight:f}):this.setState({logViewerOpen:!0,logViewerHeight:I})};g=()=>{p||this.setState({logViewerOpen:!h}),A&&document.removeEventListener("mousemove",A),g&&document.removeEventListener("mouseup",g),A=null,g=null},document.addEventListener("mousemove",A),document.addEventListener("mouseup",g)},this.handleVariableResizeStart=s=>{s.preventDefault();let c=!1;const u=this.state.variableEditorOpen,p=this.state.variableEditorHeight,h=s.clientY-(0,gi.Sj)(s.target);let f,y=g=>{if(g.buttons===0)return f?f():null;c=!0;const A=fi.findDOMNode(this.editorBarComponent),E=g.clientY-(0,gi.Sj)(A)-h,b=A.clientHeight-E;b<60?this.setState({variableEditorOpen:!1,variableEditorHeight:p}):this.setState({variableEditorOpen:!0,variableEditorHeight:b})};f=()=>{c||this.setState({variableEditorOpen:!u}),y&&document.removeEventListener("mousemove",y),f&&document.removeEventListener("mouseup",f),y=null,f=null},document.addEventListener("mousemove",y),document.addEventListener("mouseup",f)},this.subToolTip=()=>{const{schema:s}=this.state;let c=null,u=[],p=[],h=[];if(s){const f=s.getSubscriptionType();if(!f)return null;const{astNode:y}=f,g=this.getSubOpDef(this.state.operations,this.state.operationName);if(!g)return null;const A=g.selectionSet.selections[0];if(!A||!A.name)return null;const E=A.name.value,b=y.fields.find(C=>C.name.value===E);if(!b||!b.directives)return null;c=b.directives.find(C=>C.name.value==="aws_subscribe"),p=this.getMutationsForSubscription(c),u=this.getSubInputArgNames(A),h=this.getSubInputArgValues(A)}if(this.props.subscriptionTooltip)return this.props.subscriptionTooltip(p,u,h)},typeof n.fetcher!="function")throw new TypeError((0,l.Ay)`GraphiQL requires a fetcher function.`);this._storage=new gX(n.storage);const a=n.query!==void 0?n.query:n.defaultQuery!==void 0?n.defaultQuery:Uw(),o=(0,Cu.Ay)(n.schema,a);this.state={schema:n.schema,query:a,variables:"",operationName:"",response:n.response,editorFlex:1,variableEditorOpen:!1,variableEditorHeight:200,logViewerOpen:!1,logViewerHeight:200,docExplorerOpen:!1,historyPaneOpen:!1,explorerPaneOpen:!0,docExplorerWidth:Hh,isWaitingForResponse:!1,subscription:null,enableLogPolling:!1,isPollingLogs:!1,...o,myDirective:null,announcementKey:0},this._editorQueryID=0,typeof window=="object"&&window.addEventListener("beforeunload",()=>this.componentWillUnmount())}async initFromStorage(){try{const n=await this._storage.get("config"),{query:a,variables:o,operationName:s,editorFlex:c,variableEditorHeight:u,logViewerHeight:p,docExplorerWidth:h,docExplorerOpen:f,historyPaneOpen:y,explorerPaneOpen:g,enableLogPolling:A,logViewerOpen:E,variableEditorOpen:b}=JSON.parse(n);let C=Uw();this.props.query?C=this.props.query:a?C=a:this.props.defaultQuery&&(C=this.props.defaultQuery);const I=(0,Cu.Ay)(this.props.schema,a);let R="";this.props.variables?R=this.props.variables:o&&(R=o);const L=this.props.operationName!==void 0?this.props.operationName:(0,Lw.A)(null,s,I&&I.operations),P=!!(this.props.enableLogs&&A),F=typeof g>"u"?!0:g;this.setState({query:C,variables:R,operationName:L,enableLogPolling:P,docExplorerOpen:f,editorFlex:Number(c)||1,variableEditorHeight:Number(u)||200,logViewerHeight:Number(p)||200,historyPaneOpen:y,explorerPaneOpen:F,docExplorerWidth:Number(h)||Hh,logViewerOpen:E,variableEditorOpen:b,...I})}catch{console.error("Error loading graphiql state.")}}componentDidMount(){this.state.schema===void 0&&this._fetchSchema(),this.initFromStorage(),this.codeMirrorSizer=new mX.A}componentWillReceiveProps(n){let a=this.state.schema,o=this.state.query,s=this.state.variables,c=this.state.operationName,u=this.state.response;if(n.schema!==void 0&&(a=n.schema),n.query!==void 0&&(o=n.query),n.variables!==void 0&&(s=n.variables),n.operationName!==void 0&&(c=n.operationName),n.response!==void 0&&(u=n.response),a!==this.state.schema||o!==this.state.query||c!==this.state.operationName){const p=this._updateQueryFacts(o,c,this.state.operations,a);p!==void 0&&(c=p.operationName,this.setState(p))}n.schema===void 0&&n.fetcher!==this.props.fetcher&&(a=void 0),this.setState({schema:a,query:o,variables:s,operationName:c,response:u},()=>{this.state.schema===void 0&&(this.docExplorerComponent.reset(),this._fetchSchema())})}componentDidUpdate(){this.codeMirrorSizer.updateSizes([this.codeEditorComponent,this.variableEditorComponent,this.resultComponent])}componentWillUnmount(){const n={query:this.state.query,variables:this.state.variables,operationName:this.state.operationName,editorFlex:this.state.editorFlex,variableEditorHeight:this.state.variableEditorHeight,logViewerHeight:this.state.logViewerHeight,docExplorerWidth:this.state.docExplorerWidth,docExplorerOpen:this.state.docExplorerOpen,historyPaneOpen:this.state.historyPaneOpen,explorerPaneOpen:this.state.explorerPaneOpen,enableLogPolling:this.state.enableLogPolling,logViewerOpen:this.state.logViewerOpen,variableEditorOpen:this.state.variableEditorOpen};this._storage.set("config",JSON.stringify(n))}render(){const n=$w[this.props.editorTheme||gr.LIGHT],a=this.props.editorTheme===gr.DARK,o=i.Children.toArray(this.props.children),s=this.props.actions?this.props.actions:i.createElement(yn.Toolbar,null),c=(0,fX.A)(o,P=>P.type===yn.Footer),u={borderColor:n.dividers},p={WebkitFlex:this.state.editorFlex,flex:this.state.editorFlex},h={borderColor:n.dividers},f={display:this.state.docExplorerOpen?"block":"none",width:this.state.docExplorerWidth,borderColor:n.dividers},y=`docExplorerWrap${this.state.docExplorerWidth<200?" doc-explorer-narrow":""}`,g=this.state.variableEditorOpen,A={height:g?this.state.variableEditorHeight:void 0},{logViewerOpen:E}=this.state,b={height:E?this.state.logViewerHeight:void 0};let C=this.state.requestLogEvents?this.state.requestLogEvents.join(`
`):"";this.props.enableLogs||(C=this.props.disabledLogMessage?this.props.disabledLogMessage:(0,l.Ay)`Logging is disabled.`);const I=!!this.state.linkToLogs&&this.props.enableLogs&&this.state.enableLogPolling,R=I?i.createElement("a",{href:this.state.linkToLogs,target:"_blank",style:{marginRight:10,color:a?"rgb(68, 185, 214)":"default"},ref:P=>{this.gotoCloudWatchLink=P},rel:"noreferrer"},"View in CloudWatch"):null,L=I?165:18;return i.createElement("div",{className:a?"graphiql-container darkmode":"graphiql-container lightmode",style:{backgroundColor:n.background,color:n.textDefault}},i.createElement(rl,{message:_X,key:this.state.announcementKey}),i.createElement(uX,{schema:this.state.schema,query:this.state.query,onEdit:this.handleEditQuery(10),explorerIsOpen:this.state.explorerPaneOpen,onToggleExplorer:this.handleToggleExplorer,colors:n}),i.createElement("div",{className:"editorWrap",style:{backgroundColor:n.headerBackground}},i.createElement("div",{className:"topBarWrap",style:{borderColor:n.dividers}},!this.state.explorerPaneOpen&&i.createElement(K.A,{iconName:"angle-right",iconAlign:"right",variant:"link",ariaLabel:l.Ay.translate("Expand ${0}",(0,l.Ay)`GraphiQL explorer`),onClick:this.handleToggleExplorer,"data-analytics-type":er.EVENT_DETAIL,"data-analytics":"explorer"},(0,l.Ay)`Explorer`),i.createElement("div",{className:"topBar"},i.createElement(NX,{isRunning:!!this.state.subscription,onRun:this.handleRunQuery,onStop:this.handleStopQuery,operations:this.state.operations}),s,this.state.isWaitingForResponse?i.createElement("div",null,i.createElement(Et.A,{size:"normal"})):null,this.state.subscription?i.createElement("div",{style:{marginLeft:10,width:"250px"}},this.subToolTip()):null),!this.state.docExplorerOpen&&i.createElement(K.A,{ariaLabel:l.Ay.translate("Expand ${0}",(0,l.Ay)`Documentation explorer`),onClick:this.handleToggleDocs,"data-analytics-type":er.EVENT_DETAIL,"data-analytics":"showDocs",iconName:"angle-left",variant:"link"},(0,l.Ay)`Docs`)),i.createElement("div",{ref:P=>{this.editorBarComponent=P},className:"editorBar",style:u,onDoubleClick:this.handleResetResize,onMouseDown:this.handleResizeStart},i.createElement("div",{className:"queryWrap",style:p},i.createElement("div",{className:"query-editor","data-analytics-type":er.EVENT_CONTEXT,"data-analytics":"queryEditor",tabIndex:0},i.createElement(Ru,{refToForward:P=>{this.codeEditorComponent=P},mode:"query",schema:this.state.schema,value:this.state.query,onChange:this.handleEditQuery(),onHintInformationRender:this.handleHintInformationRender,onClickReference:this.handleClickReference,onPrettifyQuery:this.handlePrettifyQuery,onRunQuery:this.handleEditorRunQuery,editorTheme:this.props.editorTheme})),i.createElement("div",{className:"variable-editor",style:A,"data-analytics-type":er.EVENT_CONTEXT,"data-analytics":"variableEditor",tabIndex:0},i.createElement("div",{className:"variable-editor-title",style:{cursor:g?"row-resize":"n-resize",borderColor:n.dividers},onMouseDown:this.handleVariableResizeStart},(0,l.Ay)`Query Variables`),i.createElement(Ru,{refToForward:P=>{this.variableEditorComponent=P},mode:"variable",schema:this.props.schema,value:this.state.variables,variableToType:this.state.variableToType,onChange:this.handleEditVariables,onHintInformationRender:this.handleHintInformationRender,onPrettifyQuery:this.handlePrettifyQuery,onRunQuery:this.handleEditorRunQuery,editorTheme:this.props.editorTheme}))),i.createElement("div",{tabIndex:0,className:"resultWrap",style:h},i.createElement(xw.K,{ref:P=>{this.resultComponent=P},value:this.state.response,editorTheme:this.props.editorTheme,ResultsTooltip:this.props.ResultsTooltip}),i.createElement("div",{className:"log-viewer",style:b,"data-analytics-type":er.EVENT_CONTEXT,"data-analytics":"logViewer",tabIndex:0},i.createElement("div",{className:"log-viewer-title",style:{cursor:E?"row-resize":"n-resize",borderColor:n.dividers},onMouseDown:this.handleLogViewerResizeStart},i.createElement("div",{"data-analytics-type":er.EVENT_DETAIL,"data-analytics":"logs"},(0,l.Ay)`Logs`,this.props.enableLogs?i.createElement("input",{ref:P=>{this.toggleFetchLogsInput=P},style:{marginLeft:5},name:"toggleFetchLogs",type:"checkbox",checked:this.state.enableLogPolling,onChange:this.toggleEnableLogs,"data-analytics-type":er.EVENT_VALUE,"data-analytics":this.state.enableLogPolling}):null),i.createElement("div",{style:{height:15,width:L,marginRight:10}},R,this.state.isPollingLogs?i.createElement("div",{className:"spinner small"}):null)),i.createElement(vX,{ref:P=>{this.logViewerComponent=P},value:C,editorTheme:this.props.editorTheme,ResultsTooltip:this.props.ResultsTooltip})),c))),i.createElement("div",{className:y,style:f,"data-analytics-type":er.EVENT_CONTEXT,"data-analytics":"docExplorer"},i.createElement("div",{className:"docExplorerResizer",onDoubleClick:this.handleDocsResetResize,onMouseDown:this.handleDocsResizeStart}),i.createElement(pX.Q,{ref:P=>{this.docExplorerComponent=P},schema:this.state.schema,colors:$w[this.props.editorTheme||"graphiql"]},i.createElement(K.A,{onClick:this.handleToggleDocs,"data-analytics-type":er.EVENT_DETAIL,"data-analytics":"hideDocs",iconName:"close",variant:"icon",ariaLabel:l.Ay.translate("Collapse ${0}",(0,l.Ay)`Documentation explorer`)}))))}getCodeEditor(){return this.codeEditorComponent.getCodeMirror()}getVariableEditor(){return this.variableEditorComponent.getCodeMirror()}refresh(){this.codeEditorComponent.getCodeMirror().refresh(),this.variableEditorComponent.getCodeMirror().refresh(),this.resultComponent.getCodeMirror().refresh(),this.logViewerComponent.getCodeMirror().refresh()}autoCompleteLeafs(){const{insertions:n,result:a}=(0,yX.n)(this.state.schema,this.state.query,this.props.getDefaultFieldNames);if(n&&n.length>0){const o=this.getCodeEditor();o.operation(()=>{const s=o.getCursor(),c=o.indexFromPos(s);o.setValue(a);let u=0;const p=n.map(f=>{const{index:y}=f,g=f.string;return o.markText(o.posFromIndex(y+u),o.posFromIndex(y+(u+=g.length)),{className:"autoInsertedLeaf",clearOnEnter:!0,title:"Automatically added leaf fields"})});setTimeout(()=>p.forEach(f=>f.clear()),7e3);let h=c;n.forEach(f=>{const{index:y}=f,g=f.string;y<c&&(h+=g.length)}),o.setCursor(o.posFromIndex(h))})}return a}_fetchSchema(){const{fetcher:n}=this.props,a=Vw(n({query:kw.Cc},this.noOpLogHandler));if(!Jh(a)){this.setState({response:"Fetcher did not return a Promise for introspection."});return}a.then(o=>{if(o.data)return o;const s=Vw(n({query:kw.jA},this.noOpLogHandler));if(!Jh(a))throw new Error("Fetcher did not return a Promise for introspection.");return s}).then(o=>{if(this.state.schema===void 0)if(o&&o.data){const s=(0,Q.buildClientSchema)(o.data),c=(0,Cu.Ay)(s,this.state.query);this.setState({schema:s,...c})}else{const s=typeof o=="string"?o:JSON.stringify(o,null,2);this.setState({schema:null,response:s})}}).catch(o=>{this.setState({schema:this.state.schema??this.props.schema??null,response:o&&String(o)})})}async _fetchQuery(n,a,o,s){const{fetcher:c}=this.props;let u=null;try{u=a&&a.trim()!==""?JSON.parse(a):null}catch(f){throw new Error((0,l.Ay)`Variables are invalid JSON: ${f.message}.`)}if(typeof u!="object")throw new Error((0,l.Ay)`Variables are not a JSON object.`);const p=this.state.enableLogPolling?this.logHandler:this.noOpLogHandler,h=await c({query:n,variables:u,operationName:o},p);if(Jh(h))h.then(s).catch(f=>{this.setState({isWaitingForResponse:!1,response:f&&String(f.stack||f)})});else{if(Yh(h))return h.subscribe(s,y=>{this.setState({isWaitingForResponse:!1,response:y&&String(y.stack||y),subscription:null})},()=>{this.setState({isWaitingForResponse:!1,subscription:null})});if(typeof h=="object")s(h);else throw new Error("Fetcher did not return Promise or Observable.")}}_runQueryAtCursor(){if(this.state.subscription){this.handleStopQuery();return}let n;const{operations:a}=this.state;if(a){const o=this.getCodeEditor();if(o.hasFocus()){const s=o.getCursor(),c=o.indexFromPos(s);for(const u of a)if(u.loc.start<=c&&u.loc.end>=c){n=u.name&&u.name.value;break}}}this.handleRunQuery(n)}_didClickDragBar(n){if(n.button!==0||n.ctrlKey)return!1;let{target:a}=n;if(a.className.indexOf("CodeMirror-gutter")!==0)return!1;const o=fi.findDOMNode(this.resultComponent),s=fi.findDOMNode(this.logViewerComponent);for(;a;){if(a===o||a===s)return!0;a=a.parentNode}return!1}getSubInputArgValues(n){return!n||!n.arguments?[]:n.arguments.map(a=>Qh(a.value))}getSubInputArgNames(n){return!n||!n.arguments?[]:n.arguments.map(a=>a.name.value)}getSubOpDef(n,a){return a?n.find(o=>o.name.value===a):n[0]}getMutationsForSubscription(n){if(!n||!n.arguments)return[];const a=n.arguments.find(c=>c.name.value==="mutations"),{values:o}=a.value;return o.map(c=>c.value)}}yn.Logo=function(n){return i.createElement("div",{className:"title"},n.children||i.createElement("span",null,"GraphiQL"))},yn.Toolbar=function(n){return i.createElement("div",{className:"toolbar"},n.children)},yn.CodeEditor=Ru,yn.VariableEditor=Ru,yn.ResultViewer=xw.K,yn.Button=Dw.I,yn.ToolbarButton=Dw.I,yn.Group=dX.$,yn.Menu=Nw.bA,yn.MenuItem=Nw.wZ,yn.Select=_w.q4,yn.SelectOption=_w.H3,yn.Footer=function(n){return i.createElement("div",{className:"footer"},n.children)};function Jh(t){return typeof t=="object"&&typeof t.then=="function"}function Vw(t){return Yh(t)?new Promise((n,a)=>{const o=t.subscribe(s=>{n(s),o.unsubscribe()},a,()=>{a(new Error("no value resolved"))})}):t}function Yh(t){return t&&typeof t=="object"&&typeof t.subscribe=="function"}function xX(t){return typeof t=="object"&&typeof t.unsubscribe=="function"}function Qh(t){switch(t.kind){case fa.NULL:return null;case fa.INT:return parseInt(t.value,10);case fa.FLOAT:return parseFloat(t.value);case fa.STRING:return t.value;case fa.ENUM:return t.value;case fa.BOOLEAN:return t.value;case fa.LIST:return t.values.map(n=>Qh(n));case fa.OBJECT:return LX(t.fields,n=>n.name.value,n=>Qh(n.value));default:return null}}function LX(t,n,a){return t.reduce((o,s)=>(o[n(s)]=a(s),o),Object.create(null))}class hve extends i.Component{constructor(n){super(n),this.handleMouseEnter=()=>{this.props.favorite||this.setState({starVisibility:"visible"})},this.handleMouseLeave=()=>{this.props.favorite||this.setState({starVisibility:"hidden"})},this.handleClick=()=>{this.props.onSelect(this.props.query,this.props.variables,this.props.operationName)};const a=this.props.favorite?"visible":"hidden";this.state={starVisibility:a}}render(){this.props.favorite&&this.state.starVisibility==="hidden"&&this.setState({starVisibility:"visible"});const n={float:"right",visibility:this.state.starVisibility},a=this.props.operationName||this.props.query.split(`
`).filter(s=>s.indexOf("#")!==0).join(""),o=this.props.favorite?"\u2605":"\u2606";return i.createElement("p",{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.createElement("span",null,a),i.createElement("span",{onClick:this.handleStarClick,style:n},o))}handleStarClick(n){n.stopPropagation(),this.props.handleToggleFavorite(this.props.query,this.props.variables,this.props.operationName,this.props.favorite)}}var fve=v(95543);class yve{constructor(n,a,o=443){this.subscribe=c=>{const u=this;return new Promise((p,h)=>{this.client.subscribe(c,{onSuccess:f=>{const y=new Observable(g=>(u.topicObservers[c]=g,()=>{u.unsubscribe(c)}));p(y)},onFailure:()=>{h()}})})},this.unsubscribe=c=>new Promise((u,p)=>{this.client.unsubscribe(c,{onSuccess:h=>{u(h)},onFailure:h=>{p(h)}})}),this.connect=()=>new Promise((c,u)=>{this.client.connect({useSSL:!0,mqttVersion:3,onSuccess:c})}),this.onConnectionLost=c=>{c.errorCode!==0&&console.log(`onConnectionLost:${c.errorMessage}`)},this.onMessageArrived=c=>{const u=this.topicObservers[c.destinationName];u&&u.next(JSON.parse(c.payloadString))};const s=new MQTT.Client(n,a);s.onConnectionLost=this.onConnectionLost,s.onMessageArrived=this.onMessageArrived,this.client=s,this.topicObservers={}}}var gve=v(4684),Ave=v(71923);const kX=Array.from({length:11},function(t,n){return String.fromCharCode(8192+n)}).concat(["\u2028","\u2029","\u202F"]),MX=new RegExp(`[${kX.join("|")}]`,"g");function Eve(t){return t.replace(MX," ")}const Bw=v(93574);function bve(t,n,a){const o=v(15237);let s=0,c=0;o.on(n,"select",function(u,p){s||function(){const y=p.parentNode;s=document.createElement("div"),s.className="CodeMirror-hint-information",y.appendChild(s),c=document.createElement("div"),c.className="CodeMirror-hint-deprecation",y.appendChild(c);let g;y.addEventListener("DOMNodeRemoved",g=function(E){E.target===y&&(y.removeEventListener("DOMNodeRemoved",g),s=null,c=null,g=null)})}();const h=u.description?md.render(u.description):"Self descriptive.",f=u.type?`<span class="infoType">${Xh(u.type)}</span>`:"";if(s.innerHTML=`<div class="content">${h.slice(0,3)==="<p>"?`<p>${f}${h.slice(3)}`:f+h}</div>`,u.isDeprecated){const y=u.deprecationReason?md.render(u.deprecationReason):"";c.innerHTML=`<span class="deprecation-label">Deprecated</span>${y}`,c.style.display="block"}else c.style.display="none";a&&a(s)})}function Xh(t){return t instanceof Bw.GraphQLNonNull?`${Xh(t.ofType)}!`:t instanceof Bw.GraphQLList?`[${Xh(t.ofType)}]`:`<a class="typeName">${t.name}</a>`}var vve=v(1794);const FX=yn;var UX=Object.defineProperty,Gw=Object.getOwnPropertySymbols,$X=Object.prototype.hasOwnProperty,jX=Object.prototype.propertyIsEnumerable,zw=(t,n,a)=>n in t?UX(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,VX=(t,n)=>{for(var a in n||(n={}))$X.call(n,a)&&zw(t,a,n[a]);if(Gw)for(var a of Gw(n))jX.call(n,a)&&zw(t,a,n[a]);return t};class BX extends i.Component{getEditorTheme(){var n;const a=gS()?Sd.DARK:Sd.LIGHT;return(n=this.props.editorTheme)!=null?n:a}render(){return i.createElement(FX,VX({ref:n=>{this.graphiql=n},editorTheme:this.getEditorTheme()},this.props))}}var GX=v(19189),zX=Object.defineProperty,qX=Object.defineProperties,KX=Object.getOwnPropertyDescriptors,wu=Object.getOwnPropertySymbols,qw=Object.prototype.hasOwnProperty,Kw=Object.prototype.propertyIsEnumerable,Ww=(t,n,a)=>n in t?zX(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Pu=(t,n)=>{for(var a in n||(n={}))qw.call(n,a)&&Ww(t,a,n[a]);if(wu)for(var a of wu(n))Kw.call(n,a)&&Ww(t,a,n[a]);return t},Ou=(t,n)=>qX(t,KX(n)),WX=(t,n)=>{var a={};for(var o in t)qw.call(t,o)&&n.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&wu)for(var o of wu(t))n.indexOf(o)<0&&Kw.call(t,o)&&(a[o]=t[o]);return a},Hw=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const Jw="NEEDS_PASSWORD",Yw="NEEDS_MFA",{MAX_COGNITO_CLIENT_ID_FETCH_RESULTS:HX}=by;class JX extends Error{constructor(n){super(Jw),this.userAttributes=n}}class Qw extends Error{constructor(){super(Yw)}}function Xw(t,n){return new Promise((a,o)=>{t.authenticateUser(n,{onSuccess:s=>{a(s)},onFailure:s=>o(s),newPasswordRequired:s=>o(new JX(s)),mfaRequired:()=>o(new Qw),customChallenge:()=>o(new Error((0,l.Ay)`Custom challenges not yet supported.`))})})}function YX(t,n,a){return delete n.email_verified,delete n.email,delete n.phone_number,new Promise((o,s)=>{t.completeNewPasswordChallenge(a,n,{onSuccess:c=>o(c),onFailure:c=>s(c),mfaRequired:()=>s(new Qw),customChallenge:()=>s(new Error((0,l.Ay)`Custom challenges not yet supported.`))})})}function QX(t,n){return new Promise((a,o)=>{t.sendMFACode(n,{onSuccess:s=>a(s),onFailure:s=>o(s)})})}const Zw={userInfo:{Username:"",Password:"",ClientId:""},view:"USERNAME_PASSWORD",clientIdOptions:[],mfaToken:"",newPassword:"",newPasswordConfirmation:"",error:null,showCognitoTextInput:!1};class XX extends i.Component{constructor(n){super(n),this.handleUserInfoChange=(a,o)=>{this.setState(s=>({userInfo:Ou(Pu({},s.userInfo),{[a]:o})}))},this.cognitoUser=null,this.userAttributes=null,this.state=Zw,this.handleLogin=this.handleLogin.bind(this)}componentDidMount(){this.state.clientIdOptions.length===0&&this.fetchClientIds(),this.props.cognitoClientId&&this.setState({userInfo:Ou(Pu({},this.state.userInfo),{ClientId:this.props.cognitoClientId})})}handleLogin(){return Hw(this,null,function*(){if(!this.props.userPoolId){this.setState({error:{type:"error",message:(0,l.Ay)`Invalid user pool config.`}});return}try{let n;const a=this.state.userInfo,{ClientId:o}=a,s=WX(a,["ClientId"]);if(this.state.view==="USERNAME_PASSWORD")if(s.Username&&s.Password){const c=new ln.By(s),u=new ln.NE({UserPoolId:this.props.userPoolId,ClientId:o}),p={Username:s.Username,Pool:u};this.cognitoUser=new ln.TU(p),n=yield Xw(this.cognitoUser,c)}else throw new Error((0,l.Ay)`Enter a username and password`);else if(this.cognitoUser&&this.state.view==="NEW_PASSWORD_INPUT"&&this.userAttributes)if(this.state.newPassword&&this.state.newPassword===this.state.newPasswordConfirmation)yield YX(this.cognitoUser,this.userAttributes,this.state.newPassword),n=yield Xw(this.cognitoUser,new ln.By(Ou(Pu({},s),{Password:this.state.newPassword})));else throw new Error((0,l.Ay)`Passwords are not the same.`);else if(this.cognitoUser&&this.state.view==="MFA_INPUT")if(this.state.mfaToken)n=yield QX(this.cognitoUser,this.state.mfaToken);else throw new Error((0,l.Ay)`Enter a MFA access token.`);n&&(this.setState(Zw),this.props.onSuccess(n,o,s.Username,this.props.userPoolId))}catch(n){if(n.message===Jw){const a=n.userAttributes;delete a.email_verified,delete a.phone_number_verified,this.userAttributes=n.userAttributes,this.setState({error:{type:"info",message:(0,l.Ay)`This user needs a new password.`},view:"NEW_PASSWORD_INPUT"})}else n.message===Yw?this.setState({error:{type:"info",message:(0,l.Ay)`MFA is enabled. Enter the MFA token for the user.`},view:"MFA_INPUT"}):n.message&&n.message.startsWith("Unable to verify secret")?this.setState({error:{type:"error",message:(0,l.Ay)`Use a clientId without a client secret.`}}):this.setState({error:{type:"error",message:n.message}})}})}fetchClientIds(){return Hw(this,null,function*(){const n={UserPoolId:this.props.userPoolId?this.props.userPoolId:"",MaxResults:HX},a=n.UserPoolId?n.UserPoolId.split("_")[0]:"us-east-1",o=xe.getCognitoIDPClient(a);try{const c=(yield o.send(new GX.r(n))).UserPoolClients,u=c.length===0?[{id:"",label:(0,l.Ay)`No Available Client IDs for ${this.props.userPoolId}`}]:c.map(p=>({value:p.ClientId,label:p.ClientId,description:`${p.ClientName} : ${p.UserPoolId}`}));this.setState({clientIdOptions:u})}catch{}})}render(){let n=i.createElement($.A,{size:"l"},i.createElement(d6,{onChange:a=>{this.setState({userInfo:Ou(Pu({},this.state.userInfo),{ClientId:a})})},value:this.state.userInfo.ClientId,select:{controlId:"cognito-clientid-dropdown","data-testid":"cognito-clientid-dropdown",placeholder:(0,l.Ay)`Select Client ID`,options:this.state.clientIdOptions},manualInput:{option:{value:"manualCognitoClientID",label:(0,l.Ay)`Enter a Client ID`},props:{controlId:"cognito-clientid-input-box","data-testid":"cognito-clientid-input-box",placeholder:(0,l.Ay)`User Pool Client ID`,type:"text"},separatingText:(0,l.Ay)`Select Client ID`},formField:{input:{label:(0,l.Ay)`Enter a Client ID`},select:{label:(0,l.Ay)`Select Client ID`}}}),i.createElement(X.A,{label:(0,l.Ay)`Username`},i.createElement(He.A,{"data-testid":"cognito-username-input-box",type:"text",onChange:({detail:a})=>this.handleUserInfoChange("Username",a.value),value:this.state.userInfo.Username})),i.createElement(X.A,{label:(0,l.Ay)`Password`},i.createElement(He.A,{"data-testid":"cognito-password-input-box",placeholder:"***********",type:"password",onChange:({detail:a})=>this.handleUserInfoChange("Password",a.value),value:this.state.userInfo.Password})));return this.state.view==="MFA_INPUT"&&(n=i.createElement(X.A,{label:(0,l.Ay)`MFA token`},i.createElement(He.A,{placeholder:(0,l.Ay)`One-time password`,onChange:a=>this.setState({mfaToken:a.detail.value}),value:this.state.mfaToken}))),this.state.view==="NEW_PASSWORD_INPUT"&&(n=i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`Enter a new password for the user`},i.createElement(He.A,{placeholder:"***********",type:"password",onChange:a=>this.setState({newPassword:a.detail.value}),value:this.state.newPassword})),i.createElement(X.A,{label:(0,l.Ay)`Confirm the password`},i.createElement(He.A,{placeholder:"***********",type:"password",onChange:a=>this.setState({newPasswordConfirmation:a.detail.value}),value:this.state.newPasswordConfirmation})))),i.createElement(xn.A,{closeAriaLabel:(0,l.Ay)`Close`,visible:this.props.show,header:(0,l.Ay)`Login via Cognito User Pools`,onDismiss:this.props.onCancel,footer:i.createElement(Sl,{onCancel:this.props.onCancel,onSubmit:this.handleLogin,submitText:"Login"})},i.createElement($.A,{size:"l"},this.state.error&&i.createElement(wt.A,{dismissAriaLabel:"Dismiss error",type:this.state.error.type,statusIconAriaLabel:l.Ay.translate(this.state.error.type)},this.state.error.message),n))}}const ZX=(0,l.Ay)`This is an in-browser tool for writing, validating, and testing GraphQL queries.`,eZ=(0,l.Ay)`An example query named "GetPost" might look like:`,tZ=(0,l.Ay)`An example mutation named "PutPost" might look like:`,nZ=(0,l.Ay)`Keyboard shortcuts:`,rZ=(0,l.Ay)`Prettify Query:  Ctrl+Shift+P (also removes comments)`,aZ=(0,l.Ay)`Run Query:  Ctrl+Enter   (or press the play button above)`,iZ=(0,l.Ay)`Auto Complete:  Ctrl+Space   (or just start typing)`,oZ=`# Welcome!
#
# ${ZX}
#
# ${eZ}
#
#     query GetPost {
#       singlePost(id: 123) {
#         id
#         title
#       }
#     }
#
# ${tZ}
#
#     mutation PutPost {
#       putPost(id: 123, title: "Hello, world!") {
#         id
#         title
#       }
#     }
#
# ${nZ}
#
#  ${rZ}
#       ${aZ}
#   ${iZ}
#

`;var Zh=v(28117),sZ=v(71083),ef=v(64461),lZ=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const e0=mt();class cZ{static getSigV4FetcherClient(n){return lZ(this,null,function*(){const a=yield xe.getCredentials();return typeof n>"u"||n===e0?(this.aws4Fetcher||(this.aws4Fetcher=new ef.t({accessKeyId:a.accessKeyId,secretAccessKey:a.secretAccessKey,sessionToken:a.sessionToken,region:e0,service:"appsync"})),this.aws4Fetcher):new ef.t({accessKeyId:a.accessKeyId,secretAccessKey:a.secretAccessKey,sessionToken:a.sessionToken,region:n,service:"appsync"})})}}var uZ=v(88835),dZ=v(78868),pZ=v(35166),mZ=v(94924),t0=v(766),hZ=Object.defineProperty,n0=Object.getOwnPropertySymbols,fZ=Object.prototype.hasOwnProperty,yZ=Object.prototype.propertyIsEnumerable,r0=(t,n,a)=>n in t?hZ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,tf=(t,n)=>{for(var a in n||(n={}))fZ.call(n,a)&&r0(t,a,n[a]);if(n0)for(var a of n0(n))yZ.call(n,a)&&r0(t,a,n[a]);return t};const gZ=new jd.C("AbstractPubSubProvider");class AZ{constructor(n={}){this._config=n}configure(n={}){return this._config=tf(tf({},n),this._config),gZ.debug(`configure ${this.getProviderName()}`,this._config),this.options}getCategory(){return"PubSub"}get options(){return tf({},this._config)}}var EZ=Object.defineProperty,a0=Object.getOwnPropertySymbols,bZ=Object.prototype.hasOwnProperty,vZ=Object.prototype.propertyIsEnumerable,i0=(t,n,a)=>n in t?EZ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,SZ=(t,n)=>{for(var a in n||(n={}))bZ.call(n,a)&&i0(t,a,n[a]);if(a0)for(var a of a0(n))vZ.call(n,a)&&i0(t,a,n[a]);return t},TZ=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const IZ=mt(),CZ={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},RZ=t=>TZ(void 0,null,function*(){const n=yield xe.getCredentials(),o=yield new ef.s({accessKeyId:n.accessKeyId,secretAccessKey:n.secretAccessKey,sessionToken:n.sessionToken,region:IZ,service:"appsync",method:"POST",body:t.data,headers:SZ({},CZ),url:t.url}).sign(),s={};for(const[c,u]of o.headers.entries())s[c]=u;return s});var no=(t=>(t.CONNECTION_CLOSED="Connection closed",t.CONNECTION_FAILED="Connection failed",t.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",t.SUBSCRIPTION_ACK="Subscription ack",t.TIMEOUT_DISCONNECT="Timeout disconnect",t))(no||{}),o0=v(62045).hp,wZ=Object.defineProperty,PZ=Object.defineProperties,OZ=Object.getOwnPropertyDescriptors,s0=Object.getOwnPropertySymbols,DZ=Object.prototype.hasOwnProperty,NZ=Object.prototype.propertyIsEnumerable,l0=(t,n,a)=>n in t?wZ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Zr=(t,n)=>{for(var a in n||(n={}))DZ.call(n,a)&&l0(t,a,n[a]);if(s0)for(var a of s0(n))NZ.call(n,a)&&l0(t,a,n[a]);return t},c0=(t,n)=>PZ(t,OZ(n)),tr=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const zt=new jd.C("AWSAppSyncRealTimeProvider"),_Z=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",xZ=(t,n,a)=>{dZ.YZ.dispatch("api",{event:t,data:n,message:a},"PubSub",_Z)},LZ=5e3,kZ=[400,401,403];var MZ=(t=>(t.GQL_CONNECTION_INIT="connection_init",t.GQL_CONNECTION_ERROR="connection_error",t.GQL_CONNECTION_ACK="connection_ack",t.GQL_START="start",t.GQL_START_ACK="start_ack",t.GQL_DATA="data",t.GQL_CONNECTION_KEEP_ALIVE="ka",t.GQL_STOP="stop",t.GQL_COMPLETE="complete",t.GQL_ERROR="error",t))(MZ||{}),FZ=(t=>(t[t.PENDING=0]="PENDING",t[t.CONNECTED=1]="CONNECTED",t[t.FAILED=2]="FAILED",t[t.COMPLETED=3]="COMPLETED",t))(FZ||{}),UZ=(t=>(t[t.CLOSED=0]="CLOSED",t[t.READY=1]="READY",t[t.CONNECTING=2]="CONNECTING",t))(UZ||{});const nf=15e3,$Z=15e3,u0=5*60*1e3,jZ=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com\/graphql$/i,Tve="/realtime";class VZ extends AZ{constructor(){super(...arguments),this.socketStatus=0,this.keepAliveTimeout=u0,this.subscriptionObserverMap=new Map,this.promiseArray=[]}getProviderName(){return"AWSAppSyncRealTimeProvider"}newClient(){throw new Error("Not used here")}publish(n,a,o){return tr(this,null,function*(){throw new Error("Operation not supported")})}isCustomDomain(n){return n.match(jZ)===null}subscribe(n,a){const o=a?.appSyncGraphqlEndpoint;return new Zh.A(s=>{if(!a||!o)return s.error({errors:[Zr({},new Q.GraphQLError(`Subscribe only available for ${Wt("AWS AppSync")} endpoint`))]}),s.complete(),()=>Promise.resolve(`Subscribe only available for ${Wt("AWS AppSync")} endpoint`);{const c=crypto.randomUUID();return this._startSubscriptionWithAWSAppSyncRealTime({options:a,observer:s,subscriptionId:c}).catch(u=>{s.error({errors:[Zr({},new Q.GraphQLError(`${no.REALTIME_SUBSCRIPTION_INIT_ERROR}: ${u}`))]}),s.complete()}),()=>tr(this,null,function*(){try{yield this._waitForSubscriptionToBeConnected(c);const{subscriptionState:u}=this.subscriptionObserverMap.get(c)||{};if(!u)return;if(u===1)this._sendUnsubscriptionMessage(c);else throw new Error("Subscription never connected")}catch(u){zt.debug(`Error while unsubscribing ${u}`)}finally{this._removeSubscriptionObserver(c)}})}})}_startSubscriptionWithAWSAppSyncRealTime(n){return tr(this,arguments,function*({options:a,observer:o,subscriptionId:s}){var c,u;const{appSyncGraphqlEndpoint:p,authenticationType:h,query:f,variables:y,apiKey:g,region:A,graphql_headers:E=()=>({}),oidcToken:b,cognitoUserPoolsToken:C,lambdaAuthToken:I}=a,R=0,L={query:f,variables:y};this.subscriptionObserverMap.set(s,{observer:o,query:f??"",variables:y??{},subscriptionState:R,startAckTimeoutId:void 0});const P=JSON.stringify(L),F=c0(Zr(Zr({},yield this._awsRealTimeHeaderBasedAuth({apiKey:g,appSyncGraphqlEndpoint:p,authenticationType:h,payload:P,canonicalUri:"/graphql",region:A,oidcToken:b,cognitoUserPoolsToken:C,lambdaAuthToken:I})),yield E()),{[pZ.YJ]:mZ.YM.userAgent}),x={id:s,payload:{data:P,extensions:{authorization:Zr({},F)}},type:"start"},O=JSON.stringify(x);try{yield this._initializeWebSocketConnection({apiKey:g,appSyncGraphqlEndpoint:p,authenticationType:h,region:A,oidcToken:b,cognitoUserPoolsToken:C,lambdaAuthToken:I})}catch(B){zt.debug({err:B});const V=(c=B.message)!=null?c:"";o.error({errors:[Zr({},new Q.GraphQLError(`${no.CONNECTION_FAILED}: ${V}`))]}),o.complete();const{subscriptionFailedCallback:W}=this.subscriptionObserverMap.get(s);typeof W=="function"&&W();return}const{subscriptionFailedCallback:j,subscriptionReadyCallback:M}=(u=this.subscriptionObserverMap.get(s))!=null?u:{};this.subscriptionObserverMap.set(s,{observer:o,subscriptionState:R,query:f??"",variables:y??{},subscriptionReadyCallback:M,subscriptionFailedCallback:j,startAckTimeoutId:setTimeout(()=>{this._timeoutStartSubscriptionAck.call(this,s)},$Z)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(O)})}_waitForSubscriptionToBeConnected(n){return tr(this,null,function*(){const a=this.subscriptionObserverMap.get(n);if(a){const{subscriptionState:o}=a;if(o===0)return new Promise((s,c)=>{const{observer:u,subscriptionState:p,variables:h,query:f}=a;this.subscriptionObserverMap.set(n,{observer:u,subscriptionState:p,variables:h,query:f,subscriptionReadyCallback:s,subscriptionFailedCallback:c})})}})}_sendUnsubscriptionMessage(n){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===1){const o=JSON.stringify({id:n,type:"stop"});this.awsRealTimeSocket.send(o),this._removeSubscriptionObserver(n)}}catch(a){zt.debug({err:a})}}_removeSubscriptionObserver(n){this.subscriptionObserverMap.delete(n),setTimeout(this._closeSocketIfRequired.bind(this),1e3)}_closeSocketIfRequired(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=0;return}if(this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{zt.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId);const n=this.awsRealTimeSocket;n.onclose=null,n.onerror=null,n.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=0}}}_handleIncomingSubscriptionMessage(n){zt.debug(`subscription message from ${Wt("AWS AppSync")} RealTime: ${n.data}`);const{id:a="",payload:o,type:s}=JSON.parse(n.data),c=this.subscriptionObserverMap.get(a);if(!c)return;const{observer:u,query:p="",variables:h={},startAckTimeoutId:f,subscriptionReadyCallback:y,subscriptionFailedCallback:g}=c;if(zt.debug({id:a,observer:u,query:p,variables:h}),s==="data"&&o&&o.data){u?u.next(o):zt.debug(`observer not found for id: ${a}`);return}if(s==="start_ack"){zt.debug(`subscription ready for ${JSON.stringify({query:p,variables:h})}`),typeof y=="function"&&y(),f&&clearTimeout(f),xZ("connected",{query:p,variables:h},"Connection established for subscription"),u&&this.subscriptionObserverMap.set(a,{observer:u,query:p,variables:h,startAckTimeoutId:void 0,subscriptionState:1,subscriptionReadyCallback:y,subscriptionFailedCallback:g});return}if(s==="ka"){this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveTimeoutId=setTimeout(this._errorDisconnect.bind(this,no.TIMEOUT_DISCONNECT),this.keepAliveTimeout);return}s==="error"&&u&&(this.subscriptionObserverMap.set(a,{observer:u,query:p,variables:h,startAckTimeoutId:f,subscriptionReadyCallback:y,subscriptionFailedCallback:g,subscriptionState:2}),u.error({errors:[Zr({},new Q.GraphQLError(`${no.CONNECTION_FAILED}: ${JSON.stringify(o)}`))]}),f&&clearTimeout(f),u.complete(),typeof g=="function"&&g()),s==="complete"&&(u.next({message:"Subscription complete."}),this.subscriptionObserverMap.set(a,{observer:u,query:p,variables:h,subscriptionState:3}),clearTimeout(f),u.complete())}_errorDisconnect(n){zt.debug(`Disconnect error: ${n}`),this.subscriptionObserverMap.forEach(({observer:a})=>{a&&!a.closed&&a.error({errors:[Zr({},new Q.GraphQLError(n))]})}),this.subscriptionObserverMap.clear(),this.awsRealTimeSocket&&this.awsRealTimeSocket.close(),this.socketStatus=0}_timeoutStartSubscriptionAck(n){const a=this.subscriptionObserverMap.get(n);if(a){const{observer:o,query:s,variables:c}=a;if(!o)return;this.subscriptionObserverMap.set(n,{observer:o,query:s,variables:c,subscriptionState:2}),o&&!o.closed&&(o.error({errors:[Zr({},new Q.GraphQLError(`Subscription timeout ${JSON.stringify({query:s,variables:c})}`))]}),o.complete()),zt.debug("timeoutStartSubscription",JSON.stringify({query:s,variables:c}))}}_initializeWebSocketConnection({appSyncGraphqlEndpoint:n,authenticationType:a,apiKey:o,region:s,oidcToken:c,cognitoUserPoolsToken:u,lambdaAuthToken:p}){if(this.socketStatus!==1)return new Promise((h,f)=>tr(this,null,function*(){if(this.promiseArray.push({res:h,rej:f}),this.socketStatus===0)try{this.socketStatus=2;const y=n.replace("https://","wss://").replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta").replace("dddpa","grt-beta").replace("ddpg-api","grt-gamma"),g="{}",A=JSON.stringify(yield this._awsRealTimeHeaderBasedAuth({authenticationType:a,payload:g,canonicalUri:"/graphql/connect",apiKey:o,appSyncGraphqlEndpoint:n,region:s,oidcToken:c,cognitoUserPoolsToken:u,lambdaAuthToken:p})),E=o0.from(A).toString("base64"),b=o0.from(g).toString("base64"),C=`${y}?header=${E}&payload=${b}`;yield this._initializeRetryableHandshake(C),this.promiseArray.forEach(({res:I})=>{zt.debug("Notifying connection successful"),I()}),this.socketStatus=1,this.promiseArray=[]}catch(y){this.promiseArray.forEach(({rej:g})=>g(y)),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=0}}))}_initializeRetryableHandshake(n){return tr(this,null,function*(){zt.debug("Initializaling retryable Handshake"),yield(0,t0.hu)(this._initializeHandshake.bind(this),[n],LZ)})}_initializeHandshake(n){return tr(this,null,function*(){zt.debug(`Initializing handshake ${n}`);try{yield new Promise((a,o)=>{const s=new WebSocket(n,"graphql-ws");s.onerror=()=>{zt.debug("WebSocket connection error")},s.onclose=c=>{o(new Error(`WebSocket closed unexpectedly. Closure Code: ${c.code}, Reason: ${c.reason}`))},s.onopen=()=>(this.awsRealTimeSocket=s,a())}),yield new Promise((a,o)=>{if(this.awsRealTimeSocket){let c=!1;this.awsRealTimeSocket.onerror=p=>{zt.debug(`WebSocket error ${JSON.stringify(p)}`)},this.awsRealTimeSocket.onclose=p=>{zt.debug(`WebSocket closed ${p.reason}`),o(new Error(JSON.stringify(p)))},this.awsRealTimeSocket.onmessage=p=>{zt.debug(`subscription message from AWS AppSyncRealTime: ${p.data} `);const h=JSON.parse(p.data),{type:f,payload:{connectionTimeoutMs:y=u0}={}}=h;if(f==="connection_ack"){c=!0,this.awsRealTimeSocket&&(this.keepAliveTimeout=y,this.awsRealTimeSocket.onmessage=this._handleIncomingSubscriptionMessage.bind(this),this.awsRealTimeSocket.onerror=g=>{zt.debug(g),this._errorDisconnect(no.CONNECTION_CLOSED)},this.awsRealTimeSocket.onclose=g=>{zt.debug(`WebSocket closed ${g.reason}`),this._errorDisconnect(no.CONNECTION_CLOSED)}),a("Cool, connected to AWS AppSyncRealTime");return}if(f==="connection_error"){const{payload:{errors:[{errorType:g="",errorCode:A=0}={}]=[]}={}}=h;o({errorType:g,errorCode:A})}};const u={type:"connection_init"};this.awsRealTimeSocket.send(JSON.stringify(u)),setTimeout(s.bind(this,c),nf)}function s(c){c||o(new Error(`Connection timeout: ack from ${Wt("AWS AppSync")} RealTime was not received on ${nf} ms`))}setTimeout(s.bind(this),nf)})}catch(a){const{errorType:o,errorCode:s}=a;throw kZ.includes(s)?new t0.OI(o):o?new Error(o):a}})}_awsRealTimeIAMHeader(n){return tr(this,arguments,function*({appSyncGraphqlEndpoint:a,canonicalUri:o,payload:s}){const c=yield RZ({url:`${a}${o}`,data:s});return c0(Zr({},c),{host:a.split("/")[2]})})}_awsRealTimeHeaderBasedAuth(n){return tr(this,arguments,function*({authenticationType:a,payload:o,canonicalUri:s,appSyncGraphqlEndpoint:c,apiKey:u,region:p,oidcToken:h,cognitoUserPoolsToken:f,lambdaAuthToken:y}){const g={[k.API_KEY]:this._awsRealTimeApiKeyHeader.bind(this),[k.IAM]:this._awsRealTimeIAMHeader.bind(this),[k.OIDC]:this._awsRealTimeOPENIDHeader(h).bind(this),[k.USER_POOLS]:this._awsRealTimeCUPHeader(f).bind(this),[k.LAMBDA]:this._awsRealTimeLambdaAuthHeader(y).bind(this)},A=g[a];if(!a||!g[a])return zt.debug(`Authentication type ${a} not supported`),"";const{host:E}=uZ.qg(c);return yield A({payload:o,canonicalUri:s,appSyncGraphqlEndpoint:c,apiKey:u,region:p,host:E})})}_awsRealTimeCUPHeader(n){return a=>tr(this,[a],function*({host:o}){if(!n)throw new Error(`No ${Wt("AWS Cognito")} User Pools token provided.`);return{Authorization:n,host:o}})}_awsRealTimeLambdaAuthHeader(n){return a=>tr(this,[a],function*({host:o}){if(!n)throw new Error(`No ${Wt("AWS Lambda")} token provided.`);return{Authorization:n,host:o}})}_awsRealTimeOPENIDHeader(n){return a=>tr(this,[a],function*({host:o}){if(!n)throw new Error("No OIDC token provided.");return{Authorization:n,host:o}})}_awsRealTimeApiKeyHeader(n){return tr(this,arguments,function*({apiKey:a,host:o}){const c=new Date().toISOString().replace(/[:\-]|\.\d{3}/g,"");return{host:o,"x-amz-date":c,"x-api-key":a}})}}var BZ=v(68779),GZ=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const zZ=10*1e3,qZ=60*1e3;function KZ(t,n){if(t===void 0)return"";const a=`${t.message}`.startsWith(n)?t.message.slice(37):t.message;try{return JSON.stringify(JSON.parse(a),null,2)}catch{return a}}function WZ(t,n=0){if(n<zZ)return!1;if(n>qZ)return!0;if(t&&t.length){const a=t[t.length-1];if(a&&a.endsWith&&a.endsWith("End Request"))return!0}return!1}class HZ{constructor(n){this.unsubscribe=()=>{this.logObserver&&this.logObserver.complete()},this.isSubscribed=()=>!!this.logObserver,this.subscribe=({group:a,filter:o})=>{const s=this;return s.isSubscribed()&&s.unsubscribe(),new Zh.A(u=>{s.logObserver=u;const p=this.cloudWatchRequestProducer(a,o);return this.initiateLogPolling(p,u),()=>{s.logObserver=null}})},this.initiateLogPolling=(a,o)=>{const s=new Date().getTime(),c=()=>{a().then(u=>{o.next(u);const p=new Date().getTime();WZ(u,p-s)?o.complete():setTimeout(c,3e3)}).catch(u=>{const p=[(0,l.Ay)`Error fetching logs from Amazon CloudWatch.`];u.name==="ResourceNotFoundException"?p.push((0,l.Ay)`Try again in a few minutes if logging was recently enabled for this API.`):u.name==="AccessDeniedException"?p.push((0,l.Ay)`Verify that you have the "logs:FilterLogEvents" permission in your logged-in IAM user.`):p.push(u.message),o.next(p),o.complete()})};c()},this.client=n,this.logObserver=null}cloudWatchRequestProducer(n,a){const o=new Date().getTime()-6e4,s=new Date().getTime()+1e3*60*2,c=new BZ.n({logGroupName:n,startTime:o,endTime:s,filterPattern:a,interleaved:!1,limit:1e3});return()=>GZ(this,null,function*(){const p=yield this.client.send(c);return p&&p.events?p.events.map(f=>KZ(f,a)):[]})}}var JZ=Object.defineProperty,YZ=Object.defineProperties,QZ=Object.getOwnPropertyDescriptors,Du=Object.getOwnPropertySymbols,d0=Object.prototype.hasOwnProperty,p0=Object.prototype.propertyIsEnumerable,m0=(t,n,a)=>n in t?JZ(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Ai=(t,n)=>{for(var a in n||(n={}))d0.call(n,a)&&m0(t,a,n[a]);if(Du)for(var a of Du(n))p0.call(n,a)&&m0(t,a,n[a]);return t},Nu=(t,n)=>YZ(t,QZ(n)),XZ=(t,n)=>{var a={};for(var o in t)d0.call(t,o)&&n.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&Du)for(var o of Du(t))n.indexOf(o)<0&&p0.call(t,o)&&(a[o]=t[o]);return a},Il=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const rf=mt(),ZZ=xe.getCloudWatchLogsClient(rf),eee=new HZ(ZZ),h0=62*1e3;function tee(t){return`/aws/appsync/apis/${t}`}function nee(t,n,a,o,s){return Il(this,null,function*(){return`${yield kg(t)}/cloudwatch/home?region=${t}#logEventViewer:group=${n};filter=%22${a}%22;start=${o};end=${s};interleaved=false`})}function f0(t,n){return t.definitions.find(a=>a.kind==="OperationDefinition"?n?!!(a.name&&a.name.value===n):!0:!1)}function ree(t,n={}){return a=>Il(this,null,function*(){const o={timeout:h0,headers:Ai(Ai({"Content-Type":"application/json"},Ey.AmzUserAgent),n)};try{const s=yield sZ.A.post(t,a,o);return Nu(Ai({},s.data),{headers:{"x-amzn-requestid":s.headers["x-amzn-requestid"]}})}catch(s){if(s.response.data.errors.length>0){const c=s.response.data.errors[0];if(s.response.status===502&&c.errorType==="GraphQLSchemaException"||s.response.status===500&&c.errorType==="AuthorizerFailureException")return Nu(Ai({},s.response.data),{headers:{"x-amzn-requestid":s.response.headers["x-amzn-requestid"]}})}throw y0(s),s}})}function aee(t,n={}){return a=>Il(this,null,function*(){const o=Ai(Ai({"Content-Type":"application/json"},Ey.AmzUserAgent),n),s={timeout:h0,method:"POST",responseType:"json",headers:o,body:JSON.stringify(a)},c=yield cZ.getSigV4FetcherClient();let u;const p=yield c.fetch(t,s).then(h=>{if(h.ok)return u=h.headers.get("x-amzn-requestid"),h.json();throw new Error(l.Ay.translate("Request failed with status code ${0}",h.status))}).catch(h=>h);if(p instanceof Error)throw y0(p),p;return Nu(Ai({},p),{headers:{"x-amzn-requestid":u}})})}function y0(t){if(t&&"response"in t&&"status"in t.response){const n={message:t.message,data:t.response.data,status:t.response.status};t.response.status>=500&&t.response.status<=599?ut.addError(n):ut.addEvent(n)}else ut.addEvent(t)}let af;function iee(t){const n=(0,Q.parse)(t.query),o=f0(n,t.operationName).loc,{start:s}=o,{end:c}=o;return o.source.body.substring(s,c)}function oee(t,n,a,o){const s=Nu(Ai({},o),{appSyncGraphqlEndpoint:t,query:iee(n),region:rf,variables:n.variables,graphql_headers:()=>a});af||(af=new VZ);const c=af.subscribe("",s);return new Zh.A(p=>{const h=c.subscribe({next:f=>p.next(f),error:f=>{Array.isArray(f.errors)?p.error(JSON.stringify({errors:f.errors},null,4)):p.error(f)},complete:()=>p.complete()});return()=>h.unsubscribe()})}function see(t,n,a,o,s){return Il(this,null,function*(){return oee(n.replace("/graphql",""),a,s,o)})}function g0({fetcher:t,apiId:n,url:a,graphqlHeaders:o,authInfo:s}){return(c,u)=>Il(this,null,function*(){const p=(0,Q.parse)(c.query),h=f0(p,c.operationName);if(h&&h.operation==="subscription")return yield see(t,a,c,s,o);const y=yield t(c),{headers:g}=y,A=XZ(y,["headers"]),E=g["x-amzn-requestid"];if(E&&h&&(h.operation==="mutation"||h.operation==="query")){const b=tee(n),C=new Date(new Date().getTime()-1e3*60*3).toISOString(),I=new Date(new Date().getTime()+1e3*60*3).toISOString();u(eee.subscribe({group:b,filter:`"${E}"`}),yield nee(rf,b,E,C,I))}return A})}function lee(t,n,a,o={}){const s=ree(n,o);return g0({fetcher:s,apiId:t,url:n,graphqlHeaders:o,authInfo:a})}function cee(t,n,a,o={}){const s=aee(n);return g0({fetcher:s,apiId:t,url:n,graphqlHeaders:o,authInfo:a})}var _u=v(78131);function uee(t){if(t.cognitoSession){const n=yee(t.cognitoSession);return i.createElement(K.A,{onClick:t.onLogout,variant:"normal"},`${(0,l.Ay)`Logout`} ${n}`)}return i.createElement(K.A,{onClick:t.onShowLogin,variant:"normal"},(0,l.Ay)`Login with User Pools`)}function dee(t){return i.createElement("div",{className:"toolbar"},i.createElement(uee,{onShowLogin:t.onShowLogin,cognitoSession:t.cognitoSession,onLogout:t.onLogout}))}function A0({token:t,setToken:n}){return i.createElement("div",{className:"toolbar"},i.createElement("div",{className:"auth-token-input"},i.createElement(He.A,{id:"auth-token-input-box",placeholder:(0,l.Ay)`Test your authorization token`,onChange:a=>n(a.detail.value),value:t})),i.createElement("div",{className:"auth-token-label"},(0,l.Ay)`Authorization Token:`))}function pee(t,n){const a=t.map(s=>i.createElement("li",{key:s}," ",s," ")),o=i.createElement("div",null,a&&a.length>0?i.createElement(q.A,{variant:"p"},i.createElement(q.A,{variant:"strong"},(0,l.Ay)`Subscribed to mutations:`),a):i.createElement(q.A,{variant:"p"},i.createElement(q.A,{variant:"strong"},(0,l.Ay)`Tip`,":"),(0,l.Ay)`In your schema, use the "@aws_subscribe" directive to add mutation triggers for your subscription.`),i.createElement("br",null),n&&n.length>0&&a&&a.length>0&&i.createElement(q.A,{variant:"p"},i.createElement(q.A,{variant:"strong"},(0,l.Ay)`We will notify you when real-time updates match the defined query arguments.`)));return i.createElement(_u.A,{position:"left",content:o,triggerType:"custom"},(0,l.Ay)`Subscribed to ${t.length} mutation(s)`," ",i.createElement("span",{role:"img","aria-label":"Icon status info"},i.createElement(Tn.A,{variant:"subtle",name:"status-info"})))}var mee=Object.defineProperty,E0=Object.getOwnPropertySymbols,hee=Object.prototype.hasOwnProperty,fee=Object.prototype.propertyIsEnumerable,b0=(t,n,a)=>n in t?mee(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,v0=(t,n)=>{for(var a in n||(n={}))hee.call(n,a)&&b0(t,a,n[a]);if(E0)for(var a of E0(n))fee.call(n,a)&&b0(t,a,n[a]);return t};const of=(t,n,a)=>{switch(t){case k.USER_POOLS:return` - ${n}`;case k.OIDC:return` - ${a}`;default:return""}},yee=t=>{try{const n=t.getIdToken().getJwtToken(),a=atob(n.split(".")[1]);return JSON.parse(a)["cognito:username"]}catch{return""}},is=t=>({[k.API_KEY]:(0,l.Ay)`API key`,[k.OIDC]:(0,l.Ay)`OpenID Connect`,[k.IAM]:(0,l.Ay)`AWS Identity and Access Management (IAM)`,[k.USER_POOLS]:(0,l.Ay)`Amazon Cognito User Pool`,[k.LAMBDA]:k_("AWS Lambda")})[t],gee=["fields must be an object with field names as keys or a function which returns such an object."],Aee=t=>{try{const n=(0,Q.parse)(t);return(0,Q.buildASTSchema)(Ns(n))}catch(n){if(gee.some(a=>n.message.includes(a))){at.logInfo(Ge.PARSE_ERROR,n);return}at.logOperationalError(Ge.PARSE_FAULT,n);return}},Cl=t=>n=>n.authenticationType===t,Eee=(t,n,a,o)=>{const s={label:is(t)+of(t,a,o),value:`default:${t}`};let c=[],u=[],p=!1,h=!1,f=!1;if(n){const g=n.toArray();c=g.filter(Cl(k.USER_POOLS)).map(A=>{if(!A.userPoolConfig)return null;const E=[A.authenticationType,A.userPoolConfig.userPoolId,A.userPoolConfig.appIdClientRegex].join(":");return v0({label:A.userPoolConfig.userPoolId,value:E},A.userPoolConfig.appIdClientRegex?{description:(0,l.Ay)`App ID Client Regex: ${A.userPoolConfig.appIdClientRegex}`}:{})}),u=g.filter(Cl(k.OIDC)).map(A=>{if(!A.openIDConnectConfig)return null;const E=[];return A.openIDConnectConfig.clientId&&E.push(`Client ID: ${A.openIDConnectConfig.clientId}`),A.openIDConnectConfig.iatTTL&&E.push(`Issued at TTL: ${A.openIDConnectConfig.iatTTL}`),A.openIDConnectConfig.authTTL&&E.push(`Auth TTL: ${A.openIDConnectConfig.authTTL}`),v0({label:A.openIDConnectConfig.issuer,value:`${A.authenticationType}:${A.openIDConnectConfig.issuer}`},E.length>0?{tags:E}:{})}),p=g.some(Cl(k.API_KEY)),h=g.some(Cl(k.IAM)),f=g.some(Cl(k.LAMBDA))}const y=[{label:(0,l.Ay)`Default authorization mode`,options:[s]}];return c.length&&y.push({label:(0,l.Ay)`Amazon Cognito User Pools`,options:c}),u.length&&y.push({label:(0,l.Ay)`OpenID Connect Providers`,options:u}),p&&y.push({label:is(k.API_KEY),value:k.API_KEY}),h&&y.push({label:is(k.IAM),value:k.IAM}),f&&y.push({label:is(k.LAMBDA),value:k.LAMBDA}),y},bee=({selectedAuthType:t,authConfig:n,apiId:a,url:o})=>{let s=lee,c,u={},p;switch(t){case k.API_KEY:u={"x-api-key":n.apiKey},p={authenticationType:k.API_KEY,apiKey:n.apiKey};break;case k.USER_POOLS:{const f=n.retrieveCognitoSession(),y=f?f.getIdToken().getJwtToken():null;u={Authorization:y},p={authenticationType:k.USER_POOLS,cognitoUserPoolsToken:y},c=i.createElement(dee,{cognitoSession:f,onShowLogin:n.onShowLogin,onLogout:n.onLogout});break}case k.OIDC:u={Authorization:n.openIDConnectToken},p={authenticationType:k.OIDC,oidcToken:n.openIDConnectToken},c=i.createElement(A0,{token:n.openIDConnectToken,setToken:n.setOpenIDConnectToken});break;case k.LAMBDA:u={Authorization:n.lambdaAuthorizerToken},p={authenticationType:k.LAMBDA,lambdaAuthToken:n.lambdaAuthorizerToken},c=i.createElement(A0,{token:n.lambdaAuthorizerToken,setToken:n.setLambdaAuthorizerToken});break;default:p={authenticationType:k.IAM},s=cee;break}return{fetcher:s(a,o,p,u),actionButtons:c}},vee="awsc-session-data",See=()=>{const t=document.head.querySelector(`meta[name='${vee}']`);if(t){const n=t?.getAttribute("content");if(n)return"vpc"in JSON.parse(n)}return!1};function Tee({handleAuthSelectorChange:t,selectedAuthOption:n,authenticationType:a,additionalAuthenticationProviders:o,cognitoUserPoolId:s,oidcIssuer:c}){return i.createElement(q.A,{margin:{bottom:"l"}},i.createElement(X.A,{label:(0,l.Ay)`Select the authorization provider to use for running queries on this page:`},i.createElement(ze.A,{"data-testid":"graphiql-auth-provider-dropdown",onChange:t,options:Eee(a,o,s,c),selectedOption:n})))}function Iee(t){var n,a;const o=(0,G.Zp)(),s={getItem:()=>ie(),setItem:(Ze,bt)=>ye(Ze,bt),removeItem:Ze=>ye(Ze,"")},c=t.authenticationType,[u,p]=(0,i.useState)(!1),[h,f]=(0,i.useState)(""),[y,g]=(0,i.useState)(""),[A,E]=(0,i.useState)(c),[b,C]=(0,i.useState)({label:is(t.authenticationType)+of(t.authenticationType,t.cognitoUserPoolId,t.oidcIssuer),value:`default:${c}`}),[I,R]=(0,i.useState)(t.cognitoUserPoolId),[L,P]=(0,i.useState)(t.cognitoAppIdClientRegex),[F,x]=(0,i.useState)(!0),[O,j]=(0,i.useState)(!0),[M,B]=(0,i.useState)(),[V,W]=(0,i.useState)(t.graphiqlConfig?t.graphiqlConfig.query:void 0),[Y,Z]=(0,i.useState)(t.graphiqlConfig?t.graphiqlConfig.variables:void 0);(0,i.useLayoutEffect)(()=>{t.setNavigation(!0),t.setHelpSlug({get:JF,args:t.graphqlApi}),Li(vt.QUERIES,ct.VIEW_RESOURCE),t.apiKey||t.listApiKeys({paginateRecord:new ke,paginationKey:{apiId:t.apiId}}),t.cognitoSession&&(t.cognitoSession.isValid()||t.getCognitoSession(t.cognitoUserPoolId,t.cognitoAppIdClientRegex))},[]),(0,i.useEffect)(()=>{var Ze;(Ze=t.localSchema)!=null&&Ze.lastSavedText&&B(Aee(t.localSchema.lastSavedText))},[(n=t.localSchema)==null?void 0:n.lastSavedText]),(0,i.useEffect)(()=>{t.authenticationType!==A&&(E(t.authenticationType),C({label:is(t.authenticationType)+of(A,t.cognitoClientId,t.oidcIssuer),value:`default:${t.authenticationType}`}),R(t.cognitoUserPoolId),P(t.cognitoAppIdClientRegex))},[t.authenticationType]);const ie=()=>{const Ze=t.graphiqlConfig;return JSON.stringify(Ze)},ye=(Ze,bt)=>{t.setUserPreference({name:Ze,value:bt,apiId:t.apiId})},ve=()=>{let Ze=null;const bt=t.userPreferences.get([t.apiId,ps,I,L].join("-"));if(bt&&bt!=="")try{const jt=JSON.parse(bt);Ze=new ln.p4({IdToken:new ln.Yw({IdToken:jt.IdToken}),AccessToken:new ln.pD({AccessToken:jt.AccessKey}),RefreshToken:new ln.c9({RefreshToken:jt.RefreshToken}),ClockDrift:jt.ClockDrift})}catch(jt){at.logOperationalError(Ge.PARSE_COGNITO_SESSION,{name:Ge.PARSE_COGNITO_SESSION,message:jt.message})}return Ze},Ce=Ze=>{const bt=Ze.detail.selectedOption.value.split(":");let jt,_a=null,xr;bt[0]==="default"?(jt=bt[1],jt===k.USER_POOLS&&(_a=t.cognitoUserPoolId,xr=t.cognitoAppIdClientRegex,t.getCognitoSession(_a,xr))):(jt=bt[0],jt===k.USER_POOLS&&(_a=bt[1],xr=bt[2],t.getCognitoSession(_a,xr))),E(jt),C(Ze.detail.selectedOption),R(_a||I),P(xr)},Ae=(Ze,bt,jt,_a)=>{const xr={AccessKey:Ze.getAccessToken().getJwtToken(),IdToken:Ze.getIdToken().getJwtToken(),RefreshToken:Ze.getRefreshToken().getToken(),ClockDrift:Ze.getClockDrift()},yo=[_a,L].join("-"),dy=[Cy,yo].join("-"),py=[ps,yo].join("-"),my=[vd,yo].join("-");t.setUserPreference({name:py,value:JSON.stringify(xr),apiId:t.apiId,local:!0}),bt&&t.setUserPreference({name:my,value:bt,apiId:t.apiId,local:!0}),jt&&t.setUserPreference({name:dy,value:jt,apiId:t.apiId,local:!0}),p(!1)},J=()=>{const Ze=[I,L].join("-"),bt=[ps,Ze].join("-");t.setUserPreference({name:bt,value:"",apiId:t.apiId,local:!0})},Ee=(a=t.workflowRecord)!=null?a:null;if(!t.url)return i.createElement(yr,null);if(t.authenticationType===k.API_KEY&&!t.apiKey)return i.createElement(wt.A,{statusIconAriaLabel:(0,l.Ay)`Info`,action:i.createElement(K.A,{onClick:()=>o("../settings"),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"settings"},(0,l.Ay)`Settings`)},(0,l.Ay)`You don't have any available API keys.`);const{fetcher:Te,actionButtons:Ie}=bee({selectedAuthType:A,authConfig:{apiKey:t.apiKey,retrieveCognitoSession:ve,onShowLogin:()=>p(!0),onLogout:J,openIDConnectToken:h,setOpenIDConnectToken:f,lambdaAuthorizerToken:y,setLambdaAuthorizerToken:g},apiId:t.apiId,url:t.url}),ft=t.graphqlApi.graphqlConfig.isPrivate()&&F,qt=O&&See()&&(t.graphqlApi.graphqlConfig.authenticationType===k.IAM||t.graphqlApi.graphqlConfig.hasAdditionalIamAuth);return i.createElement(wn.A,{header:i.createElement($t,{title:(0,l.Ay)`Queries`,description:(0,l.Ay)`Write, validate, and test GraphQL queries.`})},Ee&&Ee.status!==H.CREATE_SUCCESS&&Ee.status!==H.NONE?i.createElement(Et.A,null):i.createElement(i.Fragment,null,ft&&i.createElement(q.A,{margin:{bottom:"l"}},i.createElement(wt.A,{dismissible:!0,onDismiss:()=>x(!1),statusIconAriaLabel:(0,l.Ay)`info`},(0,l.Ay)`Private APIs can only be accessed inside of your private network.`)),qt&&i.createElement(q.A,{margin:{bottom:"l"}},i.createElement(wt.A,{dismissible:!0,onDismiss:()=>j(!1),statusIconAriaLabel:(0,l.Ay)`info`},(0,l.Ay)`Queries using IAM Authentication cannot run with AWS Management Console Private Access.`)),i.createElement(Tee,{handleAuthSelectorChange:Ce,selectedAuthOption:b,authenticationType:t.authenticationType,additionalAuthenticationProviders:t?.additionalAuthenticationProviders,cognitoUserPoolId:t?.cognitoUserPoolId,oidcIssuer:t?.oidcIssuer}),i.createElement("div",{className:"graphiql-content"},i.createElement(BX,{query:V,variables:Y,enableLogs:t.isLoggingEnabled,fetcher:Te,actions:Ie,defaultQuery:oZ,storage:s,disabledLogMessage:`${(0,l.Ay)`Amazon CloudWatch logs are disabled for this API.`} ${(0,l.Ay)`Enable Amazon CloudWatch logs via the settings page or the AWS AppSync CLI.`}`,schema:M,subscriptionTooltip:pee,onEditQuery:Ze=>W(Ze),onEditVariables:Ze=>Z(Ze)})),u&&i.createElement(XX,{cognitoClientId:t.cognitoClientId,userPoolId:I,show:u,onSuccess:Ae,onCancel:()=>p(!1)})))}const Cee=t=>{var n;const a=t.environment.selectedApiId,o=t.entities.get(a);let s="";o&&o.graphqlConfig.uris&&o.graphqlConfig.uris.get?s=o.graphqlConfig.uris.get("GRAPHQL"):o&&o.graphqlConfig.uris&&(s=o.graphqlConfig.uris.GRAPHQL);const c=o.graphqlConfig.authenticationType,u=o.graphqlConfig.userPoolConfig?o.graphqlConfig.userPoolConfig.userPoolId:null,p=o.graphqlConfig.userPoolConfig?o.graphqlConfig.userPoolConfig.appIdClientRegex:void 0,h=o.graphqlConfig.isLoggingEnabled(),{additionalAuthenticationProviders:f}=o.graphqlConfig,y=t.pagination.apiKeysByGraphqlApi.get(a);let g="";if(y&&y.items.size){const j=y.items.toSeq().map(M=>t.entities.get(M,new cr)).filterNot(M=>M.isExpired()).first();g=(n=j?.id)!=null?n:g}const{userPreferences:A}=t;let E=null;const b=[a,ps].join("-"),C=t.userPreferences.get(b);if(C&&C!=="")try{const j=JSON.parse(C);E=new ln.p4({IdToken:new ln.Yw({IdToken:j.IdToken}),AccessToken:new ln.pD({AccessToken:j.AccessKey}),RefreshToken:new ln.c9({RefreshToken:j.RefreshToken}),ClockDrift:j.ClockDrift})}catch(j){at.logOperationalError(Ge.PARSE_COGNITO_SESSION,j)}const I=t.workflows.get(a),R=o.graphqlConfig.openIDConnectConfig?o.graphqlConfig.openIDConnectConfig.issuer:void 0,L=[a,vd].join("-"),P=t.userPreferences.get(L),F=[a,Ry].join("-"),x=A.get(F);let O;try{O=x?JSON.parse(x):{}}catch{O={}}return{graphqlApi:o,authenticationType:c,apiId:a,url:s,apiKey:g,cognitoSession:E,cognitoClientId:P,cognitoUserPoolId:u,cognitoAppIdClientRegex:p,oidcIssuer:R,userPreferences:A,isLoggingEnabled:h,workflowRecord:I,graphiqlConfig:O,localSchema:t.localSchema,additionalAuthenticationProviders:f}},Ree=(0,te.connect)(Cee,{setUserPreference:No,listApiKeys:UA,setNavigation:Vr,getCognitoSession:GB,setHelpSlug:Ct})(Iee),S0=(t,n,a)=>o=>({detail:{value:s}})=>a(n.setIn([o,t],s));function wee({input:t}){const n=(0,i.useRef)([]),a=(0,i.useRef)(null),o=t.value||(0,T.List)(),s=S0("key",o,t.onChange),c=S0("value",o,t.onChange),u=()=>{t.onChange(o.push(new Fg)),setTimeout(()=>{var h;(h=n.current[o.size])==null||h.focus()})},p=({detail:{itemIndex:h}})=>{var f,y;t.onChange(o.delete(h)),h===o.size-1?(f=a.current)==null||f.focusAddButton():(y=n.current[h])==null||y.focus()};return i.createElement(Xo.A,{addButtonText:(0,l.Ay)`Add tag`,removeButtonText:(0,l.Ay)`Remove`,empty:(0,l.Ay)`No tags associated with the resource`,items:o.toArray(),definition:[{label:(0,l.Ay)`Key`,control:(h,f)=>i.createElement(He.A,{ref:y=>{n.current[f]=y},placeholder:(0,l.Ay)`Key`,value:h.key,onChange:s(f)}),errorText:h=>h.isEmpty()?void 0:h.isKeyValid()},{label:(0,l.Ay)`Value`,control:(h,f)=>i.createElement(He.A,{placeholder:(0,l.Ay)`Value`,value:h.value,onChange:c(f)}),errorText:h=>h.isValueValid()}],onAddButtonClick:u,onRemoveButtonClick:p,ref:a})}function Pee({block:t}){return _s(t),i.createElement("span",null)}const Oee="https://aws.amazon.com/answers/account-management/aws-tagging-strategies/";class Dee extends i.Component{constructor(n){super(n),this.cancelForm=()=>{this.setState({redirectTo:"/home"})},this.state={redirectTo:null}}render(){if(this.state.redirectTo)return i.createElement(Ko,{to:this.state.redirectTo});const{handleSubmit:n}=this.props;return i.createElement(q.A,null,i.createElement(Pee,{block:this.props.dirty}),i.createElement("form",{onSubmit:n},i.createElement(Rn.A,{errorText:this.props.invalid?(0,l.Ay)`Please correct the form's errors before submitting changes.`:void 0,actions:i.createElement(di,{submitText:(0,l.Ay)`Save`,submitTestId:"save-default-auth-provider-button",onCancel:this.cancelForm,isLoading:this.props.graphqlApi.recordStatus.status===H.UPDATING})},i.createElement($.A,{size:"l"},i.createElement(Le,{title:(0,l.Ay)`Tags`,description:i.createElement(i.Fragment,null,(0,l.Ay)`You can use tags to group and filter your GraphQL APIs. A tag consists of a case-sensitive key-value pair.`," ",i.createElement(ue.A,{href:Oee,target:"_blank",rel:"noopener noreferrer",variant:"info",ariaLabel:(0,l.Ay)`Link to best tagging practices`},(0,l.Ay)`Learn more.`)),"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"tags"},vn(this.props.graphqlApi.entityTags.addTagStatus.status)||vn(this.props.graphqlApi.entityTags.deleteTagStatus.status)?i.createElement(Et.A,null):i.createElement($.A,{size:"m"},!this.props.graphqlApi.entityTags.systemTags.isEmpty()&&i.createElement(ba.A,{gridDefinition:[{colspan:9}]},i.createElement(Ht.A,{columnDefinitions:[{id:"key",header:"Key",cell:({key:a})=>a||"-",isRowHeader:!0},{id:"value",header:"Value",cell:({value:a})=>a||"-"}],items:this.props.graphqlApi.entityTags.systemTags.toArray(),sortingDisabled:!0,variant:"borderless",contentDensity:"compact"})),i.createElement(qe.D0,{component:wee,name:"entityTags.userTags",validate:[WM]})))))))}}const Nee=(t,n)=>{const{graphqlApi:a}=n,o=(0,qe.DM)("settingsForm")(t);return{initialValues:a,dirty:o}},_ee=(0,qe.zW)({form:"settingsForm",enableReinitialize:!0,destroyOnUnmount:!1})(Dee),xee=(0,te.connect)(Nee)(_ee);var Or=v(57140),Lee=Object.defineProperty,T0=Object.getOwnPropertySymbols,kee=Object.prototype.hasOwnProperty,Mee=Object.prototype.propertyIsEnumerable,I0=(t,n,a)=>n in t?Lee(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Fee=(t,n)=>{for(var a in n||(n={}))kee.call(n,a)&&I0(t,a,n[a]);if(T0)for(var a of T0(n))Mee.call(n,a)&&I0(t,a,n[a]);return t};function kn({text:t,textVariant:n,label:a,styles:o,enablePanorama:s,panoramaTag:c,children:u,copyToClipboardValue:p}){const h=s?{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(`${c??a}Copy`)}:{};return i.createElement("span",{className:o},i.createElement(q.A,{margin:{right:"xxs"}},i.createElement("div",{style:{display:"flex",wordBreak:"break-all"}},i.createElement(_u.A,{size:"small",position:"top",triggerType:"custom",dismissButton:!1,content:i.createElement(Or.A,{type:"success"},(0,l.Ay)`${a} copied`)},i.createElement("div",{style:{marginRight:su.M1y,marginLeft:`calc(-1 * ${su.M1y})`}},i.createElement(K.A,Fee({iconName:"copy",iconAlt:"copy",variant:"inline-icon",formAction:"none",ariaLabel:(0,l.Ay)`Copy ${a}`,onClick:()=>navigator.clipboard.writeText(p??t)},h)))),i.createElement($.A,{direction:"horizontal",size:"xs"},i.createElement(q.A,{variant:n},t),u))))}function ro({label:t,children:n}){return i.createElement("div",null,i.createElement(q.A,{variant:"awsui-key-label"},t),i.createElement("div",null,n))}function Uee({items:t}){const n=t.map(({key:a,value:o})=>i.createElement(ro,{label:a,key:a},o||Lr));return i.createElement($.A,{size:"l"},n)}const $ee="text-grid";function gn({items:t,columns:n,variant:a=$ee}){const o=[];for(let c=0;c<n;c++)o.push([]);for(let c=0;c<t.length;c++){const u=c%n;o[u].push(t[c])}const s=o.map((c,u)=>i.createElement(Uee,{key:u,items:c}));return i.createElement(eo.A,{columns:n,variant:a},s)}const jee=t=>t==="MERGED"?(0,l.Ay)`Merged API`:(0,l.Ay)`GraphQL API`,Vee=t=>{var n;return[{label:(0,l.Ay)`API name`,value:t.name},{label:(0,l.Ay)`API ARN`,value:t?.arn,canCopy:!0},{label:(0,l.Ay)`API type`,value:jee((n=t.graphqlConfig)==null?void 0:n.apiType)},{label:(0,l.Ay)`Contact details`,value:t.ownerContact},...t.graphqlConfig.isMergedApi()?[{label:(0,l.Ay)`Execution Role`,value:i.createElement(ue.A,{external:!0,href:(0,Fr.getResourceUrl)(t.graphqlConfig.mergedApiExecutionRoleArn),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"executionRoleLink"},t.graphqlConfig.getExecutionRoleName())}]:[],{label:(0,l.Ay)`GraphQL endpoint`,value:t.graphqlConfig.uris.GRAPHQL,canCopy:!0},{label:(0,l.Ay)`Real-time endpoint`,value:t.graphqlConfig.uris.REALTIME,canCopy:!0},{label:(0,l.Ay)`API ID`,value:t.apiId,canCopy:!0},{label:(0,l.Ay)`Private API`,value:zi(t.graphqlConfig.isPrivate())}]},C0={title:"API details"};function Bee({graphqlApi:t}){const n=Vee(t).map(o=>({key:o.label,value:o.canCopy?i.createElement(kn,{text:o.value,label:o.label,enablePanorama:!0}):o.value})),a=(0,G.Zp)();return i.createElement(Le,{title:C0.title,showHelpLink:!0,enablePanorama:!0,actions:i.createElement(K.A,{onClick:()=>a("edit"),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"editApiDetails",ariaLabel:l.Ay.translate("Edit ${0}",(0,l.Ay)`${C0.title}`)},(0,l.Ay)`Edit`)},i.createElement(gn,{items:n,columns:3}))}const R0={title:"API configurations"},Gee={[oe.fG.ALL]:"All",[oe.fG.DEBUG]:"Debug",[oe.fG.ERROR]:"Error",[oe.fG.INFO]:"Info",[oe.fG.NONE]:"None"},zee={[oe.FX.PER_RESOLVER_METRICS]:"Per-resolver",[oe.FX.FULL_REQUEST_RESOLVER_METRICS]:"Full request resolver metrics"},qee={[oe.PD.PER_DATA_SOURCE_METRICS]:"Per-data source",[oe.PD.FULL_REQUEST_DATA_SOURCE_METRICS]:"Full request data source metrics"},Kee={[oe.Z1.ENABLED]:"Enabled",[oe.Z1.DISABLED]:"Disabled"},Wee=t=>[{label:(0,l.Ay)`Introspection queries`,value:zi(t.graphqlConfig.isIntrospectionEnabled())},{label:(0,l.Ay)`Query depth`,value:t.graphqlConfig.queryDepthLimit},{label:(0,l.Ay)`Resolver count`,value:t.graphqlConfig.resolverCountLimit}],Hee=(t,n,a,o)=>{const s=t.graphqlConfig.logConfig.isLoggingEnabled(),c=t.graphqlConfig.enhancedMetricsConfig.isEnhancedMetricsEnabled(),u=`/aws/appsync/apis/${t.apiId}`,p=`${o}/xray/home?region=${n}#/traces`;return[{type:"group",title:(0,l.Ay)`Logging`,items:[{label:(0,l.Ay)`Field resolver log level`,value:s?l.Ay.translate(Gee[t.graphqlConfig.logConfig.fieldLogLevel]):"-"},{label:(0,l.Ay)`Include verbose content`,value:s?zi(!t.graphqlConfig.logConfig.excludeVerboseContent):"-"},{label:(0,l.Ay)`Role`,value:s?i.createElement(ue.A,{href:(0,Fr.getResourceUrl)(t.graphqlConfig.logConfig.cloudWatchLogsRoleArn),ariaLabel:(0,l.Ay)`IAM Logging role`,external:!0},t.graphqlConfig.logConfig.getCloudwatchRoleName()):"-"},{label:(0,l.Ay)`Cloudwatch log group`,value:s?i.createElement(ue.A,{href:(0,Fr.getResourceUrl)(`arn:aws:logs:${n}:${a}:log-group:${u}`),ariaLabel:(0,l.Ay)`View logs in Cloudwatch`,external:!0},u):"-"}]},{type:"group",title:(0,l.Ay)`Enhanced monitoring`,items:[{label:(0,l.Ay)`Resolver metrics behavior`,value:c?l.Ay.translate(zee[t.graphqlConfig.enhancedMetricsConfig.resolverLevelMetricsBehavior]):"-"},{label:(0,l.Ay)`Data source metrics behavior`,value:c?l.Ay.translate(qee[t.graphqlConfig.enhancedMetricsConfig.dataSourceLevelMetricsBehavior]):"-"},{label:(0,l.Ay)`Operation metrics behavior`,value:c?l.Ay.translate(Kee[t.graphqlConfig.enhancedMetricsConfig.operationLevelMetricsConfig]):"-"}]},{type:"group",title:"",items:[{label:(0,l.Ay)`Tracing with AWS X-Ray`,value:t.xrayEnabled?i.createElement(ue.A,{href:p,ariaLabel:(0,l.Ay)`View traces in X-Ray`,external:!0},(0,l.Ay)`View traces in X-Ray`):(0,l.Ay)`Off`},...Bt.isWAFEnabled()?[{label:(0,l.Ay)`Web ACL`,value:t.wafWebAclArn?i.createElement(ue.A,{href:(0,Fr.getResourceUrl)(t.wafWebAclArn),external:!0},qg(t.wafWebAclArn).entityName):(0,l.Ay)`Off`}]:[],...Wee(t)]}]};function Jee({graphqlApi:t}){const n=mt(),a=Hd(),o=xs(n),s=Hee(t,n,a,o),c=(0,G.Zp)();return i.createElement(Le,{title:l.Ay.translate(R0.title),showHelpLink:!0,enablePanorama:!0,actions:i.createElement(K.A,{onClick:()=>c("apiConfigurations/edit"),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"editApiConfigurations",ariaLabel:l.Ay.translate("Edit ${0}",(0,l.Ay)`${R0.title}`)},(0,l.Ay)`Edit`)},i.createElement($o.A,{items:s,columns:3}))}const Yee=1500,w0={buttonText:"Disassociate"};function Qee({associationId:t,testId:n}){const a=de(),[o,s]=Ab(t),[c,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{c&&!s?.isDeletionLoading()&&setTimeout(()=>{u(!1)},Yee)},[s]);const p=()=>{a($A({entity:s}))},h=c||s?.isDeletionLoading();return i.createElement(K.A,{ariaLabel:l.Ay.translate(w0.buttonText),"data-testid":n,disabled:o,loading:h,onClick:()=>{u(!0),p()},"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"disassociate"},l.Ay.translate(w0.buttonText))}const Xee=1500,P0={buttonText:"Merge now"};function O0({mergedGraphqlApi:t,sourceApiAssociation:n}){const a=de(),o=St(),[s,c]=(0,i.useState)(!1);(0,i.useEffect)(()=>{s&&!n.isMergeLoading()&&setTimeout(()=>{c(!1)},Xee)},[n]);const u=()=>{a(ub(n,o,t))},p=s||n.isMergeLoading();return i.createElement(K.A,{loading:p,onClick:()=>{c(!0),u()},"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(P0.buttonText)},l.Ay.translate(P0.buttonText))}function Ei({text:t,actions:n}){return i.createElement(q.A,{textAlign:"center"},i.createElement(q.A,{padding:{vertical:"s"}},l.Ay.translate(t)),n)}const Pn={tableColumns:{apiKey:{header:"API key"},description:{header:"Description"},expires:{header:"Expires",expired:"${0} (Expired)"}},headerActions:{edit:"Edit",delete:"Delete",add:"Add API key"},emptyDisplay:{title:"No API keys",description:"You do not have any API keys in this API.",action:"Create API key"},filterText:"Find API key",noResults:"No results"};var Zee=Object.defineProperty,D0=Object.getOwnPropertySymbols,ete=Object.prototype.hasOwnProperty,tte=Object.prototype.propertyIsEnumerable,N0=(t,n,a)=>n in t?Zee(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,sf=(t,n)=>{for(var a in n||(n={}))ete.call(n,a)&&N0(t,a,n[a]);if(D0)for(var a of D0(n))tte.call(n,a)&&N0(t,a,n[a]);return t};function _0({formField:t,input:n,optional:a}){return i.createElement(X.A,sf(sf({},t),a?{label:i.createElement("span",null,t.label," ",i.createElement("i",null,"- ",(0,l.Ay)`optional`)," ")}:{}),i.createElement(He.A,sf({autoFocus:!1,"data-cy":n?.testTag,"data-testid":n?.testTag},n)))}const x0={toggleHide:"Hide",toggleShow:"Show"};var nte=Object.defineProperty,rte=Object.defineProperties,ate=Object.getOwnPropertyDescriptors,L0=Object.getOwnPropertySymbols,ite=Object.prototype.hasOwnProperty,ote=Object.prototype.propertyIsEnumerable,k0=(t,n,a)=>n in t?nte(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,ste=(t,n)=>{for(var a in n||(n={}))ite.call(n,a)&&k0(t,a,n[a]);if(L0)for(var a of L0(n))ote.call(n,a)&&k0(t,a,n[a]);return t},lte=(t,n)=>rte(t,ate(n));function cte({mask:t,secret:n,label:a,showFirstLetterCount:o=0,visible:s,setVisible:c,copyTextProps:u,hideLabel:p=!1}){const f=s?n:o>0&&n?.length>=o?Cc(n,o,t):t,y=s?x0.toggleHide:x0.toggleShow;function g(){return i.createElement(kn,lte(ste({},u),{text:f,textVariant:"code",copyToClipboardValue:n,label:a}),i.createElement(K.A,{key:"toggleDisplay",variant:"inline-link",onClick:A=>{A.preventDefault(),c(!s)},"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(`${y} ${a}`)},l.Ay.translate(y)))}return p?i.createElement(g,null):i.createElement(ro,{label:l.Ay.translate(a)},i.createElement(g,null))}var M0=v(850);const ea={datePicker:{constraint:"YYYY/MM/DD",constraintText:"Use YYYY/MM/DD format.",previousMonthAriaLabel:"Previous month",nextMonthAriaLabel:"Next month",todayAriaLabel:"Today",openCalendarAriaLabel:{selected:"Choose date, selected date is ${0}",notSelected:"Choose date"}},timePicker:{defaultUnit:"UTC"},errorIconAriaLabel:"Error"},ute=()=>Array.from(Array(24),(t,n)=>({label:`${n%12||12}:00 ${n<12?"AM":"PM"}`,value:String(n)}));var dte=Object.defineProperty,F0=Object.getOwnPropertySymbols,pte=Object.prototype.hasOwnProperty,mte=Object.prototype.propertyIsEnumerable,U0=(t,n,a)=>n in t?dte(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,xu=(t,n)=>{for(var a in n||(n={}))pte.call(n,a)&&U0(t,a,n[a]);if(F0)for(var a of F0(n))mte.call(n,a)&&U0(t,a,n[a]);return t};const Lu=Object.freeze(ute());function hte({label:t,description:n,dateProps:a,timeProps:o}){return i.createElement(X.A,{stretch:!0,label:t,description:n},i.createElement($.A,{size:"s",direction:"horizontal"},i.createElement(X.A,xu({stretch:!0,constraintText:l.Ay.translate(ea.datePicker.constraintText),i18nStrings:{errorIconAriaLabel:l.Ay.translate(ea.errorIconAriaLabel)}},a.formFieldProps),i.createElement(M0.A,xu({ariaLabelledby:`${t.toLowerCase()}-label`,placeholder:l.Ay.translate(ea.datePicker.constraint),previousMonthAriaLabel:l.Ay.translate(ea.datePicker.previousMonthAriaLabel),nextMonthAriaLabel:l.Ay.translate(ea.datePicker.nextMonthAriaLabel),todayAriaLabel:l.Ay.translate(ea.datePicker.todayAriaLabel),openCalendarAriaLabel:s=>s?l.Ay.translate(ea.datePicker.openCalendarAriaLabel.selected,s):l.Ay.translate(ea.datePicker.openCalendarAriaLabel.notSelected)},a.datePickerProps))),i.createElement(X.A,xu({i18nStrings:{errorIconAriaLabel:l.Ay.translate(ea.errorIconAriaLabel)}},o.formFieldProps),i.createElement($.A,{size:"s",direction:"horizontal"},i.createElement(ze.A,xu({options:Lu},o.selectProps)),i.createElement(q.A,{variant:"h5"},l.Ay.translate(ea.timePicker.defaultUnit))))))}var fte=(t=>(t.DESCRIPTION="description",t))(fte||{});const lf={description:{testTag:"editApiKeyDescription",rules:[Ca(256)],errorKey:"description"},expiration:{testTag:"editApiKeyExpiration"}},Dr={title:"Edit API key",description:"Configure your API key and change expiration date.",sectionHeader:"API key",apiKeyField:{label:"API key",maskedText:"*********************"},descriptionField:{label:"Description",placeholder:"Describe this API key",constraintText:"The description can have up to 256 characters."},expirationField:{label:"Expiration",description:"Choose when this API key will expire"},formErrors:"Please correct the form's errors before submitting changes."},$0=(t,n)=>{const[a,o,s]=t.split("-"),c=n;return Date.UTC(+a,+o-1,+s,+c)/1e3};var yte=Object.defineProperty,gte=Object.defineProperties,Ate=Object.getOwnPropertyDescriptors,j0=Object.getOwnPropertySymbols,Ete=Object.prototype.hasOwnProperty,bte=Object.prototype.propertyIsEnumerable,V0=(t,n,a)=>n in t?yte(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,vte=(t,n)=>{for(var a in n||(n={}))Ete.call(n,a)&&V0(t,a,n[a]);if(j0)for(var a of j0(n))bte.call(n,a)&&V0(t,a,n[a]);return t},Ste=(t,n)=>gte(t,Ate(n));function cf({apiKeySecret:t,hideLabel:n=!1}){const[a,o]=(0,i.useState)(!1);return i.createElement(cte,{visible:a,setVisible:o,showFirstLetterCount:lS,mask:Dr.apiKeyField.maskedText,secret:t,label:Dr.apiKeyField.label,copyTextProps:{enablePanorama:!0},hideLabel:n})}function Tte({description:t,setDescription:n,formErrors:a,setFormErrors:o,hasSubmitted:s}){return i.createElement(_0,{key:lf.description.testTag,formField:{label:l.Ay.translate(Dr.descriptionField.label),errorText:s?a.description:"",constraintText:l.Ay.translate(Dr.descriptionField.constraintText)},input:{value:t,onChange:({detail:c})=>{n(c.value)},onBlur:()=>{const c=_e(t,lf.description.rules);o(Ste(vte({},a),{description:c}))},placeholder:l.Ay.translate(Dr.descriptionField.placeholder),testTag:lf.description.testTag},optional:!0})}function uf(t){const n=new Date,a=new Date(n.setDate(n.getDate()+1)),o=new Date(n.setDate(n.getDate()+365)),s=new Date(t);return s>a&&s<o}function Ite({expiresDate:t,setExpiresDate:n,expiresHour:a,setExpiresHour:o}){return i.createElement(hte,{label:l.Ay.translate(Dr.expirationField.label),description:l.Ay.translate(Dr.expirationField.description),dateProps:{datePickerProps:{value:t,onChange:({detail:s})=>n(s.value),isDateEnabled:s=>uf(s)}},timeProps:{selectProps:{selectedOption:a,onChange:({detail:s})=>o(s.selectedOption)}}})}function Cte({navigateBack:t,onSubmit:n,loading:a}){return i.createElement($.A,{direction:"horizontal",size:"xs"},i.createElement(K.A,{ariaLabel:(0,l.Ay)`Cancel`,onClick:t,formAction:"none",variant:"link","data-testid":"edit-api-key-cancel","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"cancel"},(0,l.Ay)`Cancel`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Save`,formAction:"none",variant:"primary","data-testid":"edit-api-key-save",onClick:n,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"save",loading:a},(0,l.Ay)`Save`))}function Rte(){const t=St(),n=tG(),a=(0,G.Zp)(),o=de(),[s,c]=(0,i.useState)(n?.description),[u,p]=(0,i.useState)(n?.getUTCDate()),h=String(n?.getUTCHours()),[f,y]=(0,i.useState)(Lu.find(O=>O.value===h)),[g,A]=(0,i.useState)(""),[E,b]=(0,i.useState)(!1),[C,I]=(0,i.useState)(!1),[R,L]=(0,i.useState)({description:""}),P=()=>{a("..")},F=()=>Object.keys(R).some(O=>R[O]),x=()=>{if(I(!0),F()){A(l.Ay.translate(Dr.formErrors));return}b(!0),o(uj({entity:new cr({apiId:t.apiId,id:n.id,description:s??null,expires:$0(u,f.value)})}))};return Vt(vt.API_KEYS,ct.EDIT_RESOURCE),(0,i.useEffect)(()=>(n||P(),function(){o(lc(""))}),[]),(0,i.useEffect)(()=>{var O;!((O=n?.recordStatus)!=null&&O.status)||!E||(Oi(n.recordStatus.status)&&P(),bd(n.recordStatus.status)&&(A(n.recordStatus.message),b(!1)))},[n]),i.createElement("form",{onSubmit:O=>O.preventDefault()},i.createElement(Rn.A,{header:i.createElement($t,{title:Dr.title,description:Dr.description,showHelpLink:!0}),actions:i.createElement(Cte,{onSubmit:x,navigateBack:P,loading:E}),errorText:g},i.createElement(Le,{title:Dr.sectionHeader,enablePanorama:!0},i.createElement($.A,{size:"l"},i.createElement(cf,{apiKeySecret:n?.id}),i.createElement(Tte,{description:s,setDescription:c,formErrors:R,setFormErrors:L,hasSubmitted:C}),i.createElement(Ite,{expiresDate:u,setExpiresDate:p,expiresHour:f,setExpiresHour:y})))))}const wte=t=>{if(t.isExpired()){const n=l.Ay.translate(Pn.tableColumns.expires.expired,t.toUTCString());return i.createElement("span",{style:{color:su.nhu}},n)}return t.toUTCString()},Pte=(t,n)=>Math.sign(t.expires-n.expires),B0=[{cell:t=>t?i.createElement(cf,{apiKeySecret:t.id,hideLabel:!0}):"",header:i.createElement("span",null,l.Ay.translate(Pn.tableColumns.apiKey.header)),id:"id",minWidth:272,width:336,sortingField:"id"},{cell:t=>t&&t.description?t.description:"",header:i.createElement("span",null,l.Ay.translate(Pn.tableColumns.description.header)),id:"description",sortingField:"description"},{cell:t=>t?wte(t):"",header:i.createElement("span",null,l.Ay.translate(Pn.tableColumns.expires.header)),id:"expiresAt",minWidth:80,width:312,sortingField:"expiresAt",sortingComparator:Pte}];var Ote=Object.defineProperty,Dte=Object.defineProperties,Nte=Object.getOwnPropertyDescriptors,G0=Object.getOwnPropertySymbols,_te=Object.prototype.hasOwnProperty,xte=Object.prototype.propertyIsEnumerable,z0=(t,n,a)=>n in t?Ote(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,df=(t,n)=>{for(var a in n||(n={}))_te.call(n,a)&&z0(t,a,n[a]);if(G0)for(var a of G0(n))xte.call(n,a)&&z0(t,a,n[a]);return t},q0=(t,n)=>Dte(t,Nte(n));function Lte({handleEdit:t,hasSingleSelection:n,handleDelete:a,deleteLoading:o,handleCreate:s,addLoading:c}){return i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(K.A,{ariaLabel:l.Ay.translate("Edit ${0}","API key"),onClick:t,variant:"normal",formAction:"none",disabled:!n,"data-testid":"api-key-table-edit","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"editApiKey"},l.Ay.translate(Pn.headerActions.edit)),i.createElement(K.A,{ariaLabel:l.Ay.translate("Delete ${0}","API key"),onClick:a,variant:"normal",formAction:"none",disabled:!n,"data-testid":"api-key-table-delete",loading:o,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"deleteApiKey"},l.Ay.translate(Pn.headerActions.delete)),i.createElement(K.A,{ariaLabel:l.Ay.translate(Pn.headerActions.add),onClick:s,variant:"normal",formAction:"none","data-testid":"api-key-table-add",loading:c,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"addApiKey"},l.Ay.translate(Pn.headerActions.add)))}function kte({handleCreate:t,addLoading:n}){return i.createElement(q.A,{textAlign:"center",color:"inherit"},i.createElement("b",null,l.Ay.translate(Pn.emptyDisplay.title)),i.createElement(q.A,{variant:"p",margin:{bottom:"s"},color:"inherit"},l.Ay.translate(Pn.emptyDisplay.description)),i.createElement(K.A,{onClick:t,ariaLabel:l.Ay.translate(Pn.headerActions.add),variant:"normal",formAction:"none","data-testid":"api-key-empty-table-add",loading:n,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"createApiKey"},l.Ay.translate(Pn.emptyDisplay.action)))}function Mte(){const[t,n]=(0,i.useState)([]),a=dn(),[o,s,c]=yc(),[u,p]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),y=de(),g=(0,G.Zp)(),A=t.length===1,E=()=>{p(!0);const O=new cr({apiId:a});y(lp({entity:O}))},b=()=>{f(!0),y(cp({entity:t[0]})),n([])},C=()=>{t.length>0&&(y(lc(t[0].id)),g("apiKeys/edit"))},I=t.length!==0?`(${t.length}/${s.length})`:`(${s.length})`;(0,i.useEffect)(()=>{p(!1),f(!1)},[s.length,c.length]);const{items:R,filterProps:L,filteredItemsCount:P,collectionProps:F,paginationProps:x}=(0,Wn.G)(s||[],{filtering:{fields:B0.map(O=>O.sortingField),noMatch:i.createElement(Ei,{text:Pn.noResults}),empty:i.createElement(Ei,{text:Pn.noResults})},pagination:{},sorting:{},selection:{trackBy:"id",keepSelection:!0}});return i.createElement(Ht.A,q0(df({},F),{trackBy:"id",header:i.createElement(be.A,{variant:"h2",counter:I,actions:i.createElement(Lte,{handleEdit:C,hasSingleSelection:A,handleDelete:b,deleteLoading:h,handleCreate:E,addLoading:u})},(0,l.Ay)`API keys`),loading:o,empty:i.createElement(kte,{handleCreate:E,addLoading:u}),filter:i.createElement(ur.A,q0(df({},L),{filteringPlaceholder:l.Ay.translate(Pn.filterText),filteringAriaLabel:l.Ay.translate(Pn.filterText),countText:ei(P),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"findApiKeyTextFilter"})),columnDefinitions:B0,items:R.filter(O=>!!O?.id),pagination:i.createElement(Xr.A,df({},x)),selectionType:"single",wrapLines:!0,resizableColumns:!0,selectedItems:t,onSelectionChange:O=>{n(O.detail.selectedItems)},"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"apiKeyTable",ariaLabels:{selectionGroupLabel:(0,l.Ay)`API key selection`,itemSelectionLabel:(O,j)=>`${Cc(j.id)}`,tableLabel:(0,l.Ay)`API keys`}}))}var Fte=Object.defineProperty,K0=Object.getOwnPropertySymbols,Ute=Object.prototype.hasOwnProperty,$te=Object.prototype.propertyIsEnumerable,W0=(t,n,a)=>n in t?Fte(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,jte=(t,n)=>{for(var a in n||(n={}))Ute.call(n,a)&&W0(t,a,n[a]);if(K0)for(var a of K0(n))$te.call(n,a)&&W0(t,a,n[a]);return t};const Vte=(t,n)=>{var a;const o=t?[{label:(0,l.Ay)`Merged into`,value:t.name,link:`#/${t.apiId}/v1/home`},{label:(0,l.Ay)`Contact details`,value:t.ownerContact},{label:(0,l.Ay)`Primary auth mode`,value:pf(t.graphqlConfig.authenticationType)},{label:(0,l.Ay)`Additional auth modes`,value:H0(t.graphqlConfig.additionalAuthenticationProviders)}]:[],s=n?[{label:(0,l.Ay)`API ARN`,value:n.mergedApiArn,canCopy:!0},{label:(0,l.Ay)`API ID`,value:n.mergedApiId,canCopy:!0},{label:(0,l.Ay)`Auto merge`,value:zi(n.sourceApiAssociationConfig.mergeType===Di.AUTO_MERGE)},jte({label:(0,l.Ay)`Merge status`,popoverContent:n.sourceApiAssociationStatusDetail},ku(n.sourceApiAssociationStatus)),{label:(0,l.Ay)`Last successful merge`,value:(a=n.lastSuccessfulMergeDate)==null?void 0:a.toString()}]:[];return[...o,...s]},H0=t=>t.map(n=>pf(n.authenticationType)).join(", "),pf=t=>{switch(t){case k.API_KEY:return(0,l.Ay)`API key`;case k.IAM:return(0,l.Ay)`AWS IAM`;case k.USER_POOLS:return(0,l.Ay)`Amazon Cognito User Pool`;case k.OIDC:return(0,l.Ay)`OpenID Connect`;case k.LAMBDA:return(0,l.Ay)`AWS Lambda`;default:return Lr}},ku=t=>{switch(t){case kt.MERGE_SCHEDULED:return{value:(0,l.Ay)`Merge scheduled`,statusIndicatorType:"pending"};case kt.MERGE_FAILED:return{value:(0,l.Ay)`Merge failed`,statusIndicatorType:"error"};case kt.MERGE_SUCCESS:return{value:(0,l.Ay)`Merge success`,statusIndicatorType:"success"};case kt.NEVER_MERGED:return{value:(0,l.Ay)`Never merged`,statusIndicatorType:"stopped"};case kt.MERGE_IN_PROGRESS:return{value:(0,l.Ay)`Merge in progress`,statusIndicatorType:"in-progress"};case kt.AUTO_MERGE_SCHEDULE_FAILED:return{value:(0,l.Ay)`Auto merge failed`,statusIndicatorType:"error"};case kt.DELETION_SCHEDULED:return{value:(0,l.Ay)`Disassociation scheduled`,statusIndicatorType:"pending"};case kt.DELETION_IN_PROGRESS:return{value:(0,l.Ay)`Disassociation in progress`,statusIndicatorType:"in-progress"};case kt.DELETION_FAILED:return{value:(0,l.Ay)`Disassociation failed`,statusIndicatorType:"error"};default:return{value:Lr,statusIndicatorType:"stopped"}}},J0=t=>t.canCopy?i.createElement(kn,{text:t.value,label:t.label,enablePanorama:!0}):t.statusIndicatorType?i.createElement(_u.A,{dismissAriaLabel:"Close",header:t.value,content:t.popoverContent},i.createElement(Or.A,{type:t.statusIndicatorType,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(t.label)},t.value)):t.link?i.createElement(ue.A,{href:t.link,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(`${t.label}Link`)},t.value):t.action?i.createElement(K.A,{onClick:t.action},t.value):t.value;function Bte({mergedGraphqlApi:t,sourceApiAssociation:n}){const a=Vte(t,n).map(c=>({key:c.label,value:J0(c)}));n&&a.push({key:t?(0,l.Ay)`Merge with ${t.name}`:(0,l.Ay)`Merge with Merged API`,value:i.createElement(O0,{mergedGraphqlApi:t,sourceApiAssociation:n})});const o=(0,G.Zp)(),s=()=>{o(`sourceApiAssociation/${n.associationId}/edit`)};return i.createElement(Le,{title:t?(0,l.Ay)`Merged API details: ${t.name}`:(0,l.Ay)`Merged API details`,showHelpLink:!0,enablePanorama:!0,panoramaTag:"mergedApiDetails",actions:i.createElement(K.A,{onClick:s,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"editMergedAssociation"},(0,l.Ay)`Edit`)},i.createElement(gn,{items:a,columns:3}))}const ao={title:"Environment variables",description:"You can use environment variables to adjust your resolver and function behavior without updating your code.",editButton:"Edit",emptyHeader:"No environment variables",emptyBody:"No environment variables associated with this API.",emptyButton:"Add environment variables"},Gte=()=>[{id:"key",header:(0,l.Ay)`Key`,cell:t=>t.key},{id:"value",header:(0,l.Ay)`Value`,cell:t=>t.value||"-"}];function zte(){const t=(0,G.Zp)();return i.createElement(q.A,{margin:{vertical:"xs"},textAlign:"center",color:"inherit"},i.createElement($.A,{size:"xxs"},i.createElement("div",null,i.createElement("b",null,l.Ay.translate(ao.emptyHeader)),i.createElement(q.A,{variant:"p",color:"inherit"},l.Ay.translate(ao.emptyBody))),i.createElement(K.A,{onClick:()=>t("environmentVariables/edit")},l.Ay.translate(ao.emptyButton))))}const Y0=t=>{var n,a;return(a=(n=t?.environmentVariables)==null?void 0:n.toArray())!=null?a:[]};function qte(){const t=(0,G.Zp)(),[n,a]=fb(),[o,s]=(0,i.useState)(Y0(a));return(0,i.useEffect)(()=>{n||s(Y0(a))},[n]),i.createElement(Ht.A,{"data-testid":"environment-variables-table",loading:n,header:i.createElement(Ta,{title:ao.title,counter:`(${o.length})`,showHelpLink:!0,description:ao.description,actions:i.createElement(K.A,{ariaLabel:l.Ay.translate("Edit ${0}",(0,l.Ay)`${ao.title}`),onClick:()=>t("environmentVariables/edit")},l.Ay.translate(ao.editButton))}),columnDefinitions:Gte(),items:o,empty:i.createElement(zte,null)})}const Ar={[k.API_KEY]:"API key",[k.OIDC]:"OpenID Connect",[k.IAM]:"AWS Identity and Access Management (IAM)",[k.USER_POOLS]:"Amazon Cognito User Pool",[k.LAMBDA]:"AWS Lambda"},Kte=t=>{switch(t){case k.OIDC:return[{id:"issuer",header:l.Ay.translate("Issuer URL"),cell:({graphqlConfig:n})=>{var a;return((a=n.openIDConnectConfig)==null?void 0:a.issuer)||"-"},isRowHeader:!0},{id:"clientId",header:l.Ay.translate("Client ID"),cell:({graphqlConfig:n})=>n.openIDConnectConfig.clientId||"-"},{id:"iatTTL",header:l.Ay.translate("Issued TTL"),cell:({graphqlConfig:n})=>n.openIDConnectConfig.iatTTL?`${n.openIDConnectConfig.iatTTL}ms`:"-"},{id:"authTTL",header:l.Ay.translate("Auth TTL"),cell:({graphqlConfig:n})=>n.openIDConnectConfig.authTTL?`${n.openIDConnectConfig.authTTL}ms`:"-"}];case k.LAMBDA:return[{id:"authorizerUri",header:l.Ay.translate("Function"),cell:({graphqlConfig:n})=>n.lambdaAuthorizerConfig.authorizerUri||"-",isRowHeader:!0},{id:"lambdaAuthorizerConfigRegion",header:l.Ay.translate("AWS Region"),cell:({graphqlConfig:n})=>n.lambdaAuthorizerConfigRegion||"-"},{id:"authorizerResultTtlInSeconds",header:l.Ay.translate("Authorizer Response Cache TTL"),cell:({graphqlConfig:n})=>n.lambdaAuthorizerConfig.authorizerResultTtlInSeconds?`${n.lambdaAuthorizerConfig.authorizerResultTtlInSeconds}s`:"-"},{id:"identityValidationExpression",header:l.Ay.translate("Regex"),cell:({graphqlConfig:n})=>n.lambdaAuthorizerConfig.identityValidationExpression||"-"}];case k.USER_POOLS:return[{id:"userPoolId",header:l.Ay.translate("User Pool ID"),cell:({graphqlConfig:n})=>n.userPoolConfig.userPoolId||"-",isRowHeader:!0},{id:"awsRegion",header:l.Ay.translate("AWS Region"),cell:({graphqlConfig:n})=>n.userPoolConfig.awsRegion||"-"},{id:"defaultAction",header:l.Ay.translate("Default action"),cell:({graphqlConfig:n})=>n.userPoolConfig.defaultAction||"-"},{id:"appIdClientRegex",header:l.Ay.translate("AppId client regex"),cell:({graphqlConfig:n})=>n.userPoolConfig.appIdClientRegex||"-"}];default:return[]}},Wte=t=>{const n=[t];switch(t.graphqlConfig.authenticationType){case k.API_KEY:return i.createElement(Mte,null);case k.IAM:return;default:return i.createElement(Ht.A,{header:i.createElement(be.A,{counter:`(${n.length})`},l.Ay.translate(Ar[t.graphqlConfig.authenticationType])),columnDefinitions:Kte(t.graphqlConfig.authenticationType),items:n,sortingDisabled:!0})}},mf={title:"Primary authorization mode",description:"Default authorization mode to interact with your API."};function Hte(){const t=(0,G.Zp)(),n=St(),a=l.Ay.translate(Ar[n.graphqlConfig.authenticationType]);return i.createElement(Le,{title:(0,l.Ay)`${mf.title}`,description:(0,l.Ay)`${mf.description}`,showHelpLink:!0,enablePanorama:!0,disableContentPaddings:!0,actions:i.createElement(K.A,{ariaLabel:(0,l.Ay)`Edit primary authorization mode`,onClick:()=>t("primaryAuth/edit"),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"editApiDetails","data-testid":"primary-auth-edit-button"},(0,l.Ay)`Edit`)},i.createElement(q.A,{padding:"l"},i.createElement(ro,{label:(0,l.Ay)`${mf.title}`},a)),Wte(n))}const Jte=t=>{switch(t.authenticationType){case k.OIDC:return t.openIDConnectConfig.issuer;case k.LAMBDA:return t.lambdaAuthorizerConfig.authorizerUri;case k.USER_POOLS:return t.userPoolConfig.userPoolId;default:return"-"}},Yte=(t,n)=>{if(t.authenticationType!==n.authenticationType)return!0;switch(n.authenticationType){case k.OIDC:return t.openIDConnectConfig.issuer!==n.authenticationIdentifier;case k.LAMBDA:return t.lambdaAuthorizerConfig.authorizerUri!==n.authenticationIdentifier;case k.USER_POOLS:return t.userPoolConfig.userPoolId!==n.authenticationIdentifier;default:return!1}},Qte=(t,n)=>t.graphqlConfig.additionalAuthenticationProviders.toArray().reduce((a,o)=>(o.authenticationType!==k.API_KEY?a.push({authenticationType:o.authenticationType,authenticationIdentifier:Jte(o),additionalAuthenticationProvider:o}):n.forEach(s=>{a.push({authenticationType:k.API_KEY,authenticationIdentifier:s.id,expireDate:s.toUTCString(),apiKey:s})}),a),[]);function hf(){const t=(0,G.Zp)();return i.createElement(q.A,{margin:{vertical:"xs"},textAlign:"center",color:"inherit"},i.createElement($.A,{size:"xxs"},i.createElement(q.A,{fontWeight:"bold"},l.Ay.translate("No additional authorization mode available")),i.createElement(K.A,{onClick:()=>t("./additionalAuth/add"),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"addAdditionalAuth","data-testid":"empty-additional-auth-add-button"},l.Ay.translate("Add additional authorization mode"))))}const Q0=[{id:"authenticationType",header:l.Ay.translate("Authorization mode"),cell:t=>t.authenticationType===k.API_KEY&&t.apiKey.description?i.createElement(i.Fragment,null,l.Ay.translate(Ar[t.authenticationType])," -"," ",i.createElement("em",null,(0,he.truncate)(t.apiKey.description))):l.Ay.translate(Ar[t.authenticationType]),sortingComparator:(t,n)=>t.authenticationType!==k.API_KEY||n.authenticationType!==k.API_KEY?t.authenticationType.localeCompare(n.authenticationType):(t.apiKey.description||"").localeCompare(n.apiKey.description||""),isRowHeader:!0},{id:"authenticationIdentifier",header:l.Ay.translate("Authorization mode identifier"),cell:t=>t.authenticationType!==k.API_KEY?t.authenticationIdentifier:i.createElement(cf,{apiKeySecret:t.authenticationIdentifier,hideLabel:!0}),sortingField:"authenticationIdentifier"},{id:"expireDate",header:l.Ay.translate("Expiration date"),cell:t=>{var n;return t.expireDate?(n=t?.apiKey)!=null&&n.isExpired()?i.createElement(q.A,{variant:"span",color:"text-status-error"},t.expireDate," (expired)"):t.expireDate:"-"},sortingComparator:(t,n)=>new Date(t.expireDate).getTime()-new Date(n.expireDate).getTime()}],Xte={filtering:{empty:i.createElement(hf,null),noMatch:i.createElement(hf,null)},pagination:{pageSize:bn.DEFAULT},sorting:{defaultState:{sortingColumn:Q0[0],isDescending:!1}}};var Zte=Object.defineProperty,ene=Object.defineProperties,tne=Object.getOwnPropertyDescriptors,X0=Object.getOwnPropertySymbols,nne=Object.prototype.hasOwnProperty,rne=Object.prototype.propertyIsEnumerable,Z0=(t,n,a)=>n in t?Zte(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,ff=(t,n)=>{for(var a in n||(n={}))nne.call(n,a)&&Z0(t,a,n[a]);if(X0)for(var a of X0(n))rne.call(n,a)&&Z0(t,a,n[a]);return t},yf=(t,n)=>ene(t,tne(n));const eP={label:"All auth modes",value:"all"};function ane(){const[t,n]=(0,i.useState)(eP),[a,o]=(0,i.useState)([]),s=(0,G.Zp)(),c=de(),u=St(),[,p]=_o(),[h,f]=yc(),y=(0,i.useMemo)(()=>Qte(u,f),[h,f]),{items:g,allPageItems:A,collectionProps:E,filterProps:b,filteredItemsCount:C,paginationProps:I}=(0,Wn.G)(y.filter(P=>t.value==="all"||P.authenticationType===t.value),Xte);(0,i.useEffect)(()=>{if(a[0]){const P=a[0];P.authenticationType!==k.API_KEY?c(Aj(P.additionalAuthenticationProvider)):c(lc(P.authenticationIdentifier))}},[a]);const R=()=>{if(a[0]){const P=a[0];s(`./${P.authenticationType!==k.API_KEY?"additionalAuth":"apiKeys"}/edit`)}},L=()=>{if(a[0]){const P=a[0];if(P.authenticationType===k.API_KEY){const F=f.find(({id:x})=>P.authenticationIdentifier===x);c(cp({entity:F}))}if(P.authenticationType!==k.API_KEY||f.length<=1){const F=u.setIn(["graphqlConfig","additionalAuthenticationProviders"],(0,T.List)(u.graphqlConfig.additionalAuthenticationProviders.filter(x=>Yte(x,P))));c(ws({entity:F,metadata:u.graphqlConfig.isMergedApi()?p:[]}))}o([])}};return i.createElement(Ht.A,yf(ff({},E),{header:i.createElement(Ta,{title:(0,l.Ay)`Additional authorization modes`,counter:qK(a,A),showHelpLink:!0,actions:i.createElement($.A,{size:"m",direction:"horizontal"},i.createElement(K.A,{onClick:R,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"editAdditionalAuth","data-testid":"additional-auth-edit-button",ariaLabel:l.Ay.translate("Edit ${0}","additional authorization mode"),disabled:!a||a.length===0||a[0].authenticationType===k.IAM},(0,l.Ay)`Edit`),i.createElement(K.A,{onClick:L,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"deleteAdditionalAuth","data-testid":"additional-auth-delete-button",ariaLabel:l.Ay.translate("Delete ${0}","additional authorization mode"),disabled:!a||a.length===0},(0,l.Ay)`Delete`),i.createElement(K.A,{onClick:()=>s("./additionalAuth/add"),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"addAdditionalAuth","data-testid":"additional-auth-add-button"},(0,l.Ay)`Add`))}),items:g,selectedItems:a,selectionType:"single",trackBy:"authenticationIdentifier",onSelectionChange:({detail:P})=>o(P.selectedItems),columnDefinitions:Q0,empty:i.createElement(hf,null),filter:i.createElement(ba.A,{gridDefinition:[{colspan:{default:6,xs:5}},{colspan:{default:6,xs:3}}]},i.createElement(q.A,{padding:{top:"l"},margin:{top:"xxs"}},i.createElement(ur.A,yf(ff({},b),{filteringPlaceholder:l.Ay.translate("Find authorization mode"),filteringAriaLabel:l.Ay.translate("Find authorization mode"),countText:ei(C)}))),i.createElement(X.A,{label:l.Ay.translate("Filter authorization mode")},i.createElement(ze.A,{selectedOption:t,onChange:({detail:P})=>n(P.selectedOption),options:[eP,...Object.values(k).map(P=>({label:(0,l.Ay)`${Ar[P]}`,value:P}))]}))),pagination:i.createElement(Xr.A,yf(ff({},I),{ariaLabels:{paginationLabel:"Additional authorization pagination"}})),"data-testid":"additional-auth-table",ariaLabels:{selectionGroupLabel:(0,l.Ay)`Additional authorization mode selection`,itemSelectionLabel:(P,F)=>(0,l.Ay)`${Ar[F.authenticationType]}`,tableLabel:(0,l.Ay)`Additional authorization modes`}}))}class ine extends i.Component{constructor(n){super(n),this.updateApi=a=>{this.props.updateApi({entity:a})},this.state={redirectTo:null}}componentDidMount(){Li(vt.SETTINGS,ct.VIEW_RESOURCE)}render(){return this.state.redirectTo?i.createElement(Ko,{to:this.state.redirectTo}):!this.props.graphqlApi||vn(this.props.graphqlApi.recordStatus.status)?i.createElement(yr,null):i.createElement(wn.A,{header:i.createElement($.A,{size:"m"},i.createElement($t,{title:"Settings",description:"Configure your API and change authorization strategies."}),i.createElement(fr,{entityType:N.API}),i.createElement(fr,{entityType:N.AWS_RESOURCES}))},i.createElement($.A,{size:"l"},i.createElement(Bee,{graphqlApi:this.props.graphqlApi}),i.createElement(Jee,{graphqlApi:this.props.graphqlApi}),this.props.mergedApiAssociationsMap&&this.props.mergedApiAssociationsMap.reduce((n,{sourceApiAssociation:a,mergedGraphqlApi:o})=>(this.props.graphqlApi&&a&&this.props.graphqlApi.apiId===a.sourceApiId&&n.push(i.createElement(Bte,{key:a.associationId,mergedGraphqlApi:o,sourceApiAssociation:a})),n),[]),i.createElement(Hte,null),i.createElement(ane,null),i.createElement(qte,null),i.createElement(xee,{graphqlApi:this.props.graphqlApi,onSubmit:this.updateApi})))}}const one=t=>{const n=t.entities.get(t.environment.selectedApiId),a=t.pagination.sourceApiAssociationsByGraphqlApi.get(n.apiId),o=a?a.items.map(s=>{const c=t.entities.get(s),u=c?t.entities.get(c.mergedApiId):null;return{sourceApiAssociation:c,mergedGraphqlApi:u}}).toList():[];return{graphqlApi:n,mergedApiAssociationsMap:o}},sne=(0,te.connect)(one,{updateApi:ws})(ine);function lne({cancelForm:t,loading:n}){return i.createElement($.A,{direction:"horizontal",size:"xs"},i.createElement(K.A,{ariaLabel:(0,l.Ay)`Cancel`,onClick:t,disabled:n,formAction:"none",variant:"link","data-testid":"edit-settings-cancel","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"cancel"},(0,l.Ay)`Cancel`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Save`,variant:"primary","data-testid":"edit-settings-save",loading:n,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"save"},(0,l.Ay)`Save`))}function cne({handleSubmit:t,initialized:n,children:a}){const o=(0,G.Zp)(),s=St(),c=ne(g=>(0,qe.DM)(Ke.SettingsForm)(g)),u=ne(g=>g.view.promptOnNav.show),p=de();(0,i.useEffect)(()=>{n||p((0,qe.n_)(Ke.SettingsForm,s))},[s]);const h=()=>{const g="..";if(!u){o(g);return}p(Br({href:g}))},f=vn(s.recordStatus.status),y=s.recordStatus.status===H.UPDATE_SUCCESS;return _s(c&&!y),i.createElement("form",{onSubmit:t},i.createElement(Rn.A,{header:i.createElement($t,{title:"Edit settings",showHelpLink:!0}),actions:i.createElement(lne,{cancelForm:h,loading:f})},n?a:i.createElement(Et.A,null)))}const une=(0,qe.zW)({form:Ke.SettingsForm})(cne);var Rl=(t=>(t.MERGED_API="merged-api",t.MERGED_API_EDIT="merged-api-edit",t.IMPORT_TABLE="import-table",t.RDS_INTROSPECTION="rds-introspection",t))(Rl||{});const dne={"import-table":({accountId:t,region:n,resourceName:a})=>JSON.stringify({Version:"2012-10-17",Statement:[{Effect:"Allow",Action:["dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem","dynamodb:BatchGetItem","dynamodb:BatchWriteItem"],Resource:[`arn:${rn()}:dynamodb:${n}:${t}:table/${a}`,`arn:${rn()}:dynamodb:${n}:${t}:table/${a}/*`]}]},null,2),"merged-api":()=>JSON.stringify({Version:"2012-10-17",Statement:[{Effect:"Allow",Action:["appsync:SourceGraphQL"],Resource:["comment1"]},{Effect:"Allow",Action:["appsync:StartSchemaMerge"],Resource:["comment2"]}]},null,2).replace('"comment1"',`// ${l.Ay.translate("The source APIs you choose will be included here")}`).replace('"comment2"',`// ${l.Ay.translate("The merged API and its associated APIs will be included here")}`),"merged-api-edit":({accountId:t,region:n,sourceApis:a,mergedApi:o})=>JSON.stringify({Version:"2012-10-17",Statement:[{Effect:"Allow",Action:["appsync:SourceGraphQL"],Resource:a.concat(a.map(s=>`${s}/*`))},{Effect:"Allow",Action:["appsync:StartSchemaMerge"],Resource:[`arn:${rn()}:appsync:${n}:${t}:apis/${o.apiId}/sourceApiAssociations/*`]}]},null,2),"rds-introspection":({resourceName:t,secondaryResourceName:n})=>JSON.stringify({Version:"2012-10-17",Statement:[{Effect:"Allow",Action:["rds-data:ExecuteStatement","rds-data:ExecuteSql"],Resource:[t,`${t}:*`]},{Effect:"Allow",Action:["secretsmanager:GetSecretValue"],Resource:[n,`${n}:*`]}]},null,2)},pne=()=>({openModal:"View permission details",containerHeader:"Service role details",roleName:"Role name",entity:"Trusted entity",permissions:"Permissions"});function mne(t){var n;const[a,o]=(0,i.useState)(!1),s=((n=t.sources)==null?void 0:n.map(f=>{var y;return(y=f.sourceGraphqlApi)==null?void 0:y.arn}))||[],c=mt(),u=dne[t.role],p=pne(),h=u({accountId:t.accountId,resourceName:t.resourceName,secondaryResourceName:t.secondaryResourceName,mergedApi:t.api,sourceApis:s,region:c});return i.createElement(i.Fragment,null,i.createElement(ue.A,{onFollow:()=>o(!0)},l.Ay.translate(p.openModal)),i.createElement(xn.A,{header:t.headerTitle?t.headerTitle:p.containerHeader,size:"medium",visible:a,onDismiss:()=>o(!1),footer:i.createElement(q.A,{float:"right"},i.createElement(K.A,{onClick:f=>{f.preventDefault(),o(!1)}},(0,l.Ay)`Close`))},i.createElement($.A,{size:"l"},i.createElement(ro,{label:l.Ay.translate(p.entity),key:p.entity},"appsync.amazonaws.com"),i.createElement(ro,{label:l.Ay.translate(p.permissions),key:p.permissions},i.createElement(Ir.x,{content:h,highlight:vh.A})))))}var hne=Object.defineProperty,tP=Object.getOwnPropertySymbols,fne=Object.prototype.hasOwnProperty,yne=Object.prototype.propertyIsEnumerable,nP=(t,n,a)=>n in t?hne(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,rP=(t,n)=>{for(var a in n||(n={}))fne.call(n,a)&&nP(t,a,n[a]);if(tP)for(var a of tP(n))yne.call(n,a)&&nP(t,a,n[a]);return t};const gne={createNewRadioLabel:"New role",useExistingRadioLabel:"Existing role",fieldLabel:"Create or use an existing role",fieldDescription:"",dropdownLoading:"Loading Roles",dropdownPlaceholder:"Choose a role",dropdownEmpty:"No roles found."};function Ane(t){return rP(rP({},gne),t)}var Ene=(t=>(t.UseExisting="useExisting",t.CreateNew="createNew",t))(Ene||{});function aP(t){const[n,a]=In(pn.IAM),o=(0,i.useMemo)(()=>a.map(I=>({value:I,label:I})),[a]),[s,c]=(0,i.useState)(!!t.selected),[u,p]=(0,i.useState)(t.selected),[h,f]=(0,i.useState)(""),y=Ane(t.i18nStrings),g=s?"useExisting":"createNew",A=I=>{var R;if(I){const L=u||((R=a[0])==null?void 0:R.toString());return p(L),L}return""};(0,i.useEffect)(()=>{t.showErrors&&s&&f(_e(u,[Me(l.Ay.translate(y.fieldLabel)),au]))},[]),(0,i.useEffect)(()=>{!n&&a.length>0&&!u&&(p(a[0]),s&&(t.setSelected(a[0].toString()),t.setError(!1)))},[n]),(0,i.useEffect)(()=>{!!t.selected&&!s&&c(!0)},[t.selected]);const E=()=>{const I=!s,R=A(I),L=I?_e(R,[Me(l.Ay.translate(y.fieldLabel)),au]):"";f(L),t.setError(!!L),t.setSelected(R),c(I)};function b(){return i.createElement(X.A,{errorText:t.showErrors&&h},i.createElement(ze.A,{placeholder:y.dropdownPlaceholder,filteringType:"auto",statusType:n?"loading":"finished",selectedOption:!n&&u?{value:u,label:u}:void 0,onChange:({detail:I})=>{const R=I.selectedOption.value;f(_e(R,[Me(l.Ay.translate(y.fieldLabel)),au])),p(R),t.setSelected(R)},options:o,selectedAriaLabel:"Selected",loadingText:y.dropdownLoading,empty:y.dropdownEmpty}))}const C=[{value:"createNew",label:l.Ay.translate(y.createNewRadioLabel)},{value:"useExisting",label:l.Ay.translate(y.useExistingRadioLabel)}];return i.createElement($.A,{size:"m"},i.createElement(X.A,{label:l.Ay.translate(y.fieldLabel),description:l.Ay.translate(y.fieldDescription),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"iamRoleSelection"},i.createElement($.A,{size:"s"},i.createElement(Tr.A,{onChange:E,value:g,items:C,"data-analytics-type":U.EVENT_VALUE,"data-analytics":g}),s&&i.createElement(b,null))),i.createElement(mne,{role:t.role,resourceName:t.resourceName,secondaryResourceName:t.secondaryResourceName,accountId:t.accountId,sources:t.sourceArns,api:t.apiInfo}))}const bne=()=>[{field:"name",optional:!1,i18nKey:"nameInput",testId:"settings-edit-name",validate:[Me((0,l.Ay)`Name`),Al]},{field:"ownerContact",optional:!0,i18nKey:"ownerContactInput",testId:"settings-edit-contact",validate:[Ca(256)]}],Mu={title:"API details",nameInput:{placeholder:"Enter a name for your API.",label:"API name",constraintText:"The API name can have up to 512 characters."},ownerContactInput:{placeholder:"Enter a contact for your API.",label:"Contact details",constraintText:"The contact details can have up to 256 characters."},sectionHeader:"Additional settings"};function vne({merged:t,sources:n}){const a=(0,i.useMemo)(()=>bne(),[]);return i.createElement(Le,{title:Mu.title,enablePanorama:!0,panoramaTag:"editApiDetails"},i.createElement($.A,{size:"l"},a.map(o=>i.createElement(Ia,{key:o.testId,field:{name:o.field,validate:o.validate},input:{placeholder:l.Ay.translate(Mu[o.i18nKey].placeholder),"data-testid":o.testId,testTag:o.testId},optional:o.optional,formField:{label:l.Ay.translate(Mu[o.i18nKey].label),constraintText:l.Ay.translate(Mu[o.i18nKey].constraintText)}})),t&&i.createElement(mn.A,{variant:"footer",defaultExpanded:!0,headerText:"Merged execution role"},i.createElement(qe.D0,{name:"mergedApiExecutionRoleArn",component:o=>i.createElement(aP,{selected:o.input.value,setSelected:s=>o.input.onChange(s||""),showErrors:!1,role:Rl.MERGED_API_EDIT,sourceArns:n,apiInfo:t,setError:()=>{}})}))))}function Sne(){const t=(0,G.Zp)(),n=St(),a=de(),[o,s]=_o();Vt(vt.SETTINGS,ct.EDIT_RESOURCE);const c=u=>{a(ws({entity:u,metadata:n.graphqlConfig.isMergedApi()?s:[]}))};return(0,i.useEffect)(()=>{n.recordStatus.status===H.UPDATE_SUCCESS&&(a(Kt(N.API)({entity:n.merge({recordStatus:new fe({status:H.NONE})})})),t(".."))},[n]),i.createElement(une,{onSubmit:c},i.createElement($.A,{size:"l"},i.createElement(vne,{merged:n.graphqlConfig.isMergedApi()&&n,sources:s}),i.createElement(fr,{entityType:N.API}),i.createElement(fr,{entityType:N.AWS_RESOURCES})))}const Tne={promptMessage:'This page is asking you to confirm that you want to leave - data you have entered may not be saved. Click "Cancel" to stay on this page, and "OK" to leave the page.',errorHeader:"Please correct the form's errors before submitting changes."},Ine=t=>{let n="";return t.graphqlConfig.logConfig&&t.graphqlConfig.logConfig.cloudWatchLogsRoleArn===""&&t.graphqlConfig.roleSource===Dt.ROLE_EXISTING&&(n=(0,l.Ay)`You must select a logging role.`),t.wafWebAclArn==="None"&&(n=(0,l.Ay)`You must select a valid Web ACL.`),n};function Cne({cancelForm:t,loading:n}){return i.createElement($.A,{direction:"horizontal",size:"xs"},i.createElement(K.A,{ariaLabel:(0,l.Ay)`Cancel`,onClick:t,disabled:n,formAction:"none",variant:"link","data-testid":"edit-settings-cancel","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"cancel"},(0,l.Ay)`Cancel`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Save`,variant:"primary","data-testid":"edit-settings-save",loading:n,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"save"},(0,l.Ay)`Save`))}function Rne({handleSubmit:t,initialized:n,children:a}){const o=(0,G.Zp)(),s=St(),c=ne(g=>(0,qe.DM)(Ke.SettingsForm)(g)),u=ne(g=>g.view.promptOnNav.show),p=de(),h=vn(s.recordStatus.status),f=s.recordStatus.status===H.UPDATE_SUCCESS;(0,i.useEffect)(()=>{n||p((0,qe.n_)(Ke.SettingsForm,s))},[s]),_s(c&&!f);const y=()=>{const g=`/${s.apiId}/v1/settings`;if(!u){o(g);return}p(Br({href:g}))};return i.createElement("form",{onSubmit:t},i.createElement(Rn.A,{header:i.createElement($t,{title:"Edit API configuration",showHelpLink:!0}),actions:i.createElement(Cne,{cancelForm:y,loading:h})},a))}const wne=(0,qe.zW)({form:Ke.SettingsForm})(Rne);class Pne extends i.Component{constructor(){super(...arguments),this.listRoles=()=>{const{roles:n}=this.props;!n.lastUpdated&&!n.isLoading&&this.props.listRoles&&this.props.listRoles({paginateRecord:n,paginationKey:{}})},this.getIAMRoleOptions=()=>(this.listRoles(),this.props.roles&&this.props.roles.items?this.props.roles.items.map(n=>({value:n,label:n})).toArray():[])}render(){const{roles:n}=this.props;return n?(n.nextToken&&this.listRoles(),i.createElement(Rr,{field:{name:"graphqlConfig.logConfig.cloudWatchLogsRoleArn",normalize:a=>a.value},select:{loading:n.isLoading,options:this.getIAMRoleOptions(),disabled:!n.isLoading&&n.items.size===0,"data-testid":"logging-role-arn-select",filteringType:"auto",filteringAriaLabel:l.Ay.translate("Find ${0}",(0,l.Ay)`Existing role`),filteringClearAriaLabel:(0,l.Ay)`Clear field`},formField:{label:(0,l.Ay)`Select an existing role`}})):i.createElement(Et.A,null)}}const One=(0,te.connect)(t=>({roles:t.pagination.iamRoles}),t=>({listRoles:n=>t(YA(n))}))(Pne),Dne="graphqlConfig.roleSource";function Nne({roleSource:t}){const n=de(),a=mt();return(0,i.useEffect)(()=>{t===Dt.ROLE_EXISTING&&n(Jj(a))},[t]),i.createElement(q.A,null,i.createElement(HI,{formField:{label:(0,l.Ay)`Create or use an existing role`,description:(0,l.Ay)`Allow AWS AppSync to securely write logs to CloudWatch.`},field:{name:Dne,validate:[]},radioGroup:{items:[{value:Dt.ROLE_NEW,label:(0,l.Ay)`New role`},{value:Dt.ROLE_EXISTING,label:(0,l.Ay)`Existing role`}],value:t},panoramaTag:"iamRoleSelection"}),t===Dt.ROLE_EXISTING&&i.createElement(One,null))}const Pa={label:"Logging",description:"Log API calls in CloudWatch. There is a charge for logging.",link:"https://aws.amazon.com/cloudwatch/pricing/",linkText:"View pricing details",excludeVerbose:{formLabel:"Include verbose content",checkboxLabel:"Include request headers, response headers, context, and evaluated mapping templates regardless of field logging level."},logConfig:{label:"Field resolver log level",description:"Select the level of logging for fields in your API."},toggleText:"Enable logging"},_ne=()=>[{value:"NONE",label:(0,l.Ay)`None`,description:(0,l.Ay)`Field resolvers will not output logs`},{value:"ERROR",label:(0,l.Ay)`Error`,description:(0,l.Ay)`Only fields that error will output logs`},{value:"ALL",label:(0,l.Ay)`All`,description:(0,l.Ay)`All field resolvers will output logs`}],xne=()=>[{value:"NONE",label:(0,l.Ay)`None`,description:(0,l.Ay)`Resolver logging is disabled`},{value:"ERROR",label:(0,l.Ay)`Error`,description:(0,l.Ay)`Only Error messages appear in logs`},{value:"INFO",label:(0,l.Ay)`Info`,description:(0,l.Ay)`Info and Error messages appear in logs`},{value:"DEBUG",label:(0,l.Ay)`Debug`,description:(0,l.Ay)`Debug, Info, and Error messages appear in logs`},{value:"ALL",label:(0,l.Ay)`All`,description:(0,l.Ay)`All messages (Debug, Error, Info, and Trace) appear in logs`}],Lne=t=>t?xne():_ne();function kne(){const t=St(),n=(0,qe.fj)(Ke.SettingsForm),{isLoading:a,result:o}=_n(Bt.isEnhancedLoggingEnabled),s=ne(p=>n(p,"graphqlConfig.logConfig")),c=ne(p=>n(p,"graphqlConfig.roleSource")),u=s!=null&&s.cloudWatchLogsRoleArn!=null;return i.createElement(Le,{title:"Logging"},i.createElement(pi,{field:{name:"graphqlConfig.logConfig",format:p=>p?.cloudWatchLogsRoleArn!=null,normalize:p=>p&&t.graphqlConfig.logConfig&&t.graphqlConfig.logConfig.isLoggingEnabled()?t.graphqlConfig.logConfig:new nc({cloudWatchLogsRoleArn:p?"":null,excludeVerboseContent:!0})},toggle:{id:"logging-toggle",label:l.Ay.translate(Pa.toggleText)},formField:{label:l.Ay.translate(Pa.label),description:i.createElement("span",null,l.Ay.translate(Pa.description),"\xA0",i.createElement(gt,{text:l.Ay.translate(Pa.linkText),href:Pa.link,variant:"info",ariaLabel:(0,l.Ay)`Link to Cloudwatch pricing`}))},panoramaTag:"logging"}),i.createElement(q.A,{variant:"div",margin:{top:"s"}},u&&i.createElement($.A,{size:"xs"},i.createElement(eu,{field:{name:"graphqlConfig.logConfig.excludeVerboseContent",format:p=>!p,normalize:p=>!p},formField:{label:l.Ay.translate(Pa.excludeVerbose.formLabel)},checkbox:{id:"logging-verbose-checkbox",label:l.Ay.translate(Pa.excludeVerbose.checkboxLabel)},panoramaTag:"loggingVerbose"}),i.createElement(Rr,{field:{name:"graphqlConfig.logConfig",format:p=>p.fieldLogLevel,normalize:(p,h)=>h.set("fieldLogLevel",p.value)},formField:{label:l.Ay.translate(Pa.logConfig.label),description:l.Ay.translate(Pa.logConfig.description)},select:{id:"field-level-log-select",statusType:a?"loading":"finished",options:a?[]:Lne(o),"data-testid":"field-level-log-select"},panoramaTag:"fieldResolverLogLevel"}),i.createElement(Nne,{roleSource:c}))))}const io={label:"Tracing",description:["Trace GraphQL requests using X-Ray.","Additional charges apply."],link:"https://aws.amazon.com/xray/pricing/",linkText:"View pricing details",viewLinkText:"View traces in X-Ray",toggleText:"Enable tracing"};function Mne(){const t=(0,qe.fj)(Ke.SettingsForm),n=mt(),a=xs(n),o=St(),s=ne(p=>t(p,"xrayEnabled")),c=()=>`${a}/xray/home?region=${n}#/traces`,u=io.description.map(p=>l.Ay.translate(p)).join(" ");return i.createElement(Le,{title:"Tracing"},i.createElement(pi,{field:{name:"xrayEnabled"},toggle:{id:"tracing-toggle",label:l.Ay.translate(io.toggleText)},formField:{label:l.Ay.translate(io.label),description:i.createElement("span",null,u,"\xA0",i.createElement(gt,{text:l.Ay.translate(io.linkText),href:io.link,variant:"info",ariaLabel:(0,l.Ay)`Link to X-Ray pricing`}))},panoramaTag:"xray"}),i.createElement(q.A,{variant:"div",margin:{top:"s"}},s&&i.createElement(K.A,{disabled:!o.xrayEnabled,ariaLabel:l.Ay.translate(io.viewLinkText),href:c(),iconAlign:"right",iconName:"external",target:"_blank","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"viewTracesInXray"},l.Ay.translate(io.viewLinkText))))}const ta={label:"Web application firewall",description:"AWS WAF is a web application firewall that helps protect web applications and APIs from attacks.",webAcl:{label:"Web ACL",description:"Select or create a web access control list(ACL)"},viewWebAcl:"View Web ACL In WAF",createWebAcl:"Create Web ACL",toggleText:"Enable web application firewall"};function Fne(){const t=de(),n=St(),a=(0,qe.fj)(Ke.SettingsForm),o=rG(),s=mt(),c=ne(y=>a(y,"wafWebAclArn")),u=ne(y=>y.pagination.wafWebAcls.get(s)),p=ne(y=>!u||u.isLoading?(0,T.List)():u.items.map(g=>y.entities.get(g)).toList()),h=()=>(u||t(I1({paginateRecord:new ke({pageSize:bn.WAF_ACL}),paginationKey:{key:s}})),!p||p.size===0?[]:p.map(y=>({value:y.arn,label:y.entityName,description:y.description})).toArray()),f=(y,g)=>{let A=`${o}/wafv2/homev2/web-acl`;if(y)A+="s/new";else if(g){const E=qg(g);A+=`/${E.entityName}/${E.id}/overview`}else A+="s";return`${A}?region=${s}`};return i.createElement(Le,{title:"Web application firewall"},i.createElement(pi,{field:{name:"wafWebAclArn",format:y=>!!y,normalize:y=>y?n.wafWebAclArn||"None":null},toggle:{id:"waf-toggle",label:l.Ay.translate(ta.toggleText)},formField:{label:l.Ay.translate(ta.label),description:l.Ay.translate(ta.description)},panoramaTag:"waf"}),i.createElement(q.A,{variant:"div",margin:{top:"s"}},c&&i.createElement($.A,{size:"l"},i.createElement(Rr,{field:{name:"wafWebAclArn",normalize:(y,g)=>(g==null&&(y.value="None"),y.value)},select:{controlId:"waf-webalc-dropdown",filteringType:"auto",filteringAriaLabel:l.Ay.translate("Find ${0}",(0,l.Ay)`${ta.webAcl.label}`),filteringClearAriaLabel:(0,l.Ay)`Clear field`,options:h(),disabled:p.size===0},isLoading:!u||u.isLoading,formField:{label:l.Ay.translate(ta.webAcl.label),description:l.Ay.translate(ta.webAcl.description)}}),i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(K.A,{ariaLabel:l.Ay.translate(ta.viewWebAcl),iconAlign:"right",iconName:"external",formAction:"none",href:f(!1,c),disabled:!c||c==="None",target:"_blank","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"viewWebAcl"},l.Ay.translate(ta.viewWebAcl)),i.createElement(K.A,{ariaLabel:l.Ay.translate(ta.createWebAcl),iconAlign:"right",iconName:"external",formAction:"none",href:f(!0),target:"_blank","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"createWebAcl"},l.Ay.translate(ta.createWebAcl))))))}const Fu={label:"Introspection queries",description:"Allow clients to view your schema.",toggleText:"Enable introspection queries"},Une={field:"graphqlConfig.introspectionConfig"};function $ne(){return i.createElement(Le,{title:l.Ay.translate(Fu.label)},i.createElement(eu,{field:{name:Une.field,format:t=>t===oe.DO.ENABLED,normalize:t=>t?oe.DO.ENABLED:oe.DO.DISABLED},checkbox:{id:"introspection-checkbox",label:l.Ay.translate(Fu.toggleText)},formField:{label:l.Ay.translate(Fu.label),description:l.Ay.translate(Fu.description)},panoramaTag:"introspection"}))}const os={label:"Query depth",description:"Configure limits on query depth.",depthInput:{placeholder:"1",formLabel:"Maximum depth"},toggleText:"Enable query depth"},iP={field:"graphqlConfig.queryDepthLimit",optional:!1,validate:[Jo,ru(rr.MIN_QUERY_DEPTH_LIMIT),sC(rr.MAX_QUERY_DEPTH_LIMIT)]},oP={field:"graphqlConfig.queryDepthEnabled"};function jne(){const t=(0,qe.fj)(Ke.SettingsForm),n=ne(o=>!!t(o,oP.field)),a=(0,l.Ay)`Query depth must be between ${rr.MIN_QUERY_DEPTH_LIMIT} and ${rr.MAX_QUERY_DEPTH_LIMIT}.`;return i.createElement(Le,{title:l.Ay.translate(os.label)},i.createElement($.A,{size:"xs"},i.createElement(pi,{field:{name:oP.field},toggle:{id:"depth-toggle",label:l.Ay.translate(os.toggleText)},formField:{label:l.Ay.translate(os.label),description:l.Ay.translate(os.description)},panoramaTag:"queryDepth"}),n&&i.createElement(q.A,{variant:"div",margin:{top:"s"}},i.createElement(Ia,{field:{name:iP.field,validate:iP.validate},formField:{label:l.Ay.translate(os.depthInput.formLabel),constraintText:a},input:{placeholder:os.depthInput.placeholder}}))))}const ss={label:"Resolver Count",description:"Configure the number of resolver functions executed during a GraphQL query.",resolverInput:{placeholder:"1",formLabel:"Maximum resolver count"},toggleText:"Enable resolver count"},sP={field:"graphqlConfig.resolverCountLimit",optional:!1,validate:[Jo,ru(rr.MIN_RESOLVER_COUNT_LIMIT),sC(rr.MAX_RESOLVER_COUNT_LIMIT)]},lP={field:"graphqlConfig.resolverCountEnabled"};function Vne(){const t=(0,qe.fj)(Ke.SettingsForm),n=ne(o=>!!t(o,lP.field)),a=(0,l.Ay)`Resolver counts must be between ${rr.MIN_RESOLVER_COUNT_LIMIT} and ${rr.MAX_RESOLVER_COUNT_LIMIT}.`;return i.createElement(Le,{title:l.Ay.translate(ss.label)},i.createElement($.A,{size:"xs"},i.createElement(pi,{field:{name:lP.field},toggle:{id:"resolver-toggle",label:l.Ay.translate(ss.toggleText)},formField:{label:l.Ay.translate(ss.label),description:l.Ay.translate(ss.description)},panoramaTag:"resolverCount"}),n&&i.createElement(q.A,{variant:"div",margin:{top:"s"}},i.createElement(Ia,{field:{name:sP.field,validate:sP.validate},formField:{label:l.Ay.translate(ss.resolverInput.formLabel),constraintText:a},input:{placeholder:ss.resolverInput.placeholder}}))))}function Bne(){return i.createElement(eu,{field:{name:"graphqlConfig.enhancedMetricsConfig.operationLevelMetricsConfig",format:t=>t===oe.Z1.ENABLED,normalize:t=>t?oe.Z1.ENABLED:oe.Z1.DISABLED},checkbox:{id:"operation-level-metrics-checkbox",label:l.Ay.translate(wr.checkBox.description)},formField:{label:l.Ay.translate(wr.checkBox.label)}})}function Gne(){const t=wr.description.map(n=>l.Ay.translate(n)).join(" ");return i.createElement(pi,{field:{name:"graphqlConfig.enhancedMetricsConfig",format:n=>n?.isEnhancedMetricsEnabled(),normalize:n=>n?new Ss({resolverLevelMetricsBehavior:Ch,dataSourceLevelMetricsBehavior:Rh,operationLevelMetricsConfig:oe.Z1.DISABLED}):new Ss},toggle:{id:"enhanced-metrics-toggle",label:l.Ay.translate(wr.toggleLabel)},formField:{label:l.Ay.translate(wr.label),description:i.createElement(q.A,{color:"text-status-inactive",fontSize:"body-s",variant:"span"},t,"\xA0",i.createElement(gt,{text:l.Ay.translate(wr.linkText),href:wr.link,variant:"info",ariaLabel:(0,l.Ay)`Link to Cloudwatch pricing`}))}})}function zne(){return i.createElement(Rr,{field:{name:"graphqlConfig.enhancedMetricsConfig",format:t=>t?.resolverLevelMetricsBehavior,normalize:(t,n)=>n.set("resolverLevelMetricsBehavior",t.value)},formField:{label:l.Ay.translate(wr.resolverMetricsBehaviour.label),description:l.Ay.translate(wr.resolverMetricsBehaviour.description)},select:{"data-testid":"resolver-level-metrics-select",options:v7()}})}function qne(){return i.createElement(Rr,{field:{name:"graphqlConfig.enhancedMetricsConfig",format:t=>t?.dataSourceLevelMetricsBehavior,normalize:(t,n)=>n.set("dataSourceLevelMetricsBehavior",t.value)},formField:{label:l.Ay.translate(wr.dataSourceMetricsLevel.label),description:l.Ay.translate(wr.dataSourceMetricsLevel.description)},select:{"data-testid":"data-source-level-metrics-select",options:S7()}})}function Kne(){const t=(0,qe.fj)(Ke.SettingsForm),n=ne(o=>t(o,"graphqlConfig.enhancedMetricsConfig")),a=n?.isEnhancedMetricsEnabled();return i.createElement(Le,{title:"Enhanced monitoring",showHelpLink:!0},i.createElement(Gne,null),a&&i.createElement(i.Fragment,null,i.createElement(q.A,{variant:"div",margin:{top:"s",bottom:"s"}},i.createElement($.A,{size:"xs"},i.createElement(zne,null),i.createElement(qne,null))),i.createElement(Bne,null)))}function Wne(){return i.createElement($.A,{size:"l"},i.createElement(kne,null),i.createElement(Mne,null),i.createElement(Kne,null),Bt.isWAFEnabled()&&i.createElement(Fne,null),i.createElement($ne,null),i.createElement(jne,null),i.createElement(Vne,null))}function Hne(){const t=(0,G.Zp)(),n=St(),a=de(),[o,s]=(0,i.useState)("");Vt(vt.SETTINGS,ct.EDIT_RESOURCE);const c=u=>{const p=Ine(u);if(p){s(p);return}const h=u.set("shouldUpdateWaf",n.wafWebAclArn!==u.wafWebAclArn);a(ws({entity:h}))};return(0,i.useEffect)(()=>{n.recordStatus.status===H.UPDATE_SUCCESS&&(a(Kt(N.API)({entity:n.merge({recordStatus:new fe({status:H.NONE})})})),t(".."))},[n]),i.createElement(wne,{onSubmit:c},i.createElement($.A,{size:"l"},i.createElement(Wne,null),o&&i.createElement(wt.A,{statusIconAriaLabel:(0,l.Ay)`error`,type:"error",header:l.Ay.translate(Tne.errorHeader)},o),i.createElement(fr,{entityType:N.API}),i.createElement(fr,{entityType:N.AWS_RESOURCES})))}var Jne=Object.defineProperty,cP=Object.getOwnPropertySymbols,Yne=Object.prototype.hasOwnProperty,Qne=Object.prototype.propertyIsEnumerable,uP=(t,n,a)=>n in t?Jne(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Xne=(t,n)=>{for(var a in n||(n={}))Yne.call(n,a)&&uP(t,a,n[a]);if(cP)for(var a of cP(n))Qne.call(n,a)&&uP(t,a,n[a]);return t};const Zne=(t,n,a)=>{var o;const u=a?t?[{label:(0,l.Ay)`Merged into`,value:t.name,link:`#/${t.apiId}/v1/home`},{label:(0,l.Ay)`Contact details`,value:t.ownerContact}]:[]:t?[{label:(0,l.Ay)`Merged with`,value:t.name,link:`#/${t.apiId}/v1/settings`},{label:(0,l.Ay)`Contact details`,value:t.ownerContact}]:[],p=n?[{label:(0,l.Ay)`Last successful merge`,value:(o=n.lastSuccessfulMergeDate)==null?void 0:o.toString()},Xne({label:(0,l.Ay)`Merge status`,popoverContent:n.sourceApiAssociationStatusDetail},ku(n.sourceApiAssociationStatus))]:[];return fS(u,p)},ere={title:"Merged API",sectionHeader:"Additional settings"};function tre({graphqlApi:t,sourceApiAssociation:n,isSourceApi:a,autoMergeEnabled:o,setAutoMergeEnabled:s}){const c=Zne(t,n,a).map(p=>({key:p.label,value:J0(p)}));n&&c.push({key:t?(0,l.Ay)`Merge with ${t.name}`:(0,l.Ay)`Merge with Merged API`,value:i.createElement(O0,{mergedGraphqlApi:t,sourceApiAssociation:n})}),c.splice(-1,0,{key:(0,l.Ay)`Automatic merging`,value:i.createElement("div",{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"autoMerge"},i.createElement(Ea.A,{description:(0,l.Ay)`Trigger a merge operation whenever there's a change to this API.`,onChange:({detail:p})=>s(p.checked),checked:o,"data-analytics-type":U.EVENT_VALUE,"data-analytics":et(o.toString())},(0,l.Ay)`Automatically merge API changes`))});const u=t?t.name:ere.title;return i.createElement(Le,{title:u,enablePanorama:!0,panoramaTag:"editMergedAssociation"},i.createElement(gn,{items:c,columns:2,variant:"default"}))}function nre({navigateBack:t,submitHandler:n}){return i.createElement($.A,{direction:"horizontal",size:"xs"},i.createElement(K.A,{ariaLabel:(0,l.Ay)`Cancel`,onClick:t,formAction:"none",variant:"link","data-testid":"edit-merged-api-cancel","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"cancel"},(0,l.Ay)`Cancel`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Save`,variant:"primary","data-testid":"edit-merged-api-save",onClick:n,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"save"},(0,l.Ay)`Save`))}function rre(){const t=(0,G.Zp)(),{associationId:n}=(0,G.g)(),a=de(),o=St(),[s,c]=Ab(n),u=c&&o.apiId===c.sourceApiId,p=QB(c),h=I=>I?.sourceApiAssociationConfig.mergeType===Di.AUTO_MERGE,[f,y]=(0,i.useState)(h(c));Vt(vt.MERGED_API_ASSOCIATIONS,ct.EDIT_RESOURCE),(0,i.useEffect)(()=>{!s&&!c&&t("..")},[s,c]),(0,i.useEffect)(()=>{y(h(c))},[c]);const g=()=>{t(u?"../../settings":"../../home")},A=()=>{const I=f?Di.AUTO_MERGE:Di.MANUAL_MERGE,R=new Jv({mergeType:I}),L=c.merge({sourceApiAssociationConfig:R});Sn({eventType:"submit",eventContext:"editAssociation",eventDetail:et(`save${o.graphqlConfig.apiType}`),eventValue:et(I)}),a(fj({entity:L})),g()};if(!o||s)return i.createElement(yr,null);const C=u?p?`Merged API details: ${p.name}`:"Merged API details":p?`Source API details: ${p.name}`:"Source API details";return i.createElement("form",{onSubmit:I=>I.preventDefault()},i.createElement(Rn.A,{header:i.createElement($t,{title:C,showHelpLink:!0,actions:i.createElement(Qee,{associationId:n,testId:"edit-merged-api-disassociate"})}),actions:i.createElement(nre,{navigateBack:g,submitHandler:A})},i.createElement(tre,{sourceApiAssociation:c,graphqlApi:p,isSourceApi:u,autoMergeEnabled:f,setAutoMergeEnabled:y})))}const are={apiName:(0,l.Ay)`Name`,apiNameLinkedInternal:(0,l.Ay)`Name`,apiId:(0,l.Ay)`API ID`,arn:(0,l.Ay)`ARN`,graphqlEndpoint:(0,l.Ay)`GraphQL endpoint`,realtimeEndpoint:(0,l.Ay)`Realtime endpoint`,apiType:(0,l.Ay)`API type`,primaryAuth:(0,l.Ay)`Primary auth mode`,additionalAuth:(0,l.Ay)`Additional auth modes`,account:(0,l.Ay)`Account`,contact:(0,l.Ay)`Contact`},ire={apiName:{id:"apiName",header:(0,l.Ay)`Name`,cell:t=>{var n;return i.createElement("span",{role:"img","aria-label":"Icon lock private"},((n=t.graphqlConfig)==null?void 0:n.isPrivate())&&i.createElement(i.Fragment,null,i.createElement(Tn.A,{name:"lock-private"}),"\xA0"),t.name)},sortingField:"name"},apiId:{id:"apiId",header:(0,l.Ay)`API ID`,cell:t=>t.apiId,sortingField:"apiId"},contact:{id:"contact",header:(0,l.Ay)`Contact`,cell:t=>t.ownerContact||"-",sortingField:"ownerContact"},account:{id:"account",header:(0,l.Ay)`Account`,cell:t=>{var n;return(n=t.graphqlConfig)==null?void 0:n.owner}},arn:{id:"arn",header:(0,l.Ay)`ARN`,cell:t=>t?.arn,sortingField:"arn"},apiType:{id:"apiType",header:(0,l.Ay)`API type`,cell:t=>{var n;return t.isGraphQLApi()?{GRAPHQL:(0,l.Ay)`GraphQL`,MERGED:(0,l.Ay)`Merged`}[(n=t.graphqlConfig)==null?void 0:n.apiType]:t.isEventApi()?(0,l.Ay)`Event`:"-"}},graphqlEndpoint:{id:"graphqlEndpoint",header:(0,l.Ay)`GraphQL endpoint`,cell:t=>{var n;return i.createElement(kn,{text:(n=t.graphqlConfig)==null?void 0:n.uris.GRAPHQL,label:(0,l.Ay)`GraphQL endpoint`,enablePanorama:!0})},maxWidth:300},realtimeEndpoint:{id:"realtimeEndpoint",header:(0,l.Ay)`Realtime endpoint`,cell:t=>{var n;return i.createElement(kn,{text:(n=t.graphqlConfig)==null?void 0:n.uris.REALTIME,label:(0,l.Ay)`Realtime endpoint`,enablePanorama:!0})},maxWidth:300},primaryAuth:{id:"primaryAuth",header:(0,l.Ay)`Primary auth mode`,cell:t=>{var n;return(n=t.graphqlConfig)==null?void 0:n.authenticationType}},additionalAuth:{id:"additionalAuth",header:(0,l.Ay)`Additional auth modes`,cell:t=>{var n,a;return!((n=t.graphqlConfig)!=null&&n.additionalAuthenticationProviders)||((a=t.graphqlConfig)==null?void 0:a.additionalAuthenticationProviders.size)===0?"-":t.graphqlConfig.additionalAuthenticationProviders.map(o=>o.authenticationType).join(", ")}},apiNameLinkedInternal:{id:"apiNameLinkedInternal",header:(0,l.Ay)`Name`,cell:t=>{var n;return i.createElement("span",{role:"img","aria-label":"Icon lock private"},((n=t.graphqlConfig)==null?void 0:n.isPrivate())&&i.createElement(i.Fragment,null,i.createElement(Tn.A,{name:"lock-private"}),"\xA0"),i.createElement(ue.A,{href:`#/${t.apiId}/v1/home`},t.name))},sortingField:"name"}},ore={apiName:{show:!0,editable:!1},apiId:{show:!0,editable:!0}},gf={apiName:{show:!0,editable:!1},primaryAuth:{show:!0,editable:!0},additionalAuth:{show:!0,editable:!0},apiId:{show:!0,editable:!0}},Af={apiName:{show:!0,editable:!1},contact:{show:!0,editable:!0},account:{show:!0,editable:!0},primaryAuth:{show:!0,editable:!0},additionalAuth:{show:!0,editable:!0},apiId:{show:!0,editable:!0}},Pve={apiNameLinkedInternal:{show:!0,editable:!1},graphqlEndpoint:{show:!0,editable:!0},realtimeEndpoint:{show:!1,editable:!0},arn:{show:!1,editable:!0},apiId:{show:!0,editable:!0},primaryAuth:{show:!0,editable:!0},additionalAuth:{show:!0,editable:!0}},sre={apiNameLinkedInternal:{show:!0,editable:!1},apiType:{show:!0,editable:!0},graphqlEndpoint:{show:!0,editable:!0},realtimeEndpoint:{show:!1,editable:!0},arn:{show:!1,editable:!0},apiId:{show:!0,editable:!0},primaryAuth:{show:!0,editable:!0},additionalAuth:{show:!0,editable:!0}};function lre(t){const n=Object.keys(t).map(s=>ire[s]),a=n.map(s=>({id:s.id,visible:t[s.id].show})),o=Object.keys(t).map(s=>({id:s,label:are[s],alwaysVisible:!t[s].editable}));return{columnDefinitions:n,defaultShownColumns:a,columnPreferencesOptions:o}}const cre=()=>[{value:"any",label:(0,l.Ay)`All API types`},{value:"graphql",label:(0,l.Ay)`GraphQL API`},{value:"event",label:(0,l.Ay)`Event API`}];function ure(t,{value:n}){switch(n){case"event":return t.isEventApi();case"graphql":return t.isGraphQLApi();default:return n==="any"}}var dre=Object.defineProperty,dP=Object.getOwnPropertySymbols,pre=Object.prototype.hasOwnProperty,mre=Object.prototype.propertyIsEnumerable,pP=(t,n,a)=>n in t?dre(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,mP=(t,n)=>{for(var a in n||(n={}))pre.call(n,a)&&pP(t,a,n[a]);if(dP)for(var a of dP(n))mre.call(n,a)&&pP(t,a,n[a]);return t};const hP={title:"APIs",description:"",emptyText:"No APIs to display",noResultsText:"No results",searchText:"Find API",apiFilterLabel:"Filter API Type"};function hre(t){return mP(mP({},hP),t)}function fP(t){return i.createElement(ts.A,{title:(0,l.Ay)`Preferences`,confirmLabel:(0,l.Ay)`Confirm`,cancelLabel:(0,l.Ay)`Cancel`,preferences:t.preferences,onConfirm:({detail:n})=>t.setTablePreferences(n),pageSizePreference:{title:(0,l.Ay)`Items per page`,options:[{value:10,label:"10"},{value:25,label:"25"},{value:50,label:"50"},{value:100,label:"100"}]},contentDisplayPreference:{options:t.columnPreferencesOptions}})}var fre=Object.defineProperty,yre=Object.defineProperties,gre=Object.getOwnPropertyDescriptors,yP=Object.getOwnPropertySymbols,Are=Object.prototype.hasOwnProperty,Ere=Object.prototype.propertyIsEnumerable,gP=(t,n,a)=>n in t?fre(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Ef=(t,n)=>{for(var a in n||(n={}))Are.call(n,a)&&gP(t,a,n[a]);if(yP)for(var a of yP(n))Ere.call(n,a)&&gP(t,a,n[a]);return t},bre=(t,n)=>yre(t,gre(n));const vre=10;function oo(t){const{tableApiCollection:n,headerActions:a,emptyActions:o,selected:s,setSelected:c,columns:u,apisPerPage:p,showPreferences:h,showHelpLink:f,i18nStrings:y,showSimpleView:g,testId:A,hasMultipleApiTypes:E}=t,b=(0,i.useMemo)(()=>cre(),[]),[C,I]=(0,i.useState)(b[0]),R=(0,i.useMemo)(()=>hre(y),[]),{defaultShownColumns:L,columnDefinitions:P,columnPreferencesOptions:F}=(0,i.useMemo)(()=>lre(u||ore),[u]),[x,O]=(0,i.useState)({contentDisplay:L,pageSize:p||vre}),{actions:j,items:M,filterProps:B,filteredItemsCount:V,paginationProps:W,collectionProps:Y}=(0,Wn.G)(n,{filtering:{noMatch:i.createElement(Ei,{text:R.noResultsText}),empty:i.createElement(Ei,{text:R.emptyText,actions:o}),filteringFunction:(J,Ee)=>{if(!ure(J,C))return!1;const Te=Ee.toLowerCase();return P.map(Ie=>J[Ie.sortingField]).some(Ie=>typeof Ie=="string"&&Ie.toLowerCase().indexOf(Te)>-1)}},pagination:{pageSize:x.pageSize},sorting:{},selection:{trackBy:"apiId",keepSelection:!0}}),Z=({detail:J})=>c(J.selectedItems),ie=s.length!==0?`(${s.length}/${n.length})`:`(${n.length})`,ye=i.createElement("div",{className:"input-container"},i.createElement("div",{className:"input-filter"},i.createElement(He.A,{type:"search",value:B.filteringText,onChange:({detail:J})=>{j.setFiltering(J.value)},placeholder:l.Ay.translate(R.searchText),ariaLabel:l.Ay.translate(R.searchText),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"findApiTextFilter",ariaDescribedby:null})),E&&i.createElement("div",{className:"select-filter"},i.createElement(X.A,{label:l.Ay.translate(R.apiFilterLabel)},i.createElement(ze.A,{options:b,selectedOption:C,onChange:({detail:J})=>I(J.selectedOption),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"apiTypeSelectFilter"}))),i.createElement("div",{"aria-live":"polite"},i.createElement("span",{className:"filtering-results"},ei(V)))),ve=i.createElement(Xr.A,Ef({},W)),Ce=i.createElement(Ta,{showHelpLink:f,title:R.title,description:R.description,counter:ie,actions:g?ve:a}),Ae=i.createElement(fP,{setTablePreferences:O,preferences:x,columnPreferencesOptions:F});return i.createElement(Ht.A,bre(Ef(Ef({},Y),t),{trackBy:"apiId",items:M,onSelectionChange:Z,selectedItems:s,header:Ce,pagination:!g&&ve,filter:!g&&ye,preferences:h&&Ae,columnDisplay:x.contentDisplay,columnDefinitions:P,"data-testid":A,"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"apiListTable",ariaLabels:{selectionGroupLabel:(0,l.Ay)`API selection`,itemSelectionLabel:(J,Ee)=>`${Ee.name}`,tableLabel:(0,l.Ay)`APIs`}}))}function Sre({visable:t,onClose:n,setSelected:a}){const[o,s]=(0,i.useState)([]),c=document.getElementById("modal-root"),[u,p]=Hp(),h=(0,i.useMemo)(()=>p.filter(g=>g.graphqlConfig.apiType===nt.GRAPHQL),[p]),f=g=>{g.preventDefault(),a(o),s([]),n()},y=i.createElement(q.A,{float:"right"},i.createElement($.A,{size:"s",direction:"horizontal"},i.createElement(K.A,{variant:"link",onClick:()=>n()},(0,l.Ay)`Cancel`),i.createElement(K.A,{disabled:o.length===0,variant:"primary",onClick:f,"data-testid":"modal-add-source-apis"},(0,l.Ay)`Add Source APIs`)));return i.createElement(xn.A,{header:(0,l.Ay)`Add source APIs from your AWS account`,visible:t,footer:y,onDismiss:n,size:"max",modalRoot:c},i.createElement($.A,{size:"l"},i.createElement(It.A,null,(0,l.Ay)`Select APIs from your AWS account. In the next step you will determine your authorization mode for your Merged API. Your Merged API authorization modes must include all the auth types from your source APIs.`),i.createElement(oo,{tableApiCollection:h,loading:u,i18nStrings:{title:"APIs"},selected:o,setSelected:s,columns:gf,selectionType:"multi"})))}function AP(t){const[n,a]=(0,i.useState)(!1),[o,s]=(0,i.useState)(t.localAssociatedApis),[c,u]=(0,i.useState)([]),p=g=>{const A=new Set(o.map(C=>C.apiId)),E=g.filter(C=>!A.has(C.apiId)),b=[...o,...E];s(b),t.setLocalAssociatedApis(b)},h=g=>{g.preventDefault();const A=new Set(c.map(b=>b.apiId)),E=o.filter(b=>!A.has(b.apiId));s(E),t.setLocalAssociatedApis(E),u([])},f=i.createElement(K.A,{onClick:g=>{g.preventDefault(),a(!0)}},(0,l.Ay)`Add Source APIs`),y=i.createElement($.A,{size:"s",direction:"horizontal"},i.createElement(K.A,{onClick:h,disabled:!c.length},(0,l.Ay)`Remove`),f);return i.createElement(i.Fragment,null,i.createElement(Sre,{visable:n,onClose:()=>a(!1),setSelected:p}),i.createElement(oo,{"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"localSourceApis",i18nStrings:{title:"APIs from your AWS account",description:"This table contains the AWS AppSync GraphQL APIs sourced your AWS account."},selected:c,setSelected:u,headerActions:y,emptyActions:f,tableApiCollection:o,showHelpLink:!0,showPreferences:!0,columns:gf,selectionType:"multi"}))}function Tre({visable:t,onClose:n,setSelected:a}){const[o,s]=(0,i.useState)([]),c=document.getElementById("modal-root"),[u,p]=Hp(!0),h=(0,i.useMemo)(()=>p.filter(g=>g.graphqlConfig.apiType===nt.GRAPHQL),[p]),f=()=>{a(o),s([]),n()},y=i.createElement(q.A,{float:"right"},i.createElement($.A,{size:"s",direction:"horizontal"},i.createElement(K.A,{variant:"link",onClick:()=>n()},(0,l.Ay)`Cancel`),i.createElement(K.A,{disabled:o.length===0,variant:"primary",onClick:f,"data-testid":"modal-add-source-apis"},(0,l.Ay)`Add Source APIs`)));return i.createElement(xn.A,{header:(0,l.Ay)`Add source APIs from other AWS accounts`,visible:t,footer:y,onDismiss:n,size:"max","data-testid":"ram-source-api-modal",modalRoot:c},i.createElement($.A,{size:"l"},i.createElement(It.A,null,(0,l.Ay)`Select APIs from other AWS accounts that have been shared with your account via AWS Resource Access Manager.`,i.createElement("br",null),i.createElement(ue.A,{external:!0,href:"https://docs.aws.amazon.com/ram/latest/userguide/getting-started-sharing.html#getting-started-sharing-orgs"},l.Ay.translate("See how to share APIs across accounts with AWS Resource Access Manager."))),i.createElement(oo,{tableApiCollection:h,loading:u,i18nStrings:{title:"APIs"},selected:o,setSelected:s,columns:Af,selectionType:"multi"})))}function EP(t){const[n,a]=(0,i.useState)(!1),[o,s]=(0,i.useState)(t.ramSourceApis),[c,u]=(0,i.useState)([]),p=g=>{const A=new Set(o.map(C=>C.apiId)),E=g.filter(C=>!A.has(C.apiId)),b=[...o,...E];s(b),t.setRamSourceApis(b)},h=()=>{const g=new Set(c.map(E=>E.apiId)),A=o.filter(E=>!g.has(E.apiId));s(A),t.setRamSourceApis(A),u([])},f=i.createElement(K.A,{onClick:g=>{a(!0),g.preventDefault()}},(0,l.Ay)`Add Source APIs`),y=i.createElement($.A,{size:"s",direction:"horizontal"},i.createElement(K.A,{onClick:h,disabled:!c.length},(0,l.Ay)`Remove`),f);return i.createElement(i.Fragment,null,i.createElement(Tre,{visable:n,onClose:()=>a(!1),setSelected:p}),i.createElement(oo,{"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"ramSourceApis",i18nStrings:{title:"APIs from other AWS accounts",description:"This table contains the AWS AppSync GraphQL APIs sourced from external AWS accounts."},selected:c,setSelected:u,headerActions:y,emptyActions:f,tableApiCollection:o,showHelpLink:!0,showPreferences:!0,columns:Af,selectionType:"multi",testId:"ram-source-api-table"}))}function bP(t,n,a){return{type:D.ADD_MERGED_API_ASSOCIATIONS,state:t,navigate:n,hideWorkflowFlashbars:a}}const vP={title:"Add source APIs",description:"Select the source API(s) you want to add to your Merged API."};function Ire({navigateBack:t,addHandler:n}){return i.createElement($.A,{direction:"horizontal",size:"xs"},i.createElement(K.A,{ariaLabel:(0,l.Ay)`Cancel`,onClick:t,formAction:"none",variant:"link","data-testid":"add-merged-api-association-cancel"},(0,l.Ay)`Cancel`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Add`,variant:"primary","data-testid":"add-merged-api-association-add",onClick:n},(0,l.Ay)`Add`))}function Cre(){const t=(0,G.Zp)(),n=de(),a=St(),[o,s]=(0,i.useState)([]),[c,u]=(0,i.useState)([]),[p,h]=_o(),f=()=>{t(`/${a.apiId}/v1/home`)};Vt(vt.MERGED_API_ASSOCIATIONS,ct.CREATE_RESOURCE),(0,i.useEffect)(()=>{a||f()},[a]);const y=()=>{const g={selectedGraphqlApi:a,localAssociatedApis:o,ramAssociatedApis:c,existingAssociations:h.map(A=>A.sourceGraphqlApi)};n(bP(g,t)),f()};return a?i.createElement("form",{onSubmit:g=>g.preventDefault()},i.createElement(Rn.A,{header:i.createElement($t,{title:l.Ay.translate(vP.title),showHelpLink:!0,description:l.Ay.translate(vP.description)}),actions:i.createElement(Ire,{addHandler:y,navigateBack:f})},i.createElement($.A,{size:"l"},i.createElement(AP,{setLocalAssociatedApis:s,localAssociatedApis:o}),i.createElement(EP,{setRamSourceApis:u,ramSourceApis:c})))):i.createElement(yr,null)}const Oa={formTitle:"Edit environment variables",containerHeaderTitle:"Environment variables",containerHeaderDesc:["You can define environment variables as key-value pairs that are accessible from your function code.","They are useful to store configuration without the need to change function code."],keyInput:{placeholder:"Enter key",label:"Key",constraintText:"The key can only contain letters, numbers, and underscores and up to 64 characters."},valueInput:{placeholder:"Enter value",label:"Value",constraintText:"The value can have up to 512 characters."},addButtonText:"Add environment variable",removeButtonText:"Remove",emptyEnvironmentVariables:"No environment variables associated with this API.",duplicateKeyError:"Keys must be unique"},Rre=["AWS_APPSYNC_RESOLVER_TYPE","AWS_APPSYNC_RESOLVER_FIELD","AWS_APPSYNC_FUNCTION_NAME","AWS_APPSYNC"],wre=["DUMMY_VALUE_FOR_EMPTY_STRINGS"],Pre=/^[A-Za-z]+\w*$/,SP=t=>{if(Rre.includes(t))return(0,l.Ay)`Cannot use reserved words as key`;if(!Pre.test(t))return(0,l.Ay)`The key can only contain letters, numbers, and underscores and must start with a letter.`;const n=[T6(2),Ca(64)];return _e(t,n)},TP=t=>{if(wre.includes(t))return(0,l.Ay)`Cannot use reserved words as value`;const n=[Ca(512)];return _e(t,n)},Ore=t=>{const n=new Set,a=t.toArray();let o=!0,s=!0,c=!1;for(const{key:u,value:p}of a){if(o=!SP(u),s=!TP(p),c=n.has(u),!o||!s||c)break;n.add(u)}return{hasInvalidKey:!o,hasInvalidValue:!s,hasDuplicates:c}};function Dre({environmentVariables:t,showErrors:n,setEnvironmentVariables:a}){return i.createElement(Le,{title:l.Ay.translate(Oa.containerHeaderTitle),description:Oa.containerHeaderDesc.map(o=>l.Ay.translate(o)).join(" ")},i.createElement($.A,{size:"l"},i.createElement(Xo.A,{onAddButtonClick:()=>a([...t,new tS({key:"",value:""})]),onRemoveButtonClick:({detail:{itemIndex:o}})=>{const s=[...t];s.splice(o,1),a(s)},items:t,addButtonText:l.Ay.translate(Oa.addButtonText),removeButtonText:l.Ay.translate(Oa.removeButtonText),definition:[{label:"Key",control:(o,s)=>i.createElement(He.A,{value:o.key,placeholder:l.Ay.translate(Oa.keyInput.placeholder),onChange:({detail:c})=>{const u=[...t];u[s]=o.set("key",c.value),a(u)}}),errorText:o=>n&&SP(o.key)},{label:"Value",control:(o,s)=>i.createElement(He.A,{value:o.value,placeholder:l.Ay.translate(Oa.valueInput.placeholder),onChange:({detail:c})=>{const u=[...t];u[s]=o.set("value",c.value),a(u)}}),errorText:o=>n&&TP(o.value)}],empty:l.Ay.translate(Oa.emptyEnvironmentVariables)})))}function Nre(){const t=(0,G.Zp)(),n=de(),[a,o]=fb();Vt(vt.ENVIRONMENT_VARIABLES,ct.EDIT_RESOURCE);const[s,c]=(0,i.useState)(!1),[u,p]=(0,i.useState)([]),[h,f]=(0,i.useState)(!1),[y,g]=(0,i.useState)(""),A=()=>{t("..")},E=()=>{c(!0),f(!0);const b=Ore((0,T.List)(u));if(b.hasInvalidKey||b.hasInvalidValue){c(!1);return}if(b.hasDuplicates){g(l.Ay.translate(Oa.duplicateKeyError)),c(!1);return}n(yj({entity:o.merge({environmentVariables:u})}))};return(0,i.useEffect)(()=>(n(Nn("form")),()=>{n(Nn("default"))}),[]),(0,i.useEffect)(()=>{!a&&o?.environmentVariables&&p(o.environmentVariables.toArray())},[a]),(0,i.useEffect)(()=>{var b;!((b=o?.recordStatus)!=null&&b.status)||!s||(Oi(o.recordStatus.status)&&A(),bd(o.recordStatus.status)&&(c(!1),g(o.recordStatus.message)))},[o,s]),i.createElement("form",{onSubmit:b=>b.preventDefault()},i.createElement(Rn.A,{header:i.createElement($t,{title:Oa.formTitle,showHelpLink:!0}),actions:i.createElement(di,{isLoading:s,onCancel:A,onSubmit:E,cancelTestId:"cancel",submitTestId:"submit"}),errorText:y},i.createElement(Dre,{environmentVariables:u,setEnvironmentVariables:p,showErrors:h})))}const IP={[k.API_KEY]:"An API key is a hard-coded value in your application that is generated by the AWS AppSync service.",[k.IAM]:"IAM allows you to control the authentication and authorization behavior for accessing AWS AppSync resources. Clients must have an IAM role from the same account as the account that owns the API.",[k.OIDC]:"This authorization type enforces OpenID Connect (OIDC) tokens provided by an OIDC-compliant service.",[k.LAMBDA]:"You can implement your own API authorization logic using an AWS Lambda function.",[k.USER_POOLS]:"This authorization type enforces OIDC tokens provided by Amazon Cognito User Pools. Your application can leverage the users and groups in your user pools and associate these with GraphQL fields for controlling access."},CP=[k.IAM,k.LAMBDA],Oe={alert:"Changing the authorization mode will delete the current configurations.",form:{apiKeyConfig:{description:{title:"Description",constraint:"The description can have up to 256 characters."},expireTime:{title:"API key expiry",description:"Specify the date and time when the API key should expire.",constraint:"Use YYYY/MM/DD format."}},openIDConnectConfig:{issuer:{title:"Issuer URL",description:"OpenID Connect provider domain"},clientId:{title:"Client ID",description:"Enter a client id from your OpenID Client Connect application to only allow tokens from that application."},timeToLive:{title:"Time to live",description:"By default, it is set to infinite TTL"},iatTTL:{title:"Issued TTL",description:"The number of milliseconds a token is valid for after being issued to a user.",constraint:"any value greater than 0"},authTTL:{title:"Auth TTL",description:"The number of milliseconds that a token is valid after being authenticated.",constraint:"any value greater than 0"}},userPoolConfig:{awsRegion:{title:"AWS Region",description:"Select the region that your user pool is located in."},userPoolId:{title:"User pool",description:"With a user pool, your users can sign in to your web or mobile app through Amazon Cognito.",manualLabel:"Enter a user pool",placeholder:"Select a user pool",filteringPlaceholder:"Search for a user pool"},userPoolIdManualInput:{title:"User pool",description:"Enter a user pool manually.",placeholder:"Enter a user pool"},appIdClientRegex:{title:"AppId client regex",description:"Enter a regular expression to allow or block requests to this API."},defaultAction:{title:"Default action",description:"Select the default permission for requests to your API."}},lambdaAuthorizerConfig:{authorizerUri:{title:"Function ARN",description:"Provide your ARN or use the search to find it in the list.",manualLabel:"Enter an ARN",placeholder:"Select an ARN",filteringPlaceholder:"Search for an ARN"},authorizerUriManualInput:{title:"Function ARN",description:"Manually enter your ARN.",placeholder:"Enter an ARN"},authorizerResultTtlInSeconds:{title:"Authorizer Response Cache TTL",description:"The number of seconds a cached authorizer response is valid for.",constraint:"1 - 3600"},identityValidationExpression:{title:"Token regex",description:"Type a regular expression to allow or block requests to this API based on the authorize token's regex."}},lambdaAuthorizerConfigRegion:{title:"AWS Region",description:"Select the region your lambda is located in."}},modal:{warning:"Changing the primary authorization mode will delete current configurations.",additionalApiKeyWarning:"Current additional authorization API keys will be moved to the primary authorization mode.",apiKeyCheckbox:{label:"Instead of deleting, make API key an additional authorization mode",description:"All current API keys will be become additional authorization modes."},confirmDelete:{description:"To confirm this change, type \u201Cconfirm\u201D."}}},Uu={label:Oe.form.lambdaAuthorizerConfig.authorizerUri.manualLabel,value:"manualLambdaOption"},$u={label:Oe.form.userPoolConfig.userPoolId.manualLabel,value:"manualCognitoOption"};var _re=Object.defineProperty,xre=Object.defineProperties,Lre=Object.getOwnPropertyDescriptors,RP=Object.getOwnPropertySymbols,kre=Object.prototype.hasOwnProperty,Mre=Object.prototype.propertyIsEnumerable,wP=(t,n,a)=>n in t?_re(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,PP=(t,n)=>{for(var a in n||(n={}))kre.call(n,a)&&wP(t,a,n[a]);if(RP)for(var a of RP(n))Mre.call(n,a)&&wP(t,a,n[a]);return t},OP=(t,n)=>xre(t,Lre(n));function Fre({state:t,stateKey:n,onChange:a}){const o=new Date,s=(0,he.get)(t,n)||{date:new Date(o.getTime()+1e3*60*60*24*7).toISOString().split("T")[0],hour:Lu.find(c=>Number(c.value)===o.getUTCHours())};return(0,i.useLayoutEffect)(()=>{(0,he.get)(t,n)||a(n,s)},[]),i.createElement($.A,{size:"s",direction:"horizontal"},i.createElement(M0.A,{placeholder:l.Ay.translate("YYYY/MM/DD"),previousMonthAriaLabel:l.Ay.translate("Previous month"),nextMonthAriaLabel:l.Ay.translate("Next month"),todayAriaLabel:l.Ay.translate("Today"),openCalendarAriaLabel:c=>c?l.Ay.translate("Choose date, selected date is ${0}",c):l.Ay.translate("Choose date"),isDateEnabled:c=>uf(c),value:s.date,onChange:({detail:c})=>{a(n,OP(PP({},s),{date:c.value}))}}),i.createElement($.A,{size:"s",direction:"horizontal"},i.createElement(ze.A,{options:Lu,selectedOption:s.hour,onChange:({detail:c})=>a(n,OP(PP({},s),{hour:c.selectedOption}))}),i.createElement(q.A,{variant:"h5"},l.Ay.translate("UTC"))))}var Ure=Object.defineProperty,$re=Object.defineProperties,jre=Object.getOwnPropertyDescriptors,DP=Object.getOwnPropertySymbols,Vre=Object.prototype.hasOwnProperty,Bre=Object.prototype.propertyIsEnumerable,NP=(t,n,a)=>n in t?Ure(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Qt=(t,n)=>{for(var a in n||(n={}))Vre.call(n,a)&&NP(t,a,n[a]);if(DP)for(var a of DP(n))Bre.call(n,a)&&NP(t,a,n[a]);return t},An=(t,n)=>$re(t,jre(n));const Gre=({provider:t,initialProvider:n,graphqlApi:a,otherProviders:o,primaryAdditionalAuthString:s})=>{const c=l.Ay.translate(Ar[t]),u=t===n?.authenticationType?i.createElement("em",null," - ",l.Ay.translate(`Current ${s.toLowerCase()} auth mode`)):"",p=i.createElement(i.Fragment,null,c,u),h=a.graphqlConfig.authenticationType!==k.API_KEY?CP:[k.API_KEY,...CP];return{label:p,description:IP[t],value:t,disabled:h.includes(t)&&o.reduce((f,y)=>y.authenticationType===t||f,!1)}},zre=({initialProvider:t,graphqlApi:n,primaryAdditionalAuthString:a,otherProviders:o})=>({header:{title:`${a} authorization mode`},content:{fields:[{label:"Authorization mode",description:`Select the ${a.toLowerCase()} authorization mode for your schema.`,type:se.RADIO,config:{stateKey:"authenticationType",items:Object.keys(IP).map(s=>Gre({provider:s,initialProvider:t,graphqlApi:n,otherProviders:o,primaryAdditionalAuthString:a})),"data-testid":"edit-auth-mode-authenticationType"}}]}}),qre=()=>({header:{title:Ar[k.API_KEY]},content:{fields:[{label:Oe.form.apiKeyConfig.description.title,constraint:Oe.form.apiKeyConfig.description.constraint,type:se.INPUT,config:{stateKey:"apiKeyConfig.description"},optional:!0},{label:Oe.form.apiKeyConfig.expireTime.title,description:Oe.form.apiKeyConfig.expireTime.description,constraint:Oe.form.apiKeyConfig.expireTime.constraint,type:se.CUSTOM,config:{stateKey:"apiKeyConfig.expireTime",Component:Fre,props:{}}}]}}),Kre=()=>({header:{title:Ar[k.OIDC]},content:{fields:[{label:Oe.form.openIDConnectConfig.issuer.title,description:Oe.form.openIDConnectConfig.issuer.description,type:se.INPUT,config:{stateKey:"openIDConnectConfig.issuer","data-testid":"edit-auth-mode-openIDConnectConfig-issuer"}},{label:Oe.form.openIDConnectConfig.clientId.title,description:Oe.form.openIDConnectConfig.clientId.description,type:se.INPUT,config:{stateKey:"openIDConnectConfig.clientId","data-testid":"edit-auth-mode-openIDConnectConfig-clientId"},optional:!0},{label:Oe.form.openIDConnectConfig.timeToLive.title,description:Oe.form.openIDConnectConfig.timeToLive.description,type:se.CHECKBOX,config:{stateKey:"openIDConnectConfig.iatTTLActive","data-testid":"edit-auth-mode-openIDConnectConfig-iatTTLActive",label:Oe.form.openIDConnectConfig.iatTTL.title},constraint:Oe.form.openIDConnectConfig.iatTTL.description},{label:"",constraint:Oe.form.openIDConnectConfig.iatTTL.constraint,type:se.INPUT,config:{stateKey:"openIDConnectConfig.iatTTL","data-testid":"edit-auth-mode-openIDConnectConfig-iatTTL",type:"number",afterInputText:"ms"},prerequisites:[{stateKey:"openIDConnectConfig.iatTTLActive",compareFunction:t=>t}],colspan:3},{label:"",type:se.CHECKBOX,config:{stateKey:"openIDConnectConfig.authTTLActive","data-testid":"edit-auth-mode-openIDConnectConfig-authTTLActive",label:Oe.form.openIDConnectConfig.authTTL.title},constraint:Oe.form.openIDConnectConfig.authTTL.description},{label:"",constraint:Oe.form.openIDConnectConfig.authTTL.constraint,type:se.INPUT,config:{stateKey:"openIDConnectConfig.authTTL","data-testid":"edit-auth-mode-openIDConnectConfig-authTTL",type:"number",afterInputText:"ms"},prerequisites:[{stateKey:"openIDConnectConfig.authTTLActive",compareFunction:t=>t}],colspan:3}]}}),Wre=t=>({header:{title:Ar[k.LAMBDA]},content:{fields:[{label:Oe.form.lambdaAuthorizerConfigRegion.title,description:Oe.form.lambdaAuthorizerConfigRegion.description,type:se.SELECT,config:{stateKey:"lambdaAuthorizerConfigRegion","data-testid":"edit-auth-mode-lambdaAuthorizerConfigRegion",options:Gi()}},{label:Oe.form.lambdaAuthorizerConfig.authorizerUri.title,description:Oe.form.lambdaAuthorizerConfig.authorizerUri.description,type:se.SELECT,config:{stateKey:"lambdaAuthorizerConfig.authorizerUri","data-testid":"edit-auth-mode-lambdaAuthorizerConfig-authorizerUri",options:[Uu,...t.map(n=>({value:n,label:n}))],placeholder:Oe.form.lambdaAuthorizerConfig.authorizerUri.placeholder,filteringPlaceholder:Oe.form.lambdaAuthorizerConfig.authorizerUri.filteringPlaceholder,filteringType:"auto",filteringAriaLabel:l.Ay.translate("Find ${0}",(0,l.Ay)`${Oe.form.lambdaAuthorizerConfig.authorizerUri.title}`),filteringClearAriaLabel:(0,l.Ay)`Clear field`},prerequisites:[{stateKey:"lambdaAuthorizerConfigRegion",compareFunction:n=>n}]},{label:"",description:Oe.form.lambdaAuthorizerConfig.authorizerUriManualInput.description,type:se.INPUT,config:{stateKey:"lambdaAuthorizerConfig.authorizerUriManualInput","data-testid":"edit-auth-mode-lambdaAuthorizerConfig-authorizerUriManualInput",placeholder:Oe.form.lambdaAuthorizerConfig.authorizerUriManualInput.placeholder},prerequisites:[{stateKey:"lambdaAuthorizerConfigRegion",compareFunction:n=>n},{stateKey:"lambdaAuthorizerConfig.authorizerUri",compareFunction:n=>n===Uu}]},{label:"",type:se.CHECKBOX,config:{stateKey:"lambdaAuthorizerConfig.authorizerResultTtlInSecondsActive","data-testid":"edit-auth-mode-lambdaAuthorizerConfig-authorizerResultTtlInSecondsActive",label:Oe.form.lambdaAuthorizerConfig.authorizerResultTtlInSeconds.title},constraint:Oe.form.lambdaAuthorizerConfig.authorizerResultTtlInSeconds.description,prerequisites:[{stateKey:"lambdaAuthorizerConfigRegion",compareFunction:n=>n}]},{label:"",constraint:Oe.form.lambdaAuthorizerConfig.authorizerResultTtlInSeconds.constraint,type:se.INPUT,config:{stateKey:"lambdaAuthorizerConfig.authorizerResultTtlInSeconds","data-testid":"edit-auth-mode-lambdaAuthorizerConfig-authorizerResultTtlInSeconds",type:"number",afterInputText:"seconds"},prerequisites:[{stateKey:"lambdaAuthorizerConfigRegion",compareFunction:n=>n},{stateKey:"lambdaAuthorizerConfig.authorizerResultTtlInSecondsActive",compareFunction:n=>n}],colspan:3},{label:Oe.form.lambdaAuthorizerConfig.identityValidationExpression.title,description:Oe.form.lambdaAuthorizerConfig.identityValidationExpression.description,type:se.INPUT,optional:!0,config:{stateKey:"lambdaAuthorizerConfig.identityValidationExpression","data-testid":"edit-auth-mode-lambdaAuthorizerConfig-identityValidationExpression"},prerequisites:[{stateKey:"lambdaAuthorizerConfigRegion",compareFunction:n=>n}]}]}}),Hre=(t,n)=>({header:{title:Ar[k.USER_POOLS]},content:{fields:[{label:Oe.form.userPoolConfig.awsRegion.title,description:Oe.form.userPoolConfig.awsRegion.description,type:se.SELECT,config:{stateKey:"userPoolConfig.awsRegion","data-testid":"edit-auth-mode-userPoolConfig-awsRegion",options:Gi(Re.COGNITO_IDP)}},{label:Oe.form.userPoolConfig.userPoolId.title,description:Oe.form.userPoolConfig.userPoolId.description,type:se.SELECT,config:{stateKey:"userPoolConfig.userPoolId","data-testid":"edit-auth-mode-userPoolConfig-userPoolId",options:[$u,...t.map(a=>({value:a.id,label:a.id,description:a.name}))],placeholder:Oe.form.userPoolConfig.userPoolId.placeholder,filteringPlaceholder:Oe.form.userPoolConfig.userPoolId.filteringPlaceholder,filteringType:"auto",filteringAriaLabel:l.Ay.translate("Find ${0}",(0,l.Ay)`${Oe.form.userPoolConfig.userPoolId.title}`),filteringClearAriaLabel:(0,l.Ay)`Clear field`},prerequisites:[{stateKey:"userPoolConfig.awsRegion",compareFunction:a=>a}]},{label:"",description:Oe.form.userPoolConfig.userPoolIdManualInput.description,type:se.INPUT,config:{stateKey:"userPoolConfig.userPoolIdManualInput","data-testid":"edit-auth-mode-userPoolConfig-userPoolIdManualInput",placeholder:Oe.form.userPoolConfig.userPoolIdManualInput.placeholder},prerequisites:[{stateKey:"userPoolConfig.awsRegion",compareFunction:a=>a},{stateKey:"userPoolConfig.userPoolId",compareFunction:a=>a===$u}]},{label:Oe.form.userPoolConfig.defaultAction.title,description:Oe.form.userPoolConfig.defaultAction.description,type:se.SELECT,config:{stateKey:"userPoolConfig.defaultAction","data-testid":"edit-auth-mode-userPoolConfig-defaultAction",options:[{value:"ALLOW",label:(0,l.Ay)`ALLOW`},{value:"DENY",label:(0,l.Ay)`DENY`}]},prerequisites:[{stateKey:"userPoolConfig.awsRegion",compareFunction:a=>!n&&a}]},{label:Oe.form.userPoolConfig.appIdClientRegex.title,description:Oe.form.userPoolConfig.appIdClientRegex.description,type:se.INPUT,optional:!0,config:{stateKey:"userPoolConfig.appIdClientRegex","data-testid":"edit-auth-mode-userPoolConfig-appIdClientRegex"},prerequisites:[{stateKey:"userPoolConfig.awsRegion",compareFunction:a=>a}]}]}}),_P=({formState:t,initialProvider:n,graphqlApi:a,lambdaFunctions:o,userPools:s,primaryAdditionalAuthString:c,isAdditional:u,isEditing:p})=>{const h=n?[a,...a.graphqlConfig.additionalAuthenticationProviders.toArray()].filter(y=>!Kd(y,n)):[],f=!u||!p?[zre({initialProvider:n,graphqlApi:a,primaryAdditionalAuthString:c,otherProviders:h})]:[];switch(t?.authenticationType){case k.API_KEY:u&&f.push(qre());break;case k.OIDC:f.push(Kre());break;case k.LAMBDA:f.push(Wre(o));break;case k.USER_POOLS:f.push(Hre(s,u));break;default:break}return f},Jre=({initialProvider:t,lambdaFunctions:n,userPools:a})=>{var o,s,c,u,p,h,f,y,g,A,E,b,C,I,R,L,P,F,x;const O=!((o=t?.userPoolConfig)!=null&&o.userPoolId)||a.find(M=>M.id===t.userPoolConfig.userPoolId)?{value:(s=t?.userPoolConfig)==null?void 0:s.userPoolId,label:(c=t?.userPoolConfig)==null?void 0:c.userPoolId}:$u,j=!((u=t?.lambdaAuthorizerConfig)!=null&&u.authorizerUri)||n.includes(t.lambdaAuthorizerConfig.authorizerUri)?{value:(p=t?.lambdaAuthorizerConfig)==null?void 0:p.authorizerUri,label:(h=t?.lambdaAuthorizerConfig)==null?void 0:h.authorizerUri}:Uu;return{authenticationType:t?.authenticationType,openIDConnectConfig:{issuer:(f=t?.openIDConnectConfig)==null?void 0:f.issuer,clientId:(y=t?.openIDConnectConfig)==null?void 0:y.clientId,iatTTLActive:((g=t?.openIDConnectConfig)==null?void 0:g.iatTTL)>0,iatTTL:((A=t?.openIDConnectConfig)==null?void 0:A.iatTTL)||1,authTTLActive:((E=t?.openIDConnectConfig)==null?void 0:E.authTTL)>0,authTTL:((b=t?.openIDConnectConfig)==null?void 0:b.authTTL)||1},userPoolConfig:{userPoolId:O,userPoolIdManualInput:(C=t?.userPoolConfig)==null?void 0:C.userPoolId,awsRegion:Gi(Re.COGNITO_IDP).find(M=>{var B;return M.value===((B=t?.userPoolConfig)==null?void 0:B.awsRegion)}),appIdClientRegex:(I=t?.userPoolConfig)==null?void 0:I.appIdClientRegex,defaultAction:{value:((R=t?.userPoolConfig)==null?void 0:R.defaultAction)||"ALLOW"}},lambdaAuthorizerConfig:{authorizerUri:j,authorizerUriManualInput:(L=t?.lambdaAuthorizerConfig)==null?void 0:L.authorizerUri,authorizerResultTtlInSecondsActive:((P=t?.lambdaAuthorizerConfig)==null?void 0:P.authorizerResultTtlInSeconds)>0,authorizerResultTtlInSeconds:((F=t?.lambdaAuthorizerConfig)==null?void 0:F.authorizerResultTtlInSeconds)||300,identityValidationExpression:(x=t?.lambdaAuthorizerConfig)==null?void 0:x.identityValidationExpression},lambdaAuthorizerConfigRegion:Gi().find(M=>M.value===t?.lambdaAuthorizerConfigRegion)}},Yre=({newRecord:t,additionalAuthRecord:n,initialProvider:a,isAdditional:o,isEditing:s,shouldDemoteApiKeys:c})=>{const u=!o&&a.authenticationType===k.API_KEY&&t.graphqlConfig.authenticationType!==k.API_KEY&&!c,p=o&&s&&a.authenticationType===k.API_KEY&&n.authenticationType!==k.API_KEY&&t.graphqlConfig.authenticationType!==k.API_KEY;return u||p},bf=({propertyPath:t,formState:n,initialProvider:a,graphqlApi:o,isAdditional:s,propertyLabelMap:c=u=>u})=>{const u=he.get(n,t),p=c(u),h=he.get(o.graphqlConfig,t);return s&&h===u?`${p} is already specified as the primary authorization mode on this API.`:o.graphqlConfig.additionalAuthenticationProviders.filter(y=>!Kd(y,a)).find(y=>he.get(y,t)===u)?`${p} already exists as an additional authorization provider on this API.`:void 0},so=({propertyPath:t,formState:n,propertyLabelMap:a=o=>o.split(".").pop()})=>{const o=he.get(n,t),s=a(t,o);return o?void 0:`${s} is required.`},vf=({propertyPath:t,formState:n,lowerBound:a,higherBound:o,isInclusive:s=!0,propertyLabelMap:c=u=>u.split(".").pop()})=>{const u=typeof a=="number",p=typeof o=="number";if(!u&&!p)return;const h=Number(he.get(n,t)),f=c(t,h.toString());return Number.isNaN(h)?`${f} is not a number.`:u?p?s&&(h<a||h>o)||!s&&(h<=a||h>=o)?`${f} must be between ${a} and ${o} (${s?"inclusive":"exclusive"}).`:void 0:s&&h<a||!s&&h<=a?`${f} must be ${s?`${a} or more`:`more than ${a}`}.`:void 0:s&&h>o||!s&&h>=o?`${f} must be ${s?`${o} or less`:`less than ${o}`}.`:void 0},Sf=t=>bf(An(Qt({},t),{propertyPath:"authenticationType",propertyLabelMap:n=>Ar[n]})),Qre=t=>{const n=/^https:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/;if(!t.match(n))return t.startsWith("https://")?(0,l.Ay)`Issuer is not a valid URL`:(0,l.Ay)`Issuer URL must begin with https`},xP=t=>{const n={},{graphqlApi:a,formState:o,isAdditional:s}=t;switch(o.authenticationType){case k.API_KEY:if(s){n.authenticationType=a.graphqlConfig.authenticationType===k.API_KEY?Sf(t):void 0;const u=he.get(o,"apiKeyConfig.description.length"),p=he.get(o,"apiKeyConfig.expireTime")||{date:new Date};n.apiKeyConfig=he.omitBy({description:u&&u>256?"Value must be 256 characters or fewer":void 0,expireTime:uf(p.date)?void 0:"Expiration date must be in the future, but cannot be more than a year into the future."},he.isNil)}break;case k.IAM:n.authenticationType=Sf(t);break;case k.OIDC:n.openIDConnectConfig=he.omitBy({issuer:so(An(Qt({},t),{propertyPath:"openIDConnectConfig.issuer",propertyLabelMap:()=>"OpenID Connect provider domain (Issuer URL)"}))||Qre(o.openIDConnectConfig.issuer)||bf(An(Qt({},t),{propertyPath:"openIDConnectConfig.issuer"})),iatTTL:o.openIDConnectConfig.iatTTLActive?vf(An(Qt({},t),{propertyPath:"openIDConnectConfig.iatTTL",lowerBound:0,isInclusive:!1,propertyLabelMap:()=>"Issued TTL"})):void 0,authTTL:o.openIDConnectConfig.authTTLActive?vf(An(Qt({},t),{propertyPath:"openIDConnectConfig.authTTL",lowerBound:0,isInclusive:!1,propertyLabelMap:()=>"Auth TTL"})):void 0},he.isNil);break;case k.LAMBDA:n.authenticationType=Sf(t),n.lambdaAuthorizerConfigRegion=so(An(Qt({},t),{propertyPath:"lambdaAuthorizerConfigRegion",propertyLabelMap:()=>"AWS Region"})),n.lambdaAuthorizerConfig=he.omitBy({authorizerUri:so(An(Qt({},t),{propertyPath:"lambdaAuthorizerConfig.authorizerUri",propertyLabelMap:()=>"Function ARN"})),authorizerUriManualInput:so(An(Qt({},t),{propertyPath:"lambdaAuthorizerConfig.authorizerUri",propertyLabelMap:()=>"Function ARN"}))||uC(he.get(o,"lambdaAuthorizerConfig.authorizerUri")),authorizerResultTtlInSeconds:o.lambdaAuthorizerConfig.authorizerResultTtlInSecondsActive?vf(An(Qt({},t),{propertyPath:"lambdaAuthorizerConfig.authorizerResultTtlInSeconds",lowerBound:1,higherBound:by.MAX_LAMBDA_AUTH_TTL_IN_SECONDS,propertyLabelMap:()=>"Authorizer Response Cache TTL"})):void 0},he.isNil);break;case k.USER_POOLS:n.userPoolConfig=he.omitBy({awsRegion:so(An(Qt({},t),{propertyPath:"userPoolConfig.awsRegion",propertyLabelMap:()=>"AWS Region"})),userPoolId:so(An(Qt({},t),{propertyPath:"userPoolConfig.userPoolId",propertyLabelMap:()=>"User pool"}))||bf(An(Qt({},t),{propertyPath:"userPoolConfig.userPoolId"})),defaultAction:s?void 0:so(An(Qt({},t),{propertyPath:"userPoolConfig.defaultAction",propertyLabelMap:()=>"Default action"}))},he.isNil);break;default:n.authenticationType="Authorization mode is required";break}const c=he(n).omitBy(he.isNil).omitBy(he.isEmpty).value();return[he.isEmpty(c),c]},LP=t=>{var n,a,o,s,c,u,p,h,f,y,g,A,E,b,C,I;return An(Qt({},t),{openIDConnectConfig:An(Qt({},t?.openIDConnectConfig),{iatTTL:(n=t?.openIDConnectConfig)!=null&&n.iatTTLActive?(a=t?.openIDConnectConfig)==null?void 0:a.iatTTL:0,authTTL:(o=t?.openIDConnectConfig)!=null&&o.authTTLActive?(s=t?.openIDConnectConfig)==null?void 0:s.authTTL:0}),userPoolConfig:An(Qt({},t?.userPoolConfig),{awsRegion:(u=(c=t?.userPoolConfig)==null?void 0:c.awsRegion)==null?void 0:u.value,userPoolId:((p=t?.userPoolConfig)==null?void 0:p.userPoolId)!==$u?(h=t?.userPoolConfig)==null?void 0:h.userPoolId.value:(f=t?.userPoolConfig)==null?void 0:f.userPoolIdManualInput,defaultAction:(y=t?.userPoolConfig)==null?void 0:y.defaultAction.value}),lambdaAuthorizerConfig:An(Qt({},t?.lambdaAuthorizerConfig),{authorizerUri:((g=t?.lambdaAuthorizerConfig)==null?void 0:g.authorizerUri)!==Uu?(A=t?.lambdaAuthorizerConfig)==null?void 0:A.authorizerUri.value:(E=t?.lambdaAuthorizerConfig)==null?void 0:E.authorizerUriManualInput,authorizerResultTtlInSeconds:(b=t?.lambdaAuthorizerConfig)!=null&&b.authorizerResultTtlInSecondsActive?(C=t?.lambdaAuthorizerConfig)==null?void 0:C.authorizerResultTtlInSeconds:0}),lambdaAuthorizerConfigRegion:(I=t?.lambdaAuthorizerConfigRegion)==null?void 0:I.value})},Xre=({recordObject:t,initialProvider:n,graphqlApi:a,isAdditional:o,isEditing:s,shouldDemoteApiKeys:c,selectedAdditionalAuth:u})=>{var p;let h=a.graphqlConfig,f;if(o)if(f=new vs(t),s){const g=h.additionalAuthenticationProviders.findIndex(A=>Kd(A,u));g>=0&&(h=new ja(h.set("additionalAuthenticationProviders",h.additionalAuthenticationProviders.splice(g,1,f))))}else h=new ja(h.set("additionalAuthenticationProviders",h.additionalAuthenticationProviders.push(f)));else if(h=new ja(Qt(Qt({},h.toObject()),t)),c&&h.authenticationType!==k.API_KEY&&(h=new ja(h.set("additionalAuthenticationProviders",(0,T.List)([...h.additionalAuthenticationProviders.toArray(),new vs({authenticationType:k.API_KEY})])))),h.authenticationType===k.API_KEY){const g=[...n.additionalAuthenticationProviders.toArray()],A=g.findIndex(E=>E.authenticationType===k.API_KEY);A>=0&&(g.splice(A,1),h=new ja(h.set("additionalAuthenticationProviders",(0,T.List)(g))))}if(t.authenticationType===k.LAMBDA){const g=(p=t.lambdaAuthorizerConfig)==null?void 0:p.authorizerUri;h=h.set("updateLambdaAuthorizers",[g])}return[new $r(a.set("graphqlConfig",h)),f]};var Zre=Object.defineProperty,kP=Object.getOwnPropertySymbols,eae=Object.prototype.hasOwnProperty,tae=Object.prototype.propertyIsEnumerable,MP=(t,n,a)=>n in t?Zre(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,ju=(t,n)=>{for(var a in n||(n={}))eae.call(n,a)&&MP(t,a,n[a]);if(kP)for(var a of kP(n))tae.call(n,a)&&MP(t,a,n[a]);return t};function nae({header:t,onSave:n,onCancel:a,formState:o,wasApiKey:s,hasAdditionalApiKey:c}){const[u,p]=(0,i.useState)(""),[h,f]=(0,i.useState)(!1),y=()=>u.toLowerCase()===(0,l.Ay)`Confirm`.toLowerCase();return i.createElement(xn.A,{visible:!0,onDismiss:a,header:t,footer:i.createElement(q.A,{float:"right"},i.createElement($.A,{direction:"horizontal",size:"xs"},i.createElement(K.A,{variant:"link",onClick:a,"data-testid":"edit-auth-cancel-modal-button"},(0,l.Ay)`Cancel`),i.createElement(K.A,{variant:"primary",onClick:()=>n(h),disabled:!y(),"data-testid":"edit-auth-confirm-modal-button"},(0,l.Ay)`Confirm`)))},i.createElement($.A,{size:"l"},i.createElement(q.A,{variant:"p"},l.Ay.translate(Oe.modal.warning),c&&o.authenticationType===k.API_KEY&&i.createElement(i.Fragment,null," ",l.Ay.translate(Oe.modal.additionalApiKeyWarning))),s&&i.createElement(Ea.A,{description:l.Ay.translate(Oe.modal.apiKeyCheckbox.description),checked:h,onChange:({detail:g})=>f(g.checked),"data-testid":"edit-auth-confirm-modal-api-key-checkbox"},l.Ay.translate(Oe.modal.apiKeyCheckbox.label)),i.createElement(X.A,{description:l.Ay.translate(Oe.modal.confirmDelete.description)},i.createElement(He.A,{value:u,onChange:({detail:g})=>p(g.value),"data-testid":"edit-auth-confirm-modal-input"}))))}function Tf({isEditing:t,isAdditional:n}){var a,o,s,c;const u=n?"Additional":"Primary",p=l.Ay.translate(`${t?"Edit":"Add"} ${u.toLowerCase()} authorization mode`),[,h]=_o(),f=de(),y=(0,G.Zp)(),g=St(),A=t?eG():new vs,E=n?A:g.graphqlConfig,[b,C]=(0,i.useState)(),[I,R]=Eb(((o=(a=b?.userPoolConfig)==null?void 0:a.awsRegion)==null?void 0:o.value)||((s=E?.userPoolConfig)==null?void 0:s.awsRegion)),[L,P]=In(pn.LAMBDA,((c=b?.lambdaAuthorizerConfigRegion)==null?void 0:c.value)||E?.lambdaAuthorizerConfigRegion),[,F]=yc(),[x,O]=(0,i.useState)(_P({formState:b,initialProvider:E,graphqlApi:g,userPools:R,lambdaFunctions:P,primaryAdditionalAuthString:u,isAdditional:n,isEditing:t})),[j,M]=(0,i.useState)(null),[B,V]=(0,i.useState)({}),[W,Y]=(0,i.useState)(!1),[Z,ie]=(0,i.useState)(!1);(0,i.useLayoutEffect)(()=>(n&&t&&!E?y(".."):f(Nn("form")),()=>{f(Nn("default"))}),[]),(0,i.useEffect)(()=>{!L&&!I&&!b&&C(Jre({initialProvider:E,lambdaFunctions:P,userPools:R}))},[L,I]),(0,i.useEffect)(()=>{O(_P({formState:b,initialProvider:E,graphqlApi:g,userPools:R,lambdaFunctions:P,primaryAdditionalAuthString:u,isAdditional:n,isEditing:t}))},[b?.authenticationType,L,I]),(0,i.useEffect)(()=>{if(Z){const Ae=LP(b),[,J]=xP({formState:Ae,initialProvider:E,graphqlApi:g,isAdditional:n});V(J)}},[b]);const ye=()=>{f(Ct({get:g.graphqlConfig.isMergedApi()?vb:iA})),f(Co(!0))},ve=(Ae,J=!1,Ee=!1)=>{const{authenticationType:Te}=Ae,Ie=ju(ju(ju({authenticationType:Te},Te===k.OIDC?{openIDConnectConfig:new $a(Ae.openIDConnectConfig)}:{}),Te===k.USER_POOLS?{userPoolConfig:new Ts(Ae.userPoolConfig)}:{}),Te===k.LAMBDA?{lambdaAuthorizerConfig:new da(Ae.lambdaAuthorizerConfig),lambdaAuthorizerConfigRegion:Ae.lambdaAuthorizerConfigRegion}:{}),[ft,qt]=Xre({recordObject:Ie,initialProvider:E,graphqlApi:g,isAdditional:n,isEditing:t,shouldDemoteApiKeys:J,selectedAdditionalAuth:A});if(Yre({newRecord:ft,additionalAuthRecord:qt,initialProvider:E,isAdditional:n,isEditing:t,shouldDemoteApiKeys:J})&&F.forEach(bt=>{f(cp({entity:bt}))}),(!n||qt?.authenticationType!==k.API_KEY||!Ee)&&f(ws({entity:ft,metadata:g.graphqlConfig.isMergedApi()?h:[]})),n&&qt?.authenticationType===k.API_KEY){const bt=new cr({apiId:ft.apiId,description:Ae.apiKeyConfig.description,expires:$0(Ae.apiKeyConfig.expireTime.date,Ae.apiKeyConfig.expireTime.hour.value)});f(lp({entity:bt}))}y("..")},Ce=Ae=>{Ae.preventDefault(),Y(!0),ie(!0);const J=LP(b),[Ee,Te]=xP({formState:J,initialProvider:E,graphqlApi:g,isAdditional:n});if(!Ee){V(Te),Y(!1);return}if(!n)M(i.createElement(nae,{header:p,onSave:Ie=>ve(J,Ie),onCancel:()=>{M(null),Y(!1)},formState:J,wasApiKey:E?.authenticationType===k.API_KEY&&b?.authenticationType!==k.API_KEY,hasAdditionalApiKey:!n&&!!E.additionalAuthenticationProviders.toArray().find(Ie=>Ie?.authenticationType===k.API_KEY)}));else{const Ie=!!g.graphqlConfig.additionalAuthenticationProviders.toArray().find(ft=>ft?.authenticationType===k.API_KEY);ve(J,!1,Ie)}};return i.createElement(i.Fragment,null,!n&&j,i.createElement(Uo,{title:p,info:{onFollow:ye},alert:!n&&i.createElement(wt.A,{statusIconAriaLabel:"Warning",type:"warning"},l.Ay.translate(Oe.alert)),containers:x,state:b,errors:Z&&B,onChange:(Ae,J)=>C(ju({},he.set(b,Ae,J))),saving:W,saveText:t?(0,l.Ay)`Save`:(0,l.Ay)`Add`,onSave:Ce,saveTestId:"edit-auth-save-button",onCancel:()=>y(".."),cancelTestId:"edit-auth-cancel-button"}),i.createElement(fr,{entityType:N.API}),i.createElement(fr,{entityType:N.AWS_RESOURCES}))}function rae(){const t=de(),n=St();return(0,i.useLayoutEffect)(()=>{var a;const o=(a=n?.graphqlConfig)!=null&&a.isMergedApi()?vb:iA;t(Ct({get:o}))},[]),i.createElement(G.BV,null,i.createElement(G.qh,{path:"apiKeys/edit",element:i.createElement(Rte,null)}),i.createElement(G.qh,{path:"sourceApiAssociation/add",element:i.createElement(Cre,null)}),i.createElement(G.qh,{path:"sourceApiAssociation/:associationId/edit",element:i.createElement(rre,null)}),i.createElement(G.qh,{path:"edit",element:i.createElement(Sne,null)}),i.createElement(G.qh,{path:"apiConfigurations/edit",element:i.createElement(Hne,null)}),i.createElement(G.qh,{path:"primaryAuth/edit",element:i.createElement(Tf,{isEditing:!0})}),i.createElement(G.qh,{path:"additionalAuth/edit",element:i.createElement(Tf,{isEditing:!0,isAdditional:!0})}),i.createElement(G.qh,{path:"additionalAuth/add",element:i.createElement(Tf,{isAdditional:!0})}),i.createElement(G.qh,{path:"environmentVariables/edit",element:i.createElement(Nre,null)}),i.createElement(G.qh,{index:!0,element:i.createElement(sne,null)}),i.createElement(G.qh,{path:"*",element:i.createElement(G.C5,{to:"."})}))}var aae=v(88858);const cn={START:0,WIDTH:{FULL:24,HALF:12,THIRD:8},HEIGHT:{DEFAULT:9}},wl=t=>t*cn.HEIGHT.DEFAULT;function iae({apiId:t,region:n}){return{x:cn.START,y:wl(0),width:cn.WIDTH.HALF,height:cn.HEIGHT.DEFAULT,type:"metric",properties:{metrics:[["AWS/AppSync","4XXError","GraphQLAPIId",t,{label:(0,l.Ay)`4xx errors`}],[".","5XXError",".",".",{label:(0,l.Ay)`5xx errors`}]],region:n,title:(0,l.Ay)`Errors`,stat:"Sum",yAxis:{left:{label:(0,l.Ay)`Count`,showUnits:!1}}}}}function oae({apiId:t,region:n}){return{x:cn.START+cn.WIDTH.HALF,y:wl(0),width:cn.WIDTH.HALF,height:cn.HEIGHT.DEFAULT,type:"metric",properties:{metrics:[["AWS/AppSync","4XXError","GraphQLAPIId",t,{stat:"SampleCount",label:(0,l.Ay)`Total requests`}]],region:n,title:(0,l.Ay)`Total requests`}}}function sae({apiId:t,region:n}){return{x:cn.START,y:wl(1),width:cn.WIDTH.FULL,height:cn.HEIGHT.DEFAULT,type:"metric",properties:{metrics:[["AWS/AppSync","Latency","GraphQLAPIId",t,{id:"m1",stat:"p90",label:(0,l.Ay)`90th percentile`}],["...",{id:"m2",stat:"p50",label:(0,l.Ay)`Median`}],["...",{id:"m3",stat:"p10",label:(0,l.Ay)`10th percentile`}]],region:n,title:(0,l.Ay)`Latency`,yAxis:{left:{label:(0,l.Ay)`Milliseconds`,showUnits:!1}}}}}function lae({accountId:t,apiId:n,region:a}){const o={x:cn.START,y:wl(2),width:cn.WIDTH.HALF,height:cn.HEIGHT.DEFAULT,type:"metric",properties:{metrics:[["AWS/AppSync",`cacheHits_${t}_${n}`,"GraphQLAPIId",n],[".",`cacheMisses_${t}_${n}`,".","."],[".",`currItems_${t}_${n}`,".","."],[".",`evictions_${t}_${n}`,".","."],[".",`reclaimed_${t}_${n}`,".","."]],region:a,period:60,title:(0,l.Ay)`Caching`,yAxis:{left:{label:"",showUnits:!1}}}},s={x:cn.START+cn.WIDTH.HALF,y:wl(2),width:cn.WIDTH.HALF,height:cn.HEIGHT.DEFAULT,type:"metric",properties:{metrics:[["AWS/AppSync",`bytesUsedForCache_${t}_${n}`,"GraphQLAPIId",n]],region:a,title:(0,l.Ay)`Caching`,period:60,yAxis:{left:{label:"",showUnits:!1}}}};return[o,s]}class cae extends i.Component{constructor(n){super(n),this.displayDashboard=()=>{const{apiId:a,region:o}=this.props,s={apiId:a,region:o,accountId:void 0},c={widgets:[iae(s),oae(s),sae(s)]};let u;Oo().then(p=>{s.accountId=p,u=lae(s)}).catch(p=>{at.logOperationalError(Ge.GET_AWS_ACCOUNT_ID_ERROR,p),u=[]}).finally(()=>{for(const p of u)c.widgets.push(p);this.dashboard.update(c),this.setState({isLoading:!1})})},this.state={isLoading:!0},this.displayDashboard=this.displayDashboard.bind(this)}componentDidMount(){const{endpoint:n,region:a}=this.props,o={displayMode:"static",heightUnit:40,widgetMarginX:10,widgetMarginY:10,style:"polaris",endpoint:n};this.dashboard=new aae.xh(this.dashboardContainer,"myDashboard",a,o),this.dashboard.on("ready",this.displayDashboard)}componentWillUnmount(){this.dashboard&&this.dashboard.release()}render(){const{isLoading:n}=this.state;return i.createElement("div",null,n&&i.createElement("div",{className:"spinner"},i.createElement(Et.A,{size:"large"})),i.createElement("div",{id:"api-metrics-dashboard-container",ref:a=>{this.dashboardContainer=a}}))}}const Ove=null;function uae(){Vt(vt.MONITORING,ct.VIEW_RESOURCE);const t=de(),n=dn(),a=mt(),o=`/aws/appsync/apis/${n}`,c=`${xs(a)}/cloudwatch/home?region=${a}#logEventViewer:group=${o}`,u=Gt.getCustomContext("consoleWebsiteDomain");return(0,i.useLayoutEffect)(()=>{t(Ct({get:EU}))},[]),i.createElement(wn.A,{header:i.createElement($.A,{size:"m"},i.createElement($t,{title:"API metrics",description:"Monitor the performance of your GraphQL API.",info:i.createElement(Sa,null),actions:i.createElement(K.A,{"data-testid":"view-logs-button-on-monitoring",iconName:"external",href:c,iconAlign:"right",target:"_blank","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"viewLogsInCloudWatch"},(0,l.Ay)`View logs In CloudWatch`)}))},i.createElement(cae,{apiId:n,region:a,endpoint:`//${u}`}))}const FP=(t,n)=>t.toLowerCase().includes(n);function dae(t){const n="api does not have caching enabled",a="unable to get the cache as it doesn't exist, please create the cache first";return!(FP(t,n)||FP(t,a))}const UP=t=>[{label:"cache.small",value:"SMALL",tags:["1 vCPU","1.5 GiB RAM",(0,l.Ay)`Low to moderate network performance`],labelTag:"1.5 GiB"},{label:"cache.medium",value:"MEDIUM",tags:["2 vCPU","3 GiB RAM",(0,l.Ay)`Low to moderate network performance`],labelTag:"3 GiB"},{label:"cache.large",value:"LARGE",tags:["2 vCPU","12.3 GiB RAM",(0,l.Ay)`Up to 10 Gigabit network performance`],labelTag:"12.3 GiB"},{label:"cache.xlarge",value:"XLARGE",tags:["4 vCPU","25.05 GiB RAM",(0,l.Ay)`Up to 10 Gigabit network performance`],labelTag:"25.05 GiB"},{label:"cache.2xlarge",value:"LARGE_2X",tags:["8 vCPU","50.47 GiB RAM",(0,l.Ay)`Up to 10 Gigabit network performance`],labelTag:"50.47 GiB"},{label:"cache.4xlarge",value:"LARGE_4X",tags:["16 vCPU","101.38 GiB RAM",(0,l.Ay)`Up to 10 Gigabit network performance`],labelTag:"101.38 GiB"},{disabled:t,label:"cache.8xlarge",value:"LARGE_8X",tags:["32 vCPU","203.26 GiB RAM",(0,l.Ay)`10 Gigabit network performance`],labelTag:"203.26 GiB"},{label:"cache.12xlarge",value:"LARGE_12X",tags:["48 vCPU","317.77 GiB RAM",(0,l.Ay)`10 Gigabit network performance`],labelTag:"317.77 GiB"}],pae=t=>[{value:Ne.NONE,label:(0,l.Ay)`None`,description:(0,l.Ay)`No server-side caching. Resolvers will call their respective data sources directly.`},{value:Ne.FULL_REQUEST,label:(0,l.Ay)`Full request caching`,description:(0,l.Ay)`All requests from the same user will be cached. All API calls will return responses from the cache.`},{value:Ne.PER_RESOLVER,label:(0,l.Ay)`Per-resolver caching`,description:(0,l.Ay)`Only API calls requesting data from a specific operation or field defined in a resolver will return responses from the cache.`},...t?[{value:Ne.OPERATION_LEVEL,label:(0,l.Ay)`Operation level caching`,description:(0,l.Ay)`Full requests will be cached together and returned without executing resolvers.`}]:[]],mae=t=>{switch(t){case"AVAILABLE":return i.createElement(Or.A,null,(0,l.Ay)`Available`);case"CREATING":return i.createElement(Or.A,{colorOverride:"blue",type:"loading"},(0,l.Ay)`Creating`);case"DELETING":return i.createElement(Or.A,{colorOverride:"red",type:"loading"},(0,l.Ay)`Deleting`);case"MODIFYING":return i.createElement(Or.A,{type:"loading"},(0,l.Ay)`Modifying`);case"FAILED":return i.createElement(Or.A,{type:"error"},(0,l.Ay)`Error`);default:return null}},$P=t=>{const{status:n,message:a}=t;switch(n){case H.GET_SUCCESS:return{type:"success",message:(0,l.Ay)`Retrieved your cache successfully`};case H.FLUSHING:return{type:"info",message:`${(0,l.Ay)`Flushing your cache.`} ${(0,l.Ay)`Please do not refresh the page...`}`};case H.FLUSH_ERROR:return{type:"error",message:(0,l.Ay)`There was an error when flushing your cache.`};case H.FLUSH_SUCCESS:return{type:"success",message:(0,l.Ay)`Flushed your cache successfully`};case H.DELETE_SUCCESS:return{type:"success",message:(0,l.Ay)`Deleted your cache successfully`};case H.DELETING:return{type:"info",message:(0,l.Ay)`Deleting your cache`};default:return{type:"info",message:a}}};var hae=Object.defineProperty,jP=Object.getOwnPropertySymbols,fae=Object.prototype.hasOwnProperty,yae=Object.prototype.propertyIsEnumerable,VP=(t,n,a)=>n in t?hae(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,BP=(t,n)=>{for(var a in n||(n={}))fae.call(n,a)&&VP(t,a,n[a]);if(jP)for(var a of jP(n))yae.call(n,a)&&VP(t,a,n[a]);return t};const GP=({input:t,label:n})=>i.createElement(Ea.A,{checked:!!t.value,onChange:({detail:a})=>t.onChange(a.checked)},n);function gae(){return i.createElement(eu,{field:{name:"healthMetricsConfig",format:t=>t===oe.Us.ENABLED,normalize:t=>t?oe.Us.ENABLED:oe.Us.DISABLED},checkbox:{id:"enhanced-metrics-cache-checkbox",label:(0,l.Ay)`Cache health metrics`,description:(0,l.Ay)`Releases Cache Network Bandwidth Out Allowance Exceeded and Cache Engine CPU Utilization metrics`},formField:{label:(0,l.Ay)`Enhanced monitoring`}})}function Aae({apiCacheRecord:t,hasFetched:n,handleSubmit:a,initialize:o,initialized:s,invalid:c,isCreate:u,isDelete:p,isLoading:h,isUpdate:f}){const[y,g]=(0,i.useState)(!1),[A,E]=(0,i.useState)(),b=(0,i.useRef)(t),{recordStatus:C}=t,[I,R]=(0,i.useState)($P(C)),[L,P]=(0,i.useState)(0);Vt(vt.CACHING,ct.EDIT_RESOURCE);const F=(0,G.Zp)(),x=de(),O=dn(),{result:j}=_n(Bt.isSpecificCacheInstanceTypeDisabled),{isLoading:M,result:B}=_n(Bt.isOperationLevelCachingEnabled);(0,i.useEffect)(()=>{const J=$P(C);J.message!==I.message&&R(J)},[C]),(0,i.useLayoutEffect)(()=>{x(Ct({get:GF}))},[]),(0,i.useEffect)(()=>(x(up({entity:new zs({apiId:O})})),()=>{A&&window.clearInterval(A),x(Fi(N.API_CACHE))}),[]);const V=()=>{x(up({entity:t})),P(J=>J+1)};(0,i.useEffect)(()=>{const J=b.current;s&&!J.delete("recordStatus").equals(t.delete("recordStatus"))&&o(t),!A&&t.isStatusPending()?E(window.setInterval(V,15e3+Math.random()*1e3)):A&&!t.isStatusPending()&&(window.clearInterval(A),E(0)),b.current=t},[t,s,A]);const W=()=>{F("../home")},Y=()=>{x(hj({entity:t})),P(J=>J+1)},Z=()=>{g(!0)},ie=()=>{g(!1)},ye=()=>{x(mj({entity:t})),ie(),P(J=>J+1)},ve=J=>{x(Fi(N.API_CACHE)),f?x(dj({entity:J})):p?Z():x(pj({entity:J}))},Ce=()=>{t&&x(Kt(N.API_CACHE)({entity:t.merge({recordStatus:new fe({status:H.NONE})})}))};if(!n)return i.createElement(yr,null);if(M)return i.createElement(Et.A,null);const Ae=(0,l.Ay)`Confirm`.toLowerCase();return i.createElement(wn.A,{header:i.createElement($t,{title:(0,l.Ay)`API Cache`,showHelpLink:!0,description:i.createElement(i.Fragment,null,(0,l.Ay)`Caching improves the performance of GraphQL queries. There is a charge for caching. `,i.createElement(gt,{href:"https://aws.amazon.com/appsync/pricing/",text:(0,l.Ay)`For more details, see pricing.`}))})},i.createElement(rl,{message:I.message,key:L}),i.createElement(fr,{entityType:N.API_CACHE,filterMessages:dae}),i.createElement(Rc,{visible:y,onDismiss:()=>ie(),triggerAction:ye,header:(0,l.Ay)`Delete Cache?`,confirmText:Ae,"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"deleteCacheModal",i18nStrings:{modalContentText:[l.Ay.translate("You are permanently deleting this ${0}.",(0,l.Ay)`cache`),l.Ay.translate("This data will no longer be available after deletion.")].join(" "),inputDescriptionText:(0,l.Ay)`To confirm this deletion, type ${`"${Ae}"`}.`,cancelButtonText:"Cancel",actionButtonText:"Delete"}}),[H.FLUSHING,H.FLUSH_ERROR,H.FLUSH_SUCCESS].includes(C?.status)&&i.createElement(q.A,{padding:{bottom:"xs"},"data-id":"cache-flush-status"},i.createElement(wt.A,{type:I.type,dismissible:!0,onDismiss:()=>Ce(),statusIconAriaLabel:(0,l.Ay)`${I.type}`},I.message)),i.createElement($.A,{size:"l"},t.isCacheEnabled()&&i.createElement(Le,{title:(0,l.Ay)`Cache`,actions:i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(K.A,{ariaLabel:(0,l.Ay)`Flush cache`,onClick:Y},(0,l.Ay)`Flush cache`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Delete cache`,onClick:Z},(0,l.Ay)`Delete cache`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Refresh`,iconName:"refresh",variant:"icon",onClick:V})),variant:"h2"},i.createElement(gn,{columns:2,items:[{key:(0,l.Ay)`Status`,value:mae(t.status)},{key:(0,l.Ay)`Encryption in Transit`,value:t.transitEncryptionEnabled?i.createElement("span",{role:"img","aria-label":"Icon lock private"},i.createElement(Tn.A,{name:"lock-private"})," ",(0,l.Ay)`Enabled`):(0,l.Ay)`Disabled`},{key:(0,l.Ay)`Instance Type`,value:(UP(j).find(J=>J.value===t.type)||{label:t.type}).label},{key:(0,l.Ay)`Encryption at Rest`,value:t.atRestEncryptionEnabled?i.createElement("span",{role:"img","aria-label":"Icon lock private"},i.createElement(Tn.A,{name:"lock-private"})," ",(0,l.Ay)`Enabled`):(0,l.Ay)`Disabled`}]})),i.createElement("form",{onSubmit:a(ve)},i.createElement(Rn.A,{errorText:c?(0,l.Ay)`Please correct the form's errors before submitting changes.`:void 0,actions:i.createElement(di,{submitText:f?(0,l.Ay)`Update cache`:p?(0,l.Ay)`Delete cache`:(0,l.Ay)`Create cache`,onCancel:W,isLoading:h})},i.createElement($.A,{size:"l"},i.createElement(Le,{"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"cachingBehavior",title:(0,l.Ay)`Caching behavior`},i.createElement(HI,{field:{name:"apiCachingBehavior"},radioGroup:{items:pae(B),ariaLabel:(0,l.Ay)`Caching behavior`},panoramaTag:"apiCachingBehavior"})),(u||f)&&i.createElement(Le,{"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"cacheSettings",title:(0,l.Ay)`Cache settings`},i.createElement($.A,{size:"xs"},i.createElement(Rr,{field:{name:"type",normalize:J=>J?.value},select:{options:UP(j),"data-testid":"instance-data-source-type",controlId:"instance-data-source-type-dropdown",triggerVariant:"option",filteringType:"auto",filteringAriaLabel:l.Ay.translate("Find ${0}",(0,l.Ay)`Instance type`),filteringClearAriaLabel:(0,l.Ay)`Clear field`},formField:{label:(0,l.Ay)`Instance type`},panoramaTag:"instanceType"}),i.createElement(Ia,{field:{name:"ttl",validate:[Jo],format:String,parse:Number},input:{testTag:"ttl-input"},formField:{label:(0,l.Ay)`Cache time to live (TTL)`,description:(0,l.Ay)`Enter the time in seconds that cache entries will persist.`}}),u&&i.createElement(X.A,{label:(0,l.Ay)`Cache encryption`},i.createElement("span",null,i.createElement(qe.D0,BP({name:"transitEncryptionEnabled",component:GP},{label:(0,l.Ay)`Encryption in transit`})),i.createElement(qe.D0,BP({name:"atRestEncryptionEnabled",component:GP},{label:(0,l.Ay)`Encryption at rest`})))),i.createElement(gae,null))))))))}const Eae=(0,qe.zW)({form:Ke.CacheForm})(Aae),bae=(0,qe.fj)(Ke.CacheForm),vae=t=>{const{selectedApiId:n}=t.environment,a=new zs({apiId:n,ttl:60,type:"LARGE",apiCachingBehavior:"NONE"}),o=a.getKey(),s=t.entities.get(o,a);let c=s;s.isCacheEnabled()||(c=a);const u=bae(t,"apiCachingBehavior"),p=vn(s.recordStatus.status),h=c.isCacheEnabled(),f=h||s.recordStatus.status!==H.GETTING;return{apiCacheRecord:c,hasFetched:f,isLoading:p,isCreate:!h&&u!==""&&u!=="NONE",isUpdate:h&&u!==""&&u!=="NONE",isDelete:h&&u==="NONE",initialValues:c}},Sae=(0,te.connect)(vae,{})(Eae);function Tae(t){return`import { graphqlOperation, API } from '@aws-amplify/api'

export const config = {
    "aws_appsync_graphqlEndpoint": "${t.graphqlEndpoint}",
    "aws_appsync_region": "${t.region}",
    "aws_appsync_authenticationType": "${t.authenticationType}",
    "aws_appsync_apiKey": "${t.apiKey}",
}

export const subscribeDoc = /* GraphQL */ \`
    subscription Subscribe($name: String!) {
        subscribe(name: $name) {
            data
            name
        }
    }
\`

export const publishDoc = /* GraphQL */ \`
    mutation Publish($data: AWSJSON!, $name: String!) {
        publish(data: $data, name: $name) {
            data
            name
        }
    }
\`

/**
 * @param  {string} name the name of the channel
 * @param  {Object} data the data to publish to the channel
 */
export async function publish(name, data) {
    return await API.graphql(graphqlOperation(publishDoc, { name, data }))
}

/**
 * @param  {string} name the name of the channel
 * @param  {nextCallback} next callback function that will be called with subscription payload data
 * @param  {function} [error] optional function to handle errors
 * @returns {Observable} an observable subscription object
 */
export function subscribe(name, next, error) {
    return API.graphql(graphqlOperation(subscribeDoc, { name })).subscribe({
        next: ({ provider, value }) => {
            next(value.data.subscribe, provider, value)
        },
        error: error || console.log,
    })
}

/**
 * @callback nextCallback
 * @param {Object} data the subscription response including the \`name\`, and \`data\`.
 * @param {Object} [provider] the provider object
 * @param {Object} [payload] the entire payload
 */
`}var Iae=Object.defineProperty,Cae=Object.defineProperties,Rae=Object.getOwnPropertyDescriptors,Vu=Object.getOwnPropertySymbols,zP=Object.prototype.hasOwnProperty,qP=Object.prototype.propertyIsEnumerable,KP=(t,n,a)=>n in t?Iae(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,wae=(t,n)=>{for(var a in n||(n={}))zP.call(n,a)&&KP(t,a,n[a]);if(Vu)for(var a of Vu(n))qP.call(n,a)&&KP(t,a,n[a]);return t},Pae=(t,n)=>Cae(t,Rae(n)),Oae=(t,n)=>{var a={};for(var o in t)zP.call(t,o)&&n.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&Vu)for(var o of Vu(t))n.indexOf(o)<0&&qP.call(t,o)&&(a[o]=t[o]);return a};function Dae(t){var n=t,{text:a}=n,o=Oae(n,["text"]);const s=()=>{let c;if(o.format==="JS"){const u=Tae(o.realtimeJsConfig);c=new File([u],"generated.js",{type:"text/plain;charset=utf-8"})}else c=new File([""],"generated.js",{type:"text/plain;charset=utf-8"});(0,bh.saveAs)(c)};return i.createElement(K.A,Pae(wae({},o),{onClick:s}),a)}function Nae(){return{type:Hb,payload:{}}}function Dve(t){return{type:CUSTOMDOMAINS_SET_ALERT,payload:t}}function Bu(t){return{type:Wb,payload:t}}function _ae(t){return{type:xo,payload:t}}function xae(t){return{type:Kb,payload:t}}function Gu(){return{type:Yp,payload:{}}}function Lae(){return{type:Qp,payload:{}}}function WP(){return{type:Pb,payload:{}}}function kae(t){return{type:Xp,payload:{domainName:t.domainName}}}function Mae(t){return{type:tm,payload:{domainName:t.domainName,certificateArn:t.certificateArn,appsyncDomainName:t.appsyncDomainName,description:t.description,hostedZoneId:""}}}function Fae(t){return{type:nm,payload:{domainName:t.domainName,description:t.description,tags:t.tags}}}function Uae(t){return{type:rm,payload:{domainName:t.domainName}}}function $ae(t){return{type:am,payload:{domainName:t.domainName}}}function jae(t){return{type:Zp,payload:{domainName:t.domainName}}}function Vae(t){return{type:im,payload:{apiId:t.apiId,domainName:t.domainName}}}function Bae(t){return{type:om,payload:{domainName:t.domainName,apiId:t.apiId}}}function Pl(){return{type:ks,payload:{}}}function HP(){return{type:sm,payload:{}}}var Gae=Object.defineProperty,JP=Object.getOwnPropertySymbols,zae=Object.prototype.hasOwnProperty,qae=Object.prototype.propertyIsEnumerable,YP=(t,n,a)=>n in t?Gae(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,QP=(t,n)=>{for(var a in n||(n={}))zae.call(n,a)&&YP(t,a,n[a]);if(JP)for(var a of JP(n))qae.call(n,a)&&YP(t,a,n[a]);return t};function Kae(t){var n;const{children:a}=t,o=t.enablePanorama?{"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":et((n=t.panoramaTag)!=null?n:t.title)}:{};return i.createElement(mn.A,QP({variant:"container",defaultExpanded:!0,header:i.createElement(Ta,QP({},t))},o),a)}const Wae=t=>[{name:(0,l.Ay)`Review merged schema`,content:(0,l.Ay)`The GraphQL schema describes the data model created from all source APIs in a typed system with types, fields, and operations.`,button:(0,l.Ay)`Review schema`,action:()=>t("schema")},{name:(0,l.Ay)`Configure authorization`,content:(0,l.Ay)`AppSync supports multiple modes of authorization. You can change this behavior and configure additional authorization modes.`,button:(0,l.Ay)`Configure`,action:()=>t("settings")},{name:(0,l.Ay)`Test your API`,content:(0,l.Ay)`Use our query editor, a GraphQL IDE you can use to test your API and prototype GraphQL queries, mutations and subscriptions.`,button:(0,l.Ay)`Query Editor`,action:()=>t("queries")},{name:(0,l.Ay)`Advanced settings`,content:(0,l.Ay)`Turn on logging and tracing with AWS CloudWatch and X-Ray, enhanced security with AWS WAF, and enhanced performance with caching.`,button:(0,l.Ay)`Set up integrations`,action:()=>t("settings/edit")}];function Hae(){const t=(0,G.Zp)(),a=Wae(t).map(o=>i.createElement("div",{key:o.name,className:"flex-column"},i.createElement(be.A,{headingTagOverride:"h4"},o.name),i.createElement(q.A,{variant:"p"},o.content),i.createElement("div",{className:"flex-spacer"}),i.createElement(K.A,{onClick:o.action,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(o.button)},o.button)));return i.createElement(Kae,{title:"Merged API quick start",showHelpLink:!0,enablePanorama:!0},i.createElement(eo.A,{columns:4},a))}var Jae=Object.defineProperty,Yae=Object.defineProperties,Qae=Object.getOwnPropertyDescriptors,XP=Object.getOwnPropertySymbols,Xae=Object.prototype.hasOwnProperty,Zae=Object.prototype.propertyIsEnumerable,ZP=(t,n,a)=>n in t?Jae(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,lo=(t,n)=>{for(var a in n||(n={}))Xae.call(n,a)&&ZP(t,a,n[a]);if(XP)for(var a of XP(n))Zae.call(n,a)&&ZP(t,a,n[a]);return t},eO=(t,n)=>Yae(t,Qae(n));const eie={name:(0,l.Ay)`Name`,primaryAuth:(0,l.Ay)`Primary auth mode`,additionalAuth:(0,l.Ay)`Additional auth modes`,account:(0,l.Ay)`Account`,ownerContact:(0,l.Ay)`Contact`,associationId:(0,l.Ay)`Association ID`,associationArn:(0,l.Ay)`Association ARN`,sourceApiId:(0,l.Ay)`Source API ID`,sourceApiArn:(0,l.Ay)`Source API ARN`,mergedApiId:(0,l.Ay)`Merged API ID`,mergedApiArn:(0,l.Ay)`Merged API ARN`,lastSuccessfulMergeDate:(0,l.Ay)`Last successful merge`,associationDescription:(0,l.Ay)`Association description`,sourceApiAssociationConfig:(0,l.Ay)`Auto merge`,sourceApiAssociationStatus:(0,l.Ay)`Merge status`},tO=["name","ownerContact"],nO=["associationId","associationArn","sourceApiId","sourceApiArn","mergedApiId","mergedApiArn"],Nve=[...tO,...nO],tie={name:{id:"name",header:(0,l.Ay)`Name`,cell:t=>t.sourceGraphqlApi?t.sourceApiAssociation.isCrossAccount()?t.sourceGraphqlApi.name:i.createElement(ue.A,{href:`#/${t.sourceGraphqlApi.apiId}/v1/settings`},t.sourceGraphqlApi.name):Lr,width:300,sortingComparator:(t,n)=>t.sourceGraphqlApi.name.localeCompare(n.sourceGraphqlApi.name)},lastSuccessfulMergeDate:{id:"lastSuccessfulMergeDate",header:(0,l.Ay)`Last successful merge`,width:432,minWidth:210,cell:t=>{var n,a;return(a=(n=t.sourceApiAssociation.lastSuccessfulMergeDate)==null?void 0:n.toString())!=null?a:Lr},sortingComparator:(t,n)=>{var a,o;return((a=t.sourceApiAssociation.lastSuccessfulMergeDate)==null?void 0:a.getTime())-((o=n.sourceApiAssociation.lastSuccessfulMergeDate)==null?void 0:o.getTime())}},sourceApiAssociationStatus:{id:"sourceApiAssociationStatus",header:(0,l.Ay)`Merge status`,minWidth:160,cell:t=>{const n=ku(t.sourceApiAssociation.sourceApiAssociationStatus);return i.createElement(_u.A,{dismissAriaLabel:"Close",header:n.value,content:t.sourceApiAssociation.sourceApiAssociationStatusDetail},i.createElement(Or.A,{type:n.statusIndicatorType},n.value))},width:220,sortingComparator:(t,n)=>t.sourceApiAssociation.sourceApiAssociationStatus.localeCompare(n.sourceApiAssociation.sourceApiAssociationStatus)},account:{id:"account",header:(0,l.Ay)`Account`,width:160,minWidth:148,cell:t=>{const n=Os(t.sourceApiAssociation.sourceApiArn);return i.createElement(kn,{text:n,label:n,enablePanorama:!0,panoramaTag:"accountId"})},sortingComparator:(t,n)=>Os(t.sourceApiAssociation.sourceApiArn).localeCompare(Os(n.sourceApiAssociation.sourceApiArn))},ownerContact:{id:"ownerContact",header:(0,l.Ay)`Contact`,cell:t=>!t.sourceGraphqlApi||!t.sourceGraphqlApi.ownerContact?Lr:t.sourceGraphqlApi.ownerContact,sortingComparator:(t,n)=>t.sourceGraphqlApi.ownerContact.localeCompare(n.sourceGraphqlApi.ownerContact)},primaryAuth:{id:"primaryAuth",header:(0,l.Ay)`Primary auth mode`,width:192,minWidth:192,cell:t=>!t.sourceGraphqlApi||!t.sourceGraphqlApi.graphqlConfig.authenticationType?Lr:pf(t.sourceGraphqlApi.graphqlConfig.authenticationType),sortingComparator:(t,n)=>t.sourceGraphqlApi.graphqlConfig.authenticationType.localeCompare(n.sourceGraphqlApi.graphqlConfig.authenticationType)},additionalAuth:{id:"additionalAuth",header:(0,l.Ay)`Additional auth modes`,width:200,minWidth:192,cell:t=>!t.sourceGraphqlApi||!t.sourceGraphqlApi.graphqlConfig.additionalAuthenticationProviders||t.sourceGraphqlApi.graphqlConfig.additionalAuthenticationProviders.size===0?Lr:H0(t.sourceGraphqlApi.graphqlConfig.additionalAuthenticationProviders)},associationId:{id:"associationId",header:(0,l.Ay)`Association ID`,width:336,minWidth:140,cell:t=>i.createElement(kn,{text:t.sourceApiAssociation.associationId,label:t.sourceApiAssociation.associationId,enablePanorama:!0,panoramaTag:"associationId"})},associationArn:{id:"associationArn",header:(0,l.Ay)`Association ARN`,width:964,minWidth:150,cell:t=>i.createElement(kn,{text:t.sourceApiAssociation.associationArn,label:t.sourceApiAssociation.associationArn,enablePanorama:!0,panoramaTag:"associationArn"})},sourceApiId:{id:"sourceApiId",header:(0,l.Ay)`Source API ID`,width:248,minWidth:132,cell:t=>i.createElement(kn,{text:t.sourceApiAssociation.sourceApiId,label:t.sourceApiAssociation.sourceApiId,enablePanorama:!0,panoramaTag:"sourceApiId"})},sourceApiArn:{id:"sourceApiArn",header:(0,l.Ay)`Source API ARN`,width:560,minWidth:156,cell:t=>i.createElement(kn,{text:t.sourceApiAssociation.sourceApiArn,label:t.sourceApiAssociation.sourceApiArn,enablePanorama:!0,panoramaTag:"sourceApiArn"})},mergedApiId:{id:"mergedApiId",header:(0,l.Ay)`Merged API ID`,width:232,minWidth:136,cell:t=>i.createElement(kn,{text:t.sourceApiAssociation.mergedApiId,label:t.sourceApiAssociation.mergedApiId,enablePanorama:!0,panoramaTag:"mergedApiId"})},mergedApiArn:{id:"mergedApiArn",header:(0,l.Ay)`Merged API ARN`,width:540,minWidth:150,cell:t=>i.createElement(kn,{text:t.sourceApiAssociation.mergedApiArn,label:t.sourceApiAssociation.mergedApiArn,enablePanorama:!0,panoramaTag:"mergedApiArn"})},associationDescription:{id:"associationDescription",header:(0,l.Ay)`Association description`,width:196,minWidth:196,cell:t=>{var n;return(n=t.sourceApiAssociation.description)!=null?n:Lr}},sourceApiAssociationConfig:{id:"sourceApiAssociationConfig",header:(0,l.Ay)`Auto merge`,width:136,minWidth:136,cell:t=>zi(t.sourceApiAssociation.sourceApiAssociationConfig.mergeType===Di.AUTO_MERGE),sortingField:"sourceApiAssociationConfig",sortingComparator:(t,n)=>t.sourceApiAssociation.sourceApiAssociationConfig.mergeType.localeCompare(n.sourceApiAssociation.sourceApiAssociationConfig.mergeType)}},zu=eO(lo({},{account:{show:!0,editable:!0},associationId:{show:!0,editable:!1},associationArn:{show:!1,editable:!0},sourceApiId:{show:!1,editable:!0},sourceApiArn:{show:!1,editable:!0},mergedApiId:{show:!1,editable:!0},mergedApiArn:{show:!1,editable:!0}}),{sourceApiAssociationStatus:{show:!0,editable:!0},lastSuccessfulMergeDate:{show:!0,editable:!0},sourceApiAssociationConfig:{show:!1,editable:!0},associationDescription:{show:!1,editable:!0}}),rO={name:{show:!0,editable:!1},ownerContact:{show:!0,editable:!0},primaryAuth:{show:!1,editable:!0},additionalAuth:{show:!1,editable:!0}},nie=eO(lo({associationId:{show:!0,editable:!0},sourceApiAssociationStatus:{show:!0,editable:!0},lastSuccessfulMergeDate:{show:!0,editable:!0}},zu),{sourceApiId:{show:!0,editable:!0}}),rie=lo(lo({name:{show:!0,editable:!1},sourceApiAssociationStatus:{show:!0,editable:!0},lastSuccessfulMergeDate:{show:!0,editable:!0},account:{show:!0,editable:!0}},rO),zu),xve=lo(lo({},rO),zu),aie=lo({name:{show:!0,editable:!1}},zu);function iie(t){const n=Object.keys(t).map(s=>tie[s]),a=n.filter(s=>t[s.id].show).map(s=>s.id),o=Object.keys(t).map(s=>({id:s,label:eie[s],editable:t[s].editable}));return{columnDefinitions:n,defaultShownColumns:a,columnPreferencesOptions:o}}var oie=Object.defineProperty,sie=Object.defineProperties,lie=Object.getOwnPropertyDescriptors,aO=Object.getOwnPropertySymbols,cie=Object.prototype.hasOwnProperty,uie=Object.prototype.propertyIsEnumerable,iO=(t,n,a)=>n in t?oie(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,If=(t,n)=>{for(var a in n||(n={}))cie.call(n,a)&&iO(t,a,n[a]);if(aO)for(var a of aO(n))uie.call(n,a)&&iO(t,a,n[a]);return t},die=(t,n)=>sie(t,lie(n));const pie=die(If({},hP),{title:"Source APIs"});function mie(t){return If(If({},pie),t)}var hie=Object.defineProperty,fie=Object.defineProperties,yie=Object.getOwnPropertyDescriptors,oO=Object.getOwnPropertySymbols,gie=Object.prototype.hasOwnProperty,Aie=Object.prototype.propertyIsEnumerable,sO=(t,n,a)=>n in t?hie(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Ol=(t,n)=>{for(var a in n||(n={}))gie.call(n,a)&&sO(t,a,n[a]);if(oO)for(var a of oO(n))Aie.call(n,a)&&sO(t,a,n[a]);return t},Cf=(t,n)=>fie(t,yie(n));const Eie=10,bie=t=>{const n=[t];return Object.keys(kt).forEach(a=>{const o=kt[a],s=ku(o);n.push({label:s.value,value:o})}),n},vie=(t,n)=>n===qu?!0:t.sourceApiAssociation&&t.sourceApiAssociation.sourceApiAssociationStatus===n.value,qu={value:"*",label:(0,l.Ay)`Any status`};function Sie(t){const{tableApiCollection:n,headerActions:a,emptyActions:o,selected:s,setSelected:c,columns:u,apisPerPage:p,showPreferences:h,showHelpLink:f,i18nStrings:y,showSimpleView:g,testId:A}=t,[E,b]=(0,i.useState)(qu),C=(0,i.useMemo)(()=>bie(qu),[]),I=(0,i.useMemo)(()=>mie(y),[]),{defaultShownColumns:R,columnDefinitions:L,columnPreferencesOptions:P}=(0,i.useMemo)(()=>iie(u??aie),[u]),[F,x]=(0,i.useState)({visibleContent:R,pageSize:p||Eie});(0,i.useEffect)(()=>{x(Cf(Ol({},F),{visibleContent:R}))},[R]);const{items:O,filterProps:j,paginationProps:M,collectionProps:B}=(0,Wn.G)(n,{filtering:{noMatch:i.createElement(Ei,{text:I.noResultsText}),empty:i.createElement(Ei,{text:I.emptyText,actions:o}),filteringFunction:(ve,Ce)=>{if(!ve.sourceApiAssociation||!vie(ve,E))return!1;const Ae=Ce.toLowerCase(),J=Ie=>typeof Ie=="string"&&Ie.toLowerCase().indexOf(Ae)>-1,Ee=tO.map(Ie=>!ve.sourceGraphqlApi||!F.visibleContent.includes(Ie)?null:ve.sourceGraphqlApi[Ie]).some(J),Te=nO.map(Ie=>!ve.sourceApiAssociation||!F.visibleContent.includes(Ie)?null:ve.sourceApiAssociation[Ie]).some(J);return Ee||Te}},pagination:{pageSize:F.pageSize},sorting:{},selection:{trackBy:ve=>ve.sourceApiAssociation.associationId,keepSelection:!0}}),V=({detail:ve})=>c(ve.selectedItems),W=s.length!==0?`(${s.length}/${n.length})`:`(${n.length})`,Y=i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(ur.A,Cf(Ol({},j),{filteringPlaceholder:l.Ay.translate(I.searchText),filteringAriaLabel:l.Ay.translate(I.searchText),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"sourceApiTextFilter"})),i.createElement(ze.A,{"data-testid":"merge-status-filter",options:C,selectedAriaLabel:"Selected",selectedOption:E,onChange:ve=>{b(ve.detail.selectedOption)},ariaDescribedby:null,expandToViewport:!0,"data-analytics-type":U.EVENT_VALUE,"data-analytics":et(E.value==="*"?"anyStatus":E.value)}),i.createElement("div",{"aria-live":"polite"},(j.filteringText||E!==qu)&&i.createElement(It.A,null,i.createElement(q.A,{variant:"p"},ei(O.length))))),Z=i.createElement(Xr.A,Ol({},M)),ie=i.createElement(Ta,{showHelpLink:f,title:I.title,description:I.description,counter:W,actions:g?Z:a}),ye=i.createElement(fP,{setTablePreferences:x,preferences:F,columnPreferencesOptions:P});return i.createElement(Ht.A,Cf(Ol(Ol({},B),t),{trackBy:ve=>ve.sourceApiAssociation.associationId,items:O,resizableColumns:!0,onSelectionChange:V,selectedItems:s,header:ie,pagination:!g&&Z,filter:!g&&Y,preferences:h&&ye,visibleColumns:F.visibleContent,columnDefinitions:L,"data-testid":A,"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"sourceAssociationTable"}))}var Tie=v(22928),lO=v(28287),Iie=v(36969),Cie=v(35928),w=v(23507);function na(t){return{flashbar:t,type:D.FLASHBAR_CREATE}}function Ku(t){return{flashbar:t,type:D.FLASHBAR_UPDATE}}function Rie(t){return{flashbarId:t,type:D.FLASHBAR_DELETE}}const cO=Object.values(k);function wie(t,n){return t.graphqlConfig.authenticationType===n?!0:t.graphqlConfig.additionalAuthenticationProviders.some(a=>a.authenticationType===n)}function uO(t){return cO.filter(n=>t.find(a=>wie(a,n)))}function Pie(t){var n;const a=uO(t);return(n=cO.find(o=>a.includes(o)))!=null?n:k.API_KEY}function Wu(t,n){return uO(n).filter(o=>o!==t)}var Dl=v(98354),Oie=Object.defineProperty,Die=Object.defineProperties,Nie=Object.getOwnPropertyDescriptors,dO=Object.getOwnPropertySymbols,_ie=Object.prototype.hasOwnProperty,xie=Object.prototype.propertyIsEnumerable,pO=(t,n,a)=>n in t?Oie(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Lie=(t,n)=>{for(var a in n||(n={}))_ie.call(n,a)&&pO(t,a,n[a]);if(dO)for(var a of dO(n))xie.call(n,a)&&pO(t,a,n[a]);return t},kie=(t,n)=>Die(t,Nie(n));const Mie=1e3,Fie=1e3;function*Rf(t){for(let n=0;n<Fie;n++)try{const a=yield(0,w.T1)(Of,t),o=a.sourceApiAssociation.sourceApiAssociationStatus,s=a.sourceApiAssociation.sourceApiAssociationStatusDetail,c=new Mo(kie(Lie({},a.sourceApiAssociation),{apiId:t.mergedApiIdentifier}));if(yield(0,w.yJ)(bA(N.SOURCE_API_ASSOCIATION)({entity:c})),c.didSucceed())return c;if(o===kt.NEVER_MERGED||c.didFail())throw new Error(s);yield(0,Dl.cb)(Mie)}catch(a){if(a&&a.statusCode===404)return null;throw new Error(a)}throw new Error("Polling limit exceeded")}var Uie=Object.defineProperty,$ie=Object.defineProperties,jie=Object.getOwnPropertyDescriptors,mO=Object.getOwnPropertySymbols,Vie=Object.prototype.hasOwnProperty,Bie=Object.prototype.propertyIsEnumerable,hO=(t,n,a)=>n in t?Uie(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Gie=(t,n)=>{for(var a in n||(n={}))Vie.call(n,a)&&hO(t,a,n[a]);if(mO)for(var a of mO(n))Bie.call(n,a)&&hO(t,a,n[a]);return t},zie=(t,n)=>$ie(t,jie(n));function*fO(t){const{state:n}=t,a=n.selectedGraphqlApi,o={};n.localAssociatedApis.forEach(E=>{o[E.apiId]=E}),n.ramAssociatedApis.forEach(E=>{o[E.apiId]=E}),n.existingAssociations.forEach(E=>{o[E.apiId]=E});const s=E=>[...new Set(E.map(I=>I.apiId))].map(I=>o[I]),c=s([...n.existingAssociations]);let u=s([...n.localAssociatedApis,...n.ramAssociatedApis,...n.existingAssociations]);const p=s([...n.localAssociatedApis,...n.ramAssociatedApis]).filter(E=>!c.includes(E));let h=0;const f=Kr.from({info:(0,l.Ay)`Updating API`,description:(0,l.Ay)`${a.name} is being updated.`,loading:!0,shownWhen:["api-list-table"]});t.hideWorkflowFlashbars||(yield(0,w.yJ)(na(f))),yield(0,w.T1)(cs,{sourceApis:u,mergedApi:n.selectedGraphqlApi});const y=[];return(yield(0,w.Q7)(p.map(E=>(0,w.T1)(qie,E,a)))).forEach(E=>{E.remove&&(u=u.filter(b=>b.apiId!==E.source.apiId)),E.failed?h+=1:y.push({source:E.source,association:E.record})}),(yield(0,w.Q7)(y.map(E=>(0,w.T1)(Kie,E,a)))).forEach(E=>{h+=E}),yield(0,w.T1)(cs,{sourceApis:u,mergedApi:n.selectedGraphqlApi}),f.description=i.createElement("div",null,i.createElement(K.A,{variant:"link",onClick:()=>t.navigate(`/${a.apiId}/v1/home`)},h>0?(0,l.Ay)`${a.name} was successfully updated. Issues with ${h} Source APIs.`:(0,l.Ay)`${a.name} was successfully updated.`)),f.info=(0,l.Ay)`Association successful`,f.type="success",f.loading=!1,f.dismissible=!0,t.hideWorkflowFlashbars||(yield(0,w.yJ)(Ku(f))),{failcount:h}}function*qie(t,n){try{const a={mergedApiIdentifier:n.apiId,sourceApiIdentifier:EO(t.arn)},o=yield(0,w.T1)(ioe,a),s=new Mo(zie(Gie({},o.sourceApiAssociation),{apiId:n.apiId})),c=new Set;return c.add(s.getKey()),yield(0,w.yJ)(Ro(N.SOURCE_API_ASSOCIATION)({paginateRecord:new ke({items:(0,T.OrderedSet)(c)}),paginationKey:{apiId:s.apiId,versionId:"v1"}})),yield(0,w.yJ)(Rs(N.SOURCE_API_ASSOCIATION)({entity:s.merge({recordStatus:new fe({status:H.UPDATE_SUCCESS})})})),{source:t,record:s,failed:!1,remove:!1}}catch(a){const o=Kr.from({info:(0,l.Ay)`Error Associating API`,description:`${(0,l.Ay)`${t.name} failed to associate with ${n.name}.`} ${a.message}`,dismissible:!0,type:"error",shownWhen:["api-list-table",t.apiId,n.apiId]});yield(0,w.yJ)(na(o));const s=!a.message.includes("SourceApiAssociation already exists");return{source:t,failed:!0,remove:s}}}function*Kie(t,n){try{const a=yield(0,w.T1)(Rf,{mergedApiIdentifier:n.apiId,associationId:t.association.associationId});return yield(0,w.yJ)(Rs(N.SOURCE_API_ASSOCIATION)({entity:a.merge({recordStatus:new fe({status:H.UPDATE_SUCCESS})})})),0}catch(a){const o=Kr.from({info:(0,l.Ay)`Error Merging API`,description:`${(0,l.Ay)`${t.source.name} failed to merge into ${n.name}.`} ${a.message}`,dismissible:!0,type:"error",shownWhen:["api-list-table",t.source.apiId,n.apiId]});return yield(0,w.yJ)(na(o)),1}}function*Wie(){yield(0,w.jP)(D.ADD_MERGED_API_ASSOCIATIONS,fO)}var Hie=v(52234),Jie=v(33051),Yie=v(38856),Nl=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const bi=xe.getAppSyncClient();function Qie(t){return Nl(this,null,function*(){const n=yield bi.send(new lO.N(t));return Is(n.graphqlApi)})}function Xie(t){return Nl(this,null,function*(){const n=yield bi.send(new Hie.q(t));return Xg(n.api)})}function yO(t){return Nl(this,null,function*(){const n=yield bi.send(new Jie.J(t));return Uv(n.apiKey,t.apiId)})}function Zie(t){return Nl(this,null,function*(){const n={apiId:t.apiId,name:"default"};yield bi.send(new BS.K(n))})}const eoe=t=>Nl(void 0,null,function*(){switch(t.entityType){case N.API:{const n=t.entity;if(n.isEventApi()){const a=yield Xie(n.getCreateApiRequest());try{yield Zie(a)}catch{}return a}return Qie(n.getCreateApiRequest())}case N.API_KEY:{const n=t.entity;return yO(n.getCreateApiKeyRequest())}case N.RESOLVER:try{const n=t.entity,a=yield bi.send(new pE.e(n.getCreateResolverRequest()));return ji(a.resolver,n.apiId)}catch(n){const a=mc(n);throw n.detail=a,n}case N.DATA_SOURCE:{const n=t.entity,{shouldCreateRole:a}=n;let o;a?o=yield fc(new Za({apiId:n.apiId,region:n.region,resourceName:n.getResourceName(),secondaryResourceName:n.getSecondaryResourceName(),resourceType:n.type})).then(u=>u.roleArn):o=n.serviceRoleArn;const s=n.merge({serviceRoleArn:o}),c=yield bi.send(new Np.L(s.getCreateDataSourceRequest()));return Fs(c.dataSource,s.apiId)}case N.RESOLVER_FUNCTION:try{const n=t.entity,a=yield bi.send(new hE.Y(n.getCreateFunctionRequest()));return Gs(a.functionConfiguration,n.apiId)}catch(n){const a=mc(n);throw n.detail=a,n}case N.API_CACHE:{const n=t.entity,a=yield bi.send(new Yie.O(n.getCreateApiCacheRequest()));return bm(a.apiCache,n.apiId)}case N.IAM_ROLE:{const n=t.entity;return fc(n)}default:throw new Error(`Invalid Entity Action Type:${t.type}`)}});function*toe(t){const{entityType:n}=t;try{t.entityType===N.API?yield(0,w.yJ)(Po(new fe({status:H.CREATING}))):yield(0,w.yJ)(Kt(n)({entity:t.entity.merge({recordStatus:new fe({status:H.CREATING})})}));const a=yield eoe(t);if(t.entityType===N.API&&(yield(0,w.yJ)(lp({entity:new cr({apiId:a.apiId})})),yield(0,w.yJ)(Ps(a.apiId)),yield(0,w.yJ)(jA(a.versionId||"v1"))),n===N.API_KEY){const o=Kr.from({description:(0,l.Ay)`API key was successfully created.`,dismissible:!0,type:"success",shownWhen:[`settings-${t.entity.apiId}`]});yield(0,w.yJ)(na(o))}if(n!==N.IAM_ROLE&&n!==N.API_CACHE){const o=new Set;o.add(a.getKey()),yield(0,w.yJ)(Ro(n)({paginateRecord:new ke({items:(0,T.OrderedSet)(o)}),paginationKey:{apiId:a.apiId,versionId:"v1",typeName:a.typeName}}))}if(yield(0,w.yJ)(ic(n)({entity:a})),t.entityType===N.API)yield(0,w.yJ)(Po(new fe({status:H.CREATE_SUCCESS})));else{if((n===N.RESOLVER_FUNCTION||n===N.API_KEY)&&(yield(0,w.yJ)(Kt(n)({entity:t.entity.merge({recordStatus:new fe({status:H.CREATE_SUCCESS,message:a.getKey()})})})),n===N.API_KEY&&(yield(0,w.yJ)(Zd(n)({entity:t.entity})))),yield(0,w.yJ)(Kt(n)({entity:a.merge({recordStatus:new fe({status:H.CREATE_SUCCESS})})})),n===N.RESOLVER){const o=t.entity,s=yield(0,w.Lt)(Ih({typeName:o.typeName,fieldName:o.fieldName})),c=new fe({status:H.UPDATE_SUCCESS,message:l.Ay.translate("Resolver for ${0} was created.",Ks(s).trim())});yield(0,w.yJ)($i(c))}if(n===N.RESOLVER_FUNCTION){const o=a,s=new fe({status:H.UPDATE_SUCCESS,message:l.Ay.translate("Function ${0} was created.",o.name)});yield(0,w.yJ)($i(s))}}}catch(a){if(yield(0,w.yJ)(dA(n)({errors:[a]})),n===N.API_KEY){const o=Kr.from({info:(0,l.Ay)`Error creating API key.`,description:a.message,dismissible:!0,type:"error",shownWhen:[`settings-${t.entity.apiId}`]});yield(0,w.yJ)(na(o))}if(t.entityType===N.API)yield(0,w.yJ)(Po(new fe({status:H.ERRORED,message:a.message||a.Message})));else if(yield(0,w.yJ)(Kt(n)({entity:t.entity.merge({recordStatus:new fe({status:H.ERRORED,message:a.message,code:a.name,detail:a.detail})})})),n===N.RESOLVER_FUNCTION){const o=new fe({status:H.ERRORED,message:a.message||""});yield(0,w.yJ)($i(o))}}}function*noe(){yield(0,w.jP)(D.CREATE_BEGIN,t=>toe(t))}var wf=(t,n)=>(n=Symbol[t])?n:Symbol.for("Symbol."+t),ls=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())}),roe=function(t,n){this[0]=t,this[1]=n},co=t=>{var n=t[wf("asyncIterator")],a=!1,o,s={};return n==null?(n=t[wf("iterator")](),o=c=>s[c]=u=>n[c](u)):(n=n.call(t),o=c=>s[c]=u=>{if(a){if(a=!1,c==="throw")throw u;return u}return a=!0,{done:!1,value:new roe(new Promise(p=>{var h=n[c](u);if(!(h instanceof Object))throw TypeError("Object expected");p(h)}),1)}}),s[wf("iterator")]=()=>s,o("next"),"throw"in n?o("throw"):s.throw=c=>{throw c},"return"in n&&o("return"),s};const Pf=xe.getAppSyncClient(),gO="DO-RETRY";function aoe(t){return ls(this,null,function*(){return yield Pf.send(new lO.N(t))})}function AO(t){return ls(this,arguments,function*({navigate:n,page:a}){n(a)})}function ioe(t){return ls(this,null,function*(){return yield Pf.send(new Iie.k(t))})}function Of(t){return ls(this,null,function*(){return yield Pf.send(new Cie._(t))})}function EO(t){return Ds()===Ui.GAMMA?t.replace("us-west-2","us-east-1"):t}function Lve(t){return ls(this,null,function*(){const n=()=>ls(this,null,function*(){const s=yield Of(t),c=s.sourceApiAssociation.sourceApiAssociationStatus,u=s.sourceApiAssociation.sourceApiAssociationStatusDetail;if(c===SourceApiAssociationStatusEnum.MERGE_FAILED||c===SourceApiAssociationStatusEnum.AUTO_MERGE_SCHEDULE_FAILED)throw new Error(u);if(c===SourceApiAssociationStatusEnum.MERGE_SUCCESS)return!0;throw new Error(gO)});return yield new TaskState({key:"WaitingForMerge",handler:n,retrier:new Retrier(1e3,s=>s,100,s=>s.message.startsWith(gO))}).execute({})})}function ooe(t,n){const a=[...t.localAssociatedAPIs,...t.ramAssociatedAPIs],{primaryAuthMode:o}=t,s=t.authModeConfigs[o],c={apiType:t.selectedApiType,mergedApiExecutionRoleArn:n,visibility:t.isPrivateApi?Pi.PRIVATE:Pi.GLOBAL};c.authenticationType=o,o===k.LAMBDA&&(c.lambdaAuthorizerConfig=new da(s)),o===k.OIDC&&(c.openIDConnectConfig=new $a(s)),o===k.USER_POOLS&&(c.userPoolConfig=new Ts(s));const u=Wu(o,a);let p=(0,T.List)();return u.forEach(f=>{const y={},g=t.authModeConfigs[f];y.authenticationType=f,f===k.LAMBDA&&(y.lambdaAuthorizerConfig=new da(g)),f===k.OIDC&&(y.openIDConnectConfig=new $a(g)),f===k.USER_POOLS&&(y.userPoolConfig=new qd(g)),p=p.push(new vs(y))}),c.additionalAuthenticationProviders=p,new $r({name:t.apiName,ownerContact:t.ownerContact,graphqlConfig:new ja(c)})}function*soe(t){if(t.mergedApiExecutionRole)return{role:t.mergedApiExecutionRole};const n=[...t.localAssociatedAPIs,...t.ramAssociatedAPIs];return yield(0,w.T1)(cs,{sourceApis:n})}function*loe(t,n){if(t.mergedApiExecutionRole)return;const a=[...t.localAssociatedAPIs,...t.ramAssociatedAPIs];yield(0,w.T1)(cs,{sourceApis:a,mergedApi:n})}function*coe(t){const n=t.getCreateApiRequest(),a=yield(0,w.T1)(aoe,n),o=Is(a.graphqlApi),s=new Set;return s.add(o.getKey()),yield(0,w.yJ)(Ro(N.API)({paginateRecord:new ke({items:(0,T.OrderedSet)(s)}),paginationKey:{apiId:o.apiId,versionId:"v1"}})),yield(0,w.yJ)(ic(N.API)({entity:o})),o}function*uoe(t,n){const a=[...t.localAssociatedAPIs,...t.ramAssociatedAPIs],o=Wu(t.primaryAuthMode,a),s=t.primaryAuthMode===k.API_KEY,c=o.some(h=>h===k.API_KEY);if(!(s||c))return;const p=new cr({apiId:n.apiId});yield(0,w.T1)(yO,p.getCreateApiKeyRequest())}function*bO(t,n,a){n.type="error",n.info=(0,l.Ay)`Creation failed`,n.description=`${(0,l.Ay)`${t} failed to create.`} ${a.message}`,n.loading=!1,n.dismissible=!0,yield(0,w.yJ)(Ku(n))}function*doe(t){const n=t.newMergedGraphqlApi,a=Kr.from({info:(0,l.Ay)`Creating API`,description:(0,l.Ay)`${n.apiName} is being created.`,loading:!0,shownWhen:["api-list-table"]});let o;try{yield(0,w.yJ)(na(a));const s=yield*co(soe(n)),c=ooe(n,s.role);o=yield*co(coe(c)),yield*co(loe(n,o)),yield*co(uoe(n,o)),a.shownWhen.push(o.apiId),yield(0,w.yJ)(Ku(a)),yield(0,w.T1)(AO,{navigate:t.navigate,page:"/apis"})}catch(s){yield*co(bO(n.apiName,a,s)),yield(0,w.T1)(AO,{navigate:t.navigate,page:"/apis"});return}try{const s=yield*co(fO(bP({selectedGraphqlApi:o,localAssociatedApis:n.localAssociatedAPIs,ramAssociatedApis:n.ramAssociatedAPIs,existingAssociations:[]},t.navigate,!0)));a.description=i.createElement("div",null,i.createElement(K.A,{variant:"link",onClick:()=>t.navigate(`/${o.apiId}/v1/home`)},s.failcount>0?(0,l.Ay)`${o.name} was successfully created. Issues with ${s.failcount} Source APIs.`:(0,l.Ay)`${o.name} was successfully created.`)),a.info=(0,l.Ay)`Creation successful`,a.type="success",a.loading=!1,a.dismissible=!0,yield(0,w.yJ)(Ku(a))}catch(s){yield*co(bO(n.apiName,a,s))}}function*poe(){yield(0,w.jP)(D.CREATE_NEW_MERGED_API,doe)}var moe=Object.defineProperty,hoe=Object.defineProperties,foe=Object.getOwnPropertyDescriptors,vO=Object.getOwnPropertySymbols,yoe=Object.prototype.hasOwnProperty,goe=Object.prototype.propertyIsEnumerable,SO=(t,n,a)=>n in t?moe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Df=(t,n)=>{for(var a in n||(n={}))yoe.call(n,a)&&SO(t,a,n[a]);if(vO)for(var a of vO(n))goe.call(n,a)&&SO(t,a,n[a]);return t},Nf=(t,n)=>hoe(t,foe(n)),Aoe=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const Eoe="appsync_merged_execution",boe="appsync_auto_merged_execution",voe="appsync_no_source_merged_api",Soe="_beta_gamma",Toe="Allows appsync to invoke your source apis through a merged api.",Ioe=2,Coe=3,Roe=2,woe=3,Poe=1,Ooe=1,Doe=()=>Ao(12);function cs(t){return Aoe(this,arguments,function*({sourceApis:n,mergedApi:a,useId:o}){var s;const c=xe.getIAMAdminClient(),u=jE(Ds(),mt()),p=u?xE:_E,h="-mergedapi-",f=(s=a?.graphqlConfig)==null?void 0:s.getExecutionRoleName();if(f&&!f.includes(h))return{role:f,inabilityToEdit:!0};const y=o||Doe(),g=qn+h+y,A=yield Oo(),E=mt(),b=EO(mt()),C=`arn:${rn()}:appsync:${E}:`,I=n?n.map(V=>V.arn.split(C)[1]):[],R=u?Soe:"",L=n.length!==0,P=!a,F=a&&!f&&L,x=a&&!f&&!L,O=a&&f&&!L,j=a&&f&&L,M=P||F||x;let B={ServicePrincipalName:p};if(P&&(B=Nf(Df({},B),{TemplateName:Eoe+R,TemplateVersion:u?Coe:Ioe,PermissionsPolicySingleValueReplacements:{region:b,accountId:A},PermissionsPolicyMultiValueReplacements:{sourceApis:I}})),(F||j)&&(B=Nf(Df({},B),{TemplateName:boe+R,TemplateVersion:u?woe:Roe,PermissionsPolicySingleValueReplacements:{region:b,accountId:A,mergedApiId:a.apiId},PermissionsPolicyMultiValueReplacements:{sourceApis:I}})),(x||O)&&(B=Nf(Df({},B),{TemplateName:voe+R,TemplateVersion:u?Ooe:Poe,PermissionsPolicySingleValueReplacements:{region:b,accountId:A,mergedApiId:a.apiId}})),M)return B.Description=Toe,B.RoleName=g,B.PolicyName=g,B.TrustPolicySingleValueReplacements={accountId:A,region:E},{role:(yield c.send(new _p.F(B))).Role.Arn,inabilityToEdit:!1};B.RoleName=f,B.PolicyName=f;try{return yield c.send(new Tie.g(B)),{role:a.graphqlConfig.mergedApiExecutionRoleArn,inabilityToEdit:!1}}catch{return{role:a.graphqlConfig.mergedApiExecutionRoleArn,inabilityToEdit:!0}}})}function Noe(){const[t,n]=(0,i.useState)([]),a=St(),[o,s]=(0,i.useState)(!1),[c,u]=_o(),p=u.some(P=>P.sourceGraphqlApi!==null),h=de(),f=(0,G.Zp)(),y=t.length===1,g=t.length===0,A=()=>{if(y){const P=t[0].sourceApiAssociation;P&&f(`/${a.apiId}/v1/settings/sourceApiAssociation/${P.associationId}/edit`)}},E=()=>{t.forEach(x=>{x.sourceApiAssociation&&!x.sourceApiAssociation.isDeletionLoading()&&h($A({entity:x.sourceApiAssociation}))}),n([]);const P=t.map(x=>{var O;return(O=x.sourceApiAssociation)==null?void 0:O.associationId}),F=u.filter(x=>{var O;return!P.includes((O=x.sourceApiAssociation)==null?void 0:O.associationId)}).map(x=>x.sourceGraphqlApi);cs({sourceApis:F,mergedApi:a})},b=()=>{f(`/${a.apiId}/v1/settings/sourceApiAssociation/add`)},C=()=>{t.forEach(P=>{h(ub(P.sourceApiAssociation,P.sourceGraphqlApi,a))}),s(!0),setTimeout(()=>s(!1),1500)},I=()=>{h(dp({paginationKey:{apiId:a.apiId},paginateRecord:new ke}))},R=i.createElement($.A,{size:"s",direction:"horizontal"},i.createElement(K.A,{"data-testid":"source-api-table-refresh",disabled:c||!u,onClick:I,iconName:"refresh",ariaLabel:(0,l.Ay)`Refresh`,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"refreshSourceApis"}),i.createElement(K.A,{"data-testid":"source-api-table-merge-now",disabled:g||o,onClick:C,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"mergeNow"},(0,l.Ay)`Merge Now`),i.createElement(K.A,{"data-testid":"source-api-table-edit-association",disabled:!y,onClick:A,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"editAssociation"},(0,l.Ay)`Edit association`),i.createElement(K.A,{"data-testid":"source-api-table-disassociate",disabled:g,onClick:E,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"disassociate"},(0,l.Ay)`Disassociate`),i.createElement(K.A,{"data-testid":"source-api-table-add-association",onClick:b,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"addSourceApi"},(0,l.Ay)`Add Source API`)),L=p?rie:nie;return i.createElement(Sie,{tableApiCollection:u,loading:c,selected:t,setSelected:n,headerActions:R,selectionType:"multi",columns:L,showPreferences:!0})}const kve="Getting started",_oe=[{containerHeader:"Define the schema",expandedFlag:"schema",content:["The first step when creating an AppSync API is to design your schema. A schema is made up of object, input, interface, union, enum, and scalar data types that are organized as a graph. While you use the schema to define the shape of your API, you use resolvers to define the functionality. Attach resolvers to any object fields on any object type in your schema, and that resolver will be invoked every time that field is listed in a query or mutation.","Click the button or use the navigation panel on the left to navigate to the schema page. From the schema page, you can click the Create Resources button to quickly add an object type and generate queries, mutations, and subscriptions."],button:{text:"Edit Schema",href:"../schema"},externalLink:{text:"Learn more about the schema",href:"https://docs.aws.amazon.com/appsync/latest/devguide/designing-your-schema.html"}},{containerHeader:"Run a query",expandedFlag:"queries",content:["The query editor is an in-browser tool for writing, validating, and testing GraphQL operations, including queries, mutations and subscriptions. Use it to prototype queries, test resolvers, and learn about an API by opening the documentation explorer in the upper right of the editor window."],button:{text:"Run a query",href:"../queries"},externalLink:{text:"Learn more about GraphQL",href:"https://docs.aws.amazon.com/appsync/latest/devguide/graphql-overview.html"}}],TO={containerHeader:"Client Samples",samples:[{tagline:"An iOS application that uses the events sample API",externalLink:{text:"See the iOS project",href:"https://github.com/aws-samples/aws-mobile-appsync-events-starter-ios"}},{tagline:"An Android application that uses the events sample API",externalLink:{text:"See the Android project",href:"https://github.com/aws-samples/aws-mobile-appsync-events-starter-android"}},{tagline:"A React application that uses the events sample API",externalLink:{text:"See the React project",href:"https://github.com/aws-samples/aws-mobile-appsync-events-starter-react"}},{tagline:"An Angular application that uses the chat sample API",externalLink:{text:"See the Angular project",href:"https://github.com/aws-samples/aws-mobile-appsync-chat-starter-angular"}},{tagline:"A React Native application that uses the events sample API",externalLink:{text:"See the React Native project",href:"https://github.com/aws-samples/aws-mobile-appsync-events-starter-react-native"}}]},Mve={dark:"tileTabIcon awsui-util-show-in-dark-mode",light:"tileTabIcon awsui-util-hide-in-dark-mode"},IO="publish",xoe="subscribe";function Loe(t){if(t){const n=t.getRootSubscriptionTypeName()||"Subscription",a=t.getRootMutationTypeName()||"Mutation";let o,s;for(let c=0;c<t.typeRecords.size;c++){const u=t.typeRecords.get(c);if(u.typeConfig.name===n&&(o=u),u.typeConfig.name===a&&(s=u),o&&s)break}if(o&&s)return Moe(s)&&koe(o)}return!1}function koe(t){return t.typeConfig.fields.some(n=>n.name===xoe&&n.directives.some(a=>a.name==="aws_subscribe"&&a.args.some(o=>o.name==="mutations"&&o.value.includes(IO))))}function Moe(t){return t.typeConfig.fields.some(n=>n.name===IO)}var Foe=Object.defineProperty,Uoe=Object.defineProperties,$oe=Object.getOwnPropertyDescriptors,CO=Object.getOwnPropertySymbols,joe=Object.prototype.hasOwnProperty,Voe=Object.prototype.propertyIsEnumerable,RO=(t,n,a)=>n in t?Foe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Boe=(t,n)=>{for(var a in n||(n={}))joe.call(n,a)&&RO(t,a,n[a]);if(CO)for(var a of CO(n))Voe.call(n,a)&&RO(t,a,n[a]);return t},Goe=(t,n)=>Uoe(t,$oe(n));function vi(t){const n=t.panoramaTag?{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(`${t.panoramaTag}Copy`)}:{};return i.createElement("div",{className:"code-box-with-copy"},i.createElement("div",{className:"inline-block code-block"},i.createElement("pre",{className:"highlight-realtime highlight-base"},i.createElement("code",{className:"highlight-text"},t.text))),i.createElement(wc.A,Goe(Boe({},n),{copyButtonText:(0,l.Ay)`Copy`,copyErrorText:(0,l.Ay)`Failed to copy`,copySuccessText:(0,l.Ay)`Copied`,textToCopy:t.value,copyButtonAriaLabel:l.Ay.translate("Copy ${0}",(0,l.Ay)`${t.ariaLabel}`)})))}const zoe=(t,n,a,o)=>({header:"Connect a client",intro:{text1:["You can use any GraphQL client to connect to your AppSync GraphQL API.","We recommend using the AWS Amplify client."]},note:{text1:"Note: Install and configure both npm and Amazon CLI before getting started.",link1:{label:"These instructions work with the Amplify v6 client.",href:"https://docs.amplify.aws/react/build-a-backend/graphqlapi/connect-to-api/#configure-the-default-authorization-mode"},link2:{label:"Learn more about npm",href:"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm"},link3:{label:"Learn more about Amazon CLI",href:"https://aws.amazon.com/cli/"}},amplifyInstall:{text1:"To get started, on your local machine, in your project folder, install the Amplify library:",ariaLabel:"aws-amplify install command",code1:{text:"$ npm install aws-amplify",value:"npm install aws-amplify"}},downloadConfig:{text1:"Download your configuration file and place it in your project folder."},amplifyImport:{text1:"In your code, import the Amplify Library and your configuration to set up Amplify.",ariaLabel:"aws-amplify import command",code1:{text:`import { Amplify } from 'aws-amplify';
import config from './aws-exports.js';

Amplify.configure(config);`,value:`import { Amplify } from 'aws-amplify';
import config from './aws-exports.js';

Amplify.configure(config);`}},amplifyConfigure:{text1:"Alternatively, use the snippet with your API configuration to set up Amplify.",ariaLabel:"aws-amplify configuration command",code1:{text:`import { Amplify } from 'aws-amplify';

Amplify.configure({
  API: {
    GraphQL: {
      endpoint: '${a}',
      region: '${o}',
      defaultAuthMode: '${n}',
${n==="apiKey"&&t?`      apiKey: '${Cc(t.id)}'
`:""}    }
  }
});`,value:`import { Amplify } from 'aws-amplify';

Amplify.configure({
  API: {
    GraphQL: {
      endpoint: '${a}',
      region: '${o}',
      defaultAuthMode: '${n}',
${n==="apiKey"&&t?`      apiKey: '${t.id}'
`:""}    }
  }
});`}}}),qoe=(t,n)=>({header:"Generate codegen",intro:{text1:"You can use the Amplify toolchain to autogenerate strongly-typed client SDKs for your GraphQL API with its \u201Ccodegen\u201D feature.",link1:{label:"Learn more.",href:"https://docs.amplify.aws/cli/graphql/client-code-generation/"},text2:"To generate code files that you can use in your application, follow the steps below."},codegenAdd:{text1:"Go to your frontend app's root directory and run the following command in the Terminal:",ariaLabel:"add codegen command",code1:{text:`$ npx @aws-amplify/cli codegen add --apiId ${t} --region ${n}`,value:`npx @aws-amplify/cli codegen add --apiId ${t} --region ${n}`}},codegen:{text1:["This will download your API's schema and by default generate client helper code into the src/graphql folder.","After every API deployment, you can rerun the following command to generate updated GraphQL statement and types:"],ariaLabel:"rerun codegen command",code1:{text:"$ npx @aws-amplify/cli codegen",value:"npx @aws-amplify/cli codegen"}}}),Koe=(t,n,a,o)=>({header:"Subscribe to real-time events",sampleCode:{text1:["Once you have generated the codedgen, copy the configuration file to your application src directory.","For example, in a Next.js application, you can use the sample code below to get up and running."],ariaLabel:"subscribe to real-time events command",code1:{text:`'use client';

import { Amplify } from 'aws-amplify';
import { generateClient } from 'aws-amplify/api';
import { useEffect, useState } from 'react';

// The path of your codegen files. You may need to update this.
import { publish } from './graphql/mutations';
import { subscribe } from './graphql/subscriptions';

// Your Amplify configuration.
Amplify.configure({
    API: {
        GraphQL: {
            endpoint: '${a}',
            region: '${o}',
            defaultAuthMode: '${n}',${n==="apiKey"?`
            apiKey: '${Cc(t?.id)}',`:""}
        },
    },
});

const client = generateClient();

export default function RealtimeStarterPage() {
    const [data, setData] = useState('');
    const [received, setReceived] = useState('');

    // Define the channel name here
    let name = 'robots';

    // Publish data to subscribed clients
    async function handleSubmit(evt) {
        evt.preventDefault();
        if (!data) return;
        await client.graphql({
            query: publish,
            variables: { name, data },
        });
    }

    // subscribe to events
    useEffect(() => {
        const sub = client.graphql({ query: subscribe, variables: { name } }).subscribe({
            next: ({ data }) => setReceived(data.subscribe.data),
            error: (error) => console.warn(error),
        });
        return () => sub.unsubscribe();
    }, [name]);

    return (
    <div className="App">
        <header className="App-header">
        <p>Send/Push JSON to channel &quot;{name}&quot;...</p>
        <form onSubmit={handleSubmit}>
            <textarea
            rows="5"
            cols="60"
            name="description"
            onChange={(e) => setData(e.target.value)}
            value={data}
            placeholder="Enter valid JSON here... (use quotes for keys and values)"
            ></textarea>
            <br />
            <input type="submit" value="Submit" />
        </form>
        <p>Subscribed/Listening to channel &quot;{name}&quot;...</p>
        <pre>{!received || JSON.stringify(JSON.parse(received), null, 2)}</pre>
        </header>
    </div>
    );
}`,value:`'use client';

import { Amplify } from 'aws-amplify';
import { generateClient } from 'aws-amplify/api';
import { useEffect, useState } from 'react';

// The path of your codegen files. You may need to update this.
import { publish } from './graphql/mutations';
import { subscribe } from './graphql/subscriptions';

// Your Amplify configuration.
Amplify.configure({
    API: {
        GraphQL: {
            endpoint: '${a}',
            region: '${o}',
            defaultAuthMode: '${n}',${n==="apiKey"?`
            apiKey: '${t?.id}',`:""}
        },
    },
});

const client = generateClient();

export default function RealtimeStarterPage() {
    const [data, setData] = useState('');
    const [received, setReceived] = useState('');

    // Define the channel name here
    let name = 'robots';

    // Publish data to subscribed clients
    async function handleSubmit(evt) {
        evt.preventDefault();
        if (!data) return;
        await client.graphql({
            query: publish,
            variables: { name, data },
        });
    }

    // subscribe to events
    useEffect(() => {
        const sub = client.graphql({ query: subscribe, variables: { name } }).subscribe({
            next: ({ data }) => setReceived(data.subscribe.data),
            error: (error) => console.warn(error),
        });
        return () => sub.unsubscribe();
    }, [name]);

    return (
    <div className="App">
        <header className="App-header">
        <p>Send/Push JSON to channel &quot;{name}&quot;...</p>
        <form onSubmit={handleSubmit}>
            <textarea
            rows="5"
            cols="60"
            name="description"
            onChange={(e) => setData(e.target.value)}
            value={data}
            placeholder="Enter valid JSON here... (use quotes for keys and values)"
            ></textarea>
            <br />
            <input type="submit" value="Submit" />
        </form>
        <p>Subscribed/Listening to channel &quot;{name}&quot;...</p>
        <pre>{!received || JSON.stringify(JSON.parse(received), null, 2)}</pre>
        </header>
    </div>
    );
}`}}}),Woe=(t,n)=>({header:"Generate \u201Cmodels\u201D for Android, Swift, Flutter, and JavaScript DataStore",getIntrospection:{text1:['The Android, Swift, Flutter, and DataStore on JavaScript use the "modelgen" pattern to interact with the client library.',"To generate models, first download your schema:"],ariaLabel:"download schema command",code1:{text:`$ aws appsync get-introspection-schema --api-id ${t} --region ${n} --format SDL schema.graphql`,value:`aws appsync get-introspection-schema --api-id ${t} --region ${n} --format SDL schema.graphql`}},codegenModels:{text1:"Then, run the following command from your frontend application's root directory:",ariaLabel:"codegen from models command",code1:{text:`$ npx @aws-amplify/cli codegen models \\
--model-schema schema.graphql \\
--target [android|ios|flutter|javascript|typescript] \\
--output-dir ./`,value:`npx @aws-amplify/cli codegen models \\
--model-schema schema.graphql \\
--target [android|ios|flutter|javascript|typescript] \\
--output-dir ./`}}}),Hoe={header:"Next steps",amplifyLearn:{text1:"To learn more about the Amplify clients for JavaScript, Android, Flutter, Swift, and React Native, visit Amplify Documentation:",link1:{label:"https://docs.amplify.aws",href:"https://docs.amplify.aws"}},appsyncLearn:{text1:"To learn more about AppSync features, visit AppSync Developer Guide:",link1:{label:"https://docs.aws.amazon.com/appsync/latest/devguide/what-is-appsync.html",href:"https://docs.aws.amazon.com/appsync/latest/devguide/what-is-appsync.html"}}},Joe={[k.API_KEY]:"apiKey",[k.IAM]:"iam",[k.LAMBDA]:"lambda",[k.OIDC]:"oidc",[k.USER_POOLS]:"userPool"},Yoe=(t,n,a,o,s)=>({clientConnect:zoe(n,a,o,s),generateCodegen:qoe(t,s),subscribeToRealtime:Koe(n,a,o,s),generateModels:Woe(t,s),nextSteps:Hoe});function Qoe({apiKey:t,graphqlApi:n,isRealtimeAPI:a,region:o}){const s=Joe[n.graphqlConfig.authenticationType],c=Yoe(n.apiId,t,s,n.graphqlConfig.uris.GRAPHQL,o),u=p=>typeof p!="string"?p.map(h=>`${l.Ay.translate(h)} `):l.Ay.translate(p);return i.createElement(it.A,{header:i.createElement(be.A,{variant:"h2"},(0,l.Ay)`Integrate with your app`),"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":et("Integrate with your app")},i.createElement($.A,{size:"l",direction:"vertical"},i.createElement(q.A,{variant:"h4"},u(c.clientConnect.header)),i.createElement(q.A,{variant:"p"},u(c.clientConnect.intro.text1)),i.createElement(q.A,{variant:"p"},u(c.clientConnect.note.text1)," ",i.createElement(gt,{text:u(c.clientConnect.note.link1.label),href:c.clientConnect.note.link1.href}),i.createElement("ul",null,i.createElement("li",null,i.createElement(gt,{text:u(c.clientConnect.note.link2.label),href:c.clientConnect.note.link2.href})),i.createElement("li",null,i.createElement(gt,{text:u(c.clientConnect.note.link3.label),href:c.clientConnect.note.link3.href})))),i.createElement(q.A,{variant:"p"},u(c.clientConnect.amplifyInstall.text1),i.createElement(vi,{text:c.clientConnect.amplifyInstall.code1.text,value:c.clientConnect.amplifyInstall.code1.value,ariaLabel:c.clientConnect.amplifyInstall.ariaLabel,panoramaTag:"amplifyInstall"})),i.createElement($.A,{size:"xs",direction:"vertical"},i.createElement(q.A,{variant:"p"},u(c.clientConnect.downloadConfig.text1)),i.createElement(d5,{iconName:"download",variant:"normal",format:"JS",ddConfig:new Fq({graphqlEndpoint:n.graphqlConfig.uris.GRAPHQL,region:o,authenticationType:s,apiKey:t?t.id:null,hasAdditionalApiKeyAuth:n.graphqlConfig.hasAdditionalApiKeyAuth,hasAdditionalIamAuth:n.graphqlConfig.hasAdditionalIamAuth,hasAdditionalUserPoolsAuth:n.graphqlConfig.hasAdditionalUserPoolsAuth,hasAdditionalOidcAuth:n.graphqlConfig.hasAdditionalOidcAuth,apiName:n.name}),dataAnalyticsType:U.EVENT_DETAIL,dataAnalytics:"downloadConfig"})),i.createElement(q.A,{variant:"p"},u(c.clientConnect.amplifyImport.text1),i.createElement(vi,{text:c.clientConnect.amplifyImport.code1.text,value:c.clientConnect.amplifyImport.code1.value,ariaLabel:c.clientConnect.amplifyImport.ariaLabel,panoramaTag:"amplifyImport"})),i.createElement(q.A,{variant:"p"},u(c.clientConnect.amplifyConfigure.text1),i.createElement(vi,{text:c.clientConnect.amplifyConfigure.code1.text,value:c.clientConnect.amplifyConfigure.code1.value,ariaLabel:c.clientConnect.amplifyConfigure.ariaLabel,panoramaTag:"amplifyConfigure"}))),i.createElement($.A,{size:"l",direction:"vertical"},i.createElement(q.A,{variant:"h4"},u(c.generateCodegen.header)),i.createElement(q.A,{variant:"p"},u(c.generateCodegen.intro.text1)," ",i.createElement(gt,{text:u(c.generateCodegen.intro.link1.label),href:c.generateCodegen.intro.link1.href}),i.createElement("br",null),u(c.generateCodegen.intro.text2)),i.createElement(q.A,{variant:"p"},u(c.generateCodegen.codegenAdd.text1),i.createElement(vi,{text:c.generateCodegen.codegenAdd.code1.text,value:c.generateCodegen.codegenAdd.code1.value,ariaLabel:c.generateCodegen.codegenAdd.ariaLabel,panoramaTag:"codegenAdd"})),i.createElement(q.A,{variant:"p"},u(c.generateCodegen.codegen.text1),i.createElement(vi,{text:c.generateCodegen.codegen.code1.text,value:c.generateCodegen.codegen.code1.value,ariaLabel:c.generateCodegen.codegen.ariaLabel,panoramaTag:"codegenAdd"}))),a&&i.createElement($.A,{size:"l",direction:"vertical"},i.createElement(q.A,{variant:"h4"},u(c.subscribeToRealtime.header)),i.createElement(q.A,{variant:"p"},u(c.subscribeToRealtime.sampleCode.text1),i.createElement(vi,{text:c.subscribeToRealtime.sampleCode.code1.text,value:c.subscribeToRealtime.sampleCode.code1.value,ariaLabel:c.subscribeToRealtime.sampleCode.ariaLabel}))),i.createElement($.A,{size:"l",direction:"vertical"},i.createElement(q.A,{variant:"h4"},u(c.generateModels.header)),i.createElement(q.A,{variant:"p"},u(c.generateModels.getIntrospection.text1),i.createElement(vi,{text:c.generateModels.getIntrospection.code1.text,value:c.generateModels.getIntrospection.code1.value,ariaLabel:c.generateModels.getIntrospection.ariaLabel,panoramaTag:"getIntrospection"})),i.createElement(q.A,{variant:"p"},u(c.generateModels.codegenModels.text1),i.createElement(vi,{text:c.generateModels.codegenModels.code1.text,value:c.generateModels.codegenModels.code1.value,ariaLabel:c.generateModels.codegenModels.ariaLabel}))),i.createElement($.A,{size:"l",direction:"vertical"},i.createElement(q.A,{variant:"h4"},u(c.nextSteps.header)),i.createElement($.A,{size:"xs",direction:"vertical"},i.createElement(q.A,{variant:"p"},u(c.nextSteps.amplifyLearn.text1)),i.createElement(gt,{text:c.nextSteps.amplifyLearn.link1.label,href:c.nextSteps.amplifyLearn.link1.href})),i.createElement($.A,{size:"xs",direction:"vertical"},i.createElement(q.A,{variant:"p"},u(c.nextSteps.appsyncLearn.text1)),i.createElement(gt,{text:c.nextSteps.appsyncLearn.link1.label,href:c.nextSteps.appsyncLearn.link1.href}))))}var Xoe=Object.defineProperty,Zoe=Object.defineProperties,ese=Object.getOwnPropertyDescriptors,wO=Object.getOwnPropertySymbols,tse=Object.prototype.hasOwnProperty,nse=Object.prototype.propertyIsEnumerable,PO=(t,n,a)=>n in t?Xoe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,_f=(t,n)=>{for(var a in n||(n={}))tse.call(n,a)&&PO(t,a,n[a]);if(wO)for(var a of wO(n))nse.call(n,a)&&PO(t,a,n[a]);return t},OO=(t,n)=>Zoe(t,ese(n));function rse(){var t,n;const a=de(),o=(0,G.Zp)(),s=mt(),c=ne(O=>O.entities.get(O.environment.selectedApiId)),u=ne(O=>O.localSchema),p=ne(O=>O.customdomains.customDomains),[h,f]=yc(),y=f?.length>0?f[f.length-1]:new cr,A=f?.length!==0&&Loe(u),E=ase(u),b=c.graphqlConfig.isMergedApi(),[C,I]=(0,i.useState)((t=c.graphqlConfig.uris.GRAPHQL)!=null?t:""),[R,L]=(0,i.useState)({schema:!E,queries:!E}),{result:P}=_n(Bt.areCustomDomainsEnabled);Vt(vt.APIS,ct.VIEW_RESOURCE),(0,i.useLayoutEffect)(()=>{const O=c?.graphqlConfig.isMergedApi()?AG:gU;a(Ct({get:O})),a(Vr(!0)),window.scroll(0,0)},[]),(0,i.useEffect)(()=>{C||I(c.graphqlConfig.uris.GRAPHQL)},[c.graphqlConfig.uris.GRAPHQL]),(0,i.useEffect)(()=>{const O=p.networkStatus===Xe.NOT_LOADED;A&&O&&P&&a(WP())},[A,p.networkStatus]);const F=O=>{L(OO(_f({},R),{[O]:!R[O]}))},x=E?i.createElement(Tn.A,{name:"status-positive",variant:"success"}):null;return!c||vn(c.recordStatus.status)?i.createElement(Et.A,{size:"large"}):i.createElement(wn.A,{header:i.createElement($t,{title:c.name})},i.createElement($.A,{size:"l"},b&&i.createElement(Hae,null),b&&i.createElement(Noe,null),!b&&_oe.map(O=>i.createElement(mn.A,{key:O.containerHeader,variant:"container",expanded:R[O.expandedFlag],onChange:()=>F(O.expandedFlag),headerText:i.createElement("span",{role:"img","aria-label":"Icon status positive"},l.Ay.translate(O.containerHeader)," ",x)},i.createElement($.A,{size:"m"},i.createElement($.A,{size:"xxxs"},O.content.map(j=>i.createElement(q.A,{variant:"p",key:j},l.Ay.translate(j)))),i.createElement(K.A,{ariaLabel:l.Ay.translate(O.button.text),onClick:()=>o(O.button.href),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":et(O.button.text)},l.Ay.translate(O.button.text)),i.createElement(gt,OO(_f({},O.externalLink),{panoramaTag:"learnMore"}))))),i.createElement(Qoe,{apiKey:y,graphqlApi:c,region:s,isRealtimeAPI:A}),A&&i.createElement(Rn.A,{actions:i.createElement(Dae,{ariaLabel:(0,l.Ay)`Download`,text:(0,l.Ay)`Download`,variant:"primary",realtimeJsConfig:new $q({graphqlEndpoint:C,region:s,authenticationType:c.graphqlConfig.authenticationType,apiKey:(n=y?.id)!=null?n:null,apiName:c.name}),format:w_.JS})}),!A&&i.createElement(it.A,{header:i.createElement(be.A,{variant:"h2"},l.Ay.translate(TO.containerHeader)),"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"clientSamples"},i.createElement($.A,{size:"xs"},TO.samples.map(O=>i.createElement("div",{key:O.tagline},i.createElement(q.A,{variant:"p"},i.createElement("strong",null,l.Ay.translate(O.tagline))),i.createElement(gt,_f({},O.externalLink))))))))}const ase=t=>{const n=!t.text||!t.isInitialized,a=t.typeRecords.size===0;return!(n&&a)};function ise(){var t;const n=(0,G.Zp)(),a=(0,G.zy)(),o=(0,G.g)(),{isLoading:s,result:c}=_n(Bt.isEventApiEnabled),u=de(),p=dn(),h=St(),f=ne(I=>I.pagination.apis),y=String((t=o.apiId)!=null?t:"").replace(/[^a-z0-9]/gi,"");(0,i.useEffect)(()=>{var I;(y!==p||(I=a?.state)!=null&&I.fromWizard)&&g(y)},[y]),(0,i.useEffect)(()=>{if(f&&!f.isLoading&&f.lastUpdated!==null){if(f.items.size===0){n("/");return}p&&!h&&(g(""),n("/apis"))}},[f,p]),(0,i.useEffect)(()=>{h?.isGraphQLApi()&&(A(h.apiId),u(QU()),u(pb(Ry)))},[h?.apiId]);const g=I=>{u(YU()),u(Ps(I)),u(lc("")),u(jA(o.versionId)),u(Fi(N.API)),u(Fi(N.AWS_RESOURCES))},A=I=>{u(dp({paginationKey:{apiId:I},paginateRecord:new ke}))},E=({helpSlug:I,isOpen:R})=>{I&&u(Ct(I)),R!==void 0&&u(Co(R))},b=I=>{u(na(Kr.from(I)))},C=I=>{u(Nn(I))};return s||f.isLoading||!h||vn(h.recordStatus.status)?i.createElement(yr,null):c&&h.isEventApi()?i.createElement(G.BV,null,i.createElement(G.qh,{path:"event/*",element:i.createElement(O3,{updateHelpPanel:E,addFlashbar:b,setContentType:C})}),i.createElement(G.qh,{path:"*",element:i.createElement(G.C5,{to:"./event"})})):h.isGraphQLApi()?i.createElement(G.BV,null,i.createElement(G.qh,{path:"home",element:i.createElement(rse,null)}),i.createElement(G.qh,{path:"schema/*",element:i.createElement(wJ,null)}),i.createElement(G.qh,{path:"datasources/*",element:i.createElement(aY,null)}),i.createElement(G.qh,{path:"functions/*",element:i.createElement(jQ,null)}),i.createElement(G.qh,{path:"queries/*",element:i.createElement(Ree,null)}),i.createElement(G.qh,{path:"cache",element:i.createElement(Sae,null)}),i.createElement(G.qh,{path:"settings/*",element:i.createElement(rae,null)}),i.createElement(G.qh,{path:"monitoring",element:i.createElement(uae,null)}),i.createElement(G.qh,{path:"*",element:i.createElement(G.C5,{to:"./home"})})):i.createElement(G.C5,{to:"#/apis"})}const ose={graphql:{pathname:"/create"},event:{pathname:"/createApi",search:"?type=event"}};function sse({hasMultipleApiTypes:t}){const n=(0,G.Zp)();return t?i.createElement(mi.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"dashboardCreateApi",onItemClick:({detail:a})=>{n(ose[a.id])},items:[{text:(0,l.Ay)`GraphQL API`,id:"graphql"},{text:(0,l.Ay)`Event API`,id:"event"}]},(0,l.Ay)`Create API`):i.createElement(K.A,{"data-testid":"api-page-create-button","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"dashboardCreateApi",variant:"primary",onClick:()=>{n("/create")}},(0,l.Ay)`Create API`)}function lse({hasMultipleApiTypes:t,selectedApiId:n,openModel:a}){const o=(0,G.Zp)(),s=!n;return i.createElement($.A,{size:"s",direction:"horizontal"},i.createElement(K.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"dashboardEditApi",disabled:!n,onClick:()=>{o(`/${n}/v1/home`)}},(0,l.Ay)`Edit`),i.createElement(K.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"dashboardDeleteApi",disabled:s,"data-testid":"api-page-delete-button",onClick:a},(0,l.Ay)`Delete`),i.createElement(sse,{hasMultipleApiTypes:t}))}function cse({hasMultipleApiTypes:t}){var n;const[a,o]=(0,i.useState)([]),[s,c]=(0,i.useState)(!1),[u,p,h]=Hp(),f=a[0],y=HB(f?.apiId),g=de();(0,i.useLayoutEffect)(()=>{g(Ct({get:Cs,args:!0}))},[]),Vt(vt.APIS,ct.LIST_RESOURCE),(0,i.useEffect)(()=>{var E;const b=y?.status===H.DELETING,C=!y&&!f,I=y&&f.recordStatus.status!==H.DELETE_SUCCESS;if(!(y?.status===H.ERRORED&&f.recordStatus.status!==H.ERRORED)&&(C||b||I))return;const L=!y&&((E=f.recordStatus)==null?void 0:E.status),P=y?.status===H.DELETE_SUCCESS;L||P?(g(na(Kr.from({type:"success",dismissible:!0,shownWhen:["api-list-table"],info:(0,l.Ay)`Deletion successful`,description:(0,l.Ay)`${f?.name} was successfully deleted.`}))),o([])):(g(na(Kr.from({type:"error",dismissible:!0,shownWhen:["api-list-table"],info:(0,l.Ay)`Deletion failed`,description:(0,l.Ay)`${f?.name} failed to delete. ${y?.message}`}))),h()),c(!1)},[y]);const A=()=>{g(W$({entity:f}))};return i.createElement(i.Fragment,null,i.createElement(Rc,{visible:s,i18nStrings:{modalContentText:[l.Ay.translate("You are permanently deleting this ${0}.","API"),l.Ay.translate("This data will no longer be available after deletion.")].join(" "),inputDescriptionText:"Enter the API name into the field below to confirm deletion",actionButtonText:"Delete",cancelButtonText:"Cancel"},onDismiss:()=>c(!1),triggerAction:A,header:(0,l.Ay)`Delete ${f?.name}?`,confirmText:f?.name}),i.createElement(oo,{tableApiCollection:p.filter(E=>E.apiId!==""),hasMultipleApiTypes:t,loading:u,selected:a,setSelected:o,headerActions:i.createElement(lse,{hasMultipleApiTypes:t,selectedApiId:(n=a[0])==null?void 0:n.apiId,openModel:()=>c(!0)}),selectionType:"single",columns:sre,showPreferences:!0}))}const use=v.p+"c016a2c056cd5ab1f918.svg",dse=v.p+"968f46e95d7bf77c8960.svg",pse=t=>[{title:"GraphQL API",img:{url:Ys(use),alt:"GraphQL logo"},description:"A GraphQL API manages a single API by providing a single endpoint to query or update data securely from multiple databases, microservices, and APIs.",action:{onClick:n=>{n.preventDefault(),t("/create")},text:"Create GraphQL API",testId:"create-graphql"}},{title:"Event API",img:{url:Ys(dse),alt:"Event data traveling between two cogs"},description:"AppSync Event API broadcasts real-time updates to subscribed clients over serverless WebSocket channels, augmented by massively scalable client connection management capabilities.",action:{onClick:n=>{n.preventDefault(),t({pathname:"/createApi",search:"?type=event"})},text:"Create event API",testId:"create-event"}}],mse={header:t=>t.title,sections:[{content:({img:t})=>i.createElement("div",{role:"img","aria-label":l.Ay.translate(t.alt)},i.createElement("img",{src:t.url,height:"68px",width:"100%",alt:""}))},{content:({description:t})=>l.Ay.translate(t)},{content:({action:t})=>i.createElement(K.A,{onClick:t.onClick,"data-testid":t.testId,"data-analytics-type":U.EVENT_VALUE,"data-analytics":t.testId},l.Ay.translate(t.text))}]};function hse(){const t=(0,G.Zp)();return i.createElement(mn.A,{headerText:(0,l.Ay)`API types`,variant:"container",defaultExpanded:!0},i.createElement(Ph.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"createApiType",items:pse(t),cardDefinition:mse,cardsPerRow:[{cards:1},{cards:2,minWidth:760}],totalItemsCount:2,variant:"container"}))}function fse(){const{isLoading:t,result:n}=_n(Bt.isEventApiEnabled);return t?i.createElement(yr,null):i.createElement($.A,{size:"l"},n&&i.createElement(hse,null),i.createElement(cse,{hasMultipleApiTypes:n}))}var yse=Object.defineProperty,gse=Object.defineProperties,Ase=Object.getOwnPropertyDescriptors,DO=Object.getOwnPropertySymbols,Ese=Object.prototype.hasOwnProperty,bse=Object.prototype.propertyIsEnumerable,NO=(t,n,a)=>n in t?yse(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,xf=(t,n)=>{for(var a in n||(n={}))Ese.call(n,a)&&NO(t,a,n[a]);if(DO)for(var a of DO(n))bse.call(n,a)&&NO(t,a,n[a]);return t},_O=(t,n)=>gse(t,Ase(n));function vse(t){const n=(0,G.Zp)(),[a,o]=(0,i.useState)({pageSize:10}),{items:s,filteredItemsCount:c,collectionProps:u,filterProps:p,paginationProps:h}=(0,Wn.G)(t.customDomains,{filtering:{fields:["name"]},pagination:{pageSize:a.pageSize},sorting:{},selection:{trackBy:"name",keepSelection:!0}}),f=[{cell:g=>i.createElement(ue.A,{onFollow:A=>{A.preventDefault(),n(`${g.name}/details`)}},g.name),header:(0,l.Ay)`Domain Name`,id:"name",sortingField:"name"},{cell:g=>g.deleting?i.createElement(Or.A,{type:"loading"},(0,l.Ay)`Deleting`):i.createElement(Or.A,null,(0,l.Ay)`Ready`),width:120,header:(0,l.Ay)`Status`,id:"status"},{cell:g=>g.apiName==="-"?g.apiName:i.createElement(ue.A,{href:`#/${g.apiId}/v1/home`},g.apiName),header:(0,l.Ay)`API Assocation`,id:"apiAssociation"},{cell:g=>g.description,header:(0,l.Ay)`Description`,id:"description"}],y=t.selectedCustomDomains.length>0;return i.createElement(wn.A,{header:i.createElement($.A,{size:"m"},i.createElement(be.A,{variant:"h1"},(0,l.Ay)`Custom domain names`),t.alerts.map(g=>i.createElement(wt.A,{key:g,type:"error",dismissible:!0,dismissAriaLabel:l.Ay.translate("Dismiss error ${0}",g),onDismiss:()=>{t.dismissAlert({page:"list",message:g})},statusIconAriaLabel:(0,l.Ay)`error`},g)))},i.createElement(Ht.A,_O(xf({},u),{loading:t.isLoading,header:i.createElement(be.A,{actions:i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(K.A,{ariaLabel:(0,l.Ay)`Details`,disabled:!y,onClick:t.handleEdit},(0,l.Ay)`Details`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Delete`,disabled:!y,onClick:t.openDeletePopup},(0,l.Ay)`Delete`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Create domain name`,onClick:t.handleNew,variant:"primary"},(0,l.Ay)`Create domain name`))},(0,l.Ay)`Custom domain names`),empty:(0,l.Ay)`You do not have any custom domain names.`,columnDefinitions:f,items:s,preferences:i.createElement(ts.A,{title:(0,l.Ay)`Preferences`,confirmLabel:(0,l.Ay)`Confirm`,cancelLabel:(0,l.Ay)`Cancel`,preferences:a,onConfirm:({detail:g})=>o(g),pageSizePreference:{title:(0,l.Ay)`Items per page`,options:[{value:5,label:"5"},{value:10,label:"10"},{value:20,label:"20"},{value:50,label:"50"}]}}),visibleColumns:a.visibleContent,filter:i.createElement(ur.A,_O(xf({},p),{countText:ei(c),filteringAriaLabel:(0,l.Ay)`Filter`,filteringPlaceholder:(0,l.Ay)`Filter`})),pagination:i.createElement(Xr.A,xf({},h)),selectionType:"single",selectedItems:t.selectedCustomDomains,onSelectionChange:g=>{t.selectDomain(g.detail.selectedItems)}})),i.createElement(xn.A,{closeAriaLabel:"Close","data-testid":"custom-domain-confirmation-action-modal",visible:!!t.deletePopupId,header:(0,l.Ay)`Delete custom domain name`,onDismiss:t.closeDeletePopup,footer:i.createElement(Sl,{submitText:"Delete",onCancel:t.closeDeletePopup,onSubmit:t.deleteCustomDomain})},i.createElement(Rn.A,null,i.createElement(q.A,{margin:{bottom:"m"}},l.Ay.translate("Are you sure you want to delete ${0}?",t.deletePopupId)))))}var xO=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const Sse=t=>xO(void 0,null,function*(){const n=t.maxRetries||20,a=t.interval||2e3,o=c=>xO(void 0,null,function*(){const u=yield t.action(),p=t.completeCondition(u),h=c>=n;return p||h?u:(yield(0,Dl.cb)(a),yield o(c+1))});return yield(0,Dl.cb)(a),yield o(1)});function Fve(){return getConsolePartition()==="aws-cn"?CertificateType.IAM:CertificateType.ACM}function Tse(t,n){return t.reduce((o,s)=>s.value===n?s.label:o,"-")}function Ise(t){const[n,a]=(0,i.useState)([]),[o,s]=(0,i.useState)(null);Vt(vt.CUSTOM_DOMAINS,ct.LIST_RESOURCE);const c=(0,G.Zp)();(0,i.useEffect)(()=>{t.networkStatus===Xe.NOT_LOADED&&t.listDomains(),t.listApisNetworkStatus===Xe.NOT_LOADED&&t.listApis(),t.initSelected(),t.dismissAllAlerts(),t.dismissAllBanners()},[]);const u=I=>{a(I)},p=()=>{const[I]=n;c(`${I.name}/details`)},h=I=>{c(`${I}/details`)},f=()=>{c("create")},y=()=>{const[I]=n;s(I.name)},g=()=>{s(null)},A=()=>{const R=n[0].name;t.listPageRemoveDomain({domainName:R}),s(null)},E=t.networkStatus!==Xe.LOADED||t.listApisNetworkStatus!==Xe.LOADED,b=(I,R)=>I[R]||"-",C=I=>{const{domainName:R}=I,L=I.description&&I.description.length>0?I.description:"-",P=b(t.associatedApiIds,R);return{name:R,description:L,apiId:P,apiName:Tse(t.apis,P),deleting:t.customDomainDeleting[R]}};return i.createElement(vse,{handleEdit:p,handleNew:f,selectDomain:u,customDomains:t.list.map(C),networkErrors:t.networkErrors,isLoading:E,hasFetchedCustomDomainRecord:!0,selectedCustomDomains:n,goDirectlyToDetails:h,deletePopupId:o,openDeletePopup:y,closeDeletePopup:g,deleteCustomDomain:A,alerts:t.alerts,dismissAlert:t.dismissAlert})}const Cse=t=>{const n=[...t.customdomains.customDomains.errors,...t.customdomains.apis.errors];return{networkStatus:t.customdomains.customDomains.networkStatus,listApisNetworkStatus:t.customdomains.apis.networkStatus,list:t.customdomains.customDomains.list,apis:t.customdomains.apis.list,associatedApiIds:t.customdomains.associatedApiIds,networkErrors:n,customDomainDeleting:t.customdomains.customDomainDeleting,alerts:Object.keys(t.customdomains.alerts.list)}},Rse=(0,te.connect)(Cse,{listDomains:WP,listApis:Gu,initSelected:Nae,dismissAllAlerts:Pl,dismissAllBanners:HP,listPageRemoveDomain:$ae,dismissAlert:Bu})(Ise);class wse extends i.Component{componentDidMount(){this.props.networkStatus==="NOT_LOADED"&&this.props.listCertificates()}render(){const n=this.props.networkStatus==="LOADING",a=this.props.listOfCertificates,o=this.props.networkErrors.length>0&&this.props.networkErrors[0],s=this.props.errorMessage,c=o||s;return i.createElement(X.A,{label:(0,l.Ay)`ACM Certificate`,errorText:c},i.createElement(ze.A,{"data-testid":"acm-certificate-select",placeholder:"*.example.com - aws:arn...",selectedOption:a.find(u=>u.value===this.props.selectedAcmCertificate),onChange:u=>this.props.setAcmCertificate(u.detail.selectedOption.value),statusType:n?"loading":void 0,loadingText:(0,l.Ay)`Fetching ACM Certificates`,empty:(0,l.Ay)`No ACM Certificates found.`,options:a,virtualScroll:a.length>500,disabled:this.props.disabled||this.props.networkErrors.length>0}))}}const Pse=t=>({listOfCertificates:t.customdomains.certificates.list,networkStatus:t.customdomains.certificates.networkStatus,networkErrors:t.customdomains.certificates.errors}),LO=(0,te.connect)(Pse,{listCertificates:Lae})(wse);function Ose(t){var n;return i.createElement("form",{onSubmit:t.handleSubmit},i.createElement(Rn.A,{header:i.createElement($t,{title:"Create domain name"}),errorText:(n=t.alerts)==null?void 0:n[0],actions:i.createElement(di,{onCancel:t.handleCancel,submitText:(0,l.Ay)`Create`,isLoading:t.isCreating})},i.createElement(Le,{title:"Domain Details"},i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`Domain Name`,description:(0,l.Ay)`A memorable URL that you can provide to your API users.`,errorText:t.domainNameError,"data-testid":"domain-name-input"},i.createElement(He.A,{placeholder:"api.example.com",type:"text",onChange:a=>t.setDomainName(a.detail.value),value:t.domainName})),i.createElement(LO,{selectedAcmCertificate:t.selectedAcmCertificate,setAcmCertificate:t.setAcmCertificate,errorMessage:t.selectedAcmCertificateError}),i.createElement(X.A,{label:(0,l.Ay)`Description`,errorText:t.domainDescriptionError},i.createElement(Qs.A,{placeholder:(0,l.Ay)`Description of this custom domain name`,onChange:a=>{a.detail.value.length>255?t.setDomainDescriptionError((0,l.Ay)`Description must be fewer than 255 characters.`):t.setDomainDescriptionError(""),t.setDomainDescription(a.detail.value)},value:t.domainDescription}))))))}class Dse extends i.Component{constructor(n){super(n),this.setDomainName=a=>{this.setState({domainName:a})},this.setAcmCertificate=a=>{this.setState({selectedAcmCertificate:a})},this.setDomainDescription=a=>{this.setState({domainDescription:a})},this.setDomainDescriptionError=a=>{this.setState({domainDescriptionError:a})},this.handleAddTagRow=()=>{const a=this.state.tags,o={key:"",value:""};this.setState({tags:[...a,o]})},this.handleDeleteTagRow=a=>{const o=this.state.tags.filter((s,c)=>a!==c);this.setState({tags:o})},this.handleUpdateTag=a=>{},this.handleSubmit=a=>{if(a.preventDefault(),this.setState({domainNameError:null,selectedAcmCertificateError:null}),this.state.domainName.length===0){this.setState({domainNameError:(0,l.Ay)`Domain name is required`});return}if(this.state.selectedAcmCertificate===void 0){this.setState({selectedAcmCertificateError:(0,l.Ay)`Certificate is required`});return}const o={domainName:this.state.domainName,description:this.state.domainDescription,certificateArn:this.state.selectedAcmCertificate||"",appsyncDomainName:"",hostedZoneId:""};this.props.createDomain(o)},this.handleCancel=a=>{a.preventDefault(),this.setState({redirect:!0})},this.state={domainName:"",domainNameError:null,selectedAcmCertificate:void 0,selectedAcmCertificateError:null,domainDescription:"",domainDescriptionError:null,tags:[],pageNetworkStatus:ge.NONE,redirect:!1,redirectToDetails:!1}}componentDidMount(){Li(vt.CUSTOM_DOMAINS,ct.CREATE_RESOURCE),this.props.dismissAllAlerts(),this.props.dismissAllBanners()}componentDidUpdate(){const n=this.state.pageNetworkStatus,a=this.props.networkStatus;n===ge.PROCESSING&&a===ge.SUCCESS&&this.setState({redirectToDetails:!0}),n!==a&&this.setState({pageNetworkStatus:a})}render(){return this.state.redirect?i.createElement(G.C5,{to:"/customdomains"}):this.state.redirectToDetails?i.createElement(G.C5,{to:`/customdomains/${this.state.domainName}/details`}):i.createElement(Ose,{handleCancel:this.handleCancel,handleSubmit:this.handleSubmit,isCreating:this.props.networkStatus===ge.PROCESSING,domainName:this.state.domainName,domainNameError:this.state.domainNameError,setDomainName:this.setDomainName,selectedAcmCertificate:this.state.selectedAcmCertificate,selectedAcmCertificateError:this.state.selectedAcmCertificateError,setAcmCertificate:this.setAcmCertificate,domainDescription:this.state.domainDescription,domainDescriptionError:this.state.domainDescriptionError,setDomainDescription:this.setDomainDescription,setDomainDescriptionError:this.setDomainDescriptionError,tags:this.state.tags||[],handleAddTagRow:this.handleAddTagRow,handleDeleteTagRow:this.handleDeleteTagRow,handleUpdateTag:this.handleUpdateTag,alerts:this.props.alerts})}}const Nse=t=>({networkStatus:t.customdomains.createPageStatus.networkStatus,alerts:Object.keys(t.customdomains.alerts.create)}),_se=(0,te.connect)(Nse,{createDomain:Mae,dismissAllAlerts:Pl,dismissAllBanners:HP})(Dse);var Si=v(57424);function xse(t){const n=(0,sa.tf)(t.acmCertificateArn);let a;if(n){const{resource:o}=(0,sa.qg)(t.acmCertificateArn);[,a]=o.split("/")}return n?i.createElement(gt,{href:(0,Fr.getResourceUrl)(t.acmCertificateArn),text:a}):i.createElement("span",null,"-")}function Lse(t){const n=[{key:(0,l.Ay)`Domain name`,value:t.domainName||"-"},{key:(0,l.Ay)`AppSync Domain Name`,value:t.appsyncDomain?i.createElement(kn,{label:(0,l.Ay)`AppSync Domain Name`,text:t.appsyncDomain,enablePanorama:!0}):"-"},{key:(0,l.Ay)`ACM Certificate ID`,value:i.createElement(xse,{acmCertificateArn:t.acmCertificateArn})},{key:(0,l.Ay)`AppSync GraphQL Endpoint`,value:i.createElement(kn,{label:(0,l.Ay)`AppSync GraphQL Endpoint`,text:t.domainName?`https://${t.domainName}/graphql`:"-",enablePanorama:!0})},{key:(0,l.Ay)`Description`,value:t.description||"-"},{key:(0,l.Ay)`AppSync Real-time Endpoint`,value:i.createElement(kn,{label:(0,l.Ay)`AppSync Real-time Endpoint`,text:t.domainName?`wss://${t.domainName}/graphql/realtime`:"-",enablePanorama:!0})}];return i.createElement(Le,{title:"Details",actions:i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(K.A,{ariaLabel:(0,l.Ay)`Delete`,loading:t.isRemoving,disabled:t.networkError,onClick:t.handleDelete},(0,l.Ay)`Delete`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Update`,disabled:t.isRemoving||t.networkError,onClick:t.handleEditDetails},(0,l.Ay)`Update`)),"data-testid":"domain-details-container",enablePanorama:!0},i.createElement(gn,{items:n,columns:2}))}function kse({apiId:t,apiName:n}){return n==="-"?i.createElement("span",null,"-"):i.createElement(ue.A,{href:`#/${t}/v1/home`},n)}const Mse=t=>{switch(t){case ge.SUCCESS:return"success";case ge.FAILED:return"error";default:return"loading"}};function Fse({isDisabled:t,networkError:n,handleEditAssociations:a}){return i.createElement(q.A,{margin:{vertical:"xs"},textAlign:"center",color:"inherit"},i.createElement($.A,{size:"xs"},i.createElement(q.A,{variant:"strong"},(0,l.Ay)`No Association`),i.createElement(q.A,{fontSize:"body-m"},(0,l.Ay)`No AppSync API has been associated with this custom domain name`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Associate an API`,disabled:t||n,onClick:a},(0,l.Ay)`Associate an API`)))}function Use({associationApiName:t,handleEditAssociations:n,handleUnsetAssociation:a,isDisabled:o,associationStatus:s,associationStatusMessage:c,networkError:u,associationId:p}){const h=[{key:(0,l.Ay)`API Name`,value:i.createElement(kse,{apiName:t||"",apiId:p})},{key:(0,l.Ay)`API ID`,value:p},{key:(0,l.Ay)`Association Connection Status`,value:i.createElement(Or.A,{type:Mse(s)},l.Ay.translate(c))}],f=!!p,y=o||u||s===ge.DISASSOCIATING||s===ge.PROCESSING;return i.createElement(Le,{title:(0,l.Ay)`API Association`,actions:i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(K.A,{ariaLabel:(0,l.Ay)`Disassociate`,disabled:!f||y,onClick:a},(0,l.Ay)`Disassociate`),i.createElement(K.A,{ariaLabel:(0,l.Ay)`Update`,disabled:y,onClick:n},(0,l.Ay)`Update`)),"data-testid":"api-association-container",enablePanorama:!0},f?i.createElement(gn,{items:h,columns:2}):i.createElement(Fse,{isDisabled:o,networkError:u,handleEditAssociations:n}))}var $se=Object.defineProperty,kO=Object.getOwnPropertySymbols,jse=Object.prototype.hasOwnProperty,Vse=Object.prototype.propertyIsEnumerable,MO=(t,n,a)=>n in t?$se(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Bse=(t,n)=>{for(var a in n||(n={}))jse.call(n,a)&&MO(t,a,n[a]);if(kO)for(var a of kO(n))Vse.call(n,a)&&MO(t,a,n[a]);return t};function Gse(t){return i.createElement($.A,{size:"l"},i.createElement(Lse,{handleDelete:t.handleDelete,handleEditDetails:t.handleEditDetails,domainName:t.domainName,acmCertificateArn:t.certificateArn,appsyncDomain:t.appsyncDomainName,description:t.description,networkError:t.networkError,isRemoving:t.isRemoving}),i.createElement(Use,{associationId:t.associationId,associationApiName:t.associationApiName,handleEditAssociations:t.handleEditAssociations,handleUnsetAssociation:t.handleUnsetAssociation,associationStatus:t.apiAssociationStatus,isDisabled:t.isRemoving,associationStatusMessage:t.associationStatusMessage,networkError:t.networkError}))}function zse(){return i.createElement(Si.A,{items:[{type:"success",dismissLabel:"Dismiss",loading:!0,dismissible:!1,content:(0,l.Ay)`Deleting your custom domain name`,id:(0,l.Ay)`Deleting your custom domain name`}]})}function qse(t){return i.createElement(i.Fragment,null,i.createElement(Si.A,{items:t.banners.map(n=>({type:"error",dismissible:!0,dismissLabel:"Dismiss error",content:n,onDismiss:()=>t.dismissBanner({page:"details",message:n}),id:n}))}),t.isRemoving&&i.createElement(zse,null),i.createElement(wn.A,{header:i.createElement($.A,{size:"m"},i.createElement(be.A,{variant:"h1"},t.domainName),t.alerts.map(n=>i.createElement(wt.A,{key:n,dismissAriaLabel:l.Ay.translate("Dismiss error ${0}",n),type:"error",dismissible:!0,onDismiss:()=>{t.dismissAlert({page:"details",message:n})},statusIconAriaLabel:(0,l.Ay)`error`},n)))},t.isLoading?i.createElement(Et.A,null):i.createElement(Gse,Bse({},t))))}function Kse(t){const[n,a]=(0,i.useState)(ge.NONE),o=(0,G.Zp)(),{id:s}=(0,G.g)();Vt(vt.CUSTOM_DOMAINS,ct.VIEW_RESOURCE),(0,i.useEffect)(()=>{(!t.domainIsSelected||t.domainName!==s)&&t.getDetails({domainName:s}),(!t.associationIsSelected||t.domainName!==s)&&t.getAssociation({domainName:s}),t.apiListGetNetworkStatus===Xe.NOT_LOADED&&t.listApis(),t.dismissAllAlerts()},[]),(0,i.useEffect)(()=>{if(n===ge.REMOVING&&t.detailsSubmitNetworkStatus===ge.NONE){o("/customdomains");return}n!==t.detailsSubmitNetworkStatus&&a(t.detailsSubmitNetworkStatus)},[t.detailsSubmitNetworkStatus]);const c=()=>{o("edit-details")},u=()=>{o("edit-associations")},p=()=>{o("edit-tags")},h=()=>{t.unsetAssociation({domainName:s,apiId:t.apiAssociationId})},f=()=>{if(t.associationGetNetworkStatus!==Xe.EMPTY&&t.apiAssociationStatus!==ge.FAILED){t.setBanner({page:"details",message:(0,l.Ay)`You must remove associations from your custom domain name before you are able to delete it.`});return}t.removeDomain({domainName:s})},y=t.apiList.reduce((b,C)=>C.value===t.apiAssociationId?C.label:b,"-"),g=t.detailsGetNetworkStatus===Xe.LOADING||t.associationGetNetworkStatus===Xe.LOADING||t.apiListGetNetworkStatus===Xe.LOADING,A=t.detailsGetNetworkError||t.associationNetworkError||t.apiListError,E=t.detailsSubmitNetworkStatus===ge.REMOVING;return i.createElement(qse,{isLoading:g,isRemoving:E,handleEditDetails:c,handleEditAssociations:u,handleUnsetAssociation:h,handleEditTags:p,handleDelete:f,tags:t.tags,domainName:t.domainName,certificateArn:t.certificateArn,appsyncDomainName:t.appsyncDomainName,description:t.description,associationId:t.apiAssociationId,associationApiName:y,apiAssociationStatus:t.apiAssociationStatus,associationStatusMessage:t.deploymentDetail,networkError:A,networkRemoveError:t.detailsNetworkRemoveError,dismissBanner:t.dismissBanner,banners:t.banners,dismissAlert:t.dismissAlert,alerts:t.alerts})}const Wse=({customdomains:t})=>({detailsGetNetworkStatus:t.selectedCustomDomain.getNetworkStatus,associationGetNetworkStatus:t.selectedAssociation.getNetworkStatus,detailsSubmitNetworkStatus:t.selectedCustomDomain.submitNetworkStatus,apiListGetNetworkStatus:t.apis.networkStatus,domainIsSelected:t.selectedCustomDomain.domainIsSelected,associationIsSelected:t.selectedAssociation.associationIsSelected,domainName:t.selectedCustomDomain.domainName,certificateArn:t.selectedCustomDomain.certificateArn,appsyncDomainName:t.selectedCustomDomain.appsyncDomainName,description:t.selectedCustomDomain.description,tags:t.selectedCustomDomain.tags,apiAssociationId:t.selectedAssociation.apiId,apiList:t.apis.list,apiAssociationStatus:t.selectedAssociation.associationStatus,deploymentDetail:t.selectedAssociation.deploymentDetail,detailsGetNetworkError:t.selectedCustomDomain.getErrors.length>0,detailsNetworkRemoveError:t.selectedCustomDomain.removeErrors.length>0,associationNetworkError:t.selectedAssociation.errors.length>0,apiListError:t.apis.errors.length>0,banners:Object.keys(t.banners.details),alerts:Object.keys(t.alerts.details)}),Hse=(0,te.connect)(Wse,{getDetails:kae,getAssociation:jae,unsetAssociation:Bae,removeDomain:Uae,listApis:Gu,setBanner:_ae,dismissBanner:xae,dismissAlert:Bu,dismissAllAlerts:Pl})(Kse);class Jse extends i.Component{componentDidMount(){this.props.networkStatus==="NOT_LOADED"&&this.props.listApis()}render(){const n=this.props.networkStatus!=="LOADED",a=this.props.listOfApis;return i.createElement("div",null,i.createElement(X.A,{label:(0,l.Ay)`AppSync APIs`,description:"Select an existing AppSync API."},i.createElement(ze.A,{"data-testid":"appsync-api-select",placeholder:(0,l.Ay)`Select an API`,selectedOption:a.find(o=>o.value===this.props.selectedApi),onChange:o=>this.props.setApi(o.detail.selectedOption.value),statusType:n?"loading":void 0,disabled:this.props.disabled||this.props.networkErrors.length>0,loadingText:(0,l.Ay)`Fetching AppSync APIs`,filteringType:"auto",options:a,empty:(0,l.Ay)`No APIs found.`})))}}const Yse=t=>({listOfApis:t.customdomains.apis.list,networkStatus:t.customdomains.apis.networkStatus,networkErrors:t.customdomains.apis.errors}),Qse=(0,te.connect)(Yse,{listApis:Gu})(Jse);function Xse(){return i.createElement(Si.A,{items:[{type:"error",dismissible:!1,content:(0,l.Ay)`An error occurred while loading API Association information.`,id:(0,l.Ay)`An error occurred while loading API Association information.`}]})}function Zse(t){const[n,a]=i.useState(!0),c=ne(u=>u.customdomains.apis.list).some(u=>u.disabled)&&n;return i.createElement(i.Fragment,null,t.networkError&&i.createElement(Xse,null),i.createElement("form",{onSubmit:t.handleSubmit},i.createElement(Rn.A,{header:i.createElement($t,{title:(0,l.Ay)`Edit Association`}),actions:i.createElement(di,{onCancel:t.handleCancel,submitDisabled:t.loadingListOfApis,submitText:(0,l.Ay)`Update`,isLoading:t.isUpdating})},i.createElement($.A,{size:"l"},c&&i.createElement(wt.A,{statusIconAriaLabel:(0,l.Ay)`Info`,dismissible:!0,onDismiss:()=>a(!1)},(0,l.Ay)`Private APIs cannot be associated with custom domains.`),i.createElement(Le,{title:"Available AppSync APIs"},i.createElement(Qse,{setApi:t.setApi,selectedApi:t.selectedApi,disabled:!1})),t.alerts.map(u=>i.createElement(wt.A,{key:u,type:"error",dismissAriaLabel:l.Ay.translate("Dismiss error ${0}",u),dismissible:!0,onDismiss:()=>{t.dismissAlert({page:"editAssociation",message:u})},statusIconAriaLabel:(0,l.Ay)`error`},u))))))}class ele extends i.Component{constructor(n){super(n),this.setApi=a=>{this.setState({selectedApi:a})},this.handleSubmit=a=>{a.preventDefault(),this.props.setAssociation({apiId:this.state.selectedApi,domainName:this.props.domainName})},this.handleCancel=a=>{a.preventDefault(),this.setState({redirect:!0})},this.state={pageNetworkStatus:ge.NONE,selectedApi:void 0,redirect:!1}}componentDidMount(){Li(vt.CUSTOM_DOMAIN_ASSOCIATIONS,ct.EDIT_RESOURCE),this.props.domainIsSelected||this.setState({redirect:!0}),this.setState({selectedApi:this.props.selectedAssociationApiId}),this.props.dismissAllAlerts()}componentDidUpdate(){const n=this.state.pageNetworkStatus,a=this.props.associationNetworkStatus;n===ge.PROCESSING&&a===ge.SUCCESS&&this.setState({redirect:!0}),n!==a&&this.setState({pageNetworkStatus:a})}render(){const{domainName:n}=this.props;return this.state.redirect?i.createElement(G.C5,{to:`/customdomains/${n}/details`}):i.createElement(Zse,{handleCancel:this.handleCancel,handleSubmit:this.handleSubmit,isUpdating:this.props.associationNetworkStatus===ge.PROCESSING,loadingListOfApis:this.props.loading,selectedApi:this.state.selectedApi,setApi:this.setApi,networkError:this.props.networkError,alerts:this.props.alerts,dismissAlert:this.props.dismissAlert})}}const tle=t=>({loading:t.customdomains.apis.networkStatus===Xe.LOADING,selectedAssociationApiId:t.customdomains.selectedAssociation.apiId,domainIsSelected:t.customdomains.selectedCustomDomain.domainIsSelected,domainName:t.customdomains.selectedCustomDomain.domainName,networkError:t.customdomains.apis.errors.length>0,associationNetworkStatus:t.customdomains.editAssociationPageStatus.networkStatus,submitErrors:t.customdomains.editAssociationPageStatus.errors,alerts:Object.keys(t.customdomains.alerts.editAssociation)}),nle=(0,te.connect)(tle,{listApis:Gu,setAssociation:Vae,dismissAlert:Bu,dismissAllAlerts:Pl})(ele);function rle(){return i.createElement(Si.A,{items:[{type:"error",dismissible:!1,content:(0,l.Ay)`An error occurred while loading Domain information.`,id:(0,l.Ay)`An error occurred while loading Domain information.`}]})}function ale(t){return i.createElement(i.Fragment,null,t.networkError&&i.createElement(rle,null),i.createElement("form",{onSubmit:t.handleSubmit},i.createElement(Rn.A,{header:i.createElement($t,{title:"Edit Domain"}),actions:i.createElement(di,{onCancel:t.handleCancel,submitDisabled:!!t.domainDescriptionError,submitText:(0,l.Ay)`Update`,isLoading:t.isUpdating})},i.createElement(Le,{title:"Domain Details"},i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`Domain Name`,description:(0,l.Ay)`A memorable URL that you can provide to your API users`},i.createElement(He.A,{placeholder:"api.example.com",type:"text",disabled:!0,value:t.domainName})),i.createElement(LO,{selectedAcmCertificate:t.selectedAcmCertificate,setAcmCertificate:t.setAcmCertificate,disabled:!0}),i.createElement(X.A,{label:(0,l.Ay)`Description`,errorText:t.domainDescriptionError&&i.createElement("span",null,t.domainDescriptionError)},i.createElement(Qs.A,{placeholder:(0,l.Ay)`Description of this custom domain name`,onChange:n=>{n.detail.value.length>255?t.setDomainDescriptionError((0,l.Ay)`Description must be fewer than 255 characters.`):t.setDomainDescriptionError(""),t.setDomainDescription(n.detail.value)},value:t.domainDescription})))),t.alerts.map(n=>i.createElement(wt.A,{key:n,type:"error",dismissAriaLabel:l.Ay.translate("Dismiss error ${0}",n),dismissible:!0,onDismiss:()=>{t.dismissAlert({page:"editDetails",message:n})},statusIconAriaLabel:(0,l.Ay)`error`},n)))))}class ile extends i.Component{constructor(n){super(n),this.setAcmCertificate=a=>{this.setState({selectedAcmCertificate:a})},this.setDomainDescription=a=>{this.setState({domainDescription:a})},this.setDomainDescriptionError=a=>{this.setState({domainDescriptionError:a})},this.handleSubmit=a=>{a.preventDefault(),this.state.domainName.length!==0&&this.props.setDetails({domainName:this.state.domainName,certificateArn:this.state.selectedAcmCertificate,description:this.state.domainDescription,tags:this.props.tags})},this.handleCancel=a=>{a.preventDefault(),this.setState({redirect:!0})},this.state={domainName:"",selectedAcmCertificate:"",domainDescription:"",domainDescriptionError:null,pageNetworkStatus:ge.NONE,redirect:!1}}componentDidMount(){Li(vt.CUSTOM_DOMAINS,ct.EDIT_RESOURCE),this.props.domainIsSelected||this.setState({redirect:!0}),this.setState({domainName:this.props.domainName,selectedAcmCertificate:this.props.certificate,domainDescription:this.props.description}),this.props.dismissAllAlerts()}componentDidUpdate(){const n=this.state.pageNetworkStatus,a=this.props.detailsNetworkStatus;n===ge.PROCESSING&&a===ge.SUCCESS&&this.setState({redirect:!0}),n!==a&&this.setState({pageNetworkStatus:a})}render(){const{domainName:n}=this.props;return this.state.redirect?i.createElement(G.C5,{to:`/customdomains/${n}/details`}):i.createElement(ale,{handleCancel:this.handleCancel,handleSubmit:this.handleSubmit,isUpdating:this.props.detailsNetworkStatus===ge.PROCESSING,domainName:this.state.domainName,selectedAcmCertificate:this.state.selectedAcmCertificate,setAcmCertificate:this.setAcmCertificate,domainDescription:this.state.domainDescription,domainDescriptionError:this.state.domainDescriptionError,setDomainDescription:this.setDomainDescription,setDomainDescriptionError:this.setDomainDescriptionError,networkError:this.props.networkError,alerts:this.props.alerts,dismissAlert:this.props.dismissAlert})}}const ole=t=>({detailsNetworkStatus:t.customdomains.editDetailsPageStatus.networkStatus,domainName:t.customdomains.selectedCustomDomain.domainName,certificate:t.customdomains.selectedCustomDomain.certificateArn,description:t.customdomains.selectedCustomDomain.description,tags:t.customdomains.selectedCustomDomain.tags,domainIsSelected:t.customdomains.selectedCustomDomain.domainIsSelected,networkError:t.customdomains.certificates.errors.length>0,alerts:Object.keys(t.customdomains.alerts.editDetails)}),sle=(0,te.connect)(ole,{setDetails:Fae,dismissAlert:Bu,dismissAllAlerts:Pl})(ile);function lle(){return i.createElement(G.BV,null,i.createElement(G.qh,{index:!0,element:i.createElement(Hse,null)}),i.createElement(G.qh,{path:"/edit-details",element:i.createElement(sle,null)}),i.createElement(G.qh,{path:"/edit-associations",element:i.createElement(nle,null)}),i.createElement(G.qh,{path:"*",element:i.createElement(G.C5,{to:"."})}))}function cle(){return i.createElement(G.BV,null,i.createElement(G.qh,{index:!0,element:i.createElement(Rse,null)}),i.createElement(G.qh,{path:"create",element:i.createElement(_se,null)}),i.createElement(G.qh,{path:":id/details/*",element:i.createElement(lle,null)}),i.createElement(G.qh,{path:"*",element:i.createElement(G.C5,{to:"."})}))}const ule=v.p+"3a2f1d4902c63e1d16b0.svg",dle=v.p+"3f81f206c5bf8a02c330.svg",ra={pageTitle:"AWS AppSync",heroTagline:"API Services",tagLine:"Accelerate application development with serverless GraphQL and Pub/Sub APIs",createApi:"Create GraphQL or Pub/Sub API",graphic:"How it works",benefits:"Benefits and features",useCases:"Use cases",relatedServices:"Related services",gettingStarted:"Getting started",moreResources:"More resources"},ple=["AWS AppSync simplifies application development by letting you create a flexible API to securely access, manipulate, and combine data from one or more data sources. AppSync is a managed service that uses GraphQL to make it easy for applications to get exactly the data they need.","With AppSync, you can build scalable applications, including those requiring real-time updates, on a range of data sources such as NoSQL data stores, relational databases, HTTP APIs, and your custom data sources with AWS Lambda. For mobile and web apps, AppSync additionally provides local data access when devices go offline, and data synchronization with customizable conflict resolution, when they are back online."],Lf={buttonText:"Create API",subtext:"Estimated 3-5 mins"},mle=[{subheader:"Simplified data access",body:["AWS AppSync uses GraphQL, a data language that enables client apps to fetch, change and subscribe to data from servers. In a GraphQL query, the client specifies how the data is to be structured when it is returned by the server. This makes it possible for the client to query only for the data it needs, in the format that it needs it in.","GraphQL also includes a feature called \u201Cintrospection\u201D which lets new developers on a project discover the data available without requiring knowledge of the backend."]},{subheader:"Offline data synchronization",body:["Interact with and update your data, even when offline, with the Amplify DataStore. The Amplify DataStore is a queryable on-device DataStore for web, mobile and IoT developers that enables a local-first and familiar programming model to interact with data seamlessly whether you\u2019re online or offline. ","Powered by AWS AppSync, the DataStore provides versioning, conflict detection and resolution in the cloud to automatically merge data from different clients as well as provide data consistency and integrity."]},{subheader:"Real-time data access and updates",body:["Immediate updates across clients and devices. AWS AppSync lets you specify which portions of your data should be available in a real-time manner using GraphQL Subscriptions. GraphQL Subscriptions are simple statements in the application code that tell the service what data should be updated in real-time."]},{subheader:"Simple pub/sub APIs",body:["Get started without GraphQL. If all you want is a an ephemeral API that receives messages published to a channel and delivers those messages in real-time to subscribed clients, you can set up your API without any GraphQL knowledge or experience using AWS AppSyncs PubSub API wizard."]},{subheader:"Enterprise security and fine-grained access to control",body:["AWS AppSync allows several levels of data access and authorization depending on the needs of an application. Simple access can be protected by a key and more restrictive permission can be done with AWS Identity and Access Management using Roles.","Additionally, AWS AppSync integrates with Amazon Cognito User Pools for email and password functionality, social providers (Facebook, Google+, and Login with Amazon), and enterprise federation with SAML. Customers can use the Group functionality for logical organization of users and roles as well as OAuth features for application access."]},{subheader:"Out-of-the-Box Observability",body:["Monitoring, analytics, logging and tracing","-","With AWS AppSync you can easily configure AWS CloudWatch and AWS X-Ray to provide comprehensive logging and tracing for your GraphQL API."]}],hle=()=>[{title:"Unified data access",text:"Retrieve or modify data from multiple data sources (SQL, NoSQL, search data, REST endpoints, and serverless backends) with a single call. Query and create relations between data sources using GraphQL connections.",href:"https://aws.amazon.com/blogs/mobile/appsync-microservices/",ariaLabel:l.Ay.translate("Learn more about ${0}, opens in a new tab",(0,l.Ay)`Unified data access`)},{title:"Real-time collaboration",text:"Broadcast data from the backend to all connected clients (one-to-many) or between clients (many-to-many), such as in a second screen scenario where you broadcast the same data to all clients, who can then reply.",href:"https://aws.amazon.com/blogs/mobile/appsync-enhanced-filtering/",ariaLabel:l.Ay.translate("Learn more about ${0}, opens in a new tab",(0,l.Ay)`Real-time collaboration`)},{title:"Real-time chat application",text:"Build conversational mobile or web applications that support multiple private chat rooms, offer access to conversation history, and queue outbound messages, even when a device is offline.",href:"https://aws.amazon.com/blogs/mobile/appsync-enhanced-filtering/",ariaLabel:l.Ay.translate("Learn more about ${0}, opens in a new tab",(0,l.Ay)`Real-time chat application`)}],fle=()=>[{name:"Amazon DynamoDB",href:"https://aws.amazon.com/dynamodb/",description:"Fast and flexible NoSQL database service for any scale. Pay only for the throughput and storage you need.",ariaLabel:l.Ay.translate("Learn more about ${0}, opens in a new tab",(0,l.Ay)`Amazon DynamoDB`)},{name:"AWS Lambda",href:"https://aws.amazon.com/lambda/",description:"Run code without thinking about servers. Pay for only the compute time you consume.",ariaLabel:l.Ay.translate("Learn more about ${0}, opens in a new tab",(0,l.Ay)`AWS Lambda`)},{name:"AWS Aurora",href:"https://aws.amazon.com/rds/aurora/",description:"Designed for unparalleled high performance and availability at global scale with full MySQL and PostgreSQL compatibility",ariaLabel:l.Ay.translate("Learn more about ${0}, opens in a new tab",(0,l.Ay)`AWS Aurora`)}],yle=()=>[{text:"What is AWS AppSync?",href:"https://docs.aws.amazon.com/appsync/latest/devguide/what-is-appsync.html",estimatedRead:2,ariaLabel:l.Ay.translate("Learn more about ${0}, opens in a new tab",(0,l.Ay)`AWS AppSync`)},{text:"GraphQL Overview",href:"https://docs.aws.amazon.com/appsync/latest/devguide/graphql-overview.html",estimatedRead:2,ariaLabel:l.Ay.translate("Learn more about ${0}, opens in a new tab",(0,l.Ay)`GraphQL Overview`)},{text:"Getting Started with GraphQL",href:"https://docs.aws.amazon.com/appsync/latest/devguide/quickstart.html",estimatedRead:5,ariaLabel:l.Ay.translate("Learn more about ${0}, opens in a new tab",(0,l.Ay)`Getting Started with GraphQL`)},{text:"Getting Started with Pub/Sub",href:"https://docs.aws.amazon.com/appsync/latest/devguide/aws-appsync-real-time-create-generic-api-serverless-websocket.html",estimatedRead:5,ariaLabel:l.Ay.translate("Learn more about ${0}, opens in a new tab",(0,l.Ay)`Getting Started with Pub/Sub`)}],gle=()=>[{text:"Documentation",href:"https://docs.aws.amazon.com/appsync/index.html",ariaLabel:l.Ay.translate("Learn more about ${0}, opens in a new tab",(0,l.Ay)`AWS AppSync Documentation`)},{text:"AppSync FAQ",href:"https://aws.amazon.com/appsync/faqs/",ariaLabel:l.Ay.translate("Learn more about ${0}, opens in a new tab",(0,l.Ay)`AWS AppSync FAQs`)},{text:"Community Forum",href:"https://forums.aws.amazon.com/forum.jspa?forumID=280",ariaLabel:l.Ay.translate("Learn more about ${0}, opens in a new tab",(0,l.Ay)`Community Forum`)},{text:"Contact Us",href:"https://aws.amazon.com/contact-us/",ariaLabel:l.Ay.translate("Learn more about ${0}, opens in a new tab",(0,l.Ay)`Contact AWS`)}];function Ale(){const t=de(),n=ne(g=>g.pagination.apis),a=ne(g=>g.view.navigationOpen),o=(0,G.Zp)();Vt(vt.LANDING,ct.VIEW_RESOURCE);const s=yle(),c=gle(),u=fle(),p=hle();(0,i.useLayoutEffect)(()=>{a&&t(Vr(!1))},[]);const h=()=>{o("/create")},f=(g,A)=>g.map(E=>l.Ay.translate(E)).reduce((E,b)=>i.createElement(i.Fragment,null,E,A,b)),y=Ys(gS()?dle:ule);return!n||n.isLoading?i.createElement(yr,null):i.createElement(q.A,{margin:{bottom:"l"}},i.createElement("div",{className:"custom-home__header"},i.createElement(q.A,{padding:{vertical:"xxxl",horizontal:"s"}},i.createElement(ba.A,{gridDefinition:[{offset:{l:2,xxs:1},colspan:{l:8,xxs:10}},{colspan:{xl:6,l:5,s:6,xxs:10},offset:{l:2,xxs:1}},{colspan:{xl:2,l:3,s:4,xxs:10},offset:{s:0,xxs:1}}]},i.createElement(q.A,{fontWeight:"light",padding:{top:"xs"}},i.createElement("span",{className:"custom-home__category"},l.Ay.translate(ra.heroTagline))),i.createElement("div",{className:"custom-home__header-title"},i.createElement(q.A,{variant:"h1",fontWeight:"heavy",padding:"n",fontSize:"display-l",color:"inherit"},l.Ay.translate(ra.pageTitle)),i.createElement(q.A,{fontWeight:"light",padding:{bottom:"s"},fontSize:"heading-xl",color:"inherit"},l.Ay.translate(ra.tagLine)),i.createElement(q.A,{variant:"p",fontWeight:"light"},i.createElement("span",{className:"custom-home__header-sub-title"},f(ple,i.createElement("br",null))))),i.createElement("div",{className:"custom-home__header-cta"},i.createElement(it.A,null,i.createElement($.A,{size:"xl"},i.createElement(q.A,{variant:"h2",padding:"n"},l.Ay.translate(ra.createApi)),i.createElement($.A,{direction:"horizontal",size:"xs"},i.createElement(K.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"landingPageCreateApi",ariaLabel:l.Ay.translate(Lf.buttonText),variant:"primary",onClick:h},l.Ay.translate(Lf.buttonText)),i.createElement(q.A,{variant:"small"},l.Ay.translate(Lf.subtext))))))))),i.createElement(q.A,{padding:{top:"xxxl",horizontal:"s"}},i.createElement(ba.A,{gridDefinition:[{colspan:{xl:6,l:5,s:6,xxs:10},offset:{l:2,xxs:1}},{colspan:{xl:2,l:3,s:4,xxs:10},offset:{s:0,xxs:1}}]},i.createElement($.A,{size:"xxl"},i.createElement("div",null,i.createElement(q.A,{variant:"h1",tagOverride:"h2",padding:{bottom:"s",top:"n"}},l.Ay.translate(ra.graphic)),i.createElement(it.A,null,i.createElement("div",{role:"img","aria-label":(0,l.Ay)`Architecture diagram showing how AppSync combines data from databases, APIs, and other backend systems into a single GraphQL endpoint.`},i.createElement("img",{src:y,width:"100%",alt:""})))),i.createElement("div",null,i.createElement(q.A,{variant:"h1",tagOverride:"h2",padding:{bottom:"s",top:"n"}},l.Ay.translate(ra.benefits)),i.createElement(it.A,null,i.createElement(eo.A,{columns:2,variant:"text-grid"},mle.map(g=>i.createElement("div",{key:g.subheader},i.createElement(q.A,{variant:"h3",padding:{top:"n"}},l.Ay.translate(g.subheader)),i.createElement(q.A,{variant:"p"},f(g.body," "))))))),i.createElement("div",null,i.createElement(q.A,{variant:"h1",tagOverride:"h2",padding:{bottom:"s",top:"n"}},l.Ay.translate(ra.useCases)),i.createElement(it.A,null,i.createElement(eo.A,{columns:p.length,variant:"text-grid"},p.map(g=>i.createElement("div",{key:g.title},i.createElement(q.A,{variant:"h3",padding:{top:"n"}},l.Ay.translate(g.title)),i.createElement(q.A,{variant:"p"},l.Ay.translate(g.text)),i.createElement(gt,{href:g.href,text:(0,l.Ay)`Learn more`,ariaLabel:g.ariaLabel})))))),i.createElement(it.A,{header:i.createElement(be.A,{variant:"h2"},l.Ay.translate(ra.relatedServices))},i.createElement(eo.A,{columns:3,variant:"text-grid"},u.map(g=>i.createElement("div",{key:g.name},i.createElement(q.A,{variant:"h3",padding:{top:"n"}},i.createElement(gt,{fontSize:"heading-m",href:g.href,text:Wt(l.Ay.translate(g.name)),ariaLabel:l.Ay.translate(g.ariaLabel)})),i.createElement(q.A,{variant:"p"},l.Ay.translate(g.description))))))),i.createElement("div",{className:"custom-home__sidebar"},i.createElement($.A,{size:"xxl"},i.createElement(it.A,{header:i.createElement(be.A,{variant:"h2"},l.Ay.translate(ra.gettingStarted)," ",i.createElement("span",{role:"img","aria-label":(0,l.Ay)`Opens in a new tab`},i.createElement(Tn.A,{name:"external",size:"inherit"})))},i.createElement("ul",{"aria-labelledby":l.Ay.translate("${0}, opens in a new tab",(0,l.Ay)`Getting started`),className:"custom-list-separator"},s.map(g=>i.createElement("li",{key:g.text},i.createElement(ue.A,{target:"_blank",rel:"noopener noreferrer",href:g.href,ariaLabel:l.Ay.translate(g.ariaLabel)},l.Ay.translate(g.text)),i.createElement(q.A,{variant:"span",color:"text-body-secondary"},l.Ay.translate("${0} min read",g.estimatedRead)))))),i.createElement(it.A,{header:i.createElement(be.A,{variant:"h2"},l.Ay.translate(ra.moreResources)," ",i.createElement("span",{role:"img","aria-label":(0,l.Ay)`Opens in a new tab`},i.createElement(Tn.A,{name:"external",size:"inherit"})))},i.createElement("ul",{"aria-labelledby":l.Ay.translate("${0}, opens in a new tab",(0,l.Ay)`More resources`),className:"custom-list-separator"},c.map(g=>i.createElement("li",{key:g.text},i.createElement(ue.A,{target:"_blank",rel:"noopener noreferrer",href:g.href,ariaLabel:l.Ay.translate(g.ariaLabel)},l.Ay.translate(g.text)))))))))))}var Ele=v(3048);const FO=(t="channel")=>`mutation PublishData {
    publish(data: "{\\"msg\\": \\"hello world!\\"}", name: "${t}") {
        data
        name
    }
}
  
subscription SubscribeToData {
    subscribe(name:"${t}") {
        name
        data
    }
}`,Uve=FO();var Fe=(t=>(t.API_NAME="api-name",t.API_ROLE="api-role",t.OWNER_CONTACT="owner-contact",t.IMPORT_TABLE="import-table",t.DYNAMO_ROLE="dynamo-role",t.MODEL_NAME="model-name",t.MODEL_FIELDS="model-fields",t.TABLE_NAME="table-name",t.PRIMARY_INDEX="primary-index",t.TABLE_AI="table-ai",t.SOURCE_ASSOCIATIONS="source-associations",t.AUTH_MODES_PRIMARY="auth-modes-primary",t.AUTH_MODES_SECONDARY="auth-modes-secondary",t.RDS_ADAPTER="rds-adapter",t.RDS_ROLE="rds-role",t.RDS_TABLE="rds-table",t.SCHEMA_SIZE="schema-size",t.NO_TYPES="no-types",t.NO_TABLES="no-tables",t))(Fe||{}),ee=(t=>(t.REGION="selectedRegion",t.TABLE="selectedTable",t.ROLE="dynamoRole",t.SOURCE="source",t.NAME="name",t.MODEL_CONFIG="modelConfig",t.RUNTIME="runtime",t.FIELDS="modelFields",t.TYPE="fieldType",t.LIST="fieldList",t.REQUIRED="fieldRequired",t.TABLE_CONFIG="tableConfig",t.PRIMARY_INDEX="primaryIndex",t.PRIMARY_KEY="primaryKey",t.SORT_KEY="sortKey",t.ADDITION_INDEXES="additionalIndexes",t))(ee||{}),Xt=(t=>(t.SECRET_STORE_ARN="secretStoreArn",t.RDS_IDENTIFIER="rdsIdentifier",t.RDS_NAME="databaseName",t))(Xt||{}),Nr=(t=>(t.NOW="now",t.LATER="later",t))(Nr||{});const UO=mt(),$O={selectedApiType:nt.GRAPHQL,graphqlApiSource:We.BLANK,apiName:"My AppSync API",ownerContact:void 0,isRealtimeApi:!1,isPrivateApi:!1,mergedApiExecutionRole:void 0,localAssociatedAPIs:[],ramAssociatedAPIs:[],primaryAuthMode:void 0,authModeConfigs:{[k.USER_POOLS]:{},[k.LAMBDA]:{},[k.OIDC]:{}},dynamoConfig:{selectedRegion:{label:UO.toUpperCase(),value:UO},selectedTable:void 0,dynamoRole:void 0,source:"later",modelConfig:{name:void 0,runtime:Ve.APPSYNC_JS,modelFields:[]},tableConfig:{primaryIndex:new Xa,additionalIndexes:[]}},rdsConfig:null};class Zt extends(0,T.Record)({kind:Q.Kind.NAME,value:""}){toString(){return this.value}}class ble extends(0,T.Record)({kind:Q.Kind.INT,loc:void 0,value:"0"}){}class vle extends(0,T.Record)({kind:Q.Kind.FLOAT,loc:void 0,value:"0.0"}){}class kf extends(0,T.Record)({kind:Q.Kind.STRING,loc:void 0,value:""}){}class Sle extends(0,T.Record)({kind:Q.Kind.BOOLEAN,loc:void 0,value:!1}){}class Tle extends(0,T.Record)({kind:Q.Kind.NULL,loc:void 0}){}class Ile extends(0,T.Record)({kind:Q.Kind.ENUM,loc:void 0,value:""}){}class Cle extends(0,T.Record)({kind:Q.Kind.LIST,loc:void 0,vals:(0,T.List)()}){toJS(){return{kind:this.kind,loc:this.loc?this.loc.toJS():void 0,values:this.vals.toJS()}}}class Rle extends(0,T.Record)({kind:Q.Kind.OBJECT,loc:void 0,fields:(0,T.List)()}){}class wle extends(0,T.Record)({kind:Q.Kind.OBJECT,loc:void 0,name:new Zt({value:""}),value:new kf({value:""})}){}class Ple extends(0,T.Record)({kind:Q.Kind.VARIABLE,loc:void 0,name:new Zt({value:""})}){}class Ole extends(0,T.Record)({kind:Q.Kind.ARGUMENT,loc:void 0,name:new Zt({value:""}),value:new kf({value:""})}){}class Dle extends(0,T.Record)({kind:Q.Kind.DIRECTIVE,loc:void 0,name:new Zt({value:""}),arguments:(0,T.List)()}){}class $ve extends(0,T.Record)({kind:Q.Kind.DIRECTIVE_DEFINITION,loc:void 0,name:new Zt({value:""}),arguments:(0,T.List)(),locations:(0,T.List)()}){}class jve extends(0,T.Record)({kind:Q.Kind.DOCUMENT,loc:void 0,definitions:(0,T.List)()}){}class Vve extends(0,T.Record)({kind:Q.Kind.ENUM_TYPE_DEFINITION,loc:void 0,name:new Zt({value:""}),directives:(0,T.List)([]),values:(0,T.List)()}){toJS(){return{kind:this.kind,loc:this.loc?this.loc.toJS():void 0,name:this.name.toJS(),values:this.vals.toJS(),directives:this.directives.toJS()}}}class Bve extends(0,T.Record)({kind:Q.Kind.ENUM_VALUE_DEFINITION,loc:void 0,name:new Zt({value:""}),directives:(0,T.List)([])}){}class Mf extends(0,T.Record)({kind:Q.Kind.NON_NULL_TYPE,type:void 0}){getNamedType(){return this.type.getNamedType()}isNonNull(){return!0}isList(){return this.type.isList()}asNonNull(){return this}asNullable(){return this.type}asList(){const n=this.type.asList();return this.set("type",n)}asNonList(){const n=this.type.asNonList();return this.set("type",n)}withNamedType(n){const a=this.type.withNamedType(n);return this.set("type",a)}}class jO extends(0,T.Record)({kind:Q.Kind.LIST_TYPE,loc:void 0,type:void 0}){getNamedType(){return this.type.getNamedType()}isNonNull(){return this.type.isNonNull()}asNonNull(){return new Mf({type:this})}asNullable(){return this}isList(){return!0}asList(){return this}asNonList(){return this.type}withNamedType(n){const a=this.type.withNamedType(n);return this.set("type",a)}}class _l extends(0,T.Record)({kind:Q.Kind.NAMED_TYPE,name:new Zt({value:""})}){getNamedType(){return this}isNonNull(){return!1}isList(){return!1}asNonNull(){return new Mf({type:this})}asNullable(){return this}asList(){return new jO({type:this})}asNonList(){return this}withNamedType(n){return this.setIn(["name","value"],n)}}class VO extends(0,T.Record)({kind:Q.Kind.FIELD_DEFINITION,loc:void 0,name:new Zt({value:""}),arguments:(0,T.List)([]),type:new _l,directives:(0,T.List)()}){}class Gve extends(0,T.Record)({kind:Q.Kind.INPUT_OBJECT_TYPE_DEFINITION,loc:void 0,name:new Zt({value:""}),fields:(0,T.List)([]),directives:(0,T.List)()}){}class Nle extends(0,T.Record)({kind:Q.Kind.INPUT_VALUE_DEFINITION,loc:void 0,name:new Zt({value:""}),type:new _l,defaultValue:void 0,directives:(0,T.List)()}){}class zve extends(0,T.Record)({kind:Q.Kind.INTERFACE_TYPE_DEFINITION,loc:void 0,name:new Zt({value:""}),directives:(0,T.List)(),fields:(0,T.List)([])}){}class qve extends(0,T.Record)({start:0,end:0}){}class _le extends(0,T.Record)({kind:Q.Kind.OBJECT_TYPE_DEFINITION,loc:void 0,name:new Zt({value:""}),fields:(0,T.List)(),interfaces:(0,T.List)(),directives:(0,T.List)()}){}class Kve extends(0,T.Record)({kind:Q.Kind.OPERATION_TYPE_DEFINITION,loc:void 0,operation:"query",type:new _l}){}class Wve extends(0,T.Record)({kind:Q.Kind.SCALAR_TYPE_DEFINITION,loc:void 0,name:new Zt({value:""}),directives:(0,T.List)()}){}class Hve extends(0,T.Record)({kind:Q.Kind.SCHEMA_DEFINITION,loc:void 0,operationTypes:(0,T.List)(),directives:(0,T.List)()}){}var Jve=v(74265),Yve=v(80480);class Qve extends(0,T.Record)({kind:Q.Kind.UNION_TYPE_DEFINITION,loc:void 0,name:new Zt({value:""}),types:(0,T.List)(),directives:(0,T.List)()}){}var xle=Object.defineProperty,Lle=Object.defineProperties,kle=Object.getOwnPropertyDescriptors,BO=Object.getOwnPropertySymbols,Mle=Object.prototype.hasOwnProperty,Fle=Object.prototype.propertyIsEnumerable,GO=(t,n,a)=>n in t?xle(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,xt=(t,n)=>{for(var a in n||(n={}))Mle.call(n,a)&&GO(t,a,n[a]);if(BO)for(var a of BO(n))Fle.call(n,a)&&GO(t,a,n[a]);return t},Lt=(t,n)=>Lle(t,kle(n));function Xve(t){return new Document(Lt(xt({},t),{definitions:Ule(t.definitions)}))}function Ule(t){return t?List(t.map($le)):List()}function $le(t){if(t.kind===Kind.SCHEMA_DEFINITION)return new SchemaDefinition(Lt(xt({},t),{operationTypes:jle(t.operationTypes),directives:aa(t.directives)}));if(t.kind===Kind.OBJECT_TYPE_DEFINITION)return new ObjectTypeDefinition(Lt(xt({},t),{name:nr(t.name),fields:Ff(t.fields),interfaces:zO(t.interfaces),directives:aa(t.directives)}));if(t.kind===Kind.INTERFACE_TYPE_DEFINITION)return new InterfaceTypeDefinition(Lt(xt({},t),{name:nr(t.name),directives:aa(t.directives),fields:Ff(t.fields)}));if(t.kind===Kind.UNION_TYPE_DEFINITION)return new UnionTypeDefinition(Lt(xt({},t),{name:nr(t.name),types:zO(t.types),directives:aa(t.directives)}));if(t.kind===Kind.SCALAR_TYPE_DEFINITION)return new ScalarTypeDefinition(Lt(xt({},t),{name:nr(t.name),directives:aa(t.directives)}));if(t.kind===Kind.ENUM_TYPE_DEFINITION)return new EnumTypeDefinition(Lt(xt({},t),{name:nr(t.name),directives:aa(t.directives),vals:Ble(t.values)}));if(t.kind===Kind.INPUT_OBJECT_TYPE_DEFINITION)return new InputObjectTypeDefinition(Lt(xt({},t),{name:nr(t.name),directives:aa(t.directives),fields:KO(t.fields)}));throw new Error(`Invalid definition node: 
${JSON.stringify(t,null,4)}`)}function jle(t){return t?List(t.map(Vle)):List()}function Vle(t){return new OperationTypeDefinition(Lt(xt({},t),{type:qO(t.type)}))}function Ble(t){return t?List(t.map(Gle)):List()}function Gle(t){return new EnumValueDefinition(Lt(xt({},t),{name:nr(t.name),directives:aa(t.directives)}))}function zle(t){return t?(0,T.List)(t.map(qle)):(0,T.List)()}function qle(t){return new Ole(Lt(xt({},t),{value:Hu(t.value)}))}function aa(t){return t?(0,T.List)(t.map(Kle)):(0,T.List)()}function Kle(t){return new Dle(Lt(xt({},t),{arguments:zle(t.arguments)}))}function Wle(t){return t?(0,T.List)(t.map(Hu)):(0,T.List)()}function Hle(t){return t?(0,T.List)(t.map(Jle)):(0,T.List)()}function Jle(t){return new wle(Lt(xt({},t),{name:nr(t.name),value:Hu(t.value)}))}function nr(t){return new Zt(t)}function zO(t){return t?List(t.map(qO)):List()}function qO(t){return new NamedType(Lt(xt({},t),{name:nr(t.name)}))}function Hu(t){if(!t)throw new Error(`Invalid value node: 
${JSON.stringify(t,null,4)}`);if(t.kind===Q.Kind.INT)return new ble(t);if(t.kind===Q.Kind.STRING)return new kf(t);if(t.kind===Q.Kind.FLOAT)return new vle(t);if(t.kind===Q.Kind.BOOLEAN)return new Sle(t);if(t.kind===Q.Kind.NULL)return new Tle(t);if(t.kind===Q.Kind.ENUM)return new Ile(t);if(t.kind===Q.Kind.LIST)return new Cle(Lt(xt({},t),{vals:Wle(t.values)}));if(t.kind===Q.Kind.OBJECT)return new Rle(Lt(xt({},t),{fields:Hle(t.fields)}));if(t.kind===Q.Kind.VARIABLE)return new Ple(Lt(xt({},t),{name:nr(t.name)}));throw new Error(`Invalid value node: 
${JSON.stringify(t,null,4)}`)}function Ff(t){return t?(0,T.List)(t.map(Yle)):(0,T.List)()}function Yle(t){return new VO(Lt(xt({},t),{name:nr(t.name),arguments:KO(t.arguments),type:Ju(t.type),directives:aa(t.directives)}))}function Ju(t){if(t.kind===Q.Kind.NON_NULL_TYPE)return new Mf(Lt(xt({},t),{type:Ju(t.type)}));if(t.kind===Q.Kind.LIST_TYPE)return new jO(Lt(xt({},t),{type:Ju(t.type)}));if(t.kind===Q.Kind.NAMED_TYPE)return new _l(Lt(xt({},t),{name:nr(t.name)}));throw new Error(`Invalid type node: 
${JSON.stringify(t,null,4)}`)}function KO(t){return t?(0,T.List)(t.map(Qle)):(0,T.List)()}function Qle(t){return new Nle(Lt(xt({},t),{name:nr(t.name),type:Ju(t.type),defaultValue:Hu(t.defaultValue),directives:aa(t.directives)}))}const Xle='{"query":"","variables":"","editorFlex":1,"variableEditorHeight":200,"logViewerHeight":200,"docExplorerWidth":350,"docExplorerOpen":false,"historyPaneOpen":false,"enableLogPolling":false,"logViewerOpen":false,"variableEditorOpen":true}',Zle=({apiId:t})=>new ya({name:"NoneDataSource",type:_.NONE,description:"A None Datasource.",apiId:t}),WO=(t="Channel")=>`type ${t} {
    name: String!
    data: AWSJSON!
}

type Mutation {
    publish(name: String!, data: AWSJSON!): ${t}
}

type Query {
    get${t}: ${t}
}

type Subscription {
    subscribe(name: String!): ${t}
        @aws_subscribe(mutations: ["publish"])
}`,eSe=WO(),ece=t=>new Sr({apiId:t,typeName:"Mutation",fieldName:"publish",dataSourceName:"NoneDataSource",requestMappingTemplate:tce,responseMappingTemplate:nce,runtime:new lr({name:Ve.VTL,runtimeVersion:Sy.V_2018_05_29})}).getCreateResolverRequest(),tce=`
{
    "version": "2017-02-28",
    "payload": {
        "name": "$context.arguments.name",
        "data": $util.toJson($context.arguments.data)
    }
}
`.trim(),nce="$util.toJson($context.result)",rce="Specify API details",Uf=()=>[{field:"apiName",optional:!1,i18nKey:"nameInput",testId:"wizard-edit-name",validate:[Me((0,l.Ay)`API name`),Al],errorSource:Fe.API_NAME},{field:"ownerContact",optional:!0,i18nKey:"contactInput",testId:"wizard-edit-contact",validate:[Ca(256)],errorSource:Fe.OWNER_CONTACT}],HO=()=>({nameInput:{fieldLabel:"API name",description:"This will be used to identify your API in AppSync.",placeholder:"Enter a name for your API.",constraint:l.Ay.translate("The ${0} can be up to ${1} characters long.",(0,l.Ay)`API name`,"512")},contactInput:{fieldLabel:"API contact name",description:"Enter a contact to help source API and merged API owners and teams collaborate.",constraint:l.Ay.translate("The ${0} can be up to ${1} characters long.",(0,l.Ay)`contact details`,"256"),placeholder:"Enter a contact name"}}),xl={title:"Service role",description:{[nt.GRAPHQL]:{[We.IMPORT_TABLE]:l.Ay.translate("An IAM role is required so that AWS AppSync can access your ${0}.",(0,l.Ay)`DynamoDB table`),[We.RDS]:l.Ay.translate("An IAM role is required so that AWS AppSync to access your ${0}.",(0,l.Ay)`Aurora database`)},[nt.MERGED]:"This merged API requires an IAM role for AWS AppSync to securely access the imported source API resources at runtime."},roleSelectorConstants:{fieldLabel:"",createNewRadioLabel:"Create and use a new service role",useExistingRadioLabel:"Use an existing service role",inputToggleButton:"Select an existing role",dropdownToggleButton:"Don't see your role?"},link:{href:"https://docs.aws.amazon.com/appsync/latest/devguide/security_iam_service-with-iam.html#security_iam_service-with-iam-roles-service",text:"Learn more about IAM for AWS AppSync"}},Ll={title:"Private API configuration",fieldLabel:"Private API",description:"A Private API can only be accessed from an associated VPC endpoint (VPCE). AppSync automatically configures your API to work with any VPC/VPCE in the same account. This value cannot be changed after the creation of the API.",toggleLabel:"Use private API features"},ace="Configure model information",Yu={OnlyHasAutoId:'Provide one or more fields in addition to "id".',UniqueFieldNames:"Field names must be unique.",Generic:"Fix field errors to continue.",TableAlreadyExists:"A table with that name already exists."},$f={label:"Model name",description:"A model is a type with preconfigured queries, mutations, and subscriptions.",constraint:["Model names must be 1 - 50 characters long.","Valid characters: A-Z, a-z, 0-9, and _"],default:"MyModelType"},kl={field:{label:"Fields",description:"Models have fields. Fields have a name and a type."},editor:{addButton:"Add new field",removeButton:"Remove",empty:"No fields to display."}},jf=[{label:"String",value:"String"},{label:"Int",value:"Int"},{label:"Float",value:"Float"},{label:"Boolean",value:"Boolean"},{label:"ID",value:"ID"},{label:"Date",value:"AWSDate"},{label:"Time",value:"AWSTime"},{label:"DateTime",value:"AWSDateTime"},{label:"Timestamp",value:"AWSTimestamp"},{label:"Email",value:"AWSEmail"},{label:"JSON Object, Array, or Value",value:"AWSJSON"},{label:"URL",value:"AWSURL"},{label:"Phone Number",value:"AWSPhone"},{label:"IP Address",value:"AWSIPAddress"}];var ice=Object.defineProperty,oce=Object.defineProperties,sce=Object.getOwnPropertyDescriptors,JO=Object.getOwnPropertySymbols,lce=Object.prototype.hasOwnProperty,cce=Object.prototype.propertyIsEnumerable,YO=(t,n,a)=>n in t?ice(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,uce=(t,n)=>{for(var a in n||(n={}))lce.call(n,a)&&YO(t,a,n[a]);if(JO)for(var a of JO(n))cce.call(n,a)&&YO(t,a,n[a]);return t},dce=(t,n)=>oce(t,sce(n));const pce=(t,n)=>({dynamoConfig:dce(uce({},t),{[ee.MODEL_CONFIG]:n})}),mce=t=>t===ee.NAME?"name":"type",hce=(t,n,a)=>{let o,s;switch(n){case ee.NAME:s=a,o=t.name.set("value",s);break;case ee.TYPE:s=a,o=t.type.withNamedType(s.value);break;case ee.LIST:s=a,o=s?t.type.asList():t.type.asNonList();break;case ee.REQUIRED:s=a,o=s?t.type.asNonNull():t.type.asNullable();break;default:break}const c=mce(n);return t.set(c,o)};function fce(t="",n="String",a=!1,o=!1){const s=new _l({name:new Zt({value:n})}),c=o?s.asList():s,u=a?c.asNonNull():c;return new VO({name:new Zt({value:t}),type:u})}const Vf=({fields:t,modelName:n})=>{const a={name:{message:"",display:!1},fields:{message:"",display:!1}},o=t??[],s=n??"";return a.fields=gce(o),a.name=yce(s),a},yce=t=>{var n;let a=_e(t,[Zi])?Ah():"";return a=(n=_e(t,[Me((0,l.Ay)`Model name`)]))!=null?n:a,{message:l.Ay.translate(a),display:!!a}},gce=t=>{const n=t.map(u=>u.name.value),a=new Set(n),o=n.length!==a.size,s=n.some(u=>_e(u,[Me((0,l.Ay)`Table name`),Zi,Ca(255)]));let c="";switch(!0){case(t.length===1&&t[0].name.value==="id"):c=Yu.OnlyHasAutoId;break;case t.length===0:c="Required";break;case(o||s):c=Yu.Generic;break;default:break}return{message:l.Ay.translate(c),display:c&&c!==Yu.Generic}},Ace=(t,n)=>{let a=_e(t,[Me((0,l.Ay)`Name`),Zi,Ca(255)]);return!n&&!a&&(a=l.Ay.translate(Yu.UniqueFieldNames)),a},QO={label:(0,l.Ay)`Yes`,value:"true"},XO={label:(0,l.Ay)`No`,value:"false"},Qu=[QO,XO],ZO=(t,n)=>{var a;const o=De(n.PrimaryKey.AttributeName),s=De(((a=n.SortKey)==null?void 0:a.AttributeName)||"");return t!==""&&(t===o||t===s)},Bf=(t,n,a,o)=>ZO(t,a)?o.indexOf(t)===n:!1,Ece=({fieldNames:t,showErrors:n,disableKeys:a,primaryIndex:o,handleChange:s})=>[{label:(0,l.Ay)`Name`,errorText:c=>{if(!n)return"";const u=t.filter(h=>h===c.name.value).length<=1;return Ace(c.name.value,u)},control:(c,u)=>i.createElement(He.A,{onChange:({detail:p})=>s(u,ee.NAME,p.value),placeholder:(0,l.Ay)`New field name...`,value:c.name.value,disabled:a&&Bf(c.name.value,u,o,t),autoFocus:!0})},{label:(0,l.Ay)`Type`,control:(c,u)=>i.createElement(ze.A,{onChange:({detail:p})=>{s(u,ee.TYPE,p.selectedOption)},selectedOption:jf.find(p=>{var h,f;return p.value===((f=(h=c.type)==null?void 0:h.getNamedType())==null?void 0:f.name.value)}),options:jf})},{label:(0,l.Ay)`Array`,control:(c,u)=>{const p=a&&Bf(c.name.value,u,o,t);return i.createElement(ze.A,{onChange:({detail:h})=>{s(u,ee.LIST,h.selectedOption.value==="true")},selectedOption:p?XO:Qu.find(h=>h.value==="true"===c.type.isList()),disabled:p,options:Qu})}},{label:(0,l.Ay)`Required`,control:(c,u)=>{const p=a&&Bf(c.name.value,u,o,t);return i.createElement(ze.A,{onChange:({detail:h})=>{s(u,ee.REQUIRED,h.selectedOption.value==="true")},selectedOption:p?QO:Qu.find(h=>h.value==="true"===c.type.isNonNull()),disabled:p,options:Qu})}}],bce="Configure model table",Xu={label:"Table name",description:"Create a table with this name and connect it as a data source.",constraint:"Must be 3 - 255 alphanumeric characters long.",default:"MyModelTypeTable"},Gf={primaryLabel:"Primary key",primaryEmpty:"No model fields.",sortLabel:"Sort key"},Zu={value:"XAMZNONE",label:"None"},ed={field:{label:"Additional Indexes"},editor:{addButton:"Add index",removeButton:"Remove",empty:"No indexes to display."}},Ml={Generic:"Fix index errors to continue.",UniqueTableName:"A table with that name already exists.",UniqueIndexName:"Index names must be unique.",NoTableSortKey:"A table sort key is required to set additional index sort key.",InvalidKeyType:"Invalid key type."};var vce=Object.defineProperty,Sce=Object.defineProperties,Tce=Object.getOwnPropertyDescriptors,eD=Object.getOwnPropertySymbols,Ice=Object.prototype.hasOwnProperty,Cce=Object.prototype.propertyIsEnumerable,tD=(t,n,a)=>n in t?vce(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Rce=(t,n)=>{for(var a in n||(n={}))Ice.call(n,a)&&tD(t,a,n[a]);if(eD)for(var a of eD(n))Cce.call(n,a)&&tD(t,a,n[a]);return t},wce=(t,n)=>Sce(t,Tce(n));const nD=(t,n)=>({dynamoConfig:wce(Rce({},t),{[ee.TABLE_CONFIG]:n})}),td=t=>{var n;return!t?.Field.isList()&&((n=t?.Field)==null?void 0:n.isOfDynamoDBScalarType((0,T.Map)()))},rD=(t,n)=>{const a=td(t),o=t?.Field.name!==n?.getIn(["PrimaryKey","AttributeName"],"");return a&&o},aD=(t,n,a)=>{const o=a?!td(t):!rD(t,n);return{value:t.AttributeName,label:t.AttributeName,description:t.getBaseType(),disabled:o}},Pce=t=>{let n=!1;return t.filter(o=>!!Ws(o.type,(0,T.Map)())).map(o=>{const s=new ym({AttributeName:o.name,AttributeType:Ws(o.type,(0,T.Map)()),IsPrimaryKey:!n,IsSortKey:!1,IsIndexed:!1,Field:o});return n=!0,s})},iD=(t,n,a,o)=>{var s;let c=t,u,p;switch(n){case ee.NAME:u=a;break;case ee.PRIMARY_KEY:p=a,u=o.find(f=>f.AttributeName===p.value).set("IsPrimaryKey",!0),u?.AttributeName===((s=t.SortKey)==null?void 0:s.AttributeName)&&(c=t.set(oD(ee.SORT_KEY),null));break;case ee.SORT_KEY:p=a,p.value===Zu.value?u=null:u=o.find(f=>f.AttributeName===p.value).set("IsSortKey",!0).set("IsPrimaryKey",!1);break;default:return null}const h=oD(n);return c.set(h,u)},oD=t=>({[ee.NAME]:"Name",[ee.PRIMARY_KEY]:"PrimaryKey",[ee.SORT_KEY]:"SortKey"})[t],sD=(t,n,a=[])=>{const o={name:"",primary:"",additionalIndexes:""};return o.name=Oce(t.Name,a),o.primary=Dce(t.PrimaryKey),o.additionalIndexes=Nce(n,t),o},Oce=(t,n)=>n.includes(t)?l.Ay.translate(Ml.UniqueTableName):_e(t,[Me((0,l.Ay)`Table name`),El,bl]),Dce=t=>td(t)?_e(t?.AttributeName,[Me((0,l.Ay)`Primary key`)]):l.Ay.translate(Ml.InvalidKeyType),Nce=(t,n)=>{const a=t.map(h=>h.Name),o=new Set(a),s=a.length!==o.size,c=a.some(h=>_e(h,[Me((0,l.Ay)`Index name`),bl,El])),u=t.some(h=>!h.PrimaryKey),p=n.SortKey?!1:t.some(h=>!!h.SortKey);return s||c||u||p?l.Ay.translate(Ml.Generic):""};function _ce(){return i.createElement("i",null," - ",(0,l.Ay)`New`)}const Ti={blank:{title:"Design from scratch",description:"Start with a model or write your own schema."},importTable:{title:"Start with a DynamoDB table",description:"Create a new API from an existing DynamoDB table."},rds:{title:"Start with an Amazon Aurora cluster",description:"Create a new API from a database in an existing Amazon Aurora cluster using the RDS Data API."},realtime:{title:"Create a real-time API",description:"Create a real-time WebSocket API where clients subscribe to channels."}},lD={label:"GraphQL API Data Source",description:"Select an option below to begin configuring your GraphQL API."};var xce=Object.defineProperty,Lce=Object.defineProperties,kce=Object.getOwnPropertyDescriptors,cD=Object.getOwnPropertySymbols,Mce=Object.prototype.hasOwnProperty,Fce=Object.prototype.propertyIsEnumerable,uD=(t,n,a)=>n in t?xce(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Uce=(t,n)=>{for(var a in n||(n={}))Mce.call(n,a)&&uD(t,a,n[a]);if(cD)for(var a of cD(n))Fce.call(n,a)&&uD(t,a,n[a]);return t},$ce=(t,n)=>Lce(t,kce(n));const dD=t=>[{value:We.BLANK,label:l.Ay.translate(Ti.blank.title),description:l.Ay.translate(Ti.blank.description)},{value:We.IMPORT_TABLE,label:l.Ay.translate(Ti.importTable.title),description:l.Ay.translate(Ti.importTable.description)},...t?[{value:We.RDS,label:i.createElement(i.Fragment,null,l.Ay.translate(Ti.rds.title),i.createElement(_ce,null)),description:l.Ay.translate(Ti.rds.description)}]:[],{value:We.REALTIME,label:l.Ay.translate(Ti.realtime.title),description:l.Ay.translate(Ti.realtime.description)}];function jce(t){const n=t.wizardState.graphqlApiSource,{result:a}=_n(Bt.isRDSEnabled);return i.createElement(X.A,{label:l.Ay.translate(lD.label),description:l.Ay.translate(lD.description),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"apiDataSource"},i.createElement(Tr.A,{items:dD(a),onChange:({detail:o})=>{t.updateWizardState({graphqlApiSource:o.value,isRealtimeApi:o.value===We.REALTIME,dynamoConfig:$ce(Uce({},t.wizardState.dynamoConfig),{[ee.SOURCE]:o.value===We.IMPORT_TABLE?Nr.NOW:Nr.LATER})})},value:n,"data-analytics-type":U.EVENT_VALUE,"data-analytics":n}))}var Vce=v(29129);const Bce=v.p+"3937a829542318c19b3a.svg",Gce=v.p+"f632ac680dec77455b2f.svg";function pD(t){return i.createElement("div",{className:"appsync-wizard-svg-wrapper"},i.createElement("img",{className:"appsync-wizard-svg",src:t.src,alt:t.altText}))}const zce=[{value:nt.GRAPHQL,label:(0,l.Ay)`GraphQL APIs`,image:i.createElement(pD,{src:Ys(Gce),altText:(0,l.Ay)`Diagram depicting a GraphQL API consolidating multiple data sources into single secure endpoint.`}),description:(0,l.Ay)`A GraphQL API manages a single API by providing a single endpoint to query or update data securely from multiple databases, microservices, and APIs.`},{value:nt.MERGED,label:(0,l.Ay)`Merged APIs`,image:i.createElement(pD,{src:Ys(Bce),altText:(0,l.Ay)`Diagram showing a Merged API consolidating multiple GraphQL APIs into one unified schema and endpoint.`}),description:(0,l.Ay)`A Merged API manages a group of AWS AppSync GraphQL APIs owned by different teams by composing a single GraphQL schema and securely exposing data from multiple backend APIs to authorized clients in a single API endpoint.`}];function qce(t){return i.createElement(Vce.A,{onChange:({detail:n})=>t.setSelected(n.value),ariaLabel:(0,l.Ay)`API types`,value:t.selected,items:zce,"data-analytics-type":U.EVENT_VALUE,"data-analytics":t.selected})}var Kce=Object.defineProperty,mD=Object.getOwnPropertySymbols,Wce=Object.prototype.hasOwnProperty,Hce=Object.prototype.propertyIsEnumerable,hD=(t,n,a)=>n in t?Kce(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Jce=(t,n)=>{for(var a in n||(n={}))Wce.call(n,a)&&hD(t,a,n[a]);if(mD)for(var a of mD(n))Hce.call(n,a)&&hD(t,a,n[a]);return t};function Yce(t){const n=de();(0,i.useLayoutEffect)(()=>{n(Ct({get:sG}))},[]);const a=ty[t.wizardState.selectedApiType],o=s=>t.updateWizardState({selectedApiType:s});return i.createElement($.A,{size:"l"},i.createElement(Le,{title:"API type",showHelpLink:!0,enablePanorama:!0},i.createElement(qce,{selected:t.wizardState.selectedApiType,setSelected:o})),a.hasAPISource&&i.createElement(Le,{title:"GraphQL API Data Source",enablePanorama:!0},i.createElement(jce,Jce({},t))))}var Qce=Object.defineProperty,Xce=Object.defineProperties,Zce=Object.getOwnPropertyDescriptors,fD=Object.getOwnPropertySymbols,eue=Object.prototype.hasOwnProperty,tue=Object.prototype.propertyIsEnumerable,yD=(t,n,a)=>n in t?Qce(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,nue=(t,n)=>{for(var a in n||(n={}))eue.call(n,a)&&yD(t,a,n[a]);if(fD)for(var a of fD(n))tue.call(n,a)&&yD(t,a,n[a]);return t},rue=(t,n)=>Xce(t,Zce(n));function aue({title:t,wizardState:n,showErrors:a,updateWizardState:o,updateErrorState:s}){const[c,u]=(0,i.useState)({}),p=HO(),h=Uf(),f=y=>{const g=_e(n[y.field],y.validate);u(rue(nue({},c),{[y.field]:g})),s(y.errorSource,!!g)};return(0,i.useEffect)(()=>{a&&h.forEach(y=>{f(y)})},[]),i.createElement(Le,{title:t,enablePanorama:!0},i.createElement($.A,{size:"l"},h.map(y=>i.createElement(_0,{key:y.testId,formField:{label:l.Ay.translate(p[y.i18nKey].fieldLabel),errorText:a&&c[y.field],constraintText:l.Ay.translate(p[y.i18nKey].constraint),description:l.Ay.translate(p[y.i18nKey].description)},input:{value:n[y.field],onChange:({detail:g})=>{o({[y.field]:g.value})},onBlur:()=>f(y),placeholder:l.Ay.translate(p[y.i18nKey].placeholder),testTag:y.testId},optional:y.optional}))))}const iue=aue;var oue=Object.defineProperty,gD=Object.getOwnPropertySymbols,sue=Object.prototype.hasOwnProperty,lue=Object.prototype.propertyIsEnumerable,AD=(t,n,a)=>n in t?oue(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,cue=(t,n)=>{for(var a in n||(n={}))sue.call(n,a)&&AD(t,a,n[a]);if(gD)for(var a of gD(n))lue.call(n,a)&&AD(t,a,n[a]);return t};const uue=(t,n)=>t===nt.GRAPHQL?xl.description.GRAPHQL[n]:xl.description.MERGED;function zf(t){const n=uue(t.apiType,t.apiSource);return i.createElement(Le,{title:xl.title,enablePanorama:!0,panoramaTag:"iamRoleSelector"},i.createElement(q.A,{variant:"p"},l.Ay.translate(n),"\xA0 ",i.createElement(gt,cue({},xl.link))),i.createElement(aP,{i18nStrings:xl.roleSelectorConstants,selected:t.role,setSelected:t.setSelectedRole,setError:t.setError,showErrors:t.showErrors,role:t.roleSource,accountId:t.accountId,resourceName:t.resourceName,secondaryResourceName:t.secondaryResourceName}))}function due(t){return i.createElement(Le,{title:Ll.title,enablePanorama:!0},i.createElement(X.A,{label:l.Ay.translate(Ll.fieldLabel),description:l.Ay.translate(Ll.description),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"privateApi"},i.createElement(Ea.A,{"data-analytics-type":U.EVENT_VALUE,"data-analytics":t.checked,checked:t.checked,onChange:({detail:n})=>t.setIsPrivateApi(n.checked)},l.Ay.translate(Ll.toggleLabel))))}const uo={header:"Import from DynamoDB table",container:"DynamoDB location",region:{formField:{label:"DynamoDB table region",description:"Select the region where your DynamoDB table is stored."}},table:{formField:{label:"DynamoDB table name",description:"Enter the DynamoDB table you want to import from."},input:{placeholder:"Choose a table",empty:"No tables found in this region.",loading:"loading",ariaLabels:{filter:"Filter options",clearFilter:"Clear filter",selected:"Selected"}}}};var pue=Object.defineProperty,mue=Object.defineProperties,hue=Object.getOwnPropertyDescriptors,ED=Object.getOwnPropertySymbols,fue=Object.prototype.hasOwnProperty,yue=Object.prototype.propertyIsEnumerable,bD=(t,n,a)=>n in t?pue(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Fl=(t,n)=>{for(var a in n||(n={}))fue.call(n,a)&&bD(t,a,n[a]);if(ED)for(var a of ED(n))yue.call(n,a)&&bD(t,a,n[a]);return t},nd=(t,n)=>mue(t,hue(n));function gue({wizardState:t,showErrors:n,updateWizardState:a,setError:o}){var s;const{region:c,table:u}=uo,[p,h]=(0,i.useState)({[ee.REGION]:"",[ee.TABLE]:""}),{dynamoConfig:f}=t,y=(s=f[ee.REGION])==null?void 0:s.value,[g,A]=In(pn.DDB,y),E=(0,i.useMemo)(()=>A.map(I=>({value:I,label:I})),[A.length,g]);(0,i.useEffect)(()=>{var I;const R=_e(y,[Me(l.Ay.translate(uo.region.formField.label))]),L=_e((I=f[ee.TABLE])==null?void 0:I.value,[Me(l.Ay.translate(uo.table.formField.label))]);return o(!!(R||L)),n&&h({[ee.REGION]:R,[ee.TABLE]:L}),()=>o(!1)},[n]),(0,i.useEffect)(()=>{E&&C(E[0])},[E]);const b=I=>{if(f[ee.REGION]===I)return;const R=_e(I,[Me(l.Ay.translate(uo.region.formField.label))]);h(nd(Fl({},p),{[ee.REGION]:R})),o(!0),a({dynamoConfig:nd(Fl({},f),{[ee.REGION]:I,[ee.TABLE]:void 0})})},C=I=>{if(f[ee.TABLE]===I)return;const R=_e(I,[Me(l.Ay.translate(uo.table.formField.label))]);h(nd(Fl({},p),{[ee.TABLE]:R})),o(!!R),a({dynamoConfig:nd(Fl({},f),{[ee.TABLE]:I})})};return i.createElement($.A,{size:"l"},i.createElement(X.A,{label:l.Ay.translate(c.formField.label),description:l.Ay.translate(c.formField.description),errorText:n&&p[ee.REGION]},i.createElement(ze.A,{selectedOption:f[ee.REGION],options:Gi(),onChange:({detail:I})=>b(I.selectedOption),ariaRequired:!0})),i.createElement(X.A,{label:l.Ay.translate(u.formField.label),description:l.Ay.translate(u.formField.description),errorText:n&&p[ee.TABLE]},i.createElement(ze.A,{"data-testid":"table-select",filteringType:"auto",placeholder:l.Ay.translate(u.input.placeholder),selectedOption:f[ee.TABLE],noMatch:l.Ay.translate(u.input.empty),options:E,onChange:({detail:I})=>C(I.selectedOption),statusType:g?"loading":"finished",ariaRequired:!0,filteringAriaLabel:l.Ay.translate(u.input.ariaLabels.filter),filteringClearAriaLabel:l.Ay.translate(u.input.ariaLabels.clearFilter),selectedAriaLabel:l.Ay.translate(u.input.ariaLabels.selected)})))}function Aue(t){return i.createElement($.A,{size:"m"},i.createElement(be.A,{variant:"h1"},l.Ay.translate(uo.header)),i.createElement(Le,{title:uo.container,enablePanorama:!0},i.createElement(gue,Fl({},t))))}var Eue=Object.defineProperty,bue=Object.defineProperties,vue=Object.getOwnPropertyDescriptors,vD=Object.getOwnPropertySymbols,Sue=Object.prototype.hasOwnProperty,Tue=Object.prototype.propertyIsEnumerable,SD=(t,n,a)=>n in t?Eue(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Iue=(t,n)=>{for(var a in n||(n={}))Sue.call(n,a)&&SD(t,a,n[a]);if(vD)for(var a of vD(n))Tue.call(n,a)&&SD(t,a,n[a]);return t},Cue=(t,n)=>bue(t,vue(n));function Rue({updateWizardState:t,updateErrorState:n,wizardState:a,navigationBlocked:o,validationError:s}){var c;const u=de(),{mergedApiExecutionRole:p,selectedApiType:h,graphqlApiSource:f,isPrivateApi:y}=a,g=ty[h],A=ho[f],E=g.hasImportTable&&A?.hasImportTable,{hasServiceRole:b}=g,C=Hd();return(0,i.useLayoutEffect)(()=>(u(Ct({get:MU,args:{hasImportTable:E,hasServiceRole:b,hasRealTime:A.hasRealTime}})),()=>{n(Fe.API_NAME,!1),n(Fe.API_ROLE,!1),n(Fe.IMPORT_TABLE,!1),n(Fe.DYNAMO_ROLE,!1)}),[]),i.createElement($.A,{size:"xxl"},i.createElement($.A,{size:"l"},i.createElement(iue,{title:rce,wizardState:a,showErrors:!!(o||s),updateWizardState:t,updateErrorState:n}),g.hasServiceRole&&i.createElement(zf,{apiType:nt.MERGED,role:p,showErrors:o,setSelectedRole:I=>t({mergedApiExecutionRole:I}),setError:I=>n(Fe.API_ROLE,I),roleSource:Rl.MERGED_API,accountId:C}),i.createElement(due,{checked:y,setIsPrivateApi:I=>t({isPrivateApi:I})})),E&&i.createElement($.A,{size:"l"},i.createElement(Aue,{updateWizardState:t,setError:I=>n(Fe.IMPORT_TABLE,I),wizardState:a,showErrors:o}),i.createElement(zf,{apiType:nt.GRAPHQL,apiSource:We.IMPORT_TABLE,role:a.dynamoConfig[ee.ROLE],setSelectedRole:I=>t({dynamoConfig:Cue(Iue({},a.dynamoConfig),{[ee.ROLE]:I})}),setError:I=>n(Fe.DYNAMO_ROLE,I),showErrors:o,roleSource:Rl.IMPORT_TABLE,resourceName:(c=a.dynamoConfig.selectedTable)==null?void 0:c.label,accountId:C})))}function wue(t){const{wizardState:n,updateWizardState:a,updateErrorState:o,navigationBlocked:s}=t,c=de(),u=n.localAssociatedAPIs.length===0&&n.ramAssociatedAPIs.length===0,[p,h]=i.useState(!1),f=u&&p,y=A=>{h(!0),a({localAssociatedAPIs:A})},g=A=>{h(!0),a({ramAssociatedAPIs:A})};return(0,i.useLayoutEffect)(()=>(c(Ct({get:KU,args:void 0})),()=>{o(Fe.SOURCE_ASSOCIATIONS,!1)}),[]),(0,i.useEffect)(()=>h(s),[s]),(0,i.useEffect)(()=>(o(Fe.SOURCE_ASSOCIATIONS,u),()=>{o(Fe.SOURCE_ASSOCIATIONS,!1)}),[u]),i.createElement($.A,{size:"l"},f&&i.createElement(wt.A,{type:"error",header:(0,l.Ay)`A merged API should have at least one source Graphql API.`,statusIconAriaLabel:(0,l.Ay)`error`}),i.createElement(AP,{setLocalAssociatedApis:y,localAssociatedApis:n.localAssociatedAPIs}),i.createElement(EP,{setRamSourceApis:g,ramSourceApis:n.ramAssociatedAPIs}))}const po={[k.API_KEY]:"API key",[k.IAM]:"AWS Identity and Access Management (IAM)",[k.OIDC]:"OpenID Connect (OIDC)",[k.LAMBDA]:"AWS Lambda",[k.USER_POOLS]:"Amazon Cognito User Pool"},TD=[{value:k.API_KEY,label:po[k.API_KEY],description:"An API key is a hard-coded value in your application that is generated by the AWS AppSync service."},{value:k.IAM,label:po[k.IAM],description:"IAM allows you to control the authentication and authorization behavior for accessing AWS AppSync resources. Clients must have an IAM role from the same account as the account that owns the API."},{value:k.OIDC,label:po[k.OIDC],description:"This authorization type enforces OpenID Connect (OIDC) tokens provided by an OIDC-compliant service."},{value:k.LAMBDA,label:po[k.LAMBDA],description:"You can implement your own API authorization logic using an AWS Lambda function."},{value:k.USER_POOLS,label:po[k.USER_POOLS],description:"This authorization type enforces OIDC tokens provided by Amazon Cognito User Pools. Your application can leverage the users and groups in your user pools and associate these with GraphQL fields for controlling access."}],Pue="The following authorization modes were detected in your source APIs. Your merged API must include the same authorization modes as the source APIs. You can modify and add additional authorization modes after the API has been created.";var Oue=Object.defineProperty,ID=Object.getOwnPropertySymbols,Due=Object.prototype.hasOwnProperty,Nue=Object.prototype.propertyIsEnumerable,CD=(t,n,a)=>n in t?Oue(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,_ue=(t,n)=>{for(var a in n||(n={}))Due.call(n,a)&&CD(t,a,n[a]);if(ID)for(var a of ID(n))Nue.call(n,a)&&CD(t,a,n[a]);return t};function xue({region:t,pool:n,setPool:a,selectProps:o}){const[s,c]=Eb(t),u=c.map(h=>({label:h.name,description:h.id,value:h.id})),p=u.find(h=>h.value===n);return i.createElement(ze.A,_ue({statusType:s?"loading":"finished",options:u,selectedOption:p,onChange:({detail:h})=>a(h.selectedOption.value),disabled:!t},o))}const Da={modal:{header:(0,l.Ay)`Add Amazon Cognito User Pool authorization`},region:{label:(0,l.Ay)`AWS Region`,description:(0,l.Ay)`Select the region that your user pool is located in.`},userPool:{label:(0,l.Ay)`User pool`,description:(0,l.Ay)`Select a user pool, which allows your users to log in to your web or mobile app through Amazon Cognito.`,loadingText:(0,l.Ay)`Loading Cognito User Pools.`,empty:(0,l.Ay)`No user pools in region.`},appIdRegex:{label:i.createElement("span",null,(0,l.Ay)`AppID regex`," ",i.createElement("i",null,"- ",(0,l.Ay)`optional`)),description:(0,l.Ay)`Enter a regular expression to allow or block requests to this API.`},errors:{regionRequired:(0,l.Ay)`Region is required.`,poolRequired:(0,l.Ay)`User pool is required.`}};function Lue(t){const{region:n,userPoolId:a,appIdClientRegex:o}=t,s=i.createElement(X.A,{label:Da.region.label,description:Da.region.description,errorText:n.error,"data-testid":"cognito-region-selector"},i.createElement(vl,{region:n.value,setRegion:p=>{n.set(p),a.set(void 0)}})),c=i.createElement(X.A,{label:Da.userPool.label,description:Da.userPool.description,"data-testid":"user-pool-selector",errorText:a.error},i.createElement(xue,{region:n.value,pool:a.value,setPool:a.set,selectProps:Da.userPool})),u=i.createElement(X.A,{label:Da.appIdRegex.label,description:Da.appIdRegex.description,errorText:o.error},i.createElement(He.A,{value:o.value,type:"text",onChange:p=>o.set(p.detail.value)}));return i.createElement($.A,{size:"m"},s,c,u)}function kue(t){const n={};return t.awsRegion||(n.awsRegion=Da.errors.regionRequired),t.userPoolId||(n.userPoolId=Da.errors.poolRequired),n}var Mue=Object.defineProperty,RD=Object.getOwnPropertySymbols,Fue=Object.prototype.hasOwnProperty,Uue=Object.prototype.propertyIsEnumerable,wD=(t,n,a)=>n in t?Mue(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,$ue=(t,n)=>{for(var a in n||(n={}))Fue.call(n,a)&&wD(t,a,n[a]);if(RD)for(var a of RD(n))Uue.call(n,a)&&wD(t,a,n[a]);return t};function jue({region:t,lambdaArn:n,setLambdaArn:a,selectProps:o}){const[s,c]=In(pn.LAMBDA,t),u=c.map(h=>({id:h,label:h,value:h})),p=u.find(h=>h.id===n);return i.createElement(ze.A,$ue({selectedOption:p,options:u,onChange:({detail:h})=>a(h.selectedOption.value),statusType:s?"loading":void 0,filteringType:"auto"},o))}var Vue=Object.defineProperty,PD=Object.getOwnPropertySymbols,Bue=Object.prototype.hasOwnProperty,Gue=Object.prototype.propertyIsEnumerable,OD=(t,n,a)=>n in t?Vue(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,zue=(t,n)=>{for(var a in n||(n={}))Bue.call(n,a)&&OD(t,a,n[a]);if(PD)for(var a of PD(n))Gue.call(n,a)&&OD(t,a,n[a]);return t};function qf(t){const{defaultValue:n,value:a,setValue:o,checkboxProps:s,error:c,fieldLabel:u}=t,[p,h]=(0,i.useState)(!1);(0,i.useEffect)(()=>{a&&a>0&&h(!0),a||o(0)},[]);const f=i.createElement(Ea.A,zue({checked:p,onChange:({detail:g})=>{h(g.checked),o(g.checked?n:0)}},s)),y=i.createElement(X.A,{errorText:c,"data-testid":"range-with-default"},i.createElement("div",{className:"small-input-auth-mode"},i.createElement(He.A,{value:String(a),onChange:({detail:g})=>o(Math.max(+g.value,0)),type:"number"})),i.createElement(q.A,{color:"text-body-secondary",variant:"span",padding:{left:"s"},display:"inline"},l.Ay.translate(u)));return i.createElement(i.Fragment,null,f,p&&y)}const _r={modal:{header:(0,l.Ay)`Add Lambda authorization`},region:{label:(0,l.Ay)`AWS Region`,description:(0,l.Ay)`Select the region your Lambda is located in.`},functionArn:{label:(0,l.Ay)`Lambda function ARN`,description:(0,l.Ay)`Find an ARN from the list or enter one.`,loadingText:(0,l.Ay)`Loading Lambda functions`,empty:(0,l.Ay)`No Lambda functions in this region.`},tokenRegex:{label:i.createElement("span",null,(0,l.Ay)`Identity validation regex`," ",i.createElement("i",null,"- ",(0,l.Ay)`optional`)),description:(0,l.Ay)`Type a regular expression to validate tokens from requests to this API.`,placeholder:"^[a-zA-Z0-9_]*$"},authResponseCacheTtl:{children:(0,l.Ay)`Authorizer Response Cache TTL`,description:(0,l.Ay)`The number of seconds a cached authorizer response is valid for.`},errors:{functionArnRequired:(0,l.Ay)`Lambda function is required.`,cacheTTLTooLarge:(0,l.Ay)`TTL must be at most 3600s.`}};function que(t){const{functionArn:n,tokenRegex:a,authResponseCacheTtl:o,regionSelected:s}=t;(0,i.useEffect)(()=>{o.value||o.set(0)},[o.value]);const c=i.createElement(X.A,{label:_r.region.label,description:_r.region.description,"data-testid":"lambda-region-selector"},i.createElement(vl,{region:s.value,setRegion:f=>{s.set(f),n.set(void 0)}})),u=i.createElement(X.A,{label:_r.functionArn.label,description:_r.functionArn.description,"data-testid":"lambda-selector",errorText:n.error},i.createElement(jue,{region:s.value,lambdaArn:n.value,setLambdaArn:n.set,selectProps:_r.functionArn})),p=i.createElement(X.A,{label:_r.tokenRegex.label,description:_r.tokenRegex.description,errorText:a.error,"data-testid":"token-regex-input"},i.createElement(He.A,{value:a.value,placeholder:_r.tokenRegex.placeholder,type:"text",onChange:f=>a.set(f.detail.value)})),h=i.createElement(qf,{defaultValue:300,value:o.value,error:o.error,setValue:o.set,fieldLabel:"seconds",checkboxProps:_r.authResponseCacheTtl});return i.createElement($.A,{size:"m"},c,u,p,h)}function Kue(t){const n={};return t.authorizerUri||(n.authorizerUri=_r.errors.functionArnRequired),t.authorizerResultTtlInSeconds>3600&&(n.authorizerResultTtlInSeconds=_r.errors.cacheTTLTooLarge),n}const ia={modal:{header:(0,l.Ay)`OpenID Connect authorization`},issuer:{label:(0,l.Ay)`Issuer URL`,description:(0,l.Ay)`Provide your OpenID Connect provider domain.`},clientId:{label:i.createElement("span",null,(0,l.Ay)`Client ID`," ",i.createElement("i",null,"- ",(0,l.Ay)`optional`)),description:(0,l.Ay)`Provide a client ID from your OpenID Client Connect application that will only allow tokens from that application.`},TTLSection:{label:(0,l.Ay)`Time to live`},issuedAtTTl:{children:(0,l.Ay)`Issued TTL`,description:(0,l.Ay)`The number of milliseconds a token is valid for after being issued to a user.`},authTimeTTl:{children:(0,l.Ay)`Auth TTL`,description:(0,l.Ay)`The number of milliseconds a token is valid for after being validated.`},errors:{httpsIssuer:(0,l.Ay)`Issuer URL must begin with https`,invalidUrlIssuer:(0,l.Ay)`Issuer is not a valid URL`,issuerRequired:(0,l.Ay)`Issuer is a required parameter.`}};function Wue(t){const{issuerUrl:n,clientId:a,issuedAtTtl:o,authTimeTtl:s}=t,c=i.createElement(X.A,{label:ia.issuer.label,description:ia.issuer.description,errorText:n.error},i.createElement(He.A,{value:n.value,type:"text",onChange:({detail:y})=>n.set(y.value)})),u=i.createElement(X.A,{label:ia.clientId.label,description:ia.clientId.description,errorText:a.error},i.createElement(He.A,{value:a.value,type:"text",onChange:({detail:y})=>a.set(y.value)})),p=i.createElement(X.A,{label:ia.TTLSection.label}),h=i.createElement(qf,{defaultValue:0,value:o.value,error:o.error,setValue:o.set,fieldLabel:"milliseconds",checkboxProps:ia.issuedAtTTl}),f=i.createElement(qf,{defaultValue:0,value:s.value,error:s.error,setValue:s.set,fieldLabel:"milliseconds",checkboxProps:ia.authTimeTTl});return i.createElement($.A,{size:"m"},c,u,p,h,f)}const Hue=/^https:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/;function Jue(t){const n={};return t.issuer||(n.issuer=ia.errors.issuerRequired),t.issuer&&!t.issuer.match(Hue)&&(t.issuer.startsWith("http:")?n.issuer=ia.errors.httpsIssuer:n.issuer=ia.errors.invalidUrlIssuer),n}const rd={[k.LAMBDA]:Kue,[k.USER_POOLS]:kue,[k.OIDC]:Jue};function Ul({show:t,title:n,children:a}){return t?i.createElement(Le,{title:n},a):a}function DD(t,n,a){switch(t){case k.API_KEY:return i.createElement(Ul,{title:"API key",show:a,"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"apiKeyAuth"},i.createElement(ro,{label:(0,l.Ay)`API key`},"On"));case k.IAM:return i.createElement(Ul,{title:"AWS Identity and Access Management (IAM)",key:t,show:a,"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"iamAuth"},i.createElement(ro,{label:(0,l.Ay)`AWS Identity and Access Management (IAM)`},"On"));case k.OIDC:{const o=n(k.OIDC);return i.createElement(Ul,{title:"OpenID Connect authorization mode",key:t,show:a,"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"openIdConnectAuth"},i.createElement(Wue,{issuerUrl:o("issuer"),clientId:o("clientId"),issuedAtTtl:o("iatTTL"),authTimeTtl:o("authTTL")}))}case k.LAMBDA:{const o=n(k.LAMBDA);return i.createElement(Ul,{title:"AWS Lambda authorization",key:t,show:a,"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"lambdaAuth"},i.createElement(que,{functionArn:o("authorizerUri"),tokenRegex:o("identityValidationExpression"),authResponseCacheTtl:o("authorizerResultTtlInSeconds"),regionSelected:o("regionSelected")}))}case k.USER_POOLS:{const o=n(k.USER_POOLS);return i.createElement(Ul,{title:"Amazon Cognito User Pool authorization",key:t,show:a,"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"cognitoUserPoolAuth"},i.createElement(Lue,{region:o("awsRegion"),userPoolId:o("userPoolId"),appIdClientRegex:o("appIdClientRegex")}))}default:return}}var Yue=Object.defineProperty,Que=Object.defineProperties,Xue=Object.getOwnPropertyDescriptors,ND=Object.getOwnPropertySymbols,Zue=Object.prototype.hasOwnProperty,ede=Object.prototype.propertyIsEnumerable,_D=(t,n,a)=>n in t?Yue(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,tde=(t,n)=>{for(var a in n||(n={}))Zue.call(n,a)&&_D(t,a,n[a]);if(ND)for(var a of ND(n))ede.call(n,a)&&_D(t,a,n[a]);return t},nde=(t,n)=>Que(t,Xue(n));function rde(t){const{primaryAuthMode:n,sourceApis:a,setPrimaryAuth:o,updateErrorState:s,showErrors:c,updateConfigs:u,authModeConfigs:p}=t,[h,f]=(0,i.useState)({});(0,i.useEffect)(()=>{n||o(Pie(a))},[n]),(0,i.useEffect)(()=>{if(rd[n]){const E=rd[n](p[n]);s(Fe.AUTH_MODES_PRIMARY,Object.keys(E).length>0),f(E)}else s(Fe.AUTH_MODES_PRIMARY,!1),f({})},[p,n]);const y=E=>b=>({set:C=>u(E,nde(tde({},p[E]),{[b]:C})),value:p[E][b],error:c&&h[b]}),g=n===k.IAM||n===k.API_KEY?void 0:DD(n,y,!1),A=i.createElement(ze.A,{selectedOption:TD.find(E=>E.value===n),onChange:({detail:E})=>o(E.selectedOption.value),options:TD,triggerVariant:"option","data-analytics-type":U.EVENT_VALUE,"data-analytics":et(n)});return i.createElement(Le,{title:(0,l.Ay)`Primary authorization mode`,enablePanorama:!0,panoramaTag:"primaryAuthMode",description:i.createElement(q.A,null,(0,l.Ay)`Select the primary authorization mode for your schema.`,"\xA0",i.createElement(ue.A,{external:!0,href:"https://docs.aws.amazon.com/appsync/latest/devguide/security-authz.html"},(0,l.Ay)`Learn more about authorization mode configuration`))},A,!!g&&i.createElement(q.A,{padding:{top:"m"},"data-testid":"primary-auth-modes"},g))}var ade=Object.defineProperty,ide=Object.defineProperties,ode=Object.getOwnPropertyDescriptors,xD=Object.getOwnPropertySymbols,sde=Object.prototype.hasOwnProperty,lde=Object.prototype.propertyIsEnumerable,LD=(t,n,a)=>n in t?ade(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Kf=(t,n)=>{for(var a in n||(n={}))sde.call(n,a)&&LD(t,a,n[a]);if(xD)for(var a of xD(n))lde.call(n,a)&&LD(t,a,n[a]);return t},kD=(t,n)=>ide(t,ode(n));const cde={[k.LAMBDA]:{},[k.OIDC]:{},[k.USER_POOLS]:{}};function ude(t){const{primaryAuthMode:n,sourceApis:a,updateConfigs:o,updateErrorState:s,sourceApiConfigs:c,showErrors:u}=t,[p,h]=(0,i.useState)(cde),f=(0,i.useMemo)(()=>Wu(n,a),[a,n]);if((0,i.useEffect)(()=>{let A=Kf({},p),E=!1;f.forEach(b=>{if(rd[b]){const C=rd[b](c[b]);A=kD(Kf({},A),{[b]:C}),E=E||Object.keys(C).length>0}}),s(Fe.AUTH_MODES_SECONDARY,E),h(A)},[c,n]),f.length===0)return null;const y=A=>E=>({set:b=>o(A,kD(Kf({},c[A]),{[E]:b})),value:c[A][E],error:u&&p[A][E]}),g=f.map(A=>DD(A,y,!0));return i.createElement(q.A,{padding:{top:"l"},"data-testid":"additional-auth-modes"},i.createElement($.A,{size:"m"},i.createElement(be.A,{description:l.Ay.translate(Pue),variant:"h2"},(0,l.Ay)`Additional authorization modes`),g))}var dde=Object.defineProperty,MD=Object.getOwnPropertySymbols,pde=Object.prototype.hasOwnProperty,mde=Object.prototype.propertyIsEnumerable,FD=(t,n,a)=>n in t?dde(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Wf=(t,n)=>{for(var a in n||(n={}))pde.call(n,a)&&FD(t,a,n[a]);if(MD)for(var a of MD(n))mde.call(n,a)&&FD(t,a,n[a]);return t};function hde(t){const n=de(),[a,o]=(0,i.useState)(t.wizardState.authModeConfigs),s=p=>t.updateWizardState({primaryAuthMode:p}),c=(p,h)=>{o(f=>(f[p]=Wf(Wf({},f[p]),h),Wf({},f)))},u=[...t.wizardState.localAssociatedAPIs,...t.wizardState.ramAssociatedAPIs];return(0,i.useEffect)(()=>{a!==t.wizardState.authModeConfigs&&t.updateWizardState({authModeConfigs:a})},[a]),(0,i.useLayoutEffect)(()=>(n(Ct({get:NU,args:void 0})),()=>{t.updateErrorState(Fe.AUTH_MODES_PRIMARY,!1),t.updateErrorState(Fe.AUTH_MODES_SECONDARY,!1)}),[]),i.createElement($.A,{size:"l"},i.createElement(rde,{updateConfigs:c,setPrimaryAuth:s,sourceApis:u,showErrors:t.navigationBlocked,updateErrorState:t.updateErrorState,primaryAuthMode:t.wizardState.primaryAuthMode,authModeConfigs:t.wizardState.authModeConfigs}),i.createElement(ude,{updateConfigs:c,showErrors:t.navigationBlocked,updateErrorState:t.updateErrorState,sourceApiConfigs:t.wizardState.authModeConfigs,sourceApis:u,primaryAuthMode:t.wizardState.primaryAuthMode}),t.currentErrors.length>0&&t.navigationBlocked&&i.createElement(wt.A,{type:"error",statusIconAriaLabel:(0,l.Ay)`error`},(0,l.Ay)`Please correct any above configuration errors before continuing`))}function mo(t){return i.createElement(q.A,{margin:{bottom:"xl"}},i.createElement($.A,{size:"m"},i.createElement(be.A,{variant:"h3",headingTagOverride:"h2",actions:i.createElement(K.A,{ariaLabel:l.Ay.translate("Edit ${0}",(0,l.Ay)`${t.title}`),onClick:t.onEdit},(0,l.Ay)`Edit`)},l.Ay.translate(t.title)),t.children))}const Na={ApiDetails:{step:"Step 2: Specify API details",container:"API details"},SchemaDetails:{[We.BLANK]:"Step 3: Specify model details",[We.IMPORT_TABLE]:"Step 3: Specify model details",[We.REALTIME]:"Step 3: Real-time settings",modelContainer:"Model details",tableContainer:"Model table details",realTimeContainer:"GraphQL subscription settings",createModelContainer:"Create a GraphQL type",[We.RDS]:"Step 3: Select database tables"},SchemaConfiguration:{[We.RDS]:"Step 4: Select configuration"}};function UD({setStep:t,wizardState:n}){var a,o,s,c,u;const p=HO(),h=ty[n.selectedApiType],f=(a=ho[n.graphqlApiSource])==null?void 0:a.hasImportTable,{hasServiceRole:y}=h,g=Uf().map(b=>({key:p[b.i18nKey].fieldLabel,value:n[b.field]})),A=[{key:l.Ay.translate(Ll.fieldLabel),value:zi(n.isPrivateApi)}],E=fS(g,A);return i.createElement(mo,{onEdit:()=>t(1),title:Na.ApiDetails.step},i.createElement(Le,{headingTagOverride:"h3",title:Na.ApiDetails.container,enablePanorama:!0,panoramaTag:"reviewApiDetails"},i.createElement("div",{"data-testid":"wizard-review-details"},i.createElement(gn,{columns:2,items:E}))),y&&i.createElement(Le,{headingTagOverride:"h3",title:"Service role",enablePanorama:!0,panoramaTag:"reviewServiceRole"},i.createElement("div",{"data-testid":"wizard-review-role"},i.createElement(gn,{columns:1,items:[{key:(0,l.Ay)`Role`,value:n.mergedApiExecutionRole}]}))),f&&i.createElement(Le,{headingTagOverride:"h3",title:"DynamoDB details",enablePanorama:!0,panoramaTag:"reviewDynamoDbDetails"},i.createElement("div",{"data-testid":"wizard-review-ddb"},i.createElement(gn,{columns:2,items:[{key:(0,l.Ay)`DynamoDB table region`,value:(s=(o=n.dynamoConfig)==null?void 0:o.selectedRegion)==null?void 0:s.label},{key:(0,l.Ay)`Role`,value:(c=n.dynamoConfig)==null?void 0:c.dynamoRole},{key:(0,l.Ay)`DynamoDB table name`,value:(u=n.dynamoConfig.selectedTable)==null?void 0:u.label}]}))))}function $D({setStep:t,apiType:n,apiSource:a}){var o;const{result:s}=_n(Bt.isRDSEnabled),c=dD(s),u={key:(0,l.Ay)`API type`,value:n===nt.GRAPHQL?(o=c.find(p=>p.value===a))==null?void 0:o.label:(0,l.Ay)`Merged API`};return i.createElement(mo,{onEdit:()=>t(0),title:"Step 1: Select API type"},i.createElement(Le,{headingTagOverride:"h3",title:"API type",enablePanorama:!0,panoramaTag:"reviewApiType"},i.createElement("div",{"data-testid":"wizard-review-type"},i.createElement(gn,{columns:1,items:[{key:u.key,value:u.value}]}))))}function fde({setStep:t,primaryAuthMode:n,additionalAuthModes:a}){const o=a.map(u=>{const p=l.Ay.translate(po[u]);return i.createElement("p",{key:u},p)}),s=i.createElement(It.A,null,o),c=[{key:(0,l.Ay)`Primary authorization mode`,value:l.Ay.translate(po[n])}];return a.length>0&&c.push({key:(0,l.Ay)`Additional authorization modes`,value:s}),i.createElement(mo,{onEdit:()=>t(3),title:"Step 4: Select authorization mode"},i.createElement(Le,{headingTagOverride:"h3",title:"Merged API authorization modes",enablePanorama:!0,panoramaTag:"reviewMergedAuthModes"},i.createElement("div",{"data-testid":"wizard-review-auth"},i.createElement(gn,{columns:2,items:c}))))}function yde({setStep:t,localApis:n,ramApis:a}){return i.createElement(mo,{onEdit:()=>t(2),title:"Step 3: Select source APIs"},i.createElement("div",{"data-testid":"wizard-review-local-sources"},i.createElement(oo,{"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"reviewLocalSourceApis",selected:[],tableApiCollection:n,showSimpleView:!0,i18nStrings:{title:(0,l.Ay)`APIs from your AWS account`,description:(0,l.Ay)`This table contains the AWS AppSync GraphQL APIs sourced from your AWS account.`},columns:gf})),i.createElement("div",{"data-testid":"wizard-review-ram-sources"},i.createElement(oo,{"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"reviewRamSourceApis",selected:[],tableApiCollection:a,showSimpleView:!0,i18nStrings:{title:(0,l.Ay)`APIs from other AWS accounts`,description:(0,l.Ay)`This table contains the AWS AppSync GraphQL APIs sourced from external AWS accounts.`},columns:Af})))}function gde({setStep:t,wizardState:n}){const a=de(),o=[...n.localAssociatedAPIs,...n.ramAssociatedAPIs],s=Wu(n.primaryAuthMode,o);return(0,i.useLayoutEffect)(()=>{a(Ct({get:oA,args:{apiType:nt.MERGED}}))},[]),i.createElement($.A,{size:"l"},i.createElement($D,{setStep:t,apiType:n.selectedApiType}),i.createElement(UD,{setStep:t,wizardState:n}),i.createElement(yde,{setStep:t,localApis:n.localAssociatedAPIs,ramApis:n.ramAssociatedAPIs}),i.createElement(fde,{setStep:t,primaryAuthMode:n.primaryAuthMode,additionalAuthModes:s}))}function jD({schema:t,visible:n,handleDismiss:a}){const o=(0,pl.F)(new Xc.i);return i.createElement(xn.A,{closeAriaLabel:"Close",visible:n,header:i.createElement(be.A,null,(0,l.Ay)`Preview schema`),onDismiss:a,footer:i.createElement(q.A,{float:"right"},i.createElement($.A,{direction:"horizontal",size:"xs"},i.createElement(K.A,{variant:"primary",onClick:a},(0,l.Ay)`Close`)))},i.createElement("div",{id:"schema-code-editor"},i.createElement(Ir.x,{content:t,lineNumbers:!0,highlight:o})))}function Ade({value:t,onChange:n}){const[a,o]=(0,i.useState)(t),s=(0,i.useMemo)(()=>Eh(a),[a]);return i.createElement(X.A,{errorText:s},i.createElement(He.A,{value:a,onChange:({detail:c})=>o(c.value),onBlur:()=>n(a),placeholder:(0,l.Ay)`Enter type name`,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"edit-type-name"}))}const VD=t=>t===1?"1 match":`${t} matches`,Ede=(t,n)=>t.name.value.localeCompare(n.name.value),ad=({showSimpleView:t,handleNameEdit:n})=>[{id:"typeName",header:(0,l.Ay)`Type name`,cell:a=>t?a.name.value:i.createElement(Ade,{value:a.name.value,placeholder:a.tableName,onChange:o=>n?.(a,o)}),minWidth:250,sortingComparator:Ede},{id:"tableName",header:(0,l.Ay)`Table`,cell:a=>a.tableName,sortingField:"tableName",minWidth:158},{id:"primaryKey",header:(0,l.Ay)`Primary key`,cell:a=>{var o;return((o=a.primaryKey)==null?void 0:o.join(", "))||""},minWidth:158},{id:"columns",header:(0,l.Ay)`Columns`,cell:a=>a.fields.length}],bde=ad({}).map(t=>t.id),vde=ad({}).map(t=>({id:t.id,label:t.header,editable:!(t.id==="typeName"||t.id==="tableName")})),Sde={title:(0,l.Ay)`Select visible columns`,options:[{label:(0,l.Ay)`Properties`,options:vde}]},BD={nextPageLabel:(0,l.Ay)`Next page`,pageLabel:t=>(0,l.Ay)`Skip to ${l.Ay.translate(t.toString())}`,previousPageLabel:(0,l.Ay)`Previous page`},Tde={pageSizePreference:{title:(0,l.Ay)`Select page size`,options:[{value:10,label:(0,l.Ay)`${l.Ay.translate("10")} resources`},{value:20,label:(0,l.Ay)`${l.Ay.translate("20")} resources`}]},visibleContentPreference:Sde,cancelLabel:(0,l.Ay)`Cancel`,confirmLabel:(0,l.Ay)`Confirm`,title:(0,l.Ay)`Preferences`},Ide=[Xt.SECRET_STORE_ARN,Xt.RDS_IDENTIFIER,Xt.RDS_NAME],id=t=>({[Xt.SECRET_STORE_ARN]:{rules:[Me((0,l.Ay)`AWS Secrets Manager secret`)],errorKey:Xt.SECRET_STORE_ARN},[Xt.RDS_IDENTIFIER]:{rules:[Me((0,l.Ay)`RDS Cluster ARN`)],errorKey:Xt.RDS_IDENTIFIER},[Xt.RDS_NAME]:{rules:[Me((0,l.Ay)`Database name`)],errorKey:Xt.RDS_NAME}})[t].rules,od={mysql:"mysql",postgres:"pg"},Hf={mysql:"aurora-mysql",postgres:"aurora-postgresql"},Cde=Object.values(Hf),Rde=t=>{switch(t){case Hf.mysql:return od.mysql;case Hf.postgres:return od.postgres;default:throw new Error(l.Ay.translate("Unsupported RDS engine type. Expected one of ${0}. Found ${1}.",Cde.join(", "),t))}},wde=t=>({[od.mysql]:"Aurora MySQL",[od.postgres]:"Aurora PostgreSQL"})[t],GD=t=>{if(!t)return[];const n=t.config;return[{key:(0,l.Ay)`Aurora cluster`,value:n.clusterArn.split(":").splice(-1)},{key:(0,l.Ay)`Data source type`,value:(0,l.Ay)`Relational database`},{key:(0,l.Ay)`Engine type`,value:wde(n.engineType)},{key:(0,l.Ay)`Database`,value:n.databaseName}]},zD=(t,n)=>(t?.tables||[]).filter(o=>o.enabled===n.enabled);function qD({openPreviewSchema:t,disabled:n}){return i.createElement(K.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"preview-schema",onClick:a=>{a.preventDefault(),t()},disabled:n},(0,l.Ay)`Preview Schema`)}var Pde=Object.defineProperty,Ode=Object.defineProperties,Dde=Object.getOwnPropertyDescriptors,KD=Object.getOwnPropertySymbols,Nde=Object.prototype.hasOwnProperty,_de=Object.prototype.propertyIsEnumerable,WD=(t,n,a)=>n in t?Pde(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,$l=(t,n)=>{for(var a in n||(n={}))Nde.call(n,a)&&WD(t,a,n[a]);if(KD)for(var a of KD(n))_de.call(n,a)&&WD(t,a,n[a]);return t},jl=(t,n)=>Ode(t,Dde(n));function xde({selectedItems:t,items:n,openPreviewSchema:a,showSimpleView:o,removeFromSchema:s,openAddTypesModal:c}){const u=t.length!==0&&n.length!==0?`(${t.length}/${n.length})`:`(${n.length})`,p=!(t.length>0)||n.length===0,h=[(0,l.Ay)`The verified database tables were added as types to your schema in the list below.`,(0,l.Ay)`You can edit type names and remove tables from the schema now or later in the Schema page.`].join(" ");return i.createElement(be.A,{description:!o&&h,counter:u,actions:i.createElement($.A,{direction:"horizontal",size:"xs"},!o&&i.createElement(i.Fragment,null,i.createElement(K.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"remove-types","data-testid":"rds-remove-types-in-schema",onClick:f=>{f.preventDefault(),s()},disabled:p},(0,l.Ay)`Remove`),i.createElement(K.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"add-types","data-testid":"rds-add-types-to-schema",onClick:f=>{f.preventDefault(),c()}},(0,l.Ay)`Add tables`)),!!a&&i.createElement(qD,{disabled:n.length===0,openPreviewSchema:a}))},(0,l.Ay)`Database tables`)}function HD({adapter:t,showSimpleView:n,openPreviewSchema:a,openAddTypesModal:o,onSetEnabled:s,setError:c}){const[u,p]=(0,i.useState)({visibleContent:bde,pageSize:10}),[h,f]=(0,i.useState)([]);(0,i.useEffect)(()=>(E(),()=>c?.(!1)),[]);const y=({detail:x})=>f(x.selectedItems),g=zD(t,{enabled:!0}),A=()=>{s(h,!1),f([])},E=x=>{const O=t.tables.some(B=>B.enabled&&Eh(B.name.value)),j=x&&!!Eh(x);c?.(O||j)},b=(x,O)=>{t.getTable(x.tableName).setName(O),E(O)},{items:C,actions:I,filteredItemsCount:R,collectionProps:L,filterProps:P,paginationProps:F}=(0,Wn.G)(g,{filtering:{empty:i.createElement(Ei,{text:(0,l.Ay)`No types added`,actions:i.createElement(K.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"add-types-empty",onClick:x=>{x.preventDefault(),o()}},(0,l.Ay)`Add tables`)}),noMatch:i.createElement(Ei,{text:(0,l.Ay)`No matches`,actions:i.createElement(K.A,{onClick:()=>I.setFiltering("")},(0,l.Ay)`Clear filter`)})},pagination:{pageSize:u.pageSize},sorting:{},selection:{trackBy:"tableName",keepSelection:!0}});return i.createElement(Ht.A,jl($l(jl($l({},L),{columnDefinitions:ad({showSimpleView:n||!g.length,handleNameEdit:b}),visibleColumns:u.visibleContent,onSelectionChange:y,trackBy:"tableName",items:C,pagination:i.createElement(Xr.A,jl($l({},F),{ariaLabels:BD})),filter:i.createElement(ur.A,jl($l({},P),{countText:VD(R),filteringAriaLabel:(0,l.Ay)`Filter table`})),preferences:i.createElement(ts.A,jl($l({},Tde),{onConfirm:({detail:x})=>p(x),preferences:u})),selectedItems:h}),!n&&{selectionType:"multi"}),{header:i.createElement(xde,{selectedItems:h,items:C,showSimpleView:n,openPreviewSchema:a,openAddTypesModal:o,removeFromSchema:A}),"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"rds-table","data-testid":"rds-table"}))}function Lde({wizardState:t,setStep:n}){const a=t.rdsConfig,[o,s]=(0,i.useState)(!1),c=(0,i.useMemo)(()=>a.getSDL({includeAdditionalTypes:!1,includeBaseTypes:!0}),[o]);return i.createElement(i.Fragment,null,i.createElement(mo,{onEdit:()=>n(2),title:Na.SchemaDetails.rds},i.createElement(Le,{headingTagOverride:"h3",title:(0,l.Ay)`Database`},i.createElement(gn,{columns:4,items:GD(a)})),i.createElement(HD,{adapter:a,showSimpleView:!0}),i.createElement(jD,{schema:c,visible:o,handleDismiss:()=>s(!1)})),i.createElement(mo,{onEdit:()=>n(3),title:Na.SchemaConfiguration.rds},i.createElement(Le,{title:(0,l.Ay)`Schema configuration`},i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`Configuration option`,description:(0,l.Ay)`Create queries, mutations, and subscriptions for all models.`}),i.createElement(qD,{disabled:!1,openPreviewSchema:()=>s(!0)})))))}function kde({indexes:t}){return i.createElement(Ht.A,{header:i.createElement(be.A,{headingTagOverride:"h3",counter:`(${t.length})`},(0,l.Ay)`Additional indexes`),"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"reviewAdditionalIndexes",variant:"stacked",items:t,columnDefinitions:[{id:"name",header:(0,l.Ay)`Index name`,cell:n=>n?.Name},{id:"primary",header:(0,l.Ay)`Primary key`,cell:n=>{var a;return(a=n.PrimaryKey)==null?void 0:a.AttributeName}},{id:"sort",header:(0,l.Ay)`Sort key`,cell:n=>{var a;return((a=n.SortKey)==null?void 0:a.AttributeName)||(0,l.Ay)`None`}}],empty:(0,l.Ay)`No additional indexes.`})}function Mde({tableConfig:t}){var n,a;const o=t[ee.PRIMARY_INDEX],s=[{key:(0,l.Ay)`Table name`,value:o.Name},{key:(0,l.Ay)`Primary key`,value:(n=o.PrimaryKey)==null?void 0:n.AttributeName},{key:(0,l.Ay)`Sort key`,value:(a=o.SortKey)==null?void 0:a.AttributeName}];return i.createElement(i.Fragment,null,i.createElement(it.A,{header:i.createElement(Ta,{headingTagOverride:"h3",title:Na.SchemaDetails.tableContainer}),variant:"stacked","data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"reviewTableDetails"},i.createElement("div",{"data-testid":"wizard-review-table-details"},i.createElement(gn,{columns:3,items:s}))),i.createElement(kde,{indexes:t.additionalIndexes}))}const Fde=t=>{var n;const a=(n=t.type)==null?void 0:n.getNamedType();return jf.find(s=>s.value===a.name.value).label};function Ude({fields:t}){return i.createElement(Ht.A,{header:i.createElement(be.A,{headingTagOverride:"h3",counter:`(${t.length})`},(0,l.Ay)`Model fields`),"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"reviewModelFields",variant:"stacked",items:t,columnDefinitions:[{id:"name",header:(0,l.Ay)`Name`,cell:n=>{var a;return(a=n.name)==null?void 0:a.value}},{id:"type",header:(0,l.Ay)`Type`,cell:Fde},{id:"list",header:(0,l.Ay)`List`,cell:n=>{var a;return(a=n.type)!=null&&a.isList()?(0,l.Ay)`Yes`:(0,l.Ay)`No`}},{id:"required",header:(0,l.Ay)`Required`,cell:n=>{var a;return(a=n.type)!=null&&a.isNonNull()?(0,l.Ay)`Yes`:(0,l.Ay)`No`}}],empty:(0,l.Ay)`No model fields defined.`})}const $de=t=>({[Ve.APPSYNC_JS]:sn.containers.resolver.footer.field.options.js.label,[Ve.VTL]:sn.containers.resolver.footer.field.options.vtl.label})[t];function jde({modelConfig:t}){const n=[{key:(0,l.Ay)`Model name`,value:t[ee.NAME]},{key:l.Ay.translate(sn.containers.resolver.footer.field.label),value:l.Ay.translate($de(t[ee.RUNTIME]))}];return i.createElement(i.Fragment,null,i.createElement(it.A,{"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"reviewModelDetails",header:i.createElement(Ta,{headingTagOverride:"h3",title:Na.SchemaDetails.modelContainer}),variant:"stacked"},i.createElement("div",{"data-testid":"wizard-review-model-details"},i.createElement(gn,{columns:Math.min(n.length,2),items:n}))),i.createElement(Ude,{fields:t.modelFields}))}function Vde({isRealtimeApi:t}){return i.createElement(Le,{title:Na.SchemaDetails.realTimeContainer,enablePanorama:!0,panoramaTag:"reviewRealtime",headingTagOverride:"h3"},i.createElement(gn,{columns:1,items:[{key:(0,l.Ay)`Pub/Sub only configuration`,value:zi(t)}]}))}const Bde="Create a GraphQL type",JD={title:"Create a GraphQL type backed by a DynamoDB table",description:"Your type will be backed by a DynamoDB table accessed via a DynamoDB data source and will be preconfigured with GraphQL queries, mutations, and subscriptions."},YD={LATER:"Create GraphQL resources later",NOW:"Create type backed by a DynamoDB table now"};var Gde=Object.defineProperty,zde=Object.defineProperties,qde=Object.getOwnPropertyDescriptors,QD=Object.getOwnPropertySymbols,Kde=Object.prototype.hasOwnProperty,Wde=Object.prototype.propertyIsEnumerable,XD=(t,n,a)=>n in t?Gde(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Hde=(t,n)=>{for(var a in n||(n={}))Kde.call(n,a)&&XD(t,a,n[a]);if(QD)for(var a of QD(n))Wde.call(n,a)&&XD(t,a,n[a]);return t},Jde=(t,n)=>zde(t,qde(n));const ZD=()=>[{value:Nr.LATER,label:l.Ay.translate(YD.LATER)},{value:Nr.NOW,label:l.Ay.translate(YD.NOW)}];function Yde(t){const n=t.wizardState.dynamoConfig[ee.SOURCE];return i.createElement(it.A,{"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"createGraphqlType",header:i.createElement(be.A,null,l.Ay.translate(Bde))},i.createElement(X.A,{label:l.Ay.translate(JD.title),description:l.Ay.translate(JD.description),"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"createDynamodbTable"},i.createElement(Tr.A,{items:ZD(),onChange:({detail:a})=>{t.updateWizardState({dynamoConfig:Jde(Hde({},t.wizardState.dynamoConfig),{[ee.SOURCE]:a.value})})},value:n,"data-analytics-type":U.EVENT_VALUE,"data-analytics":n})))}const Qde=ZD();function Xde({dynamoSource:t}){var n;return i.createElement(Le,{title:Na.SchemaDetails.createModelContainer,enablePanorama:!0,headingTagOverride:"h3",panoramaTag:"reviewCreateModel"},i.createElement(gn,{columns:1,items:[{key:(0,l.Ay)`Create a GraphQL type backed by a DynamoDB table`,value:(n=Qde.find(a=>a.value===t))==null?void 0:n.label}]}))}function Zde({setStep:t,wizardState:n}){const{dynamoConfig:a,graphqlApiSource:o,isRealtimeApi:s}=n,{hasRealTime:c,hasDefineModel:u,hasTableInfo:p}=ho[o],h=n.dynamoConfig[ee.SOURCE]===Nr.NOW,f=u&&p,y=h&&u,g=h&&p,A=Na.SchemaDetails[o];return i.createElement(mo,{onEdit:()=>t(2),title:A},c&&i.createElement(Vde,{isRealtimeApi:s}),f&&i.createElement(Xde,{dynamoSource:a[ee.SOURCE]}),y&&i.createElement(jde,{modelConfig:a.modelConfig}),g&&i.createElement(Mde,{tableConfig:a.tableConfig}))}function epe({setStep:t,wizardState:n}){const a=de();return(0,i.useLayoutEffect)(()=>{a(Ct({get:oA,args:{apiType:nt.GRAPHQL,apiSource:n.graphqlApiSource}}))},[]),i.createElement($.A,{size:"l"},i.createElement($D,{setStep:t,apiType:n.selectedApiType,apiSource:n.graphqlApiSource}),i.createElement(UD,{setStep:t,wizardState:n}),n.graphqlApiSource===We.RDS?i.createElement(Lde,{setStep:t,wizardState:n}):i.createElement(Zde,{setStep:t,wizardState:n}))}var tpe=Object.defineProperty,npe=Object.defineProperties,rpe=Object.getOwnPropertyDescriptors,eN=Object.getOwnPropertySymbols,ape=Object.prototype.hasOwnProperty,ipe=Object.prototype.propertyIsEnumerable,tN=(t,n,a)=>n in t?tpe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,ope=(t,n)=>{for(var a in n||(n={}))ape.call(n,a)&&tN(t,a,n[a]);if(eN)for(var a of eN(n))ipe.call(n,a)&&tN(t,a,n[a]);return t},spe=(t,n)=>npe(t,rpe(n));function lpe({addNew:t,removeItem:n,fields:a,showErrors:o,setFields:s,disableKeys:c,tableConfig:u}){const p=u[ee.PRIMARY_INDEX],h=(g,A,E)=>{const b=[...a],C=a[g],I=hce(C,A,E);b.splice(g,1,I),s(b)},f=a.map(g=>g.name.value),y=Ece({fieldNames:f,showErrors:o,disableKeys:c,primaryIndex:p,handleChange:h});return i.createElement(Xo.A,{"data-testid":"model-attributes",definition:y,items:a,empty:l.Ay.translate(kl.editor.empty),onAddButtonClick:t,addButtonText:l.Ay.translate(kl.editor.addButton),isItemRemovable:g=>!c||c&&!ZO(g.name.value,p),removeButtonText:l.Ay.translate(kl.editor.removeButton),onRemoveButtonClick:({detail:{itemIndex:g}})=>{n(g)},i18nStrings:{errorIconAriaLabel:(0,l.Ay)`Error`}})}function cpe(t){const n=C=>(t.navigationBlocked||t.validationError)&&C.display?C.message:"",[a,o]=(0,i.useState)({name:{message:"",display:!1},fields:{message:"",display:!1}}),{dynamoConfig:s}=t.wizardState,{[ee.MODEL_CONFIG]:c,[ee.TABLE_CONFIG]:u}=s,{[ee.FIELDS]:p,[ee.NAME]:h}=c;(0,i.useEffect)(()=>(E(),()=>{t.updateErrorState(Fe.MODEL_NAME,!1),t.updateErrorState(Fe.MODEL_FIELDS,!1)}),[]),(0,i.useEffect)(()=>{E()},[u]);const f=(C,I)=>{const R=spe(ope({},c),{[C]:I});t.updateWizardState(pce(s,R))},y=()=>{const C=p.concat(fce(`field${p.length}`,"String"));E(C),f(ee.FIELDS,C)},g=C=>{const I=[...p];I.splice(C,1),E(I),f(ee.FIELDS,I)},A=C=>{h!==C&&(E(void 0,C),f(ee.NAME,C))},E=(C,I)=>{const P=Vf({fields:C??p,modelName:I??h});o(P),t.updateErrorState(Fe.MODEL_FIELDS,!!P.fields.message),t.updateErrorState(Fe.MODEL_NAME,!!P.name.message)},b=$f.constraint.map(C=>l.Ay.translate(C)).join(" ");return i.createElement(it.A,{"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"modelInformation",header:i.createElement(be.A,null,l.Ay.translate(ace)),footer:i.createElement(ph,{updateRuntime:C=>f(ee.RUNTIME,C),selectedRuntime:c[ee.RUNTIME]})},i.createElement($.A,{size:"l"},i.createElement(X.A,{label:l.Ay.translate($f.label),description:l.Ay.translate($f.description),constraintText:b,errorText:n(a.name)},i.createElement(He.A,{"data-cy":"model-name",value:h,onChange:({detail:C})=>{A(C.value)},onBlur:()=>Vf({modelName:h})})),i.createElement(X.A,{stretch:!0,"data-testid":"model-attributes",errorText:n(a.fields)},i.createElement(be.A,{variant:"h3",description:l.Ay.translate(kl.field.description)},l.Ay.translate(kl.field.label)),i.createElement(lpe,{addNew:y,removeItem:g,setFields:C=>{E(C),f(ee.FIELDS,C)},disableKeys:t.wizardState.graphqlApiSource===We.IMPORT_TABLE,tableConfig:u,showErrors:!!(t.navigationBlocked||t.validationError),fields:p}))))}function nN({index:t,allAttributes:n,handleChange:a}){const o=n.map(s=>aD(s,t,!0));return i.createElement(ze.A,{"data-cy":"primary-key-select",empty:Gf.primaryEmpty,selectedOption:o.find(s=>{var c;return s.value===((c=t.PrimaryKey)==null?void 0:c.AttributeName)}),options:o,onChange:({detail:s})=>a(s.selectedOption)})}function rN({index:t,allAttributes:n,handleChange:a}){const o=[Zu].concat(n.map(s=>aD(s,t,!1)));return i.createElement(ze.A,{selectedOption:o.find(s=>{var c;return s.value===((c=t.SortKey)==null?void 0:c.AttributeName)})||Zu,options:o,onChange:({detail:s})=>a(s.selectedOption)})}const upe=(t,n)=>{const a=t.PrimaryKey||null,o=t.SortKey||null,s=o?o.AttributeName:null,c=n.filter(p=>p.Field.isOfDynamoDBScalarType((0,T.Map)())&&!p.Field.isList()).find(p=>!p.IsPrimaryKey&&p.AttributeName!==s)||null;let u="";return a&&(u+=`${a.AttributeName}-`),c&&(u+=`${c.AttributeName}-`),u+="index",new Xa({Name:u,PrimaryKey:a,SortKey:c})},dpe=(t,n)=>{let a=_e(t,[Me((0,l.Ay)`Index name`),bl,El]);return!n&&!a&&(a=l.Ay.translate(Ml.UniqueIndexName)),a},ppe=(t,n,a,o,s)=>[{label:(0,l.Ay)`Index name`,errorText:c=>{if(!o)return"";const u=n.filter(h=>h===c.Name).length<=1;return dpe(c.Name,u)},control:(c,u)=>i.createElement(He.A,{onChange:({detail:p})=>s(u,ee.NAME,p.value),value:c.Name})},{label:(0,l.Ay)`Primary key`,errorText:c=>{var u;return _e((u=c.PrimaryKey)==null?void 0:u.AttributeName,[Me((0,l.Ay)`Primary key`)])},control:(c,u)=>i.createElement(nN,{index:c,allAttributes:a,handleChange:p=>s(u,ee.PRIMARY_KEY,p)})},{label:(0,l.Ay)`Sort key`,errorText:c=>{let u="";const p=h=>!!h.SortKey;return p(c)&&!p(t)&&(u=l.Ay.translate(Ml.NoTableSortKey)),u},control:(c,u)=>i.createElement(rN,{index:c,allAttributes:a,handleChange:p=>s(u,ee.SORT_KEY,p)})}];function mpe({primaryIndex:t,additionalIndexes:n,attributes:a,validateIndexes:o,setIndexes:s,showErrors:c}){const u=(g,A,E)=>{const b=[...n],C=n[g],I=iD(C,A,E,a);b.splice(g,1,I),s(b)},p=()=>{const g=n.concat(upe(t,a));o({newAdditionalIndexes:g}),s(g)},h=g=>{const A=[...n];A.splice(g,1),s(A)},f=n.map(g=>g.Name),y=ppe(t,f,a,c,u);return i.createElement(Xo.A,{items:n,empty:l.Ay.translate(ed.editor.empty),addButtonText:l.Ay.translate(ed.editor.addButton),onAddButtonClick:p,removeButtonText:l.Ay.translate(ed.editor.removeButton),onRemoveButtonClick:({detail:g})=>h(g.itemIndex),definition:y})}var hpe=Object.defineProperty,fpe=Object.defineProperties,ype=Object.getOwnPropertyDescriptors,aN=Object.getOwnPropertySymbols,gpe=Object.prototype.hasOwnProperty,Ape=Object.prototype.propertyIsEnumerable,iN=(t,n,a)=>n in t?hpe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Jf=(t,n)=>{for(var a in n||(n={}))gpe.call(n,a)&&iN(t,a,n[a]);if(aN)for(var a of aN(n))Ape.call(n,a)&&iN(t,a,n[a]);return t},Yf=(t,n)=>fpe(t,ype(n));function Epe(t){const{updateWizardState:n,wizardState:a,updateErrorState:o,navigationBlocked:s,validationError:c}=t,[u,p]=(0,i.useState)({name:"",primary:"",additionalIndexes:""}),[h,f]=In(pn.DDB,mt()),{dynamoConfig:y}=a,{[ee.TABLE_CONFIG]:g,[ee.MODEL_CONFIG]:A}=y,{[ee.NAME]:E,[ee.FIELDS]:b}=A,{[ee.PRIMARY_INDEX]:C,[ee.ADDITION_INDEXES]:I}=g,R=(0,i.useMemo)(()=>{const V=b.map(W=>Zl(W.toJS()));return Pce(V)},[b]),L=(0,i.useMemo)(()=>R.map(V=>V.AttributeName),[R]);(0,i.useEffect)(()=>(O({}),()=>M()),[]),(0,i.useEffect)(()=>{O({})},[h]),(0,i.useEffect)(()=>{var V;if(!C.PrimaryKey&&R.length){const ie=new Xa({Name:C.Name||Xu.default,PrimaryKey:R[0],SortKey:null});p(Yf(Jf({},u),{name:""})),P(ee.PRIMARY_INDEX,ie),O({newPrimaryIndex:ie})}const W=!R.length&&!E;W&&j();const Y=R.find(ie=>{var ye;return ie.AttributeName===((ye=C?.PrimaryKey)==null?void 0:ye.AttributeName)});if(C.PrimaryKey&&!W&&!Y){const ie=new Xa({Name:C.Name,PrimaryKey:(V=R[0])!=null?V:null,SortKey:null});P(ee.PRIMARY_INDEX,ie),O({newPrimaryIndex:ie})}if(!td(Y)){const ie=new Xa({Name:C.Name,PrimaryKey:Y,SortKey:null});P(ee.PRIMARY_INDEX,ie),O({newPrimaryIndex:ie})}const Z=R.find(ie=>{var ye;return ie.AttributeName===((ye=C?.SortKey)==null?void 0:ye.AttributeName)});Z&&(!L.includes(C.SortKey.AttributeName)||!rD(Z,C))&&F(ee.SORT_KEY,Zu)},[R,E]);const P=(V,W)=>{const Y=Yf(Jf({},g),{[V]:W});n(nD(y,Y))},F=(V,W)=>{const Y=iD(C,V,W,R);O({newPrimaryIndex:Y}),P(ee.PRIMARY_INDEX,Y)},x=V=>{O({newAdditionalIndexes:V}),P(ee.ADDITION_INDEXES,V)},O=({newPrimaryIndex:V,newAdditionalIndexes:W})=>{const Y=V??C,Z=W??I;if(!Y)return;const ie=sD(Y,Z,f);p(ie),o(Fe.TABLE_NAME,!!ie.name),o(Fe.PRIMARY_INDEX,!!ie.primary),o(Fe.TABLE_AI,!!ie.additionalIndexes)},j=()=>{const V={[ee.PRIMARY_INDEX]:new Xa,[ee.ADDITION_INDEXES]:[]};p(Yf(Jf({},u),{name:""})),M(),n(nD(y,V))},M=()=>{o(Fe.TABLE_NAME,!1),o(Fe.PRIMARY_INDEX,!1),o(Fe.TABLE_AI,!1)},B=!!(s||c);return i.createElement(it.A,{"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"configureModelTable",header:i.createElement(be.A,null,l.Ay.translate(bce))},i.createElement($.A,{size:"l"},i.createElement(ba.A,{gridDefinition:[{colspan:6},{colspan:3},{colspan:3}]},i.createElement(X.A,{label:l.Ay.translate(Xu.label),description:l.Ay.translate(Xu.description),constraintText:l.Ay.translate(Xu.constraint),errorText:B&&u.name},i.createElement(He.A,{"data-cy":"table-name",value:C.Name,onChange:({detail:V})=>F(ee.NAME,V.value)})),i.createElement(q.A,{padding:{top:"m"}},i.createElement(X.A,{label:Gf.primaryLabel,errorText:B&&u.primary},i.createElement(nN,{index:C,handleChange:V=>{F(ee.PRIMARY_KEY,V)},allAttributes:R}))),i.createElement(q.A,{padding:{top:"m"}},i.createElement(X.A,{label:Gf.sortLabel},i.createElement(rN,{index:C,handleChange:V=>{F(ee.SORT_KEY,V)},allAttributes:R})))),i.createElement(X.A,{stretch:!0},i.createElement(be.A,{variant:"h3"},l.Ay.translate(ed.field.label)),i.createElement(mpe,{primaryIndex:C,additionalIndexes:I,attributes:R,validateIndexes:O,setIndexes:x,showErrors:B}))))}var bpe=Object.defineProperty,oN=Object.getOwnPropertySymbols,vpe=Object.prototype.hasOwnProperty,Spe=Object.prototype.propertyIsEnumerable,sN=(t,n,a)=>n in t?bpe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Qf=(t,n)=>{for(var a in n||(n={}))vpe.call(n,a)&&sN(t,a,n[a]);if(oN)for(var a of oN(n))Spe.call(n,a)&&sN(t,a,n[a]);return t};function Tpe(t){const n=de(),a=t.wizardState.dynamoConfig[ee.SOURCE]===Nr.NOW,{hasTableInfo:o,hasImportTable:s}=ho[t.wizardState.graphqlApiSource];return(0,i.useLayoutEffect)(()=>{n(Ct({get:uG,args:o}))},[]),i.createElement($.A,{size:"l"},!s&&i.createElement(Yde,Qf({},t)),a&&i.createElement(cpe,Qf({},t)),a&&o&&i.createElement(Epe,Qf({},t)))}const sd={title:"GraphQL subscription settings",fieldLabel:"Pub/Sub only configuration",description:["Some applications only require a simple WebSockets API whereby clients listen to a specific channel or topic.","Check this box to automatically generate a fully functional Pub/Sub API powered by AppSync\u2019s serverless WebSockets engine.","Uncheck this box to configure a GraphQL API from scratch that leverages subscription operations to support more advanced real-time use cases."],toggleLabel:"Create a simple pub/sub API powered by serverless WebSockets"};function Ipe(t){const n=sd.description.map(a=>l.Ay.translate(a)).join(" ");return i.createElement(Le,{title:sd.title,enablePanorama:!0,panoramaTag:"realtimeSettings"},i.createElement(X.A,{label:l.Ay.translate(sd.fieldLabel),description:n,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"serverlessWebSockets"},i.createElement(Ea.A,{"data-analytics-type":U.EVENT_VALUE,"data-analytics":t.checked,checked:t.checked,onChange:({detail:a})=>t.setIsRealtimeApi(a.checked)},l.Ay.translate(sd.toggleLabel))))}function Cpe(t){return i.createElement(Ipe,{checked:t.wizardState.isRealtimeApi,setIsRealtimeApi:n=>t.updateWizardState({isRealtimeApi:n})})}function Rpe({region:t,rdsIdentifier:n,setRDSIdentifier:a}){const[o,s]=In(pn.RDS,t),c=(0,i.useMemo)(()=>s.map(p=>({id:p,value:p,label:p})),[s.length,o]),u=c.find(p=>p.id===n);return i.createElement(ze.A,{"data-analytics-type":U.EVENT_VALUE,"data-analytics":!!u,selectedOption:u,options:c,onChange:({detail:p})=>a(p.selectedOption.value),statusType:o?"loading":"finished",filteringType:"auto","data-testid":"rds-cluster-select",placeholder:(0,l.Ay)`Select Aurora cluster`,empty:(0,l.Ay)`No Aurora clusters found`})}function wpe({region:t,secretStoreArn:n,setSecretStoreArn:a}){const[o,s]=In(pn.SECRETS_MANAGER,t),c=(0,i.useMemo)(()=>s.map(p=>({id:p,value:p,label:p})),[s.length,o]),u=c.find(p=>p.id===n);return i.createElement(ze.A,{"data-analytics-type":U.EVENT_VALUE,"data-analytics":!!u,selectedOption:u,options:c,onChange:({detail:p})=>a(p.selectedOption.value),statusType:o?"loading":"finished",filteringType:"auto",placeholder:(0,l.Ay)`Select AWS Secrets Manager secret`,empty:(0,l.Ay)`No AWS Secrets Manager secrets available`,"data-testid":"secret-store-arn-select"})}const Ppe=t=>`${t}/rds/home#databases:`;var Ope=Object.defineProperty,Dpe=Object.defineProperties,Npe=Object.getOwnPropertyDescriptors,lN=Object.getOwnPropertySymbols,_pe=Object.prototype.hasOwnProperty,xpe=Object.prototype.propertyIsEnumerable,cN=(t,n,a)=>n in t?Ope(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,ld=(t,n)=>{for(var a in n||(n={}))_pe.call(n,a)&&cN(t,a,n[a]);if(lN)for(var a of lN(n))xpe.call(n,a)&&cN(t,a,n[a]);return t},Xf=(t,n)=>Dpe(t,Npe(n)),Lpe=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});function kpe({visible:t,adapter:n,handleDismiss:a,handleConfirm:o}){var s,c,u;const p=n?.config,[h,f]=(0,i.useState)(!1),[y,g]=(0,i.useState)(!1),[A,E]=(0,i.useState)(p?.clusterArn?Ur(p.clusterArn):mt()),[b,C]=(0,i.useState)((s=p?.secretStoreArn)!=null?s:""),[I,R]=(0,i.useState)((c=p?.clusterArn)!=null?c:""),[L,P]=(0,i.useState)((u=p?.databaseName)!=null?u:""),[F,x]=(0,i.useState)(""),O=xs(),[j,M]=(0,i.useState)({[Xt.SECRET_STORE_ARN]:"",[Xt.RDS_IDENTIFIER]:"",[Xt.RDS_NAME]:""}),B=ne(Ce=>{var Ae;if(!I||!A)return{engineType:""};const J=Ce.pagination.rdsClustersByRegion.get(A);return(Ae=J?.resourceMetadata)==null?void 0:Ae.get(I)}),V=Ce=>Object.keys(Ce).some(Ae=>!!Ce[Ae]),W=(Ce,Ae)=>{f(!0);const J=ld({},Ce);return Ide.forEach(Ee=>{const Te=Ae[Ee],Ie=id(Ee),ft=_e(Te,Ie);ft&&(J[Ee]=ft)}),M(J),J},Y=()=>Lpe(this,null,function*(){const Ce=W(j,{secretStoreArn:b,rdsIdentifier:I,databaseName:L});if(!V(Ce)){g(!0);try{const Ae=Rde(B?.engineType),J=new Fk({clusterArn:I,databaseName:L,secretStoreArn:b,sdkClient:xe.getAppSyncClient(),engineType:Ae});yield J.initialize(),g(!1),x(""),Sn({eventType:"submit",eventContext:"rds-import",eventDetail:"success"}),o(J)}catch(Ae){x(Ae.message),Sn({eventType:"submit",eventContext:"rds-import",eventDetail:"failed",eventValue:Ae.message}),g(!1)}}}),Z=Ce=>{E(Ce),R(""),C("")},ie=Ce=>{R(Ce);const Ae=_e(Ce,id(Xt.RDS_IDENTIFIER));M(Xf(ld({},j),{[Xt.RDS_IDENTIFIER]:Ae}))},ye=Ce=>{C(Ce);const Ae=_e(Ce,id(Xt.SECRET_STORE_ARN));M(Xf(ld({},j),{[Xt.SECRET_STORE_ARN]:Ae}))},ve=()=>{g(!1),a()};return i.createElement(xn.A,{"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"rds-import-table-modal","data-testid":"rds-import-table-modal",closeAriaLabel:"Close",visible:t,header:i.createElement(be.A,{variant:"h2",description:(0,l.Ay)`Select an Amazon Aurora cluster to use as a data source.`},(0,l.Ay)`Select database`),onDismiss:ve,footer:i.createElement(Sl,{cancelText:"Cancel",onCancel:ve,submitText:"Import",onSubmit:Y,loading:y})},i.createElement($.A,{size:"l"},i.createElement(X.A,{label:(0,l.Ay)`Region`,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"rds-import-region"},i.createElement(vl,{region:A,setRegion:Z,testid:"rds-cluster-region-select"})),i.createElement(X.A,{label:(0,l.Ay)`Aurora cluster`,"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"rds-import-cluster",description:i.createElement(i.Fragment,null,[(0,l.Ay)`Select an Aurora cluster.`,(0,l.Ay)`Data API needs to be enabled to use the database in AppSync.`].join(" "),"\xA0",i.createElement(gt,{href:Ppe(O),text:(0,l.Ay)`View clusters in RDS`})),errorText:h?j.rdsIdentifier:"","data-testid":"rds-cluster-formfield"},i.createElement(Rpe,{region:A,rdsIdentifier:I,setRDSIdentifier:ie})),i.createElement(X.A,{label:(0,l.Ay)`Database`,description:(0,l.Ay)`Enter the name of the database to connect to in your database instance.`,errorText:h?j.databaseName:"","data-testid":"rds-name-formfield","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"rds-import-database"},i.createElement(He.A,{"data-analytics-type":U.EVENT_VALUE,"data-analytics":!!L,"data-testid":"rds-import-table-data-source-database-name",value:L,onChange:({detail:Ce})=>{P(Ce.value)},placeholder:(0,l.Ay)`Enter database name`,onBlur:()=>{const Ce=_e(L,id(Xt.RDS_NAME));M(Xf(ld({},j),{[Xt.RDS_NAME]:Ce}))}})),i.createElement(X.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"rds-import-secret",label:(0,l.Ay)`AWS Secrets Manager secret`,description:[(0,l.Ay)`Select the AWS Secrets Manager secret containing your username and password.`,(0,l.Ay)`The user should have permissions to read your database table configuration.`].join(" "),errorText:h?j.secretStoreArn:"","data-testid":"secret-store-arn-formfield"},i.createElement(wpe,{region:A,secretStoreArn:b,setSecretStoreArn:ye})),F&&i.createElement(wt.A,{statusIconAriaLabel:(0,l.Ay)`error`,type:"error"},F||(0,l.Ay)`Error occurred while importing the database. Please try again.`)))}function Mpe({toggleModal:t,visible:n}){return i.createElement(q.A,{margin:{vertical:"xs"},textAlign:"center",color:"inherit","data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"rds-import-empty"},i.createElement($.A,{size:"xs"},i.createElement(q.A,{color:"text-label",fontSize:"body-m",fontWeight:"bold",variant:"awsui-key-label"},(0,l.Ay)`No database selected`),i.createElement(K.A,{onClick:a=>{a.preventDefault(),t(!n)},"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"select-database"},(0,l.Ay)`Select database`)))}var Fpe=Object.defineProperty,Upe=Object.defineProperties,$pe=Object.getOwnPropertyDescriptors,uN=Object.getOwnPropertySymbols,jpe=Object.prototype.hasOwnProperty,Vpe=Object.prototype.propertyIsEnumerable,dN=(t,n,a)=>n in t?Fpe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Zf=(t,n)=>{for(var a in n||(n={}))jpe.call(n,a)&&dN(t,a,n[a]);if(uN)for(var a of uN(n))Vpe.call(n,a)&&dN(t,a,n[a]);return t},ey=(t,n)=>Upe(t,$pe(n));function Bpe({visible:t,closeAddTypesModal:n,adapter:a,onSetEnabled:o}){const[c,u]=(0,i.useState)([]),p=zD(a,{enabled:!1}),h=p.length!==0?`(${c.length}/${p.length})`:`(${p.length})`,{items:f,collectionProps:y,paginationProps:g,filterProps:A,filteredItemsCount:E}=(0,Wn.G)(p,{filtering:{empty:i.createElement($.A,{size:"xs",alignItems:"center"},i.createElement(q.A,{fontWeight:"bold"},(0,l.Ay)`No tables available`),i.createElement(q.A,{color:"text-body-secondary"},(0,l.Ay)`All tables were added to the schema.`))},pagination:{pageSize:10},sorting:{},selection:{trackBy:"tableName",keepSelection:!0}});return i.createElement(xn.A,{"data-testid":"rds-add-types-to-schema-modal","data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"rds-add-types-to-schema-modal",closeAriaLabel:"Close",visible:t,size:"large",header:i.createElement(be.A,null,(0,l.Ay)`Add tables`),onDismiss:n,footer:i.createElement(q.A,{float:"right"},i.createElement($.A,{direction:"horizontal",size:"xs"},i.createElement(K.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"cancel-types",onClick:n},(0,l.Ay)`Cancel`),i.createElement(K.A,{"data-analytics-type":U.EVENT_DETAIL,"data-analytics":"add-types","data-testid":"rds-add-types-to-schema-btn",variant:"primary",onClick:()=>{o(c,!0),u([]),n()}},(0,l.Ay)`Add`)))},i.createElement(Ht.A,ey(Zf({},y),{columnDefinitions:ad({showSimpleView:!0}),onSelectionChange:({detail:b})=>{u(b.selectedItems)},trackBy:"tableName",items:f,pagination:i.createElement(Xr.A,ey(Zf({},g),{ariaLabels:BD})),selectedItems:c,filter:i.createElement(ur.A,ey(Zf({},A),{countText:VD(E),filteringAriaLabel:(0,l.Ay)`Filter table`})),selectionType:"multi",header:i.createElement(be.A,{counter:h},(0,l.Ay)`Tables`),"data-testid":"rds-add-types-to-schema-table","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"rds-add-types-to-schema-table"})))}function Gpe({showSimpleView:t,wizardState:n,updateWizardState:a,updateErrorState:o}){const s=de(),c=n.rdsConfig,[u,p]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),[y,g]=(0,i.useState)(!!c),[A,E]=(0,i.useState)(!1),b=Hd(),C=bN({rdsConfig:c});(0,i.useEffect)(()=>()=>{o(Fe.RDS_ADAPTER,!1),o(Fe.SCHEMA_SIZE,!1),o(Fe.RDS_ROLE,!1),o(Fe.NO_TABLES,!1),o(Fe.NO_TYPES,!1)},[]),(0,i.useEffect)(()=>{if(o(Fe.RDS_ADAPTER,!c),c){const j=c.tables.length===0?Fe.NO_TABLES:Fe.NO_TYPES,M=c.tables.length===0?Fe.NO_TYPES:Fe.NO_TABLES;o(j,C),o(M,!1),R()}},[c,C]),(0,i.useLayoutEffect)(()=>{s(Ct({get:yG}))},[]);const I=(0,i.useMemo)(()=>{try{return c.getSDL({includeAdditionalTypes:!1,includeBaseTypes:!1})}catch{return""}},[A]),R=j=>{const V=(j??c).getSDL({includeAdditionalTypes:!0,includeBaseTypes:!0}),W=new Blob([V]).size;o(Fe.SCHEMA_SIZE,W>=1e6)},L=j=>{a({rdsConfig:j}),p(!1),g(!0),o(Fe.RDS_ADAPTER,!1),R(j)},P=(j,M)=>{j.forEach(B=>{c.getTable(B.tableName).enabled=M}),R()},F=j=>{j.preventDefault(),p(!0)},x=c?.tables.length,O=[(0,l.Ay)`No valid tables found in this database.`,(0,l.Ay)`Your database must have at least one table.`,(0,l.Ay)`Select a different database.`].join(" ");return i.createElement(q.A,null,i.createElement($.A,{size:"l"},i.createElement(Le,{title:(0,l.Ay)`Database`,description:(0,l.Ay)`Select an Amazon Aurora cluster to use as a data source.`,enablePanorama:!0,actions:i.createElement($.A,{size:"xs",direction:"horizontal"},i.createElement(K.A,{key:"rds-edit-import-table","data-testid":"rds-edit-import-table","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"rds-edit-import-table",onClick:F,disabled:!y},(0,l.Ay)`Edit`),i.createElement(K.A,{key:"rds-import-table-step","data-testid":"rds-import-table-step","data-analytics-type":U.EVENT_DETAIL,"data-analytics":"rds-import-table-step",onClick:F,disabled:y},(0,l.Ay)`Select database`))},y?i.createElement($.A,{size:"xs"},!x&&i.createElement(wt.A,{statusIconAriaLabel:(0,l.Ay)`warning`,type:"warning"},O,"\xA0",i.createElement(gt,{href:"https://docs.aws.amazon.com/appsync/latest/devguide/relational-databases.html",text:"Learn more"})),i.createElement(gn,{columns:4,items:GD(c)})):i.createElement(Mpe,{visible:u,toggleModal:p})),y&&i.createElement($.A,{size:"l"},i.createElement(HD,{adapter:c,showSimpleView:t,onSetEnabled:P,openAddTypesModal:()=>f(!0),openPreviewSchema:()=>E(!0),setError:j=>o(Fe.RDS_TABLE,j)}),i.createElement(zf,{apiType:nt.GRAPHQL,apiSource:We.RDS,role:c.dataSourceConfig.role,showErrors:!1,setSelectedRole:j=>c.setDataSourceRole(j),setError:j=>o(Fe.RDS_ROLE,j),roleSource:Rl.RDS_INTROSPECTION,accountId:b,resourceName:c.config.clusterArn,secondaryResourceName:c.config.secretStoreArn}))),i.createElement(jD,{schema:I,visible:A,handleDismiss:()=>E(!1)}),i.createElement(kpe,{visible:u,adapter:c,handleDismiss:()=>p(!1),handleConfirm:L}),i.createElement(Bpe,{visible:h,closeAddTypesModal:()=>f(!1),adapter:c,onSetEnabled:P}))}const zpe=()=>[{value:xi.All,label:(0,l.Ay)`Create queries, mutations, and subscriptions for all models`,description:(0,l.Ay)`Supports reads, writes, and real-time operations.`},{value:xi.Queries,label:(0,l.Ay)`Create queries only for all models`,description:(0,l.Ay)`Supports read-only.`}];function qpe({wizardState:t}){const n=de(),a=t.rdsConfig,[o,s]=(0,i.useState)(a.selectedQueryConfiguration);(0,i.useLayoutEffect)(()=>{n(Ct({get:mG}))},[]),(0,i.useEffect)(()=>{a.selectedQueryConfiguration=o},[o]);const c=[(0,l.Ay)`Select a configuration option for your schema.`,(0,l.Ay)`Your schema can be read-only or support reads, writes, and real-time operations.`].join(" ");return i.createElement(Le,{title:(0,l.Ay)`Schema configuration`,enablePanorama:!0},i.createElement(X.A,{label:(0,l.Ay)`Configuration option`,description:c,"data-analytics-type":U.EVENT_CONTEXT,"data-analytics":"configuration-option"},i.createElement(Tr.A,{"data-analytics-type":U.EVENT_VALUE,"data-analytics":o,onChange:({detail:u})=>s(u.value),value:o,items:zpe()})))}var Kpe=Object.defineProperty,cd=Object.getOwnPropertySymbols,pN=Object.prototype.hasOwnProperty,mN=Object.prototype.propertyIsEnumerable,hN=(t,n,a)=>n in t?Kpe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,En=(t,n)=>{for(var a in n||(n={}))pN.call(n,a)&&hN(t,a,n[a]);if(cd)for(var a of cd(n))mN.call(n,a)&&hN(t,a,n[a]);return t},Wpe=(t,n)=>{var a={};for(var o in t)pN.call(t,o)&&n.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&cd)for(var o of cd(t))n.indexOf(o)<0&&mN.call(t,o)&&(a[o]=t[o]);return a},Hpe=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const fN=new TextEncoder,Jpe=new TextDecoder("utf-8"),Ype=mt(),Qpe=()=>({stepNumberLabel:t=>(0,l.Ay)`Step ${t}`,collapsedStepsLabel:(t,n)=>(0,l.Ay)`Step ${t} of ${n}`,skipToButtonLabel:t=>(0,l.Ay)`Skip to ${l.Ay.translate(t.title)}`,navigationAriaLabel:(0,l.Ay)`Steps`,cancelButton:(0,l.Ay)`Cancel`,previousButton:(0,l.Ay)`Previous`,nextButton:(0,l.Ay)`Next`,submitButton:(0,l.Ay)`Create API`,optional:(0,l.Ay)`Optional`}),yN=()=>({selectApiType:(0,l.Ay)`Select API type`,apiDetails:(0,l.Ay)`Specify API details`,modelDetails:(0,l.Ay)`Specify GraphQL resources`,realTime:(0,l.Ay)`Real-time settings`,graphqlApiReview:(0,l.Ay)`Review and create`,associateSourceApis:(0,l.Ay)`Select source APIs`,mergedAuthConfiguration:(0,l.Ay)`Select authorization mode`,mergedApiReview:(0,l.Ay)`Review and create`,selectRDSTable:(0,l.Ay)`Select database tables`,rdsConfigurationOption:(0,l.Ay)`Select configuration option`});function Xpe(t){const n=yN();return{selectApiType:{title:n.selectApiType,content:i.createElement(Yce,En({},t))},apiDetails:{title:n.apiDetails,info:i.createElement(Sa,null),content:i.createElement(Rue,En({},t))},modelDetails:{title:n.modelDetails,description:[(0,l.Ay)`Your API can connect to one or more data sources like Amazon DynamoDB, Amazon OpenSearch, Amazon Aurora, AWS Lambda, Amazon EventBridge, or any HTTP API.`,(0,l.Ay)`You can add your data source later or optionally use this step to generate a GraphQL type backed by a DynamoDB table.`].join(" "),info:i.createElement(Sa,null),content:i.createElement(Tpe,En({},t))},realtime:{title:n.realTime,content:i.createElement(Cpe,En({},t))},graphqlApiReview:{title:n.graphqlApiReview,info:i.createElement(Sa,null),content:i.createElement(epe,En({},t)),errorText:t.validationError},associateSourceApis:{title:n.associateSourceApis,content:i.createElement(wue,En({},t))},mergedAuthConfiguration:{title:n.mergedAuthConfiguration,content:i.createElement(hde,En({},t))},mergedApiReview:{title:n.mergedApiReview,content:i.createElement(gde,En({},t)),errorText:t.validationError},selectRDSTable:{title:n.selectRDSTable,info:i.createElement(Sa,null),content:i.createElement(Gpe,En({},t)),errorText:t.currentErrors.length?t.validationError:""},rdsConfigurationOption:{title:n.rdsConfigurationOption,info:i.createElement(Sa,null),content:i.createElement(qpe,En({},t))}}}function Zpe(t){var n=t,{wizardState:a}=n,o=Wpe(n,["wizardState"]);const s=Xpe(En({wizardState:a},o)),c=a.selectedApiType,u=ho[a.graphqlApiSource],p=c===nt.MERGED;let h=[s.selectApiType,s.apiDetails];switch(!0){case p:h=h.concat([s.associateSourceApis,s.mergedAuthConfiguration,s.mergedApiReview]);break;case u.hasRealTime:h=h.concat([s.realtime,s.graphqlApiReview]);break;case u.hasDefineModel:h=h.concat([s.modelDetails,s.graphqlApiReview]);break;case u.hasRdsInfo:h=h.concat([s.selectRDSTable,s.rdsConfigurationOption,s.graphqlApiReview]);break;default:break}return h}const ty={[nt.MERGED]:{hasServiceRole:!0,hasImportTable:!1,hasAPISource:!1},[nt.GRAPHQL]:{hasServiceRole:!1,hasImportTable:!0,hasAPISource:!0}},ho={[We.BLANK]:{hasImportTable:!1,hasDefineModel:!0,hasTableInfo:!0,hasRdsInfo:!1,hasRealTime:!1},[We.IMPORT_TABLE]:{hasImportTable:!0,hasDefineModel:!0,hasTableInfo:!1,hasRdsInfo:!1,hasRealTime:!1},[We.RDS]:{hasImportTable:!1,hasDefineModel:!1,hasTableInfo:!1,hasRdsInfo:!0,hasRealTime:!1},[We.REALTIME]:{hasImportTable:!1,hasDefineModel:!1,hasTableInfo:!1,hasRdsInfo:!1,hasRealTime:!0}},eme=(t,n)=>Hpe(void 0,null,function*(){const a=yield HE({TableName:t},n),o=dS(a.Table),s=Ff(o.fields);return{[ee.MODEL_CONFIG]:{[ee.RUNTIME]:Ve.APPSYNC_JS,[ee.NAME]:o.name.value,[ee.FIELDS]:s.toArray()},[ee.TABLE_CONFIG]:{[ee.PRIMARY_INDEX]:Dq(a.Table,s),[ee.ADDITION_INDEXES]:[]}}}),tme=t=>t?Pi.PRIVATE:Pi.GLOBAL,nme=t=>t==="Channel"?"RealtimeChannel":"Channel",rme=(t,n)=>{const{adapter:a,typeDefinition:o,tableHelper:s}=sme(t,n),c=t.graphqlApiSource!==We.IMPORT_TABLE;return Kp({runtime:t.dynamoConfig.modelConfig[ee.RUNTIME],adapter:a,typeDefinition:o,dynamoTable:s,createTable:c})},ame=(t,n)=>({createTableInputs:[],putSchemaRequest:{apiId:n,definition:fN.encode(t.getSDL({includeAdditionalTypes:!0,includeBaseTypes:!0}))},createDataSourceRequests:ime(t,n),createResolverRequests:ome(t,n)}),ime=(t,n)=>t.getDataSources().map(a=>En({apiId:n},a)),ome=(t,n)=>t.getUnitResolvers(Ve.APPSYNC_JS).map(a=>En({apiId:n},a)),sme=(t,n)=>{const{modelConfig:a,tableConfig:o,dynamoRole:s}=t.dynamoConfig,c=ho[t.graphqlApiSource].hasImportTable?s:"",u=new _le({name:new Zt({value:a[ee.NAME]}),fields:(0,T.List)(a[ee.FIELDS])}).toJS(),p=new pme({tableConfig:o}),{tableDescription:h}=p;return{adapter:new Jl({typeDefinition:u,tableDescription:h,enableAutoID:!0,serviceRoleArn:c,apiId:n,dataSourceName:De(h.TableName)}),typeDefinition:u,tableHelper:p}},lme=({apiId:t,typeName:n})=>{const a=Zle({apiId:t});return{createTableInputs:[],putSchemaRequest:{apiId:t,definition:fN.encode(WO(n))},createDataSourceRequests:[a.getCreateDataSourceRequest()],createResolverRequests:[ece(t)]}},cme=t=>{var n,a,o,s;const{selectedApiId:c}=t.environment,u=(o=(a=(n=t.pagination)==null?void 0:n.apiKeysByGraphqlApi)==null?void 0:a.get(c))==null?void 0:o.items,p=(s=t.errors)==null?void 0:s.apiKeys;return!!(u?.size||p?.size)},ume=(t,n)=>({create:`# Click the orange "Run" button and select the ${t}
# mutation to create an object.
# If you see an error that starts with "Unable to assume role",
# wait a moment and try again.`,list:(0,l.Ay)`# After running ${t}, try running the ${n} query.`}),gN=({putSchemaRequest:t,createResolverRequests:n})=>{var a,o,s,c;const u=(0,Q.parse)(Jpe.decode(t.definition)),p=(a=n.find(b=>b.fieldName.startsWith("create")))==null?void 0:a.fieldName,h=(o=n.find(b=>b.fieldName.startsWith("list")))==null?void 0:o.fieldName,f=ume(p,h),y=gg(u,"Mutation",p),g=(s=y.variables)!=null?s:{},A=gg(u,"Query",h),E=(c=A.variables)!=null?c:{};try{const b=(0,Q.print)((0,Q.parse)(y.operation)),C=(0,Q.print)((0,Q.parse)(A.operation));return{queries:`${f.create}
${b}

${f.list}
${C}`,variables:En(En({},g),E)}}catch(b){return at.logOperationalError(Ge.PARSE_FAULT,b),{queries:"",variables:{}}}},dme=({queries:t,variables:n})=>{const a=JSON.parse(Xle);return a.query=t,n&&(a.variables=JSON.stringify(n,null,2)),JSON.stringify(a)};class pme{constructor(n){this.EnableGenerateGraphQL=!0,this.buildTableDescription=()=>{const{[ee.PRIMARY_INDEX]:a,[ee.ADDITION_INDEXES]:o}=this.tableConfig,{PrimaryKey:s,SortKey:c}=a;if(!s)throw new Error("A table must have at least one primary key.");const u=c?.set("IsSortKey",!0),p=u?[s,u]:[s],h=p.map(g=>g.toAttributeDefinition()),f=[],y=[];for(const g of o)g.isLocalSecondaryIndex(s.AttributeName)&&f.push(g.toLocalSecondaryIndexDescription()),g.isGlobalSecondaryIndex(s.AttributeName)&&y.push(g.toGlobalSecondaryIndexDescription()),g.PrimaryKey&&!h.some(A=>A.AttributeName===g.PrimaryKey.AttributeName)&&h.push(g.PrimaryKey.toAttributeDefinition()),g.SortKey&&!h.some(A=>A.AttributeName===g.SortKey.AttributeName)&&h.push(g.SortKey.toAttributeDefinition());this.tableDescription={AttributeDefinitions:h,TableName:a.Name,KeySchema:p.map(g=>g.toKeySchemaElement()),TableStatus:"ACTIVE",TableArn:`arn:${rn()}:dynamodb:${Ype}:123456789012:table/${a.Name}`,LocalSecondaryIndexes:f,GlobalSecondaryIndexes:y}},this.getCreateTableInput=()=>{const a=this.tableDescription,o={AttributeDefinitions:a.AttributeDefinitions||[],TableName:a.TableName||"",KeySchema:a.KeySchema||[],SSESpecification:{Enabled:!0,SSEType:"KMS"},BillingMode:"PAY_PER_REQUEST",LocalSecondaryIndexes:void 0,GlobalSecondaryIndexes:void 0},s=a.LocalSecondaryIndexes.map(AN);s.length&&(o.LocalSecondaryIndexes=s);const c=a.GlobalSecondaryIndexes.map(AN);return c.length&&(o.GlobalSecondaryIndexes=c),o},this.tableConfig=n.tableConfig,this.buildTableDescription()}}const AN=t=>{const{IndexName:n,KeySchema:a,Projection:o}=t;return{IndexName:n,KeySchema:a,Projection:o}},nSe={graphqlApiReview:"",mergedApiReview:""},mme=()=>({[Fe.RDS_ADAPTER]:"A database must be selected.",[Fe.SCHEMA_SIZE]:[(0,l.Ay)`The schema size is over the 1 MB limit.`,(0,l.Ay)`Remove a table and try again.`].join(" "),[Fe.NO_TYPES]:"Add one or more tables before creating your schema.",[Fe.NO_TABLES]:[(0,l.Ay)`No valid tables found in this database.`,(0,l.Ay)`Your database must have at least one table.`,(0,l.Ay)`Select a different database.`].join(" "),[Fe.RDS_TABLE]:"Fix errors with type names before creating your schema."}),ny=t=>{const n=mme();let a="";return t.forEach(o=>{a||(a=l.Ay.translate(n[o])||"")}),a},ud=t=>{const n=Uf();let a="";return n.forEach(o=>{a||(a=_e(t[o.field],o.validate))}),a},EN=({dynamoConfig:t})=>{if(t.source===Nr.LATER)return"";const n=Vf({modelName:t.modelConfig[ee.NAME],fields:t.modelConfig.modelFields});return n.name.message||n.fields.message},hme=({dynamoConfig:t})=>{if(t.source===Nr.LATER)return"";const n=sD(t.tableConfig[ee.PRIMARY_INDEX],t.tableConfig.additionalIndexes);return n.name||n.primary||n.additionalIndexes},fme=({dynamoConfig:t})=>{var n;let a=_e((n=t.selectedTable)==null?void 0:n.value,[Me((0,l.Ay)`DynamoDB table name`)]);return t.dynamoRole&&(a=a??_e(t.dynamoRole,[au])),a},bN=({rdsConfig:t})=>!t?.tables.some(n=>{var a;return n.enabled&&n.fields.length&&(((a=n.primaryKey)==null?void 0:a.length)||!n.primaryKey)}),yme={[We.BLANK]:{apiDetails:[ud],modelDetails:[EN,hme]},[We.IMPORT_TABLE]:{apiDetails:[ud,fme],modelDetails:[EN]},[We.REALTIME]:{apiDetails:[ud],modelDetails:[]},[We.RDS]:{apiDetails:[ud],selectRDSTable:[bN]}},gme=t=>{const n=yme[t.graphqlApiSource],a=yN();let o;return Object.keys(n).some(s=>{let c=!1;return n[s].forEach(u=>{c||(c=!!u(t))}),o=c?l.Ay.translate('Error in step "${0}". Fix errors and try again.',a[s]):"",!!o}),o},Ame=t=>{let n="";return t.selectedApiType===nt.MERGED||(n=gme(t)),n},Eme={[We.BLANK]:Ge.API_CREATED_FROM_SCRATCH,[We.IMPORT_TABLE]:Ge.API_CREATED_FROM_TABLE,[We.REALTIME]:Ge.API_CREATED_FROM_REALTIME,[We.RDS]:Ge.API_CREATE_FROM_RDS},bme=t=>{var n;const a=t.graphqlApiSource,s=a===We.BLANK&&((n=t?.dynamoConfig)==null?void 0:n.source)===Nr.NOW?Ge.API_CREATED_FROM_MODEL:Eme[a];Sn({eventType:"submit",eventContext:"createApiWizard",eventDetail:"apiSource",eventValue:s}),t.isPrivateApi&&Sn({eventType:"submit",eventContext:"createApiWizard",eventDetail:Ge.CREATE_PRIVATE_API}),a===We.REALTIME&&!t.isRealtimeApi&&Sn({eventType:"submit",eventContext:"createApiWizard",eventDetail:Ge.CREATE_REALTIME_UNCHECKED})},vme=t=>We[t?.toUpperCase()]?!0:nt[t?.toUpperCase()]?t.toUpperCase():!1,Sme=t=>{const n=Object.keys($O);return Object.keys(t).forEach(a=>{n.includes(a)||delete t[a];const o=vme(t[a]);typeof o=="string"&&(t[a]=o),o||delete t[a]}),En(En({},$O),t)};var Tme=Object.defineProperty,Ime=Object.defineProperties,Cme=Object.getOwnPropertyDescriptors,vN=Object.getOwnPropertySymbols,Rme=Object.prototype.hasOwnProperty,wme=Object.prototype.propertyIsEnumerable,SN=(t,n,a)=>n in t?Tme(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,ry=(t,n)=>{for(var a in n||(n={}))Rme.call(n,a)&&SN(t,a,n[a]);if(vN)for(var a of vN(n))wme.call(n,a)&&SN(t,a,n[a]);return t},Pme=(t,n)=>Ime(t,Cme(n)),Ome=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});function Dme(){const t=Qpe(),n=de(),a=ne(J=>J.environment.createApiStatus),o=ne(J=>J.environment.selectedApiId),s=ne(cme),c=ne(J=>J.view.promptOnNav.show),u=(0,G.Zp)(),{search:p}=(0,G.zy)(),h=new URLSearchParams(p),f=Object.fromEntries(h),y=Sme(f),[g,A]=(0,i.useState)(y),[E,b]=(0,i.useState)(""),[C,I]=(0,i.useState)([]),[R,L]=(0,i.useState)(!1),[P,F]=(0,i.useState)(0),[x,O]=(0,i.useState)(!1),[j,M]=(0,i.useState)(!1);Vt(vt.APIS,ct.CREATE_RESOURCE),_s(j),(0,i.useLayoutEffect)(()=>(n(Vr(!1)),n(Nn("wizard")),n(Ps("")),()=>{n(Nn("default")),n(Po(new fe({status:H.NONE})))}),[]),(0,i.useEffect)(()=>{Ome(this,null,function*(){const{selectedTable:Ee,selectedRegion:Te}=g.dynamoConfig;if(!Ee||!Te)return;const{modelConfig:Ie,tableConfig:ft}=yield eme(Ee.value,Te.value);V({dynamoConfig:Pme(ry({},g.dynamoConfig),{[ee.MODEL_CONFIG]:Ie,[ee.TABLE_CONFIG]:ft})})})},[g.dynamoConfig.selectedTable]),(0,i.useEffect)(()=>{var J,Ee;if(a.status===H.CREATE_SUCCESS&&s){let Te={createTableInputs:[],putSchemaRequest:{apiId:o,definition:new TextEncoder().encode("")},createDataSourceRequests:[],createResolverRequests:[]},Ie={queries:"",variables:{}};const ft=ho[g.graphqlApiSource],qt=!!(ft.hasDefineModel&&g.dynamoConfig[ee.SOURCE]===Nr.NOW),Ze=!!(ft.hasRealTime&&g.isRealtimeApi);try{switch(!0){case g.graphqlApiSource===We.RDS:Te=ame(g.rdsConfig,o),Ie=gN(Te);break;case qt:Te=rme(g,o),Ie=gN(Te);break;case Ze:{const bt=(Ee=(J=g.dynamoConfig)==null?void 0:J.modelConfig)==null?void 0:Ee[ee.NAME],jt=nme(bt);Te=lme({apiId:o,typeName:jt}),Ie.queries=FO(jt.toLowerCase());break}default:break}}catch(bt){n(Ja({apiId:o,info:bt.message,status:H.ERRORED}))}Ie&&n(No({name:Hs.GraphiQLConfig,value:dme(Ie),apiId:o})),Te.putSchemaRequest.definition&&new TextDecoder("utf-8").decode(Te.putSchemaRequest.definition)&&n(Dp(Te)),M(!1),u(`/${o}/v1/home`,{state:{fromWizard:!0}})}a.status===H.ERRORED&&(b(a.message),O(!1))},[a,s]);const B=()=>{if(g.selectedApiType===nt.MERGED)return Va.CREATE_MERGED_API;if(g.selectedApiType===nt.GRAPHQL)switch(g.graphqlApiSource){case We.BLANK:return Va.CREATE_BLANK_API;case We.IMPORT_TABLE:return Va.CREATE_IMPORT_TABLE_API;case We.REALTIME:return Va.CREATE_REALTIME_API;case We.RDS:return Va.CREATE_RDS_API;default:return Va.CREATE_API}return Va.CREATE_API},V=J=>{!c&&!j&&M(!0),A(Ee=>ry(ry({},Ee),J))},W=(J,Ee)=>{I(Ee?Te=>{const Ie=[...Te.filter(ft=>ft!==J),J];return R&&b(ny(Ie)),Ie}:Te=>{const Ie=Te.filter(ft=>ft!==J);return R&&b(ny(Ie)),Ie})},Y=J=>{if(C.length&&J.detail.requestedStepIndex>P){b(ny(C)),L(!0),yS();return}let Ee="previous";J.detail.requestedStepIndex>P&&(b(""),Ee="next"),L(!1),F(J.detail.requestedStepIndex),Sn({eventType:"stepChange",eventContext:"createApiWizard",eventDetail:Ee,eventValue:J.detail.requestedStepIndex,funnel:B()})},Z=()=>{const J=Ame(g);if(b(J),J||C.length||x){L(!0);return}if(O(!0),Sn({eventType:"submit",eventContext:"createApiWizard",eventDetail:"createApi",funnel:B()}),Sn({eventType:"submit",eventContext:"createApiWizard",eventDetail:"apiType",eventValue:g.selectedApiType}),g.selectedApiType===nt.MERGED){M(!1),n(UB(g,u));return}n(Po(new fe({status:H.CREATING}))),bme(g),n(ip({entity:new $r({name:g.apiName,ownerContact:g.ownerContact,graphqlConfig:new ja({authenticationType:"API_KEY",visibility:tme(g.isPrivateApi),apiType:nt.GRAPHQL})})}))},ie=J=>{const Ee="/apis";c||u(Ee),J.preventDefault(),n(Br({href:Ee}))},ye=Zpe({updateWizardState:V,wizardState:g,updateErrorState:W,setStep:F,navigationBlocked:R,validationError:E,currentErrors:C}),ve=g.graphqlApiSource===We.IMPORT_TABLE,Ce=g.graphqlApiSource===We.RDS,Ae=!ve&&!Ce;return i.createElement("form",null,i.createElement(Ele.A,{i18nStrings:t,activeStepIndex:P,onNavigate:Y,onSubmit:Z,steps:ye,onCancel:ie,allowSkipTo:Ae,isLoadingNextStep:x,"data-analytics-type":U.FUNNEL,"data-analytics":B()}))}const Nme={name:"My AppSync App",contact:"",tags:[]},_me={form:"",name:"",contact:""},xme=()=>({title:"Create event API",containers:[{header:{title:"API details"},content:{fields:[{type:se.INPUT,label:"API name",config:{stateKey:"name",enablePanorama:!1},constraint:[l.Ay.translate("The ${0} can be up to ${1} characters long.",(0,l.Ay)`API name`,"512")]},{type:se.INPUT,label:"API contact name",optional:!0,config:{stateKey:"contact",enablePanorama:!1},constraint:[l.Ay.translate("The ${0} can be up to ${1} characters long.",(0,l.Ay)`contact details`,"256")]}]}},{header:{title:"Tags",description:"You can use tags to group and filter your Event APIs. A tag consists of a case-sensitive key-value pair."},content:{fields:[{label:void 0,type:se.TAG_EDITOR,config:{stateKey:"tags"},omitFormField:!0}]}}]}),TN=(t,n)=>{const a=_e(t.name,[Me((0,l.Ay)`API name`),Al]),o=_e(t.contact,[Ca(256)]);return[!!(a||o),{form:n,name:a,contact:o}]},Lme=t=>{const n=new Kg({authType:oe.h_.API_KEY}),a=new Vg({authType:oe.h_.API_KEY});return new $r({name:t.name,ownerContact:t.contact,entityTags:ec(tc((0,T.List)(t.tags))),eventConfig:new Wg({authProviders:(0,T.List)([n]),connectionAuthModes:(0,T.List)([a]),defaultPublishAuthModes:(0,T.List)([a]),defaultSubscribeAuthModes:(0,T.List)([a])})})};var kme=Object.defineProperty,Mme=Object.defineProperties,Fme=Object.getOwnPropertyDescriptors,IN=Object.getOwnPropertySymbols,Ume=Object.prototype.hasOwnProperty,$me=Object.prototype.propertyIsEnumerable,CN=(t,n,a)=>n in t?kme(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,dd=(t,n)=>{for(var a in n||(n={}))Ume.call(n,a)&&CN(t,a,n[a]);if(IN)for(var a of IN(n))$me.call(n,a)&&CN(t,a,n[a]);return t},jme=(t,n)=>Mme(t,Fme(n));function Vme(){const[t]=(0,Ye.ok)(),n=(0,G.Zp)(),a=ne(P=>P.environment.createApiStatus),o=ne(P=>P.environment.selectedApiId),s=de(),[c,u]=(0,i.useState)(JSON.parse(JSON.stringify(Nme))),[p,h]=(0,i.useState)(JSON.parse(JSON.stringify(_me))),[f,y]=(0,i.useState)(!1),[g,A]=(0,i.useState)(!1),[E,b]=(0,i.useState)(!1);_s(E),(0,i.useLayoutEffect)(()=>(s(Vr(!1)),s(Nn("form")),s(Ps("")),()=>{s(Nn("default")),s(Po(new fe({status:H.NONE})))}),[]),(0,i.useEffect)(()=>{a.status===H.CREATE_SUCCESS&&(b(!1),n(`/${o}/v1/event`)),a.status===H.ERRORED&&(h(P=>jme(dd({},P),{form:a.message})),A(!1))},[a]);const C=xme(),I=P=>{P.preventDefault(),A(!0);const[F,x]=TN(c,"");if(F||f){h(x),A(!1);return}switch(t.get("type")){case"event":{const O=Lme(c);s(ip({entity:O}));break}default:{const O=new $r({name:c.name,entityTags:ec(tc((0,T.List)(c.tags)))});s(ip({entity:O}));break}}},R=(P,F,x)=>{E||b(!0),P==="tags"&&y(!x.isValid);const O=dd({},(0,he.set)(c,P,F));u(O);const[,j]=TN(O,p.form);h(M=>dd({form:M.form},j))},L=()=>{n(-1)};return i.createElement(Uo,dd({state:c,errors:p,onCancel:L,onChange:R,saving:g,onSave:I},C))}function Bme(){const{isLoading:t,result:n}=_n(Bt.areCustomDomainsEnabled),{isLoading:a,result:o}=_n(Bt.isEventApiEnabled);return t||a?i.createElement(yr,null):i.createElement(G.BV,null,i.createElement(G.qh,{index:!0,element:i.createElement(Ale,null)}),i.createElement(G.qh,{path:"apis",element:i.createElement(fse,null)}),n&&i.createElement(G.qh,{path:"customdomains/*",element:i.createElement(cle,null)}),i.createElement(G.qh,{path:"create",element:i.createElement(Dme,null)}),o&&i.createElement(G.qh,{path:"createApi",element:i.createElement(Vme,null)}),i.createElement(G.qh,{path:":apiId/:versionId/*",element:i.createElement(ise,null)}),i.createElement(G.qh,{path:"*",element:i.createElement(G.C5,{to:"apis"})}))}function Gme(){const t=de(),n=ne(p=>p.view.promptOnNav.show),a=St(),o=(0,G.Zp)(),{pathname:s}=(0,G.zy)(),{result:c}=_n(Bt.areCustomDomainsEnabled),u=(p,h)=>{if(n){t(Br({href:p}));return}h||o(p)};return i.createElement(kW,{api:a,customDomainsEnabled:c,navigate:u,pathname:s})}var zme=v(10841),pd;(function(t){t.DE="de",t.EN="en",t.ES="es",t.FR="fr",t.ID="id",t.IT="it",t.JA="ja",t.KO="ko",t.TH="th",t.TR="tr",t.PT_BR="pt_BR",t.ZH_CN="zh_CN",t.ZH_TW="zh_TW"})(pd||(pd={}));const qme=pd.EN,Kme=Object.values(pd);var RN=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});function Wme(t){return RN(this,arguments,function*({locale:n,chinaRebrandStringReplacer:a}){if(!Kme.includes(n))return{};const o=yield v(37062)(`./${n}.json`);return Object.keys(o).reduce((s,c)=>{const u=o[c];return s[c]=typeof u=="string"?a(u):u,s},{})})}function Hme(){const t=document.documentElement.lang;return t?t.replace("-","_"):qme}const Jme=()=>RN(void 0,null,function*(){const t=Hme();return{locales:t.replace("_","-"),translations:yield Wme({locale:t,chinaRebrandStringReplacer:Wt})}}),Yme=(t,n,a)=>{const o=Cn.getKey(n,a),s=t.get(o);return s?.name};function Qme({breadcrumbs:t}){const n=St(),a=ne(y=>y.customdomains.selectedCustomDomain),o=ne(y=>y.entities),s=ne(y=>y.view.promptOnNav.show),c=de(),u=(0,G.Zp)(),{pathname:p}=(0,G.zy)(),h=y=>{var g,A;const E=(0,l.Ay)`Loading`,b=p.split("/");switch(y){case"api":return{key:n?.apiId,display:(g=n?.name)!=null?g:E};case"domain":return{key:a.domainName,display:(A=a.domainName)!=null?A:E};case"dataSource":{const C=b[b.indexOf("datasources")+1];return{key:C,display:C}}case"function":{const C=b[b.indexOf("functions")+1];return{key:C,display:n?Yme(o,n.apiId,C):E}}case"namespace":{const C=b[b.indexOf("namespaces")+1];return{key:C,display:C}}default:return{key:"",display:(0,l.Ay)`Loading`}}},f=(y,g)=>{if(s){c(Br({href:y}));return}g||u(y)};return i.createElement(PW,{breadcrumbs:t,getResourceIdentifier:h,navigate:f,pathname:p})}function Xme({onLeave:t,visible:n,onDismiss:a}){const[o,s]=(0,i.useState)(!1),c=()=>{s(!0),t(),a(),s(!1)};return i.createElement(xn.A,{onDismiss:a,visible:n,footer:i.createElement(Sl,{cancelText:"Cancel",onCancel:a,submitText:"Leave",onSubmit:c,disabled:o}),header:(0,l.Ay)`Leave Page`},i.createElement(wt.A,{dismissAriaLabel:"Close alert",type:"warning",statusIconAriaLabel:(0,l.Ay)`warning`},(0,l.Ay)`Are you sure you want to leave the current page? The changes that you made won't be saved.`))}function Zme(t,n){const a=de(),o=()=>a(Ja({apiId:n,status:H.NONE,info:""}));let s="info",c=!0,u=!1;switch(t.status){case H.ERRORED:s="error";break;case H.CREATING:s="info",c=!1,u=!0;break;case H.INFO:s="info";break;case H.CREATE_SUCCESS:s="success";break;case H.DELETING:s="info",c=!1,u=!0;break;default:break}return{loading:u,type:s,dismissible:c,dismissLabel:(0,l.Ay)`Dismiss message`,onDismiss:o,content:t.description,header:t.info}}function ehe({workflows:t}){const n=Object.entries(t).filter(a=>a[1].status!==H.NONE).map(a=>{const[o,s]=a;return Zme(s,o)});return i.createElement(Si.A,{items:n})}function the(){const t=dn(),n=mb(t);return!t||!n?null:i.createElement(ehe,{workflows:{[t]:n}})}function rSe(){const t=useAllApiWorkflowStatus();return React.createElement(WorkflowFlashbars,{workflows:t})}function nhe(t){const n=t.state.errors.toJS();return Object.keys(n).reduce((o,s)=>{const c=n[s];for(let u=0;u<c.length;u++){const p=c[u];t.errorTypes.includes(p.name)&&o.push({index:u,message:p.message,errorType:s})}return o},[])}function rhe(){const t=de(),n=ne(o=>nhe({state:o,errorTypes:["AccessDeniedException"]})),a=(0,i.useMemo)(()=>n.map(o=>({dismissible:!0,content:o.message,key:o.message,type:"error",onDismiss:()=>{t(RA({entityType:o.errorType,index:o.index}))}})),[n]);return i.createElement(Si.A,{items:a,stackItems:!0})}function ahe(t){const n=t.alerts.map(a=>{let o="info";Oi(a.status)?o=(0,l.Ay)`success`:bd(a.status)&&(o=(0,l.Ay)`error`);const s=a.message?`: ${a.message}`:"",c=`${rt(o)}${s}`;return{type:o,dismissible:!0,onDismiss:()=>t.dispatchRemoveAlert(),content:c}}).toArray();return n&&n.length>0&&i.createElement(Si.A,{items:n})}const ihe=t=>({alerts:t.alerts}),ohe={dispatchRemoveAlert:qB},she=(0,te.connect)(ihe,ohe)(ahe);var lhe=v(62980),che=v(25320),uhe=v(91935),dhe=v(62045).hp,phe=Object.defineProperty,wN=Object.getOwnPropertySymbols,mhe=Object.prototype.hasOwnProperty,hhe=Object.prototype.propertyIsEnumerable,PN=(t,n,a)=>n in t?phe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,fhe=(t,n)=>{for(var a in n||(n={}))mhe.call(n,a)&&PN(t,a,n[a]);if(wN)for(var a of wN(n))hhe.call(n,a)&&PN(t,a,n[a]);return t},ON=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});class ay{constructor(n){this.MAX_UPS_KEY_LENGTH=100,this.USER_PREFERENCE_PARTITION="appsync",this.UPS_ALLOWED_LENGTH=4096,this.prefix=n.prefix}formatUPSName(n){let a=n.replace(/:/,"_");const o=/[^A-Za-z0-9_-]/g;return a=a.replace(o,""),a=a.slice(0,this.MAX_UPS_KEY_LENGTH),a}setUserPreference(n,a){return ON(this,null,function*(){var o,s;let c;try{c=this.formatUPSName(n);let u=String(a);if(u==null||u==="")u="null";else if(dhe.byteLength(u,"utf8")>=this.UPS_ALLOWED_LENGTH)return"";const p=xe.getUserPreferencesClient(),h={Partition:this.USER_PREFERENCE_PARTITION,Name:c,Value:u},f=yield p.send(new lhe.X(h));return f&&((o=f.Preferences)!=null&&o[c])?(s=f.Preferences)==null?void 0:s[c]:null}catch{return""}})}getUserPreference(n){return ON(this,null,function*(){var a,o;let s;try{s=this.formatUPSName(n);const c=xe.getUserPreferencesClient(),u={Partition:this.USER_PREFERENCE_PARTITION,Name:s},p=yield c.send(new che.n(u));return p&&((a=p.Preferences)!=null&&a[s])?(o=p.Preferences)==null?void 0:o[s]:null}catch(c){return c instanceof uhe.ti&&at.logOperationalError(Ge.GET_UPS_ERROR,fhe({},c)),null}})}getItem(n){const a=[this.prefix,n].join("-");return this.getUserPreference(a)}setItem(n,a){const o=[this.prefix,n].join("-");return this.setUserPreference(o,a)}removeItem(n){const a=[this.prefix,n].join("-");return this.setUserPreference(a,"")}}var yhe=Object.defineProperty,ghe=Object.defineProperties,Ahe=Object.getOwnPropertyDescriptors,DN=Object.getOwnPropertySymbols,Ehe=Object.prototype.hasOwnProperty,bhe=Object.prototype.propertyIsEnumerable,NN=(t,n,a)=>n in t?yhe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,vhe=(t,n)=>{for(var a in n||(n={}))Ehe.call(n,a)&&NN(t,a,n[a]);if(DN)for(var a of DN(n))bhe.call(n,a)&&NN(t,a,n[a]);return t},She=(t,n)=>ghe(t,Ahe(n));function The({page:t,stacked:n}){const a=de(),o=YB(t),s=i.useMemo(()=>{const c=u=>She(vhe({},u),{onDismiss:()=>a(Rie(u.id)),content:u.description,header:u.info});return o.map(c)},[o]);return i.createElement(Si.A,{items:s,stackItems:n})}function Ihe({flashbarIds:t,stacked:n}){const a=dn(),o=t.map(s=>s.includes(Wr)?s.replace(Wr,a):s);return i.createElement(i.Fragment,null,o.map(s=>i.createElement(The,{key:s,page:s,stacked:n})))}var Che=v(72951),Rhe=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const _N=document.documentElement.lang,whe=()=>Rhe(void 0,null,function*(){return(0,Che.A)(_N)});var xN=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const Phe=new RW;function Ohe(){const t=(0,G.Zp)(),n=(0,G.zy)(),a=de(),o=(0,i.useRef)(null),s=ne(x=>x.pagination.apis),c=ne(x=>x.errors.apis),u=ne(x=>x.view.navigationOpen),{helpOpen:p,contentType:h,promptOnNav:f}=ne(x=>x.view),[y,g]=(0,i.useState)(!1),[A,E]=(0,i.useState)([]),b=!!(!s.isLoading&&(s.lastUpdated||c.size)),C=(0,i.useMemo)(()=>Phe.traverseTree(n.pathname),[n.pathname]),I=null;(0,i.useLayoutEffect)(()=>{xN(this,null,function*(){var O;F(),(O=window?.AWSC)!=null&&O.Feedback&&window.AWSC.Feedback.setFolder("cd54f81b-9916-4047-b4bd-871a356b27fc"),(0,l.X0)(yield Jme()),E(yield whe())})},[]),(0,i.useLayoutEffect)(()=>{if(b){const x=s.items.count();x&&n.pathname==="/"&&(a(Vr(!0)),t("/apis",{state:{from:n}})),x===0&&n.pathname==="/apis"&&(a(Vr(!1)),t("/"))}},[b]);const R=new ay({prefix:Hs.Global}),[L,P]=(0,i.useState)();(0,i.useEffect)(()=>{xN(this,null,function*(){if(L!==void 0||n.pathname==="/")return;const O=Hs.RDSBanner,j=L??!!(yield R.getItem(O));P(j),g(!j)})},[n.pathname]),(0,i.useEffect)(()=>{var x;p&&((x=o.current)==null||x.focusToolsClose())},[p]),(0,i.useEffect)(()=>{(()=>{var O,j;const M=document.getElementById("contentId");!(((j=(O=n?.state)==null?void 0:O.from)==null?void 0:j.pathname)==="/")&&M&&M.focus()})()},[n.pathname]);const F=()=>{a(KB()),a(H$({paginateRecord:new ke,paginationKey:{}})),a(J$({paginateRecord:new ke,paginationKey:{}}))};return b?i.createElement(pW.C,{locale:_N,messages:A},i.createElement("div",{id:"modal-root"}),i.createElement(zme.A,{ref:o,disableContentPaddings:n.pathname==="/",content:i.createElement("div",{tabIndex:-1,id:"contentId"},i.createElement(Bme,null)),breadcrumbs:C.pathTraveled.length>0&&i.createElement(Qme,{breadcrumbs:C.pathTraveled}),contentType:h,notifications:i.createElement(i.Fragment,null,I,i.createElement(Ihe,{flashbarIds:C.flashbarIds}),i.createElement(rhe,null),i.createElement(the,null),i.createElement(she,null)),navigation:i.createElement(Gme,null),navigationOpen:u,onNavigationChange:({detail:x})=>a(Vr(x.open)),toolsHide:n.pathname==="/",tools:i.createElement(l4,null),toolsOpen:p,onToolsChange:({detail:x})=>a(Co(x.open)),ariaLabels:{notifications:(0,l.Ay)`Notifications`,toolsClose:(0,l.Ay)`Close help panel`,toolsToggle:(0,l.Ay)`Open help panel`}}),i.createElement(Xme,{onLeave:()=>{a(Br({show:!1})),t(f.href)},visible:!!(f.show&&f.href),onDismiss:()=>a(Br({href:""}))})):i.createElement(Et.A,{size:"big"})}var Dhe=v(30493),hd=v(89593),Nhe=Object.defineProperty,_he=Object.defineProperties,xhe=Object.getOwnPropertyDescriptors,LN=Object.getOwnPropertySymbols,Lhe=Object.prototype.hasOwnProperty,khe=Object.prototype.propertyIsEnumerable,kN=(t,n,a)=>n in t?Nhe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Mhe=(t,n)=>{for(var a in n||(n={}))Lhe.call(n,a)&&kN(t,a,n[a]);if(LN)for(var a of LN(n))khe.call(n,a)&&kN(t,a,n[a]);return t},Fhe=(t,n)=>_he(t,xhe(n));function en(t){const[n,a,o]=t.actions||[D.LIST_BEGIN,D.LIST_SUCCESS,D.LIST_FAILURE],{mapActionToKey:s,entityType:c}=t;return s?(u=(0,T.Map)(),p)=>{const h=p.entityType;if(!h||h!==c)return u;switch(p.type){case n:{const f=s(p),y=u.get(f,new ke);return u.set(f,y.merge({isLoading:!0}))}case a:{const f=u.get(s(p));if(!p.paginateRecord.items)throw new Error("Pagination success actions must contain an 'items' key");if(!f||!f.items)return u.set(s(p),p.paginateRecord);const y=f.merge(p.paginateRecord);return u.set(s(p),y)}case o:return u.setIn([s(p),"isLoading"],!1);case D.ADD_ITEM_TO_PAGE:{const f=s(p),y=u.get(f,new ke),g=y.merge({items:y.items.merge(p.paginateRecord.items)});return u.set(f,g)}case D.REMOVE_ITEM_FROM_PAGE:{const f=s(p),y=u.get(f);return y?u.set(f,y.merge({items:y.items.remove(p.paginateRecord.items.first())})):u}default:return u}}:(u=new ke,p)=>{const h=p.entityType;if(!h||h!==c)return u;switch(p.type){case n:return u.merge({isLoading:!0});case a:if(!p.paginateRecord.items)throw new Error("Pagination success actions must contain an 'items' key");return u.items?u.merge({isLoading:!1,items:u.items.merge(p.paginateRecord.items),lastUpdated:new Date,nextToken:p.paginateRecord.nextToken}):u.merge(Fhe(Mhe({},p.paginateRecord),{isLoading:!1}));case o:return u.set("isLoading",!1);case D.ADD_ITEM_TO_PAGE:return u.merge({items:u.items.merge(p.paginateRecord.items)});case D.REMOVE_ITEM_FROM_PAGE:return u.merge({items:u.items.remove(p.paginateRecord.items.first())});default:return u}}}const iy=t=>ce(t.paginationKey.apiId,t.paginationKey.versionId),Uhe=t=>ce(t.paginationKey.apiId,t.paginationKey.versionId,t.paginationKey.typeName),$he=t=>ce(t.paginationKey.apiId,t.paginationKey.versionId,t.paginationKey.functionId),oy=t=>ce(t.paginationKey.apiId),Ii=t=>{if(t.paginationKey)return t.paginationKey.key;throw new Error("Paginate needs to have a key.")},jhe=(0,hd.H)({dataSourcesByGraphqlApiVersion:en({entityType:N.DATA_SOURCE,mapActionToKey:iy}),apis:en({entityType:N.API}),sharedGraphqlApis:en({entityType:N.SHARED_GRAPHQLAPI}),resolversByGraphqlApiVersionType:en({entityType:N.RESOLVER,mapActionToKey:Uhe}),schemaVersionsByGraphqlApi:en({entityType:N.SCHEMA_VERSION,mapActionToKey:oy}),typesByGraphqlApiVersion:en({entityType:N.TYPE,mapActionToKey:iy,actions:[D.LIST_WORKLOW_BEGIN,D.LIST_SUCCESS,D.LIST_FAILURE]}),apiKeysByGraphqlApi:en({entityType:N.API_KEY,mapActionToKey:oy}),sourceApiAssociationsByGraphqlApi:en({entityType:N.SOURCE_API_ASSOCIATION,mapActionToKey:oy}),functionsByGraphqlApiVersion:en({entityType:N.RESOLVER_FUNCTION,mapActionToKey:iy}),resolversByGraphqlApiVersionTypeFunctionId:en({entityType:N.RESOLVER,mapActionToKey:$he}),elasticsearchClustersByRegion:en({entityType:N.ELASTICSEARCH_CLUSTER,mapActionToKey:Ii,actions:[D.ELASTICSEARCH_LIST_CLUSTERS_BEGIN,D.ELASTICSEARCH_LIST_CLUSTERS_SUCCESS,D.ELASTICSEARCH_LIST_CLUSTERS_FAILURE]}),dynamoDBTablesByRegion:en({entityType:N.DYNAMODB_TABLE,mapActionToKey:Ii,actions:[D.DYNAMODB_LIST_TABLES_BEGIN,D.DYNAMODB_LIST_TABLES_SUCCESS,D.DYNAMODB_LIST_TABLES_FAILURE]}),lambdaFunctionsByRegion:en({entityType:N.LAMBDA_FUNCTION,mapActionToKey:Ii,actions:[D.LAMBDA_LIST_FUNCTIONS_BEGIN,D.LAMBDA_LIST_FUNCTIONS_SUCCESS,D.LAMBDA_LIST_FUNCTIONS_FAILURE]}),eventBridgeBusesByRegion:en({entityType:N.EVENT_BUS,mapActionToKey:Ii,actions:[D.EVENT_BRIDGE_LIST_BUSES_BEGIN,D.EVENT_BRIDGE_LIST_BUSES_SUCCESS,D.EVENT_BRIDGE_LIST_BUSES_FAILURE]}),rdsClustersByRegion:en({entityType:N.RDS_CLUSTER,mapActionToKey:Ii,actions:[D.RDS_DESCRIBE_CLUSTERS_BEGIN,D.RDS_DESCRIBE_CLUSTERS_SUCCESS,D.RDS_DESCRIBE_CLUSTERS_FAILURE]}),secretsManagerSecretsByRegion:en({entityType:N.SECRETS_MANAGER_SECRET,mapActionToKey:Ii,actions:[D.SECRETS_MANAGER_LIST_SECRETS_BEGIN,D.SECRETS_MANAGER_LIST_SECRETS_SUCCESS,D.SECRETS_MANAGER_LIST_SECRETS_FAILURE]}),iamRoles:en({entityType:N.IAM_ROLE,actions:[D.IAM_LIST_ROLES_BEGIN,D.IAM_LIST_ROLES_SUCCESS,D.IAM_LIST_ROLES_FAILURE]}),userPoolsByRegion:en({entityType:N.USER_POOL,mapActionToKey:Ii,actions:[D.LIST_USERPOOL_BEGIN,D.LIST_USERPOOL_SUCCESS,D.LIST_USERPOOL_FAILURE]}),wafWebAcls:en({entityType:N.WAF_WEB_ACL,mapActionToKey:Ii,actions:[D.LIST_WAF_WEB_ACL_BEGIN,D.LIST_WAF_WEB_ACL_SUCCESS,D.LIST_WAF_WEB_ACL_FAILURE]})}),Vhe=(t=(0,T.Map)(),n)=>{if(n.type===D.CREATE_BEGIN&&n.entityType===N.API)return t;if(n.entity){const a=n,o=a.entity.getKey();switch(n.type){case D.GET_BEGIN:case D.CREATE_BEGIN:return t.set(o,a.entity);case D.UPDATE_STATUS:return t.setIn([o,"recordStatus"],a.entity.recordStatus);case D.PUT_ENTITY:return t.get(o)?t:t.set(o,a.entity);case D.CREATE_SUCCESS:case D.GET_SUCCESS:{const s=t.get(o);if(s){const c=s.mergeWith((u,p)=>!u&&p?p:!p&&u?u:p||u,a.entity);return t.set(o,c)}return t.set(o,a.entity)}case D.UPDATE_SUCCESS:{const s=t.get(o);if(s){const c=s.merge(a.entity);return t.set(o,c)}return t.set(o,a.entity)}case D.DELETE_SUCCESS:return t.remove(o);case D.UPDATE_TAG_STATUS:return t.setIn([o,"entityTags","addTagStatus"],n.metadata.status);case D.UPDATE_UNTAG_STATUS:return t.setIn([o,"entityTags","deleteTagStatus"],n.metadata.status);case D.TAG_RESOURCE_SUCCESS:{if(!t.has(o))return t;const{tags:s}=n.metadata;return s?t.updateIn([o,"entityTags"],c=>c.mergeUserTags(s)):t}case D.UNTAG_RESOURCE_SUCCESS:{if(!t.has(o))return t;const s=(0,T.Set)(n.metadata.tagKeys);return s?t.updateIn([o,"entityTags","userTags"],c=>{let u=!1;const p=c.filterNot(h=>s.has(h.key)?(u=!0,!0):!1);return u?p:c}):t}default:return t}}else if(n.entities){const a=n;switch(n.type){case D.PUT_ENTITIES:{const o=a.entities.reduce((s,c)=>s.set(c.getKey(),c),(0,T.Map)());return t.merge(o)}default:return t}}return t},Bhe=[D.CREATE_FAILURE,D.UPDATE_FAILURE,D.DELETE_FAILURE,D.GET_FAILURE,D.LIST_FAILURE,D.PUT_SCHEMA_FAILURE,D.TAG_RESOURCE_FAILURE,D.UNTAG_RESOURCE_FAILURE,D.LIST_USERPOOL_FAILURE,D.DYNAMODB_LIST_TABLES_FAILURE,D.ELASTICSEARCH_LIST_CLUSTERS_FAILURE,D.EVENT_BRIDGE_LIST_BUSES_FAILURE,D.LAMBDA_LIST_FUNCTIONS_FAILURE,D.IAM_LIST_ROLES_FAILURE,D.RDS_DESCRIBE_CLUSTERS_FAILURE,D.GET_COGNITO_SESSION_FAILURE],Ghe=[N.IAM_ROLE,N.LAMBDA_FUNCTION,N.DYNAMODB_TABLE,N.EVENT_BUS,N.ELASTICSEARCH_CLUSTER,N.USER_POOL,N.RDS_CLUSTER];function Vn(t){return(n=(0,T.List)(),a)=>{const o=a.errors||[],s=a.entityType;return Bhe.includes(a.type)&&o.length&&(t===s||t===N.AWS_RESOURCES&&Ghe.includes(s))?n.concat(...o):a.type===D.DISMISS_ERROR?n.remove(a.index):a.type===D.DISMISS_ALL_ERRORS?(0,T.List)():n}}function fo(t,n){return(a=n,o)=>{const s=o;return t===s.key&&s.type===D.SET_AT_KEY?s.value:t===s.key&&s.type===D.REMOVE_FROM_AT_KEY&&a.remove?a.remove(s.index):a}}const zhe=(0,hd.H)({apiKeys:Vn(N.API_KEY),sourceApiAssociations:Vn(N.SOURCE_API_ASSOCIATION),dataSources:Vn(N.DATA_SOURCE),apis:Vn(N.API),sharedGraphqlApis:Vn(N.SHARED_GRAPHQLAPI),localSchema:fo("errors.localSchema",(0,T.List)()),resolvers:Vn(N.RESOLVER),schemaVersions:Vn(N.SCHEMA_VERSION),functions:Vn(N.RESOLVER_FUNCTION),apiCache:Vn(N.API_CACHE),awsResources:Vn(N.AWS_RESOURCES),dynamodbTable:Vn(N.DYNAMODB_TABLE),putSchema:Vn(N.SCHEMA),cognitoSession:Vn(N.COGNITO_SESSION),environmentVariables:Vn(N.ENVIRONMENT_VARIABLE)});var qhe=Object.defineProperty,MN=Object.getOwnPropertySymbols,Khe=Object.prototype.hasOwnProperty,Whe=Object.prototype.propertyIsEnumerable,FN=(t,n,a)=>n in t?qhe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,UN=(t,n)=>{for(var a in n||(n={}))Khe.call(n,a)&&FN(t,a,n[a]);if(MN)for(var a of MN(n))Whe.call(n,a)&&FN(t,a,n[a]);return t};function Hhe(t=new Sb,n){switch(n.type){case D.TOGGLE_HELP:return t.set("helpOpen",!0);case D.SET_HELP:return t.set("helpOpen",n.isOpen);case D.TOGGLE_NAVIGATION:return t.set("navigationOpen",!t.navigationOpen);case D.SET_NAVIGATION:return t.set("navigationOpen",n.isOpen);case D.SET_CONTENT_TYPE:return t.set("contentType",n.contentType);case D.SET_PROMPT_ON_NAV:return t.set("promptOnNav",UN(UN({},t.promptOnNav),n.promptOnNav));case D.SET_HELP_SLUG:return t.set("helpSlug",n.helpSlug);default:return t}}const Jhe=Hhe,Yhe=(0,hd.H)({dataSources:fo("warnings.dataSources",(0,T.List)()),apis:fo("warnings.apis",(0,T.List)()),sharedGraphqlApis:fo("warnings.sharedGraphqlApis",(0,T.List)()),localSchema:fo("warnings.localSchema",(0,T.List)()),resolvers:fo("warnings.resolvers",(0,T.List)()),schemaVersions:fo("warnings.schemaVersions",(0,T.List)())});function Qhe(t,n){return n.type===D.MERGE_LOCAL_SCHEMA_RECORD?t.merge(n.value):n.type===D.CLEAR_LOCAL_SCHEMA?new Jp:t}const Xhe=(t=new Tb,n)=>{switch(n.type){case D.SET_SELECTED_GRAPHQLAPI_ID:return t.set("selectedApiId",n.value);case D.SET_SELECTED_API_KEY_ID:return t.set("selectedApiKeyId",n.value);case D.SET_SELECTED_ADDITIONAL_AUTH:return t.set("selectedAdditionalAuth",n.value);case D.SET_SELECTED_VERSION_ID:return t.set("selectedVersionId",n.value);case D.SET_CREATE_API_STATUS:return t.set("createApiStatus",n.entity.recordStatus);default:return t}},Zhe=(t,n)=>{switch(n.type){case D.UPDATE_WORKFLOW_STATUS:return t.set(n.apiId,n.workFlowStatus);default:return t}};function efe(t=(0,T.Map)(),n){switch(n.type){case D.SET_USER_PREFERENCE_SUCCESS:return t.set(n.name,n.value);case D.GET_USER_PREFERENCE_SUCCESS:return t.set(n.name,n.value);case D.GET_USER_PREFERENCE_FAILURE:case D.SET_USER_PREFERENCE_FAILURE:default:return t}}const tfe=efe;function nfe(t=(0,T.List)(),n){switch(n.type){case D.ADD_ALERT:return t.set(0,n.statusRecord);case D.REMOVE_ALERT:return t.shift();default:return t}}const rfe=nfe;var afe=Object.defineProperty,fd=Object.getOwnPropertySymbols,$N=Object.prototype.hasOwnProperty,jN=Object.prototype.propertyIsEnumerable,VN=(t,n,a)=>n in t?afe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,BN=(t,n)=>{for(var a in n||(n={}))$N.call(n,a)&&VN(t,a,n[a]);if(fd)for(var a of fd(n))jN.call(n,a)&&VN(t,a,n[a]);return t},ife=(t,n)=>{var a={};for(var o in t)$N.call(t,o)&&n.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&fd)for(var o of fd(t))n.indexOf(o)<0&&jN.call(t,o)&&(a[o]=t[o]);return a};function ofe(t,n){switch(n.type){case D.FLASHBAR_CREATE:return GN(t,n);case D.FLASHBAR_UPDATE:return lfe(t,n);case D.FLASHBAR_DELETE:return sfe(t,n);default:return t}}function GN(t,{flashbar:n}){return[...t,BN({},n)]}function sfe(t,{flashbarId:n}){return t.filter(a=>a.id!==n)}function lfe(t,n){var a=n,{flashbar:o}=a,s=ife(a,["flashbar"]);const c=t.findIndex(u=>u.id===o.id);return c===-1?GN(t,BN({flashbar:o},s)):(t[c]=o,[...t])}const cfe=(0,hd.H)({entities:Vhe,errors:zhe,environment:Xhe,form:qe.Ff,localSchema:Qhe,pagination:jhe,view:Jhe,warnings:Yhe,workflows:Zhe,userPreferences:tfe,alerts:rfe,customdomains:zG,flashbars:ofe});var ufe=v(70434);function*dfe(t){if(t.entityType===N.TYPE){const n=yield(0,w.Lt)(s=>s.environment),a=t.entities;if(!a||!a.length)return;if(a[0].apiId===n.selectedApiId){let u=(yield(0,w.Lt)(f=>f.localSchema.typeRecords)).reduce((f,y)=>f.set(y.getKey(),y),(0,T.Map)());for(const f of a)u=u.set(f.getKey(),f);const p=u.toList(),h=Sm(p);yield(0,w.yJ)(Gr({typeRecords:p,text:h,lastSavedText:h}))}}}function*pfe(){yield(0,w.p8)(D.PUT_ENTITIES,t=>dfe(t))}var mfe=v(78661),hfe=Object.defineProperty,ffe=Object.defineProperties,yfe=Object.getOwnPropertyDescriptors,zN=Object.getOwnPropertySymbols,gfe=Object.prototype.hasOwnProperty,Afe=Object.prototype.propertyIsEnumerable,qN=(t,n,a)=>n in t?hfe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Efe=(t,n)=>{for(var a in n||(n={}))gfe.call(n,a)&&qN(t,a,n[a]);if(zN)for(var a of zN(n))Afe.call(n,a)&&qN(t,a,n[a]);return t},bfe=(t,n)=>ffe(t,yfe(n)),vfe=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const Sfe=xe.getAppSyncClient();function KN(t){return vfe(this,null,function*(){return yield Sfe.send(new mfe.Z(t))})}function*Tfe(t){const n={apiId:t,format:Io.JSON};let a=yield(0,w.T1)(KN,n),o=a.types;for(;a.nextToken;)a=yield(0,w.T1)(KN,bfe(Efe({},n),{nextToken:a.nextToken})),o=o.concat(...a.types);return(0,T.List)(o.map(s=>Rg(s,t)))}function*Ife(){const t=yield(0,w.Lt)(n=>n.environment.selectedApiId);if(t){at.startTimer(Ge.SCHEMA_DOWNLOAD);try{const n=yield(0,w.T1)(Tfe,t),a=Sm(n);yield(0,w.yJ)(Gr({typeRecords:n,text:a,lastSavedText:a,isInitialized:!0})),at.stopTimer(Ge.SCHEMA_DOWNLOAD)}catch(n){n.name!==Fa.NOT_FOUND&&at.logOperationalError(Ge.SCHEMA_DOWNLOAD_ERROR,n)}finally{at.stopTimer(Ge.SCHEMA_DOWNLOAD)}}}function*Cfe(){yield(0,w.p8)(D.INITIALIZE_LOCAL_SCHEMA,()=>Ife())}const WN=t=>t.localSchema,HN=lA("errors.localSchema"),JN=lA("warnings.localSchema");function*Rfe(t){at.startTimer(Ge.SCHEMA_PARSE_DURATION);const a=(yield(0,w.Lt)(WN)).lastSavedText,o=hS(t.value,a);yield(0,w.yJ)(Gr(o)),at.stopTimer(Ge.SCHEMA_PARSE_DURATION)}function*wfe(){yield(0,w.jP)(D.UPDATE_LOCAL_SCHEMA,t=>Rfe(t))}function*Pfe(){const t=yield(0,w.Lt)(WN),{lastSavedText:n}=t;yield(0,w.yJ)(Gr({text:n,hasEdits:!1}));let a;try{a=(0,dt.parse)(n);const o=Gd(a.definitions);yield(0,w.yJ)(HN((0,T.List)())),yield(0,w.yJ)(Gr({isValid:!0,typeRecords:o,errors:(0,T.List)(),warnings:(0,T.List)()}))}catch(o){yield(0,w.yJ)(HN((0,T.List)([o]))),yield(0,w.yJ)(Gr({isValid:!1}))}try{a&&((0,ufe.buildASTSchema)(Ns(a)),yield(0,w.yJ)(JN((0,T.List)())))}catch(o){yield(0,w.yJ)(JN((0,T.List)([o])))}}function*Ofe(){yield(0,w.jP)(D.CANCEL_LOCAL_SCHEMA_EDITS,()=>Pfe())}function*Dfe(){yield(0,w.Q7)([(0,w.T1)(wfe),(0,w.T1)(Ofe),(0,w.T1)(pfe),(0,w.T1)(Cfe)])}var Nfe=v(15579),_fe=v(2061),YN=v(64835),QN=v(24526),xfe=v(74364),Lfe=v(97123),kfe=v(77861),Mfe=v(18346),Ffe=Object.defineProperty,Ufe=Object.defineProperties,$fe=Object.getOwnPropertyDescriptors,XN=Object.getOwnPropertySymbols,jfe=Object.prototype.hasOwnProperty,Vfe=Object.prototype.propertyIsEnumerable,sy=(t,n)=>(n=Symbol[t])?n:Symbol.for("Symbol."+t),ZN=(t,n,a)=>n in t?Ffe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,e_=(t,n)=>{for(var a in n||(n={}))jfe.call(n,a)&&ZN(t,a,n[a]);if(XN)for(var a of XN(n))Vfe.call(n,a)&&ZN(t,a,n[a]);return t},t_=(t,n)=>Ufe(t,$fe(n)),ly=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())}),Bfe=function(t,n){this[0]=t,this[1]=n},Gfe=t=>{var n=t[sy("asyncIterator")],a=!1,o,s={};return n==null?(n=t[sy("iterator")](),o=c=>s[c]=u=>n[c](u)):(n=n.call(t),o=c=>s[c]=u=>{if(a){if(a=!1,c==="throw")throw u;return u}return a=!0,{done:!1,value:new Bfe(new Promise(p=>{var h=n[c](u);if(!(h instanceof Object))throw TypeError("Object expected");p(h)}),1)}}),s[sy("iterator")]=()=>s,o("next"),"throw"in n?o("throw"):s.throw=c=>{throw c},"return"in n&&o("return"),s};const Ci=xe.getAppSyncClient();function zfe(t){return ly(this,null,function*(){return yield Ci.send(new Nfe.R(t))})}function qfe(){return ly(this,null,function*(){const t={apis:[],error:void 0};let n;try{do{const a=yield Ci.send(new _fe.P({maxResults:bn.APIS,nextToken:n}));n=a.nextToken,t.apis.push(...a.apis.map(Xg))}while(n)}catch(a){if(!(a instanceof YN.x))throw a;t.error=a}return t})}function Kfe(t){return ly(this,arguments,function*({owner:n}){const a={apis:[],error:void 0};let o;try{do{const s=yield Ci.send(new QN.q({maxResults:bn.APIS,nextToken:o,owner:n}));o=s.nextToken,a.apis.push(...s.graphqlApis.map(Is))}while(o)}catch(s){if(!(s instanceof YN.x))throw s;a.error=s}return a})}function*Wfe(t){let n,a;switch(t.entityType){case N.SHARED_GRAPHQLAPI:case N.API:{const s=(yield(0,w.T1)(Bt.isEventApiEnabled))&&t.entityType===N.API,c=[[Kfe,{owner:t.entityType===N.SHARED_GRAPHQLAPI?"OTHER_ACCOUNTS":void 0}]];s&&c.push([qfe]);const u=(yield(0,w.Q7)(c.map(y=>(0,w.T1)(...y)))).reduce((y,{apis:g,error:A})=>(A&&y.errors.push(A),y.apis=y.apis.concat(g),y),{apis:[],errors:[]}),{apis:p,errors:h}=u;n=new Set;for(const y of p)yield(0,w.yJ)(zr(N.API)({entity:y})),n.add(y.getKey());for(const y of h)yield(0,w.yJ)(na(Kr.from({type:"error",dismissible:!0,shownWhen:["api-list-table"],info:y.name,description:y.message})));return new ke({items:t.paginateRecord.items.merge((0,T.OrderedSet)(n)),lastUpdated:new Date,nextToken:void 0,pageSize:t.paginateRecord.pageSize})}case N.DATA_SOURCE:{a=t.paginationKey.apiId;const o={apiId:a,maxResults:t.paginateRecord.pageSize,nextToken:t.paginateRecord.nextToken},s=yield Ci.send(new $S.K(o));n=new Set,a=t.paginationKey.apiId;for(const u of s.dataSources){const p=Fs(u,a);yield(0,w.yJ)(zr(N.DATA_SOURCE)({entity:p})),n.add(p.getKey())}return new ke({items:t.paginateRecord.items.merge((0,T.OrderedSet)(n)),lastUpdated:new Date,nextToken:s.nextToken,pageSize:t.paginateRecord.pageSize})}case N.RESOLVER:{let o=null,{functionId:s}=t.paginationKey;if(s){({apiId:a,functionId:s}=t.paginationKey);const u={apiId:a,functionId:s,maxResults:t.paginateRecord.pageSize,nextToken:t.paginateRecord.nextToken},p=yield Ci.send(new xfe.Y(u));n=new Set,a=t.paginationKey.apiId,s=t.paginationKey.functionId;for(const h of p.resolvers){const f=ji(h,a);yield(0,w.yJ)(zr(N.RESOLVER)({entity:f})),n.add(f.getKey())}o=p.nextToken}else{let u;a=t.paginationKey.apiId,u=t.paginationKey.typeName;const p={apiId:a,maxResults:t.paginateRecord.pageSize,nextToken:t.paginateRecord.nextToken,typeName:u},h=yield Ci.send(new Lfe.X(p));n=new Set,a=t.paginationKey.apiId,u=t.paginationKey.typeName;for(const f of h.resolvers){const y=ji(f,a);yield(0,w.yJ)(zr(N.RESOLVER)({entity:y})),n.add(y.getKey())}o=h.nextToken}return new ke({items:t.paginateRecord.items.merge((0,T.OrderedSet)(n)),lastUpdated:new Date,nextToken:o,pageSize:t.paginateRecord.pageSize})}case N.RESOLVER_FUNCTION:{a=t.paginationKey.apiId;const o={apiId:a,maxResults:t.paginateRecord.pageSize,nextToken:t.paginateRecord.nextToken},s=yield Ci.send(new kfe.x(o));n=new Set,a=t.paginationKey.apiId;for(const u of s.functions){const p=Gs(u,a);yield(0,w.yJ)(zr(N.RESOLVER_FUNCTION)({entity:p})),n.add(p.getKey())}return new ke({items:t.paginateRecord.items.merge((0,T.OrderedSet)(n)),lastUpdated:new Date,nextToken:s.nextToken,pageSize:t.paginateRecord.pageSize})}case N.API_KEY:{a=t.paginationKey.apiId;const o={apiId:a,maxResults:t.paginateRecord.pageSize,nextToken:t.paginateRecord.nextToken},s=yield Ci.send(new Mfe.A(o));n=new Set,a=t.paginationKey.apiId;for(const u of s.apiKeys){const p=new cr(t_(e_({},u),{apiId:a}));yield(0,w.yJ)(zr(N.API_KEY)({entity:p})),n.add(p.getKey())}return new ke({items:t.paginateRecord.items.merge((0,T.OrderedSet)(n)),lastUpdated:new Date,nextToken:s.nextToken,pageSize:t.paginateRecord.pageSize})}case N.SOURCE_API_ASSOCIATION:{a=t.paginationKey.apiId;const o=yield(0,w.T1)(zfe,{apiId:a,maxResults:t.paginateRecord.pageSize,nextToken:t.paginateRecord.nextToken});n=new Set;const s=o.sourceApiAssociationSummaries;for(const c of s){const u=yield(0,w.T1)(Of,{mergedApiIdentifier:c.mergedApiId,associationId:c.associationId}),p=new Mo(t_(e_({},u.sourceApiAssociation),{apiId:a}));yield(0,w.yJ)(zr(N.SOURCE_API_ASSOCIATION)({entity:p})),n.add(p.getKey())}return new ke({items:t.paginateRecord.items.merge((0,T.OrderedSet)(n)),lastUpdated:new Date,nextToken:o.nextToken,pageSize:t.paginateRecord.pageSize})}default:throw new Error(`Invalid Entity Action Type:${t.type}`)}}function*Hfe(t){try{const n=yield*Gfe(Wfe(t));yield(0,w.yJ)(ep(t.entityType)({paginateRecord:n,paginationKey:t.paginationKey})),n.nextToken&&n.nextToken.length>0&&(yield(0,w.yJ)(ma(t.entityType)({paginateRecord:n,paginationKey:t.paginationKey})))}catch(n){yield(0,w.yJ)(b$(t.entityType)({errors:[n],paginationKey:t.paginationKey}))}}function*Jfe(){yield(0,w.jP)(D.LIST_BEGIN,t=>Hfe(t))}var Yfe=v(25415),Qfe=v(42960),Xfe=v(40146),Zfe=v(1792),eye=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const us=xe.getAppSyncClient(),tye=t=>eye(void 0,null,function*(){const{apiId:n}=t.entity;switch(t.entityType){case N.API:{const a={apiId:n},o=yield us.send(new Yfe.l(a));return Is(o.graphqlApi)}case N.RESOLVER:{const a=t.entity,o={apiId:n,fieldName:a.fieldName,typeName:a.typeName},s=yield us.send(new Qfe.I(o));return ji(s.resolver,n)}case N.DATA_SOURCE:{const o={name:t.entity.name,apiId:n},s=yield us.send(new US.x(o));return Fs(s.dataSource,n)}case N.RESOLVER_FUNCTION:{const a=t.entity,o={apiId:n,functionId:a.functionId},s=yield us.send(new Xfe.Y(o));return Gs(s.functionConfiguration,n)}case N.API_CACHE:{const a={apiId:n},o=yield us.send(new Zfe.P(a));return bm(o.apiCache,n)}case N.ENVIRONMENT_VARIABLE:{const a={apiId:n},o=yield us.send(new GS.V(a));return nS(n,o.environmentVariables)}default:throw new Error(`Invalid Entity Action Type:${t.type}`)}});function*nye(t){try{yield(0,w.yJ)(Kt(t.entityType)({entity:t.entity.merge({recordStatus:new fe({status:H.GETTING})})}));const a=(yield tye(t)).merge({recordStatus:new fe({status:H.GET_SUCCESS})});yield(0,w.yJ)(bA(t.entityType)({entity:a}))}catch(n){yield(0,w.yJ)(vA(t.entityType)({errors:[n]})),yield(0,w.yJ)(Kt(t.entityType)({entity:t.entity.merge({recordStatus:new fe({status:H.ERRORED,message:n.message,code:n.name})})}))}}function*rye(){yield(0,w.jP)(D.GET_BEGIN,t=>nye(t))}var aye=v(75108),iye=v(87224),oye=v(38180),sye=v(71593),lye=v(8476),cye=v(68839),uye=v(12619);const dye=(t,n)=>t.entities.getIn([n,"entityTags"]);function*pye(t){if(t.entityType===N.API){const n=t.entity;if(!n)return;const a=n.entityTags,o=yield(0,w.Lt)(dye,n.getKey());if((n.entityTags.hasUserTags()||o.hasUserTags())&&!a.userTagsEquals(o)){const s=a.getTagsDeletedFrom(o);s&&!s.isEmpty()&&(yield(0,w.yJ)(Q$({entity:n,metadata:{tagKeys:s}})));const c=a.getTagsUpdatedFrom(o);c&&!c.isEmpty()&&(yield(0,w.yJ)(Y$({entity:n,metadata:{tags:c}})))}}}var mye=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const Ri=xe.getAppSyncClient(),n_=xe.getWafClient(),hye=t=>mye(void 0,null,function*(){const{apiId:n}=t.entity;switch(t.entityType){case N.API:{const a=t.entity,o=t.metadata;let s;if(a.shouldUpdateWaf)if(a.wafWebAclArn&&a.wafWebAclArn!=="None"){const f={WebACLArn:a.wafWebAclArn,ResourceArn:a.arn};s=yield n_.send(new aye.Y(f))}else{const f={ResourceArn:a.arn};s=yield n_.send(new iye.Q(f))}a.graphqlConfig.updateLambdaAuthorizers&&a.graphqlConfig.updateLambdaAuthorizers.length>0&&(yield Promise.all(a.graphqlConfig.updateLambdaAuthorizers.map(f=>ZV(f,{arn:a.arn,apiId:a.apiId}))));let c;if(a.graphqlConfig.logConfig!=null&&a.graphqlConfig.getIn(["logConfig","cloudWatchLogsRoleArn"])!=null&&a.graphqlConfig.roleSource===Dt.ROLE_NEW){const f=xe.getIAMAdminClient(),y=yield $E({apiId:a.apiId,resourceType:"AMAZON_CLOUDWATCH_LOGS"});try{c=(yield f.send(new _p.F(y))).Role.Arn}catch(g){if(g.name==="EntityAlreadyExistsException")c=yield VE(y.RoleName);else throw g}}let u;!a.graphqlConfig.mergedApiExecutionRoleArn&&a.graphqlConfig.isMergedApi()?u=(yield cs({mergedApi:a,sourceApis:o.map(y=>y.sourceGraphqlApi)})).role:u=a.graphqlConfig.mergedApiExecutionRoleArn;let p=c?a.setIn(["graphqlConfig","logConfig","cloudWatchLogsRoleArn"],c):a;p=u?p.setIn(["graphqlConfig","mergedApiExecutionRoleArn"],u):p;const h=yield Ri.send(new oye.u(p.getUpdateApiRequest()));return s&&(h.graphqlApi.wafWebAclArn=a.wafWebAclArn),Is(h.graphqlApi)}case N.RESOLVER:try{const a=t.entity,o=yield Ri.send(new mE.L(a.getUpdateResolverRequest()));return ji(o.resolver,a.apiId)}catch(a){const o=mc(a);throw a.detail=o,a}case N.DATA_SOURCE:{const a=t.entity;let o;a.shouldCreateRole?o=(yield fc(new Za(a.getServiceRoleParams(!0)))).roleArn:o=a.serviceRoleArn;const s=a.set("serviceRoleArn",o),c=yield Ri.send(new jS.o(s.getUpdateDataSourceRequest()));return Fs(c.dataSource,n)}case N.RESOLVER_FUNCTION:try{const a=t.entity,o=yield Ri.send(new sye.x(a.getUpdateFunctionRequest()));return Gs(o.functionConfiguration,n)}catch(a){const o=mc(a);throw a.detail=o,a}case N.API_KEY:{const a=t.entity,o=yield Ri.send(new lye.w(a.getUpdateApiKeyRequest()));return Uv(o.apiKey,n)}case N.API_CACHE:{const a=t.entity,o=yield Ri.send(new cye.j(a.getUpdateApiCacheRequest()));return bm(o.apiCache,n)}case N.SOURCE_API_ASSOCIATION:{const a=t.entity,o=yield Ri.send(new uye.D(a.getUpdateSourceApiAssociationRequest()));return Zq(o.sourceApiAssociation,n)}case N.ENVIRONMENT_VARIABLE:{const a=t.entity,o=yield Ri.send(new zS.E(a.getUpdatePayload()));return nS(n,o.environmentVariables)}default:throw new Error(`Invalid Entity Action Type:${t.type}`)}});function*fye(t){try{yield(0,w.yJ)(Kt(t.entityType)({entity:t.entity.merge({recordStatus:new fe({status:H.UPDATING})})}));const n=yield hye(t);if(yield(0,w.yJ)(Rs(t.entityType)({entity:n.merge({recordStatus:new fe({status:H.UPDATE_SUCCESS})})})),t.entityType===N.API&&(yield(0,w.T1)(pye,t)),t.entityType===N.RESOLVER){const a=t.entity,o=yield(0,w.Lt)(Ih({typeName:a.typeName,fieldName:a.fieldName})),s=new fe({status:H.UPDATE_SUCCESS,message:l.Ay.translate("Resolver for ${0} was updated.",Ks(o).trim())});yield(0,w.yJ)($i(s))}if(t.entityType===N.RESOLVER_FUNCTION){const a=new fe({status:H.UPDATE_SUCCESS,message:""});yield(0,w.yJ)($i(a))}}catch(n){if(yield(0,w.yJ)(l$(t.entityType)({errors:[n]})),yield(0,w.yJ)(Kt(t.entityType)({entity:t.entity.merge({recordStatus:new fe({status:H.ERRORED,message:n.message,code:n.name,detail:n.detail})})})),t.entityType===N.RESOLVER_FUNCTION||t.entityType===N.RESOLVER){const a=new fe({status:H.ERRORED,message:n.message||""});yield(0,w.yJ)($i(a))}}}function*yye(){yield(0,w.jP)(D.UPDATE_BEGIN,fye)}var gye=v(48053),Aye=v(99061),Eye=v(19385),bye=v(99307),vye=v(13878),Sye=v(13066),Tye=v(35381),Iye=v(9573),Cye=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const wi=xe.getAppSyncClient(),Rye=t=>Cye(void 0,null,function*(){switch(t.entityType){case N.API:{const n=t.entity;return n.isEventApi()?wi.send(new gye.V(n.getDeleteApiRequest())):wi.send(new Aye.a(n.getDeleteApiRequest()))}case N.RESOLVER:{const n=t.entity,a={apiId:n.apiId,fieldName:n.fieldName,typeName:n.typeName};return yield wi.send(new Eye.H(a))}case N.DATA_SOURCE:{const n=t.entity,a={name:n.name,apiId:n.apiId};return yield wi.send(new VS.M(a))}case N.RESOLVER_FUNCTION:{const n=t.entity,a={apiId:n.apiId,functionId:n.functionId};return yield wi.send(new bye.Z(a))}case N.API_KEY:{const n=t.entity,a={apiId:n.apiId,id:n.id};return yield wi.send(new vye.Q(a))}case N.SOURCE_API_ASSOCIATION:{const n=t.entity;let a;if(n.apiId===n.mergedApiId){const s=n.getSourceGraphqlApiRequest();a=new Sye.c(s)}else{const s=n.getMergedGraphqlApiRequest();a=new Tye.t(s)}return yield wi.send(a)}case N.API_CACHE:{const a={apiId:t.entity.apiId};return yield wi.send(new Iye.F(a))}default:throw new Error(`Invalid Entity Action Type:${t.type}`)}});function*wye(t){try{if(yield(0,w.yJ)(Kt(t.entityType)({entity:t.entity.merge({recordStatus:new fe({status:H.DELETING})})})),yield Rye(t),t.entityType===N.SOURCE_API_ASSOCIATION){const n=t.entity;yield(0,w.T1)(Rf,{associationId:n.associationId,mergedApiIdentifier:n.mergedApiId})}yield(0,w.yJ)(Kt(t.entityType)({entity:t.entity.merge({recordStatus:new fe({status:H.DELETE_SUCCESS})})})),t.entityType!==N.API_CACHE&&(yield(0,w.yJ)(S$(t.entityType)({paginateRecord:new ke({items:(0,T.OrderedSet)([t.entity.getKey()])}),paginationKey:{apiId:t.entity.apiId,versionId:"v1",typeName:t.entity.typeName}}))),t.entityType===N.API&&(yield(0,w.yJ)(Ps(""))),yield(0,w.yJ)(Zd(t.entityType)({entity:t.entity}))}catch(n){yield(0,w.yJ)(h$(t.entityType)({errors:[n]})),yield(0,w.yJ)(Kt(t.entityType)({entity:t.entity.merge({recordStatus:new fe({status:H.ERRORED,message:n.message,code:n.name})})}))}}function*Pye(){yield(0,w.jP)(D.DELETE_BEGIN,t=>wye(t))}const r_=xe.getAppSyncClient();function*Oye(t){try{const n=t.entity;yield(0,w.yJ)(rp(t.entityType)({entity:n,metadata:{status:new fe({status:H.UPDATING})}}));const{tags:a}=t.metadata,o=qM(n.arn,a);yield r_.send(new Om.e(o)),yield(0,w.yJ)(B$(t.entityType)({entity:n,metadata:{tags:o.tags}})),yield(0,w.yJ)(rp(t.entityType)({entity:n,metadata:{status:new fe({status:H.UPDATE_SUCCESS})}}))}catch(n){yield(0,w.yJ)(G$(t.entityType)({errors:[n]})),yield(0,w.yJ)(rp(t.entityType)({entity:t.entity,metadata:{status:new fe({status:H.ERRORED,message:n.message,code:n.name})}}))}}function*Dye(t){try{const n=t.entity;yield(0,w.yJ)(ap(t.entityType)({entity:n,metadata:{key:"deleteTag",status:new fe({status:H.UPDATING})}}));const{tagKeys:a}=t.metadata,o=KM(n.arn,a);yield r_.send(new Dm.R(o)),yield(0,w.yJ)(q$(t.entityType)({entity:n,metadata:{tagKeys:a}})),yield(0,w.yJ)(ap(t.entityType)({entity:n,metadata:{status:new fe({status:H.UPDATE_SUCCESS})}}))}catch(n){yield(0,w.yJ)(K$(t.entityType)({errors:[n]})),yield(0,w.yJ)(ap(t.entityType)({entity:t.entity,metadata:{status:new fe({status:H.ERRORED,message:n.message,code:n.name})}}))}}function*Nye(){yield(0,w.jP)(D.TAG_RESOURCE_BEGIN,t=>Oye(t))}function*_ye(){yield(0,w.jP)(D.UNTAG_RESOURCE_BEGIN,t=>Dye(t))}function*xye(t){if(t.entityType===N.RESOLVER&&t.metadata&&t.metadata.fetchFunctions){const n=t.entity;if(n&&n.pipelineConfig)for(const a of n.pipelineConfig.functions.toArray())yield(0,w.yJ)(kA({entity:new Cn({apiId:n.apiId,functionId:a})}))}}function*Lye(){yield(0,w.jP)(D.GET_SUCCESS,t=>xye(t))}var kye=v(62230);const Mye=xe.getAppSyncClient(),Fye=t=>{const{apiId:n}=t.entity,a={apiId:n};return Mye.send(new kye.c(a))};function*Uye(t){try{yield(0,w.yJ)(Kt(t.entityType)({entity:t.entity.merge({recordStatus:new fe({status:H.FLUSHING})})})),yield Fye(t),yield(0,w.yJ)(Kt(t.entityType)({entity:t.entity.merge({recordStatus:new fe({status:H.FLUSH_SUCCESS})})}))}catch(n){yield(0,w.yJ)(cj({errors:[n]})),yield(0,w.yJ)(Kt(t.entityType)({entity:t.entity.merge({recordStatus:new fe({status:H.FLUSH_ERROR,message:n.message,code:n.name})})}))}}function*$ye(){yield(0,w.jP)(D.FLUSH_CACHE_BEGIN,t=>Uye(t))}var jye=v(47697),Vye=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const Bye=xe.getAppSyncClient();function Gye(t){return Vye(this,null,function*(){return yield Bye.send(new jye.Z(t))})}function*zye(t){try{yield(0,w.yJ)(Kt(N.SOURCE_API_ASSOCIATION)({entity:t.sourceApiAssociation.merge({recordStatus:new fe({status:H.UPDATING})})}));const n=t.sourceApiAssociation.getSourceGraphqlApiRequest();yield(0,w.T1)(Gye,n);const a=yield(0,w.T1)(Rf,{mergedApiIdentifier:t.sourceApiAssociation.mergedApiId,associationId:t.sourceApiAssociation.associationId}),o=new Set;o.add(a.getKey()),yield(0,w.yJ)(Ro(N.SOURCE_API_ASSOCIATION)({paginateRecord:new ke({items:(0,T.OrderedSet)(o)}),paginationKey:{apiId:a.apiId,versionId:"v1"}})),yield(0,w.yJ)(Rs(N.SOURCE_API_ASSOCIATION)({entity:a.merge({recordStatus:new fe({status:H.UPDATE_SUCCESS})})}))}catch(n){const a=t.mergedApi?t.mergedApi.name:(0,l.Ay)`Merged API`;yield(0,w.yJ)(Ja({apiId:t.sourceApiAssociation.apiId,status:H.ERRORED,info:(0,l.Ay)`Failed to merge`,description:`${t.sourceApi.name} failed to merge into ${a}. ${n.message}`}))}}function*qye(){yield(0,w.jP)(D.START_MANUAL_MERGE,zye)}var Kye=v(87647),Wye=Object.defineProperty,a_=Object.getOwnPropertySymbols,Hye=Object.prototype.hasOwnProperty,Jye=Object.prototype.propertyIsEnumerable,i_=(t,n,a)=>n in t?Wye(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,Yye=(t,n)=>{for(var a in n||(n={}))Hye.call(n,a)&&i_(t,a,n[a]);if(a_)for(var a of a_(n))Jye.call(n,a)&&i_(t,a,n[a]);return t},Qye=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const Xye=xe.getAppSyncClient();function Zye(t){return Qye(this,null,function*(){return yield Xye.send(new Kye.l(t))})}function*ege(t){try{const n=yield(0,w.Lt)(y=>y.environment.selectedApiId),a=yield(0,w.Lt)(y=>y.localSchema),{associationId:o}=t;if(a.associationIdsInitialized.has(o))return;let s,c;s=null,c=(0,T.List)();const u=new Set;do{const y=yield(0,w.T1)(Zye,{mergedApiIdentifier:n,associationId:o,format:Io.JSON,nextToken:s}),g=(0,T.List)(y.types.map(A=>(u.add(A.arn),Rg(A,n))));s=y.nextToken,c=(0,T.List)(c.concat(g))}while(s);const p=(0,T.List)(a.typeRecords.map(y=>{if(u.has(y.arn)){const g=c.find(A=>A.arn===y.arn);return y.merge(Yye({associationIds:y.associationIds?y.associationIds.add(o):(0,T.Set)([o])},g.definition!==y.definition?{originTypeMap:y.originTypeMap?y.originTypeMap.set(o,g):(0,T.Map)([o,g])}:{}))}return y})),h=a.associationIdsInitialized.add(o),f={typeRecords:p,associationIdsInitialized:h};yield(0,w.yJ)(Gr(f))}catch(n){yield(0,w.yJ)(vA(N.SCHEMA)({errors:[n]})),yield(0,w.yJ)(Gr({errors:(0,T.List)([n])}))}}function*tge(){yield(0,w.jP)(D.GET_SCHEMA_BY_ASSOCIATION,ege)}var nge=v(14991);function*rge(t){if(!t.paginationKey||!t.paginationKey.key)throw new Error("List cluster region cannot be missing");const a=yield xe.getElasticsearchClient(t.paginationKey.key).send(new nge.C({})),o=new Set;for(const c of a.DomainNames)o.add(c.DomainName);return new ke({isInvalidated:!1,isLoading:!1,items:(0,T.OrderedSet)(o),lastUpdated:new Date,nextToken:"",pageSize:t.paginateRecord.pageSize})}function*age(t){try{const n=yield rge(t);yield(0,w.yJ)(Cj({paginateRecord:n,paginationKey:t.paginationKey}))}catch(n){yield(0,w.yJ)(Rj({errors:[n]}))}}function*ige(){yield(0,w.nF)(1e3,D.ELASTICSEARCH_LIST_CLUSTERS_BEGIN,t=>age(t))}var oge=v(35617);function*sge(t){if(!t.paginationKey.key)throw new Error("List table region cannot be missing");const n=xe.getDynamodbClient(t.paginationKey.key),a={Limit:t.paginateRecord.pageSize,ExclusiveStartTableName:t.paginateRecord.nextToken},o=yield n.send(new oge.H(a)),s=t.paginateRecord.items,c=new Set;for(const p of o.TableNames)c.add(p);return new ke({isInvalidated:!1,isLoading:!1,items:s.union((0,T.OrderedSet)(c)),lastUpdated:new Date,nextToken:o.LastEvaluatedTableName,pageSize:t.paginateRecord.pageSize})}function*lge(t){try{const n=yield sge(t);yield(0,w.yJ)(xj({paginateRecord:n,paginationKey:t.paginationKey}))}catch(n){yield(0,w.yJ)(Lj({errors:[n]}))}}function*cge(){yield(0,w.nF)(1e3,D.DYNAMODB_LIST_TABLES_BEGIN,t=>lge(t))}var uge=v(22390);function*dge(t){if(!t.paginationKey.key)throw new Error("List functions region cannot be missing");const n=xe.getLambdaClient(t.paginationKey.key),a={MaxItems:t.paginateRecord.pageSize,Marker:t.paginateRecord.nextToken},o=yield n.send(new uge.x(a)),s=t.paginateRecord.items,c=new Set;for(const p of o.Functions)c.add(p.FunctionArn);return new ke({isInvalidated:!1,isLoading:!1,items:s.union((0,T.OrderedSet)(c)),lastUpdated:new Date,nextToken:o.NextMarker,pageSize:t.paginateRecord.pageSize})}function*pge(t){try{const n=yield dge(t);yield(0,w.yJ)(jj({paginationKey:t.paginationKey,paginateRecord:n}))}catch(n){yield(0,w.yJ)(Vj({errors:[n]}))}}function*mge(){yield(0,w.nF)(1e3,D.LAMBDA_LIST_FUNCTIONS_BEGIN,t=>pge(t))}var hge=v(89886);function fge(){return mt().startsWith("cn-")?"cn-north-1":"us-east-1"}function*yge(t){const n=xe.getIamClient(fge()),a={MaxItems:t.paginateRecord.pageSize,Marker:t.paginateRecord.nextToken},o=yield n.send(new hge.J(a)),s=t.paginateRecord.items,c=new Set;for(const p of o.Roles)c.add(p.Arn);return new ke({isLoading:!1,items:s.union((0,T.OrderedSet)(c)),lastUpdated:new Date,nextToken:o.Marker,pageSize:t.paginateRecord.pageSize})}function*gge(t){try{const n=yield yge(t);yield(0,w.yJ)(Wj({paginateRecord:n,paginationKey:t.paginationKey}))}catch(n){yield(0,w.yJ)(Hj({errors:[n],paginationKey:t.paginationKey}))}}function*Age(){yield(0,w.nF)(1e3,D.IAM_LIST_ROLES_BEGIN,t=>gge(t))}var Ege=v(12967);function*bge(t){if(!t.paginationKey.key)throw new Error("Describe clusters region cannot be missing");const n=xe.getRdsClient(t.paginationKey.key),a={MaxRecords:t.paginateRecord.pageSize,Marker:t.paginateRecord.nextToken,Filters:[{Name:"engine",Values:["aurora-mysql","aurora-postgresql"]}]},o=yield n.send(new Ege.K(a)),s=t.paginateRecord.items,c=t.paginateRecord.resourceMetadata||(0,T.Map)(),u={},p=new Set;for(const f of o.DBClusters){const y=f.DBClusterArn,g=new Bq({arn:y,engineType:f.Engine,httpEnabled:f.HttpEndpointEnabled});u[y]=g,p.add(y)}return new ke({isInvalidated:!1,isLoading:!1,items:s.union((0,T.OrderedSet)(p)),lastUpdated:new Date,nextToken:o.Marker,pageSize:t.paginateRecord.pageSize,resourceMetadata:c.merge(u)})}function*vge(t){try{const n=yield bge(t);yield(0,w.yJ)(n1({paginationKey:t.paginationKey,paginateRecord:n}))}catch(n){yield(0,w.yJ)(r1({errors:[n]}))}}function*Sge(){yield(0,w.nF)(1e3,D.RDS_DESCRIBE_CLUSTERS_BEGIN,t=>vge(t))}var Tge=v(84024);function*Ige(t){if(!t.paginationKey.key)throw new Error("List secrets region cannot be missing");const n=xe.getSecretsManagerClient(t.paginationKey.key),a={Filters:t.filter?[{Key:"all",Values:[t.filter]}]:void 0,MaxResults:t.paginateRecord.pageSize,NextToken:t.retrieveMore?t.paginateRecord.nextToken:void 0},o=yield n.send(new Tge.j(a)),s=t.retrieveMore?t.paginateRecord.items:(0,T.OrderedSet)(),c=new Set;for(const p of o.SecretList)c.add(p.ARN);return new ke({isInvalidated:!1,isLoading:!1,items:s.union((0,T.OrderedSet)(c)),lastUpdated:new Date,nextToken:o.NextToken,pageSize:t.paginateRecord.pageSize})}function*Cge(t){try{const n=yield Ige(t);yield(0,w.yJ)(u1({paginationKey:t.paginationKey,paginateRecord:n,retrieveMore:t.retrieveMore}))}catch(n){yield(0,w.yJ)(d1({errors:[n]}))}}function*Rge(){yield(0,w.nF)(100,D.SECRETS_MANAGER_LIST_SECRETS_BEGIN,t=>Cge(t))}var wge=v(88146);function*Pge(t){const n=xe.getCognitoIDPClient(t.paginationKey.key),a={MaxResults:t.paginateRecord.pageSize,NextToken:t.paginateRecord.nextToken},o=yield n.send(new wge.s(a)),s=t.paginateRecord.items,c=new Set;for(const p of o.UserPools){const h=new Am({id:p.Id,name:p.Name,region:t.paginationKey.key});c.add(h.getKey()),yield(0,w.yJ)(zr(N.USER_POOL)({entity:h}))}return new ke({isInvalidated:!1,items:s.union((0,T.OrderedSet)(c)),lastUpdated:new Date,nextToken:o.NextToken,pageSize:t.paginateRecord.pageSize})}function*Oge(t){try{const n=yield Pge(t);yield(0,w.yJ)(g1({paginateRecord:n,paginationKey:t.paginationKey}))}catch(n){yield(0,w.yJ)(A1({errors:[n],paginationKey:t.paginationKey}))}}function*Dge(){yield(0,w.nF)(1e3,D.LIST_USERPOOL_BEGIN,t=>Oge(t))}function*Nge(t){if(!Bt.isWAFEnabled())return new ke({isInvalidated:!1,isLoading:!1,items:new Set,lastUpdated:new Date,nextToken:void 0,pageSize:t.paginateRecord.pageSize});if(!t.paginationKey.key)throw new Error("List WAF WebAcl region cannot be missing");const n=xe.getWafClient(t.paginationKey.key),a={Scope:"REGIONAL",Limit:t.paginateRecord.pageSize,NextMarker:t.paginateRecord.nextToken},o=yield n.send(new qS.v(a)),s=t.paginateRecord.items,c=new Set,u=new qs({id:"None",entityName:"None",region:t.paginationKey.key,arn:"None"});c.add(u.getKey()),yield(0,w.yJ)(zr(N.WAF_WEB_ACL)({entity:u}));for(const h of o.WebACLs){const f=new qs({id:h.Id,entityName:h.Name,region:t.paginationKey.key,arn:h.ARN});c.add(f.getKey()),yield(0,w.yJ)(zr(N.WAF_WEB_ACL)({entity:f}))}return new ke({isInvalidated:!1,isLoading:!1,items:s.union((0,T.OrderedSet)(c)),lastUpdated:new Date,nextToken:o.NextMarker,pageSize:t.paginateRecord.pageSize})}function*_ge(t){try{const n=yield Nge(t);yield(0,w.yJ)(C1({paginateRecord:n,paginationKey:t.paginationKey}))}catch(n){yield(0,w.yJ)(R1({errors:[n]}))}}function*xge(){yield(0,w.nF)(1e3,D.LIST_WAF_WEB_ACL_BEGIN,t=>_ge(t))}var Lge=v(97183);function*kge(t){if(!t.paginationKey.key)throw new Error("List bus region cannot be missing");const n=xe.getEventBridgeClient(t.paginationKey.key),a={Limit:t.paginateRecord.pageSize,NextToken:t.paginateRecord.nextToken},o=yield n.send(new Lge.G(a)),s=t.paginateRecord.items,c=new Set;for(const p of o.EventBuses)c.add(p.Arn);return new ke({isInvalidated:!1,isLoading:!1,items:s.union((0,T.OrderedSet)(c)),lastUpdated:new Date,nextToken:o.NextToken,pageSize:t.paginateRecord.pageSize})}function*Mge(t){try{const n=yield kge(t);yield(0,w.yJ)(x1({paginationKey:t.paginationKey,paginateRecord:n}))}catch(n){yield(0,w.yJ)(L1({errors:[n]}))}}function*Fge(){yield(0,w.nF)(1e3,D.EVENT_BRIDGE_LIST_BUSES_BEGIN,t=>Mge(t))}function*Uge(t){const n=MB(t.workflowParams);for(const a of n)yield(0,w.yJ)(a)}function*$ge(){yield(0,w.jP)(D.START_PROVISION_SAMPLE,t=>Uge(t))}function*jge(t){try{const n=t.fireOnEnter?t.fireOnEnter():[];for(const s of n)yield(0,w.yJ)(s);const a=yield t.handler(),o=t.fireOnSuccess?t.fireOnSuccess(a):[];for(const s of o)yield(0,w.yJ)(s)}catch(n){const a=t.fireOnError?t.fireOnError(n):[];for(const o of a)yield(0,w.yJ)(o)}}function*Vge(){yield(0,w.jP)(D.FIRE_WORKFLOW,t=>jge(t))}function Bge(t){return t?t.replace(/2017-02-28/,"2018-05-29"):""}function Gge(t){return t?`## In order to retain the same execution behavior for 2017-02-28 templates
## you might have to uncomment the following code below.
## For more details about changes from 2017-02-28 to 2018-05-29 see 
## https://docs-aws.amazon.com/appsync/latest/devguide/resolver-mapping-template-changelog.html
##
## #if($ctx.error)
##   $util.error($ctx.error.message, $ctx.error.type)
## #end
## #if($util.isNull($ctx.result))
##   #return
## #end

${t}`:""}const o_=t=>t.environment.selectedApiId,s_=t=>t.environment.selectedVersionId,zge=t=>t.pagination.functionsByGraphqlApiVersion.get(`${o_(t)}/${s_(t)}`);function*qge({resolver:t,runtime:n}){try{const a=new Cn({name:`${t.typeName}_${t.fieldName}_Function`,description:(0,l.Ay)`Created automatically when converting the ${`${t.typeName}.${t.fieldName}`} resolver to a pipeline.`,dataSourceName:t.dataSourceName,requestMappingTemplate:Bge(t.requestMappingTemplate),responseMappingTemplate:Gge(t.responseMappingTemplate),code:t.code,apiId:t.apiId,runtime:t.runtime,syncConfig:t.syncConfig,maxBatchSize:t.maxBatchSize}),o=yield(0,w.T1)(QV,a.getCreateFunctionRequest());yield(0,w.yJ)(ic(N.RESOLVER_FUNCTION)({entity:o.merge({recordStatus:new fe({status:H.CREATE_SUCCESS})})}));const s=n,c=new Sr({typeName:t.typeName,fieldName:t.fieldName,dataSourceName:void 0,resolverArn:t.resolverArn,kind:"PIPELINE",pipelineConfig:new Us({functions:(0,T.List)([o.functionId])}),apiId:t.apiId,cachingConfig:t.cachingConfig||new $s,runtime:new lr({name:s,versionId:Sc(s)}),requestMappingTemplate:mm,responseMappingTemplate:hm,code:tn.resolver}),u=yield(0,w.T1)(YV,c.getUpdateResolverRequest());yield(0,w.yJ)(Rs(N.RESOLVER)({entity:u.merge({recordStatus:new fe({status:H.UPDATE_SUCCESS})})}));const p=yield(0,w.Lt)(o_),h=yield(0,w.Lt)(s_),f=yield(0,w.Lt)(zge),y=f.merge({items:f.items.add(o.getKey())});yield(0,w.yJ)(ep(N.RESOLVER_FUNCTION)({paginateRecord:y,paginationKey:{apiId:p,versionId:h}})),Sn({eventType:"submit",eventContext:"pipelineResolver",eventDetail:Ge.CONVERT_TO_PIPELINE_SUCCESS})}catch(a){Sn({eventType:"submit",eventContext:"pipelineResolver",eventDetail:Ge.CONVERT_TO_PIPELINE_ERROR}),at.logOperationalError(Ge.CONVERT_TO_PIPELINE_ERROR,a)}}function*Kge(){yield(0,w.jP)(D.CONVERT_RESOLVER_TO_PIPELINE,t=>qge(t))}function*Wge(){yield(0,w.Q7)([(0,w.T1)($ge),(0,w.T1)(Vge),(0,w.T1)(Kge)])}function*Hge(t){yield(0,Dl.cb)(t.duration);for(const n of t.actions)yield(0,w.yJ)(n)}function*Jge(){yield(0,w.jP)(D.DELAYED_DISPATCH,t=>Hge(t))}function*Yge(t){const n=yield(0,w.Lt)(a=>a.environment);if(n){const a=n.selectedApiId,o=[a,t.name].join("-");try{const c=yield new ay({prefix:a}).getItem(t.name);yield(0,w.yJ)(VB(o,c))}catch(s){yield(0,w.yJ)(BB(o,s))}}}function*Qge(t){let n=!1;const{apiId:a,local:o}=t,s=[a,t.name].join("-");if(a)try{if(!o){const c=new ay({prefix:a});yield(0,w.T1)(c.setItem.bind(c),t.name,t.value)}yield(0,w.yJ)(db(s,t.value,a))}catch(c){n=!0;const u=yield(0,w.Lt)(p=>p.userPreferences.get(s));yield(0,w.yJ)(db(s,u,a)),yield(0,w.yJ)(jB(s,c))}finally{if(t.displayAlert){const c=new fe({status:n?H.ERRORED:H.UPDATE_SUCCESS,message:""});yield(0,w.yJ)($i(c))}}}function*Xge(){yield(0,w.jP)(D.SET_USER_PREFERENCE,Qge)}function*Zge(){yield(0,w.jP)(D.GET_USER_PREFERENCE,Yge)}function*eAe(t){const n=yield(0,w.Lt)(a=>a.environment);if(n){const a=n.selectedApiId,o=yield(0,w.Lt)(s=>s.userPreferences);try{const s=[t.userPoolId,t.appIdClientRegex].join("-"),c=[Cy,s].join("-"),u=[ps,s].join("-"),p=[vd,s].join("-"),h=o.get([a,c].join("-")),f=o.get([a,p].join("-")),y=o.get([a,u].join("-")),g=y&&JSON.parse(y);if(!h||!g||!f||!t.userPoolId)return;const A={IdToken:new ln.Yw({IdToken:g.IdToken}),AccessToken:new ln.pD({AccessToken:g.AccessKey}),RefreshToken:new ln.c9({RefreshToken:g.RefreshToken}),ClockDrift:g.ClockDrift||0},E=new ln.p4(A);if(E.isValid()&&y&&y!=="")return;const b=new ln.NE({UserPoolId:t.userPoolId,ClientId:f}),C={Username:h,Pool:b},I=new ln.TU(C);I.setSignInUserSession(E);const R=yield zK(I),L=JSON.stringify({AccessKey:R.getAccessToken().getJwtToken(),IdToken:R.getIdToken().getJwtToken(),RefreshToken:R.getRefreshToken().getToken(),ClockDrift:R.getClockDrift()});yield(0,w.yJ)(No({name:u,value:L,apiId:a,local:!0})),yield(0,w.yJ)(No({name:c,value:h,apiId:a,local:!0})),yield(0,w.yJ)(No({name:p,value:f,apiId:a,local:!0}))}catch(s){s.message+=`
Please visit the Queries page and Login with User Pools.`;const c=new Error(`There was a problem acquiring a Cognito session. 
                Please visit the Queries page and Login with User Pools.`);yield(0,w.yJ)(zB({errors:[c]}))}}}function*tAe(){yield(0,w.jP)(D.GET_COGNITO_SESSION,t=>eAe(t))}var l_=v(75275),nAe=v(72770),c_=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const u_=xe.getAppSyncClient();function rAe(t){return c_(this,null,function*(){try{const n=yield u_.send(new l_.f({domainName:t}));if(!n.apiAssociation||Object.keys(n.apiAssociation).length===0)throw new Error((0,l.Ay)`There was a problem with the network. Please try again.`);return n.apiAssociation}catch(n){if(n.name===Fa.NOT_FOUND)return{domainName:t,apiId:void 0,associationStatus:void 0,deploymentDetail:void 0};throw n}})}function aAe(t){return c_(this,null,function*(){const n=yield u_.send(new nAe.C(t));if(!n.domainNameConfigs)throw new Error((0,l.Ay)`There was a problem with the network. Please try again.`);const a=n.domainNameConfigs.filter(s=>s.domainName).map(s=>s.domainName),o=yield Promise.all([...a.map(s=>rAe(s))]);return{customDomains:n.domainNameConfigs||[],apiAssociations:o.filter(s=>s.apiId)}})}var cy=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const iAe=xe.getAppSyncClient();function oAe(t){return cy(this,null,function*(){return yield iAe.send(new QN.q(t))})}function sAe(){return cy(this,null,function*(){let t,n=0;const a=100;let o=[];for(;(t||n===0)&&n<a;){const s=yield oAe({maxResults:25,nextToken:t});t=s.nextToken,o=[...o,...s.graphqlApis],n+=1}return o})}function lAe(t){return(t||[]).filter(o=>o.apiId&&o.name).map(o=>({value:o.apiId,label:o.name,disabled:cAe(o.visibility)}))}const cAe=t=>t===Pi.PRIVATE;function uAe(){return cy(this,null,function*(){const t=yield sAe();return lAe(t)})}var dAe=v(83547),pAe=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const mAe=xe.getAppSyncClient();function hAe(t){return pAe(this,null,function*(){const n=yield mAe.send(new dAe.B(t));if(!n.domainNameConfig||Object.keys(n.domainNameConfig).length===0)throw new Error((0,l.Ay)`There was a problem with the network. Please try again.`);return n.domainNameConfig})}var fAe=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const yAe=xe.getAppSyncClient();function d_(t){return fAe(this,null,function*(){const n=yield yAe.send(new l_.f(t));if(!n.apiAssociation||Object.keys(n.apiAssociation).length===0)throw new Error((0,l.Ay)`There was a problem with the network. Please try again.`);return n.apiAssociation})}var gAe=v(75280),AAe=Object.defineProperty,EAe=Object.defineProperties,bAe=Object.getOwnPropertyDescriptors,p_=Object.getOwnPropertySymbols,vAe=Object.prototype.hasOwnProperty,SAe=Object.prototype.propertyIsEnumerable,m_=(t,n,a)=>n in t?AAe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,TAe=(t,n)=>{for(var a in n||(n={}))vAe.call(n,a)&&m_(t,a,n[a]);if(p_)for(var a of p_(n))SAe.call(n,a)&&m_(t,a,n[a]);return t},IAe=(t,n)=>EAe(t,bAe(n)),CAe=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const RAe=xe.getAppSyncClient();function wAe(t){return CAe(this,null,function*(){const n=yield RAe.send(new gAe.K(t));if(!n.apiAssociation||Object.keys(n.apiAssociation).length===0)throw new Error((0,l.Ay)`There was a problem with the network. Please try again.`);return IAe(TAe({},n.apiAssociation),{apiId:t.apiId})})}var PAe=v(49087),h_=(t,n)=>(n=Symbol[t])?n:Symbol.for("Symbol."+t),OAe=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())}),DAe=(t,n,a)=>(n=t[h_("asyncIterator")])?n.call(t):(t=t[h_("iterator")](),n={},a=(o,s)=>(s=t[o])&&(n[o]=c=>new Promise((u,p,h)=>(c=s.call(t,c),h=c.done,Promise.resolve(c.value).then(f=>u({value:f,done:h}),p)))),a("next"),a("return"),n);const NAe=xe.getAcmClient("us-east-1");function _Ae(){return OAe(this,null,function*(){const t={CertificateStatuses:["ISSUED"],Includes:{keyTypes:["RSA_1024","RSA_2048","RSA_3072","RSA_4096","EC_prime256v1"]},MaxItems:1e3},n=[];try{for(var a=DAe((0,PAe.M)({client:NAe},t)),o,s,c;o=!(s=yield a.next()).done;o=!1){const u=s.value;n.push(...u.CertificateSummaryList)}}catch(u){c=[u]}finally{try{o&&(s=a.return)&&(yield s.call(a))}finally{if(c)throw c[0]}}return n.map(u=>({value:u.CertificateArn,label:`${u.DomainName} - ${u.CertificateArn}`}))})}var xAe=v(83392),LAe=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const kAe=xe.getAppSyncClient();function MAe(t){return LAe(this,null,function*(){const n=yield kAe.send(new xAe.S(t));if(!n.domainNameConfig||Object.keys(n.domainNameConfig).length===0)throw new Error((0,l.Ay)`There was a problem with the network. Please try again.`);return n.domainNameConfig})}var FAe=v(12244),UAe=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const $Ae=xe.getAppSyncClient();function jAe(t){return UAe(this,null,function*(){yield $Ae.send(new FAe.G(t))})}var VAe=v(46506),BAe=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const GAe=xe.getAppSyncClient();function f_(t){return BAe(this,null,function*(){yield GAe.send(new VAe.q(t))})}var zAe=v(85859),qAe=(t,n,a)=>new Promise((o,s)=>{var c=h=>{try{p(a.next(h))}catch(f){s(f)}},u=h=>{try{p(a.throw(h))}catch(f){s(f)}},p=h=>h.done?o(h.value):Promise.resolve(h.value).then(c,u);p((a=a.apply(t,n)).next())});const KAe=xe.getAppSyncClient();function WAe(t){return qAe(this,null,function*(){const n=yield KAe.send(new zAe.v(t));if(!n.domainNameConfig||Object.keys(n.domainNameConfig).length===0)throw new Error((0,l.Ay)`There was a problem with the network. Please try again.`);return n.domainNameConfig})}function*HAe(){try{const t=yield(0,w.T1)(()=>aAe({}));yield(0,w.yJ)({type:Ob,payload:{list:t.customDomains,associatedApiIds:t.apiAssociations.reduce((n,a)=>(n[a.domainName]=a.apiId,n),{})}})}catch(t){yield(0,w.yJ)({type:Db,payload:{errors:[t.message]}})}}function*JAe(){try{const t=yield(0,w.T1)(()=>uAe());yield(0,w.yJ)({type:Ib,payload:{list:t}})}catch(t){yield(0,w.yJ)({type:Cb,payload:{errors:[t.message]}})}}function*YAe(){try{const t=yield(0,w.T1)(()=>_Ae());yield(0,w.yJ)({type:Rb,payload:{list:t}})}catch(t){yield(0,w.yJ)({type:wb,payload:{errors:[t.message]}})}}function*QAe(t){try{const n=yield(0,w.T1)(()=>hAe({domainName:t.payload.domainName}));yield(0,w.yJ)({type:Nb,payload:{domainName:n.domainName,certificateArn:n.certificateArn,appsyncDomainName:n.appsyncDomainName,description:n.description,tags:[]}})}catch(n){yield(0,w.yJ)({type:_b,payload:{errors:[n.message]}}),yield(0,w.yJ)({type:xo,payload:{page:"details",message:n.message}}),yield(0,w.yJ)({type:xo,payload:{page:"editDetails",message:n.message}})}}function*XAe(t){try{yield(0,w.yJ)({type:ks,payload:{page:"create"}});const n=yield(0,w.T1)(()=>WAe({domainName:t.payload.domainName,certificateArn:t.payload.certificateArn,description:t.payload.description}));yield(0,w.yJ)({type:kb,payload:{domainName:n.domainName,certificateArn:n.certificateArn,appsyncDomainName:n.appsyncDomainName,description:n.description,tags:[]}})}catch(n){yield(0,w.yJ)({type:Mb,payload:{errors:[n.message]}}),yield(0,w.yJ)({type:Ls,payload:{page:"create",message:n.message}})}}function*ZAe(t){try{yield(0,w.yJ)({type:ks,payload:{page:"editDetails"}});const n=yield(0,w.T1)(()=>MAe({domainName:t.payload.domainName,description:t.payload.description}));yield(0,w.yJ)({type:Fb,payload:{domainName:n.domainName,description:n.description,tags:t.payload.tags}})}catch(n){yield(0,w.yJ)({type:Ub,payload:{errors:[n.message]}}),yield(0,w.yJ)({type:Ls,payload:{page:"editDetails",message:n.message}})}}function*eEe(t){try{yield(0,w.yJ)({type:sm,payload:{page:"details"}}),yield(0,w.T1)(()=>f_({domainName:t.payload.domainName})),yield(0,w.yJ)({type:$b,payload:{domainName:t.payload.domainName}})}catch(n){yield(0,w.yJ)({type:jb,payload:{errors:[n.message]}}),yield(0,w.yJ)({type:xo,payload:{page:"details",message:n.message}})}}function*uy(t){try{const n=yield(0,w.T1)(()=>d_({domainName:t.payload.domainName}));if(yield(0,w.yJ)({type:em,payload:{domainName:n.domainName,apiId:n.apiId,associationStatus:n.associationStatus,deploymentDetail:n.deploymentDetail}}),n.associationStatus===ge.PROCESSING){const a=yield Sse({interval:3e4,action:()=>d_({domainName:t.payload.domainName}),completeCondition:o=>o.associationStatus!==ge.PROCESSING});yield(0,w.yJ)({type:em,payload:{domainName:a.domainName,apiId:a.apiId,associationStatus:a.associationStatus,deploymentDetail:a.deploymentDetail}})}}catch(n){n.name===Fa.NOT_FOUND?yield(0,w.yJ)({type:Lb,payload:{domainName:t.payload.domainName}}):(yield(0,w.yJ)({type:xb,payload:{errors:[n.message]}}),yield(0,w.yJ)({type:xo,payload:{page:"details",message:n.message}}))}}function*tEe(t){try{yield(0,w.yJ)({type:ks,payload:{page:"editAssociation"}});const n=yield wAe({domainName:t.payload.domainName,apiId:t.payload.apiId});yield(0,w.yJ)({type:Gb,payload:{domainName:n.domainName,apiId:"-",associationStatus:ge.PROCESSING,deploymentDetail:n.deploymentDetail}}),yield uy(t)}catch(n){yield(0,w.yJ)({type:zb,payload:{errors:[n.message]}}),yield(0,w.yJ)({type:Ls,payload:{page:"editAssociation",message:n.message}})}}function*nEe(t){try{yield(0,w.T1)(()=>jAe({domainName:t.payload.domainName})),yield(0,w.yJ)({type:qb,payload:{associationStatus:ge.PROCESSING}}),yield uy(t)}catch(n){yield(0,w.yJ)({type:MG,payload:{errors:[n.message]}})}}function*rEe(t){try{yield(0,w.T1)(()=>f_({domainName:t.payload.domainName})),yield(0,w.yJ)({type:Vb,payload:{domainName:t.payload.domainName}})}catch(n){yield(0,w.yJ)({type:Bb,payload:{domainName:t.payload.domainName,errors:[n.message]}}),yield(0,w.yJ)({type:Ls,payload:{page:"list",message:n.message}})}}function*aEe(){yield(0,w.jP)(Yp,()=>JAe()),yield(0,w.jP)(Xp,t=>QAe(t)),yield(0,w.jP)(Zp,t=>uy(t)),yield(0,w.jP)(im,t=>tEe(t)),yield(0,w.jP)(Qp,()=>YAe()),yield(0,w.jP)(nm,t=>ZAe(t)),yield(0,w.jP)(Pb,()=>HAe()),yield(0,w.jP)(om,t=>nEe(t)),yield(0,w.jP)(rm,t=>eEe(t)),yield(0,w.jP)(tm,t=>XAe(t)),yield(0,w.jP)(am,t=>rEe(t))}function*iEe(){yield(0,w.Q7)([(0,w.T1)(noe),(0,w.T1)(Pye),(0,w.T1)(yye),(0,w.T1)(Jfe),(0,w.T1)(rye),(0,w.T1)(Nye),(0,w.T1)(_ye),(0,w.T1)(ige),(0,w.T1)(mge),(0,w.T1)(Fge),(0,w.T1)(Sge),(0,w.T1)(Rge),(0,w.T1)(Age),(0,w.T1)(cge),(0,w.T1)(Dge),(0,w.T1)(Dfe),(0,w.T1)(Wge),(0,w.T1)(Jge),(0,w.T1)(Xge),(0,w.T1)(Zge),(0,w.T1)(tAe),(0,w.T1)($ye),(0,w.T1)(xge),(0,w.T1)(poe),(0,w.T1)(qye),(0,w.T1)(Wie),(0,w.T1)(tge),(0,w.T1)(Lye),(0,w.T1)(aEe)])}const oEe=!0,sEe=new KG,lEe=t=>{at.logOperationalError(Ge.UNKNOWN_SAGA_ERROR,{message:t?.message||JSON.stringify(t),stackTrace:Ql(t.stack),name:t.name,cause:t?.cause,sagaStack:Ql(t?.sagaStack)})},y_=(0,Dl.Ay)({onError:lEe}),cEe=(0,Dhe.U1)({reducer:cfe,preloadedState:sEe,middleware:[y_],devTools:!oEe});function uEe(){return y_.run(iEe),cEe}const dEe=uEe;v.p=Gt.getCdnUrl(Gt.getCustomContext("dynamicImportAssetPath"))+"/",window.AWSC=window.AWSC||void 0;const pEe=dEe();function mEe(){return i.createElement(qi,null,i.createElement(te.Provider,{store:pEe},i.createElement(Ye.I9,null,i.createElement(Ohe,null))))}function g_(){const t=document.getElementById("app");(0,Se.H)(t).render(i.createElement(mEe,null))}["complete","loaded","interactive"].find(t=>t===document.readyState)&&document.body?g_():window.addEventListener("DOMContentLoaded",g_,!1)},15240:()=>{},10218:()=>{},64583:()=>{},63344:(S,we,v)=>{"use strict";v.r(we)},93718:(S,we,v)=>{"use strict";v.r(we)},7176:(S,we,v)=>{"use strict";v.r(we)},63704:(S,we,v)=>{"use strict";v.r(we)},24004:S=>{"use strict";S.exports=`import type { Util, Extensions, Context } from '@aws-appsync/utils/lib/index';

// extending Util, Extensions to support any new features in future releases of @aws-appsync/utils
// We can add additional types if their types are exported from appsync utils
type ExtendedUtil = Util & {
    // add new feature signatures
};

type ExtendedExtensions = Extensions & {
    // add new feature signatures
};

type ExtendedContext = Context & {
    // add new feature signatures
};

declare const util: ExtendedUtil;
declare const extensions: ExtendedExtensions;
export { util, extensions, ExtendedContext };
`},51978:S=>{"use strict";S.exports=`/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */



/// <reference no-default-lib="true"/>\r


interface Map<K, V> {\r
\r
    clear(): void;\r
    /**\r
     * @returns true if an element in the Map existed and has been removed, or false if the element does not exist.\r
     */\r
    delete(key: K): boolean;\r
    /**\r
     * Executes a provided function once per each key/value pair in the Map, in insertion order.\r
     */\r
    forEach(callbackfn: (value: V, key: K, map: Map<K, V>) => void, thisArg?: any): void;\r
    /**\r
     * Returns a specified element from the Map object. If the value that is associated to the provided key is an object, then you will get a reference to that object and any change made to that object will effectively modify it inside the Map.\r
     * @returns Returns the element associated with the specified key. If no element is associated with the specified key, undefined is returned.\r
     */\r
    get(key: K): V | undefined;\r
    /**\r
     * @returns boolean indicating whether an element with the specified key exists or not.\r
     */\r
    has(key: K): boolean;\r
    /**\r
     * Adds a new element with a specified key and value to the Map. If an element with the same key already exists, the element will be updated.\r
     */\r
    set(key: K, value: V): this;\r
    /**\r
     * @returns the number of elements in the Map.\r
     */\r
    readonly size: number;\r
}\r
\r
interface MapConstructor {\r
    new(): Map<any, any>;\r
    new <K, V>(entries?: readonly (readonly [K, V])[] | null): Map<K, V>;\r
    readonly prototype: Map<any, any>;\r
}\r
declare var Map: MapConstructor;\r
\r
interface ReadonlyMap<K, V> {\r
    forEach(callbackfn: (value: V, key: K, map: ReadonlyMap<K, V>) => void, thisArg?: any): void;\r
    get(key: K): V | undefined;\r
    has(key: K): boolean;\r
    readonly size: number;\r
}\r
\r
interface WeakMap<K extends object, V> {\r
    /**\r
     * Removes the specified element from the WeakMap.\r
     * @returns true if the element was successfully removed, or false if it was not present.\r
     */\r
    delete(key: K): boolean;\r
    /**\r
     * @returns a specified element.\r
     */\r
    get(key: K): V | undefined;\r
    /**\r
     * @returns a boolean indicating whether an element with the specified key exists or not.\r
     */\r
    has(key: K): boolean;\r
    /**\r
     * Adds a new element with a specified key and value.\r
     * @param key Must be an object.\r
     */\r
    set(key: K, value: V): this;\r
}\r
\r
interface WeakMapConstructor {\r
    new <K extends object = object, V = any>(entries?: readonly [K, V][] | null): WeakMap<K, V>;\r
    readonly prototype: WeakMap<object, any>;\r
}\r
declare var WeakMap: WeakMapConstructor;\r
\r
interface Set<T> {\r
    /**\r
     * Appends a new element with a specified value to the end of the Set.\r
     */\r
    add(value: T): this;\r
\r
    clear(): void;\r
    /**\r
     * Removes a specified value from the Set.\r
     * @returns Returns true if an element in the Set existed and has been removed, or false if the element does not exist.\r
     */\r
    delete(value: T): boolean;\r
    /**\r
     * Executes a provided function once per each value in the Set object, in insertion order.\r
     */\r
    forEach(callbackfn: (value: T, value2: T, set: Set<T>) => void, thisArg?: any): void;\r
    /**\r
     * @returns a boolean indicating whether an element with the specified value exists in the Set or not.\r
     */\r
    has(value: T): boolean;\r
    /**\r
     * @returns the number of (unique) elements in Set.\r
     */\r
    readonly size: number;\r
}\r
\r
interface SetConstructor {\r
    new <T = any>(values?: readonly T[] | null): Set<T>;\r
    readonly prototype: Set<any>;\r
}\r
declare var Set: SetConstructor;\r
\r
interface ReadonlySet<T> {\r
    forEach(callbackfn: (value: T, value2: T, set: ReadonlySet<T>) => void, thisArg?: any): void;\r
    has(value: T): boolean;\r
    readonly size: number;\r
}\r
\r
interface WeakSet<T extends object> {\r
    /**\r
     * Appends a new object to the end of the WeakSet.\r
     */\r
    add(value: T): this;\r
    /**\r
     * Removes the specified element from the WeakSet.\r
     * @returns Returns true if the element existed and has been removed, or false if the element does not exist.\r
     */\r
    delete(value: T): boolean;\r
    /**\r
     * @returns a boolean indicating whether an object exists in the WeakSet or not.\r
     */\r
    has(value: T): boolean;\r
}\r
\r
interface WeakSetConstructor {\r
    new <T extends object = object>(values?: readonly T[] | null): WeakSet<T>;\r
    readonly prototype: WeakSet<object>;\r
}\r
declare var WeakSet: WeakSetConstructor;\r
`},57797:S=>{"use strict";S.exports=`/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */



/// <reference no-default-lib="true"/>\r


interface Array<T> {\r
    /**\r
     * Returns the value of the first element in the array where predicate is true, and undefined\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found, find\r
     * immediately returns that element value. Otherwise, find returns undefined.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    find<S extends T>(predicate: (this: void, value: T, index: number, obj: T[]) => value is S, thisArg?: any): S | undefined;\r
    find(predicate: (value: T, index: number, obj: T[]) => unknown, thisArg?: any): T | undefined;\r
\r
    /**\r
     * Returns the index of the first element in the array where predicate is true, and -1\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found,\r
     * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    findIndex(predicate: (value: T, index: number, obj: T[]) => unknown, thisArg?: any): number;\r
\r
    /**\r
     * Changes all array elements from \`start\` to \`end\` index to a static \`value\` and returns the modified array\r
     * @param value value to fill array section with\r
     * @param start index to start filling the array at. If start is negative, it is treated as\r
     * length+start where length is the length of the array.\r
     * @param end index to stop filling the array at. If end is negative, it is treated as\r
     * length+end.\r
     */\r
    fill(value: T, start?: number, end?: number): this;\r
\r
    /**\r
     * Returns the this object after copying a section of the array identified by start and end\r
     * to the same array starting at position target\r
     * @param target If target is negative, it is treated as length+target where length is the\r
     * length of the array.\r
     * @param start If start is negative, it is treated as length+start. If end is negative, it\r
     * is treated as length+end.\r
     * @param end If not specified, length of the this object is used as its default value.\r
     */\r
    copyWithin(target: number, start: number, end?: number): this;\r
}\r
\r
interface ArrayConstructor {\r
    /**\r
     * Creates an array from an array-like object.\r
     * @param arrayLike An array-like object to convert to an array.\r
     */\r
    from<T>(arrayLike: ArrayLike<T>): T[];\r
\r
    /**\r
     * Creates an array from an iterable object.\r
     * @param arrayLike An array-like object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from<T, U>(arrayLike: ArrayLike<T>, mapfn: (v: T, k: number) => U, thisArg?: any): U[];\r
\r
    /**\r
     * Returns a new array from a set of elements.\r
     * @param items A set of elements to include in the new array object.\r
     */\r
    of<T>(...items: T[]): T[];\r
}\r
\r
interface DateConstructor {\r
    new (value: number | string | Date): Date;\r
}\r
\r
interface Function {\r
    /**\r
     * Returns the name of the function. Function names are read-only and can not be changed.\r
     */\r
    readonly name: string;\r
}\r
\r
interface Math {\r
    /**\r
     * Returns the number of leading zero bits in the 32-bit binary representation of a number.\r
     * @param x A numeric expression.\r
     */\r
    clz32(x: number): number;\r
\r
    /**\r
     * Returns the result of 32-bit multiplication of two numbers.\r
     * @param x First number\r
     * @param y Second number\r
     */\r
    imul(x: number, y: number): number;\r
\r
    /**\r
     * Returns the sign of the x, indicating whether x is positive, negative or zero.\r
     * @param x The numeric expression to test\r
     */\r
    sign(x: number): number;\r
\r
    /**\r
     * Returns the base 10 logarithm of a number.\r
     * @param x A numeric expression.\r
     */\r
    log10(x: number): number;\r
\r
    /**\r
     * Returns the base 2 logarithm of a number.\r
     * @param x A numeric expression.\r
     */\r
    log2(x: number): number;\r
\r
    /**\r
     * Returns the natural logarithm of 1 + x.\r
     * @param x A numeric expression.\r
     */\r
    log1p(x: number): number;\r
\r
    /**\r
     * Returns the result of (e^x - 1), which is an implementation-dependent approximation to\r
     * subtracting 1 from the exponential function of x (e raised to the power of x, where e\r
     * is the base of the natural logarithms).\r
     * @param x A numeric expression.\r
     */\r
    expm1(x: number): number;\r
\r
    /**\r
     * Returns the hyperbolic cosine of a number.\r
     * @param x A numeric expression that contains an angle measured in radians.\r
     */\r
    cosh(x: number): number;\r
\r
    /**\r
     * Returns the hyperbolic sine of a number.\r
     * @param x A numeric expression that contains an angle measured in radians.\r
     */\r
    sinh(x: number): number;\r
\r
    /**\r
     * Returns the hyperbolic tangent of a number.\r
     * @param x A numeric expression that contains an angle measured in radians.\r
     */\r
    tanh(x: number): number;\r
\r
    /**\r
     * Returns the inverse hyperbolic cosine of a number.\r
     * @param x A numeric expression that contains an angle measured in radians.\r
     */\r
    acosh(x: number): number;\r
\r
    /**\r
     * Returns the inverse hyperbolic sine of a number.\r
     * @param x A numeric expression that contains an angle measured in radians.\r
     */\r
    asinh(x: number): number;\r
\r
    /**\r
     * Returns the inverse hyperbolic tangent of a number.\r
     * @param x A numeric expression that contains an angle measured in radians.\r
     */\r
    atanh(x: number): number;\r
\r
    /**\r
     * Returns the square root of the sum of squares of its arguments.\r
     * @param values Values to compute the square root for.\r
     *     If no arguments are passed, the result is +0.\r
     *     If there is only one argument, the result is the absolute value.\r
     *     If any argument is +Infinity or -Infinity, the result is +Infinity.\r
     *     If any argument is NaN, the result is NaN.\r
     *     If all arguments are either +0 or \u22120, the result is +0.\r
     */\r
    hypot(...values: number[]): number;\r
\r
    /**\r
     * Returns the integral part of the a numeric expression, x, removing any fractional digits.\r
     * If x is already an integer, the result is x.\r
     * @param x A numeric expression.\r
     */\r
    trunc(x: number): number;\r
\r
    /**\r
     * Returns the nearest single precision float representation of a number.\r
     * @param x A numeric expression.\r
     */\r
    fround(x: number): number;\r
\r
    /**\r
     * Returns an implementation-dependent approximation to the cube root of number.\r
     * @param x A numeric expression.\r
     */\r
    cbrt(x: number): number;\r
}\r
\r
interface NumberConstructor {\r
    /**\r
     * The value of Number.EPSILON is the difference between 1 and the smallest value greater than 1\r
     * that is representable as a Number value, which is approximately:\r
     * 2.2204460492503130808472633361816 x 10\u200D\u2212\u200D16.\r
     */\r
    readonly EPSILON: number;\r
\r
    /**\r
     * Returns true if passed value is finite.\r
     * Unlike the global isFinite, Number.isFinite doesn't forcibly convert the parameter to a\r
     * number. Only finite values of the type number, result in true.\r
     * @param number A numeric value.\r
     */\r
    isFinite(number: unknown): boolean;\r
\r
    /**\r
     * Returns true if the value passed is an integer, false otherwise.\r
     * @param number A numeric value.\r
     */\r
    isInteger(number: unknown): boolean;\r
\r
    /**\r
     * Returns a Boolean value that indicates whether a value is the reserved value NaN (not a\r
     * number). Unlike the global isNaN(), Number.isNaN() doesn't forcefully convert the parameter\r
     * to a number. Only values of the type number, that are also NaN, result in true.\r
     * @param number A numeric value.\r
     */\r
    isNaN(number: unknown): boolean;\r
\r
    /**\r
     * Returns true if the value passed is a safe integer.\r
     * @param number A numeric value.\r
     */\r
    isSafeInteger(number: unknown): boolean;\r
\r
    /**\r
     * The value of the largest integer n such that n and n + 1 are both exactly representable as\r
     * a Number value.\r
     * The value of Number.MAX_SAFE_INTEGER is 9007199254740991 2^53 \u2212 1.\r
     */\r
    readonly MAX_SAFE_INTEGER: number;\r
\r
    /**\r
     * The value of the smallest integer n such that n and n \u2212 1 are both exactly representable as\r
     * a Number value.\r
     * The value of Number.MIN_SAFE_INTEGER is \u22129007199254740991 (\u2212(2^53 \u2212 1)).\r
     */\r
    readonly MIN_SAFE_INTEGER: number;\r
\r
    /**\r
     * Converts a string to a floating-point number.\r
     * @param string A string that contains a floating-point number.\r
     */\r
    parseFloat(string: string): number;\r
\r
    /**\r
     * Converts A string to an integer.\r
     * @param string A string to convert into a number.\r
     * @param radix A value between 2 and 36 that specifies the base of the number in \`string\`.\r
     * If this argument is not supplied, strings with a prefix of '0x' are considered hexadecimal.\r
     * All other strings are considered decimal.\r
     */\r
    parseInt(string: string, radix?: number): number;\r
}\r
\r
interface ObjectConstructor {\r
    /**\r
     * Copy the values of all of the enumerable own properties from one or more source objects to a\r
     * target object. Returns the target object.\r
     * @param target The target object to copy to.\r
     * @param source The source object from which to copy properties.\r
     */\r
    assign<T extends {}, U>(target: T, source: U): T & U;\r
\r
    /**\r
     * Copy the values of all of the enumerable own properties from one or more source objects to a\r
     * target object. Returns the target object.\r
     * @param target The target object to copy to.\r
     * @param source1 The first source object from which to copy properties.\r
     * @param source2 The second source object from which to copy properties.\r
     */\r
    assign<T extends {}, U, V>(target: T, source1: U, source2: V): T & U & V;\r
\r
    /**\r
     * Copy the values of all of the enumerable own properties from one or more source objects to a\r
     * target object. Returns the target object.\r
     * @param target The target object to copy to.\r
     * @param source1 The first source object from which to copy properties.\r
     * @param source2 The second source object from which to copy properties.\r
     * @param source3 The third source object from which to copy properties.\r
     */\r
    assign<T extends {}, U, V, W>(target: T, source1: U, source2: V, source3: W): T & U & V & W;\r
\r
    /**\r
     * Copy the values of all of the enumerable own properties from one or more source objects to a\r
     * target object. Returns the target object.\r
     * @param target The target object to copy to.\r
     * @param sources One or more source objects from which to copy properties\r
     */\r
    assign(target: object, ...sources: any[]): any;\r
\r
    /**\r
     * Returns an array of all symbol properties found directly on object o.\r
     * @param o Object to retrieve the symbols from.\r
     */\r
    getOwnPropertySymbols(o: any): symbol[];\r
\r
    /**\r
     * Returns the names of the enumerable string properties and methods of an object.\r
     * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\r
     */\r
    keys(o: {}): string[];\r
\r
    /**\r
     * Returns true if the values are the same value, false otherwise.\r
     * @param value1 The first value.\r
     * @param value2 The second value.\r
     */\r
    is(value1: any, value2: any): boolean;\r
\r
    /**\r
     * Sets the prototype of a specified object o to object proto or null. Returns the object o.\r
     * @param o The object to change its prototype.\r
     * @param proto The value of the new prototype or null.\r
     */\r
    setPrototypeOf(o: any, proto: object | null): any;\r
}\r
\r
interface ReadonlyArray<T> {\r
    /**\r
     * Returns the value of the first element in the array where predicate is true, and undefined\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found, find\r
     * immediately returns that element value. Otherwise, find returns undefined.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    find<S extends T>(predicate: (this: void, value: T, index: number, obj: readonly T[]) => value is S, thisArg?: any): S | undefined;\r
    find(predicate: (value: T, index: number, obj: readonly T[]) => unknown, thisArg?: any): T | undefined;\r
\r
    /**\r
     * Returns the index of the first element in the array where predicate is true, and -1\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found,\r
     * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    findIndex(predicate: (value: T, index: number, obj: readonly T[]) => unknown, thisArg?: any): number;\r
}\r
\r
interface RegExp {\r
    /**\r
     * Returns a string indicating the flags of the regular expression in question. This field is read-only.\r
     * The characters in this string are sequenced and concatenated in the following order:\r
     *\r
     *    - "g" for global\r
     *    - "i" for ignoreCase\r
     *    - "m" for multiline\r
     *    - "u" for unicode\r
     *    - "y" for sticky\r
     *\r
     * If no flags are set, the value is the empty string.\r
     */\r
    readonly flags: string;\r
\r
    /**\r
     * Returns a Boolean value indicating the state of the sticky flag (y) used with a regular\r
     * expression. Default is false. Read-only.\r
     */\r
    readonly sticky: boolean;\r
\r
    /**\r
     * Returns a Boolean value indicating the state of the Unicode flag (u) used with a regular\r
     * expression. Default is false. Read-only.\r
     */\r
    readonly unicode: boolean;\r
}\r
\r
interface RegExpConstructor {\r
    new (pattern: RegExp | string, flags?: string): RegExp;\r
    (pattern: RegExp | string, flags?: string): RegExp;\r
}\r
\r
interface String {\r
    /**\r
     * Returns a nonnegative integer Number less than 1114112 (0x110000) that is the code point\r
     * value of the UTF-16 encoded code point starting at the string element at position pos in\r
     * the String resulting from converting this object to a String.\r
     * If there is no element at that position, the result is undefined.\r
     * If a valid UTF-16 surrogate pair does not begin at pos, the result is the code unit at pos.\r
     */\r
    codePointAt(pos: number): number | undefined;\r
\r
    /**\r
     * Returns true if searchString appears as a substring of the result of converting this\r
     * object to a String, at one or more positions that are\r
     * greater than or equal to position; otherwise, returns false.\r
     * @param searchString search string\r
     * @param position If position is undefined, 0 is assumed, so as to search all of the String.\r
     */\r
    includes(searchString: string, position?: number): boolean;\r
\r
    /**\r
     * Returns true if the sequence of elements of searchString converted to a String is the\r
     * same as the corresponding elements of this object (converted to a String) starting at\r
     * endPosition \u2013 length(this). Otherwise returns false.\r
     */\r
    endsWith(searchString: string, endPosition?: number): boolean;\r
\r
    /**\r
     * Returns the String value result of normalizing the string into the normalization form\r
     * named by form as specified in Unicode Standard Annex #15, Unicode Normalization Forms.\r
     * @param form Applicable values: "NFC", "NFD", "NFKC", or "NFKD", If not specified default\r
     * is "NFC"\r
     */\r
    normalize(form: "NFC" | "NFD" | "NFKC" | "NFKD"): string;\r
\r
    /**\r
     * Returns the String value result of normalizing the string into the normalization form\r
     * named by form as specified in Unicode Standard Annex #15, Unicode Normalization Forms.\r
     * @param form Applicable values: "NFC", "NFD", "NFKC", or "NFKD", If not specified default\r
     * is "NFC"\r
     */\r
    normalize(form?: string): string;\r
\r
    /**\r
     * Returns a String value that is made from count copies appended together. If count is 0,\r
     * the empty string is returned.\r
     * @param count number of copies to append\r
     */\r
    repeat(count: number): string;\r
\r
    /**\r
     * Returns true if the sequence of elements of searchString converted to a String is the\r
     * same as the corresponding elements of this object (converted to a String) starting at\r
     * position. Otherwise returns false.\r
     */\r
    startsWith(searchString: string, position?: number): boolean;\r
\r
    /**\r
     * Returns an \`<a>\` HTML anchor element and sets the name attribute to the text value\r
     * @deprecated A legacy feature for browser compatibility\r
     * @param name\r
     */\r
    anchor(name: string): string;\r
\r
    /**\r
     * Returns a \`<big>\` HTML element\r
     * @deprecated A legacy feature for browser compatibility\r
     */\r
    big(): string;\r
\r
    /**\r
     * Returns a \`<blink>\` HTML element\r
     * @deprecated A legacy feature for browser compatibility\r
     */\r
    blink(): string;\r
\r
    /**\r
     * Returns a \`<b>\` HTML element\r
     * @deprecated A legacy feature for browser compatibility\r
     */\r
    bold(): string;\r
\r
    /**\r
     * Returns a \`<tt>\` HTML element\r
     * @deprecated A legacy feature for browser compatibility\r
     */\r
    fixed(): string;\r
\r
    /**\r
     * Returns a \`<font>\` HTML element and sets the color attribute value\r
     * @deprecated A legacy feature for browser compatibility\r
     */\r
    fontcolor(color: string): string;\r
\r
    /**\r
     * Returns a \`<font>\` HTML element and sets the size attribute value\r
     * @deprecated A legacy feature for browser compatibility\r
     */\r
    fontsize(size: number): string;\r
\r
    /**\r
     * Returns a \`<font>\` HTML element and sets the size attribute value\r
     * @deprecated A legacy feature for browser compatibility\r
     */\r
    fontsize(size: string): string;\r
\r
    /**\r
     * Returns an \`<i>\` HTML element\r
     * @deprecated A legacy feature for browser compatibility\r
     */\r
    italics(): string;\r
\r
    /**\r
     * Returns an \`<a>\` HTML element and sets the href attribute value\r
     * @deprecated A legacy feature for browser compatibility\r
     */\r
    link(url: string): string;\r
\r
    /**\r
     * Returns a \`<small>\` HTML element\r
     * @deprecated A legacy feature for browser compatibility\r
     */\r
    small(): string;\r
\r
    /**\r
     * Returns a \`<strike>\` HTML element\r
     * @deprecated A legacy feature for browser compatibility\r
     */\r
    strike(): string;\r
\r
    /**\r
     * Returns a \`<sub>\` HTML element\r
     * @deprecated A legacy feature for browser compatibility\r
     */\r
    sub(): string;\r
\r
    /**\r
     * Returns a \`<sup>\` HTML element\r
     * @deprecated A legacy feature for browser compatibility\r
     */\r
    sup(): string;\r
}\r
\r
interface StringConstructor {\r
    /**\r
     * Return the String value whose elements are, in order, the elements in the List elements.\r
     * If length is 0, the empty string is returned.\r
     */\r
    fromCodePoint(...codePoints: number[]): string;\r
\r
    /**\r
     * String.raw is usually used as a tag function of a Tagged Template String. When called as\r
     * such, the first argument will be a well formed template call site object and the rest\r
     * parameter will contain the substitution values. It can also be called directly, for example,\r
     * to interleave strings and values from your own tag function, and in this case the only thing\r
     * it needs from the first argument is the raw property.\r
     * @param template A well-formed template string call site representation.\r
     * @param substitutions A set of substitution values.\r
     */\r
    raw(template: { raw: readonly string[] | ArrayLike<string>}, ...substitutions: any[]): string;\r
}\r
`},34498:S=>{"use strict";S.exports=`/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */



/// <reference no-default-lib="true"/>\r


/// <reference lib="es5" />\r
/// <reference lib="es2015.core" />\r
/// <reference lib="es2015.collection" />\r
/// <reference lib="es2015.iterable" />\r
/// <reference lib="es2015.generator" />\r
/// <reference lib="es2015.promise" />\r
/// <reference lib="es2015.proxy" />\r
/// <reference lib="es2015.reflect" />\r
/// <reference lib="es2015.symbol" />\r
/// <reference lib="es2015.symbol.wellknown" />\r
`},16217:S=>{"use strict";S.exports=`/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */



/// <reference no-default-lib="true"/>\r


/// <reference lib="es2015.iterable" />\r
\r
interface Generator<T = unknown, TReturn = any, TNext = unknown> extends Iterator<T, TReturn, TNext> {\r
    // NOTE: 'next' is defined using a tuple to ensure we report the correct assignability errors in all places.\r
    next(...args: [] | [TNext]): IteratorResult<T, TReturn>;\r
    return(value: TReturn): IteratorResult<T, TReturn>;\r
    throw(e: any): IteratorResult<T, TReturn>;\r
    [Symbol.iterator](): Generator<T, TReturn, TNext>;\r
}\r
\r
interface GeneratorFunction {\r
    /**\r
     * Creates a new Generator object.\r
     * @param args A list of arguments the function accepts.\r
     */\r
    new (...args: any[]): Generator;\r
    /**\r
     * Creates a new Generator object.\r
     * @param args A list of arguments the function accepts.\r
     */\r
    (...args: any[]): Generator;\r
    /**\r
     * The length of the arguments.\r
     */\r
    readonly length: number;\r
    /**\r
     * Returns the name of the function.\r
     */\r
    readonly name: string;\r
    /**\r
     * A reference to the prototype.\r
     */\r
    readonly prototype: Generator;\r
}\r
\r
interface GeneratorFunctionConstructor {\r
    /**\r
     * Creates a new Generator function.\r
     * @param args A list of arguments the function accepts.\r
     */\r
    new (...args: string[]): GeneratorFunction;\r
    /**\r
     * Creates a new Generator function.\r
     * @param args A list of arguments the function accepts.\r
     */\r
    (...args: string[]): GeneratorFunction;\r
    /**\r
     * The length of the arguments.\r
     */\r
    readonly length: number;\r
    /**\r
     * Returns the name of the function.\r
     */\r
    readonly name: string;\r
    /**\r
     * A reference to the prototype.\r
     */\r
    readonly prototype: GeneratorFunction;\r
}\r
`},65576:S=>{"use strict";S.exports=`/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */



/// <reference no-default-lib="true"/>\r


/// <reference lib="es2015.symbol" />\r
\r
interface SymbolConstructor {\r
    /**\r
     * A method that returns the default iterator for an object. Called by the semantics of the\r
     * for-of statement.\r
     */\r
    readonly iterator: unique symbol;\r
}\r
\r
interface IteratorYieldResult<TYield> {\r
    done?: false;\r
    value: TYield;\r
}\r
\r
interface IteratorReturnResult<TReturn> {\r
    done: true;\r
    value: TReturn;\r
}\r
\r
type IteratorResult<T, TReturn = any> = IteratorYieldResult<T> | IteratorReturnResult<TReturn>;\r
\r
interface Iterator<T, TReturn = any, TNext = undefined> {\r
    // NOTE: 'next' is defined using a tuple to ensure we report the correct assignability errors in all places.\r
    next(...args: [] | [TNext]): IteratorResult<T, TReturn>;\r
    return?(value?: TReturn): IteratorResult<T, TReturn>;\r
    throw?(e?: any): IteratorResult<T, TReturn>;\r
}\r
\r
interface Iterable<T> {\r
    [Symbol.iterator](): Iterator<T>;\r
}\r
\r
interface IterableIterator<T> extends Iterator<T> {\r
    [Symbol.iterator](): IterableIterator<T>;\r
}\r
\r
interface Array<T> {\r
    /** Iterator */\r
    [Symbol.iterator](): IterableIterator<T>;\r
\r
    /**\r
     * Returns an iterable of key, value pairs for every entry in the array\r
     */\r
    entries(): IterableIterator<[number, T]>;\r
\r
    /**\r
     * Returns an iterable of keys in the array\r
     */\r
    keys(): IterableIterator<number>;\r
\r
    /**\r
     * Returns an iterable of values in the array\r
     */\r
    values(): IterableIterator<T>;\r
}\r
\r
interface ArrayConstructor {\r
    /**\r
     * Creates an array from an iterable object.\r
     * @param iterable An iterable object to convert to an array.\r
     */\r
    from<T>(iterable: Iterable<T> | ArrayLike<T>): T[];\r
\r
    /**\r
     * Creates an array from an iterable object.\r
     * @param iterable An iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from<T, U>(iterable: Iterable<T> | ArrayLike<T>, mapfn: (v: T, k: number) => U, thisArg?: any): U[];\r
}\r
\r
interface ReadonlyArray<T> {\r
    /** Iterator of values in the array. */\r
    [Symbol.iterator](): IterableIterator<T>;\r
\r
    /**\r
     * Returns an iterable of key, value pairs for every entry in the array\r
     */\r
    entries(): IterableIterator<[number, T]>;\r
\r
    /**\r
     * Returns an iterable of keys in the array\r
     */\r
    keys(): IterableIterator<number>;\r
\r
    /**\r
     * Returns an iterable of values in the array\r
     */\r
    values(): IterableIterator<T>;\r
}\r
\r
interface IArguments {\r
    /** Iterator */\r
    [Symbol.iterator](): IterableIterator<any>;\r
}\r
\r
interface Map<K, V> {\r
    /** Returns an iterable of entries in the map. */\r
    [Symbol.iterator](): IterableIterator<[K, V]>;\r
\r
    /**\r
     * Returns an iterable of key, value pairs for every entry in the map.\r
     */\r
    entries(): IterableIterator<[K, V]>;\r
\r
    /**\r
     * Returns an iterable of keys in the map\r
     */\r
    keys(): IterableIterator<K>;\r
\r
    /**\r
     * Returns an iterable of values in the map\r
     */\r
    values(): IterableIterator<V>;\r
}\r
\r
interface ReadonlyMap<K, V> {\r
    /** Returns an iterable of entries in the map. */\r
    [Symbol.iterator](): IterableIterator<[K, V]>;\r
\r
    /**\r
     * Returns an iterable of key, value pairs for every entry in the map.\r
     */\r
    entries(): IterableIterator<[K, V]>;\r
\r
    /**\r
     * Returns an iterable of keys in the map\r
     */\r
    keys(): IterableIterator<K>;\r
\r
    /**\r
     * Returns an iterable of values in the map\r
     */\r
    values(): IterableIterator<V>;\r
}\r
\r
interface MapConstructor {\r
    new(): Map<any, any>;\r
    new <K, V>(iterable?: Iterable<readonly [K, V]> | null): Map<K, V>;\r
}\r
\r
interface WeakMap<K extends object, V> { }\r
\r
interface WeakMapConstructor {\r
    new <K extends object, V>(iterable: Iterable<readonly [K, V]>): WeakMap<K, V>;\r
}\r
\r
interface Set<T> {\r
    /** Iterates over values in the set. */\r
    [Symbol.iterator](): IterableIterator<T>;\r
    /**\r
     * Returns an iterable of [v,v] pairs for every value \`v\` in the set.\r
     */\r
    entries(): IterableIterator<[T, T]>;\r
    /**\r
     * Despite its name, returns an iterable of the values in the set.\r
     */\r
    keys(): IterableIterator<T>;\r
\r
    /**\r
     * Returns an iterable of values in the set.\r
     */\r
    values(): IterableIterator<T>;\r
}\r
\r
interface ReadonlySet<T> {\r
    /** Iterates over values in the set. */\r
    [Symbol.iterator](): IterableIterator<T>;\r
\r
    /**\r
     * Returns an iterable of [v,v] pairs for every value \`v\` in the set.\r
     */\r
    entries(): IterableIterator<[T, T]>;\r
\r
    /**\r
     * Despite its name, returns an iterable of the values in the set.\r
     */\r
    keys(): IterableIterator<T>;\r
\r
    /**\r
     * Returns an iterable of values in the set.\r
     */\r
    values(): IterableIterator<T>;\r
}\r
\r
interface SetConstructor {\r
    new <T>(iterable?: Iterable<T> | null): Set<T>;\r
}\r
\r
interface WeakSet<T extends object> { }\r
\r
interface WeakSetConstructor {\r
    new <T extends object = object>(iterable: Iterable<T>): WeakSet<T>;\r
}\r
\r
interface Promise<T> { }\r
\r
interface PromiseConstructor {\r
    /**\r
     * Creates a Promise that is resolved with an array of results when all of the provided Promises\r
     * resolve, or rejected when any Promise is rejected.\r
     * @param values An iterable of Promises.\r
     * @returns A new Promise.\r
     */\r
    all<T>(values: Iterable<T | PromiseLike<T>>): Promise<Awaited<T>[]>;\r
\r
    /**\r
     * Creates a Promise that is resolved or rejected when any of the provided Promises are resolved\r
     * or rejected.\r
     * @param values An iterable of Promises.\r
     * @returns A new Promise.\r
     */\r
    race<T>(values: Iterable<T | PromiseLike<T>>): Promise<Awaited<T>>;\r
}\r
\r
interface String {\r
    /** Iterator */\r
    [Symbol.iterator](): IterableIterator<string>;\r
}\r
\r
interface Int8Array {\r
    [Symbol.iterator](): IterableIterator<number>;\r
    /**\r
     * Returns an array of key, value pairs for every entry in the array\r
     */\r
    entries(): IterableIterator<[number, number]>;\r
    /**\r
     * Returns an list of keys in the array\r
     */\r
    keys(): IterableIterator<number>;\r
    /**\r
     * Returns an list of values in the array\r
     */\r
    values(): IterableIterator<number>;\r
}\r
\r
interface Int8ArrayConstructor {\r
    new (elements: Iterable<number>): Int8Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Int8Array;\r
}\r
\r
interface Uint8Array {\r
    [Symbol.iterator](): IterableIterator<number>;\r
    /**\r
     * Returns an array of key, value pairs for every entry in the array\r
     */\r
    entries(): IterableIterator<[number, number]>;\r
    /**\r
     * Returns an list of keys in the array\r
     */\r
    keys(): IterableIterator<number>;\r
    /**\r
     * Returns an list of values in the array\r
     */\r
    values(): IterableIterator<number>;\r
}\r
\r
interface Uint8ArrayConstructor {\r
    new (elements: Iterable<number>): Uint8Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Uint8Array;\r
}\r
\r
interface Uint8ClampedArray {\r
    [Symbol.iterator](): IterableIterator<number>;\r
    /**\r
     * Returns an array of key, value pairs for every entry in the array\r
     */\r
    entries(): IterableIterator<[number, number]>;\r
\r
    /**\r
     * Returns an list of keys in the array\r
     */\r
    keys(): IterableIterator<number>;\r
\r
    /**\r
     * Returns an list of values in the array\r
     */\r
    values(): IterableIterator<number>;\r
}\r
\r
interface Uint8ClampedArrayConstructor {\r
    new (elements: Iterable<number>): Uint8ClampedArray;\r
\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Uint8ClampedArray;\r
}\r
\r
interface Int16Array {\r
    [Symbol.iterator](): IterableIterator<number>;\r
    /**\r
     * Returns an array of key, value pairs for every entry in the array\r
     */\r
    entries(): IterableIterator<[number, number]>;\r
\r
    /**\r
     * Returns an list of keys in the array\r
     */\r
    keys(): IterableIterator<number>;\r
\r
    /**\r
     * Returns an list of values in the array\r
     */\r
    values(): IterableIterator<number>;\r
}\r
\r
interface Int16ArrayConstructor {\r
    new (elements: Iterable<number>): Int16Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Int16Array;\r
}\r
\r
interface Uint16Array {\r
    [Symbol.iterator](): IterableIterator<number>;\r
    /**\r
     * Returns an array of key, value pairs for every entry in the array\r
     */\r
    entries(): IterableIterator<[number, number]>;\r
    /**\r
     * Returns an list of keys in the array\r
     */\r
    keys(): IterableIterator<number>;\r
    /**\r
     * Returns an list of values in the array\r
     */\r
    values(): IterableIterator<number>;\r
}\r
\r
interface Uint16ArrayConstructor {\r
    new (elements: Iterable<number>): Uint16Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Uint16Array;\r
}\r
\r
interface Int32Array {\r
    [Symbol.iterator](): IterableIterator<number>;\r
    /**\r
     * Returns an array of key, value pairs for every entry in the array\r
     */\r
    entries(): IterableIterator<[number, number]>;\r
    /**\r
     * Returns an list of keys in the array\r
     */\r
    keys(): IterableIterator<number>;\r
    /**\r
     * Returns an list of values in the array\r
     */\r
    values(): IterableIterator<number>;\r
}\r
\r
interface Int32ArrayConstructor {\r
    new (elements: Iterable<number>): Int32Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Int32Array;\r
}\r
\r
interface Uint32Array {\r
    [Symbol.iterator](): IterableIterator<number>;\r
    /**\r
     * Returns an array of key, value pairs for every entry in the array\r
     */\r
    entries(): IterableIterator<[number, number]>;\r
    /**\r
     * Returns an list of keys in the array\r
     */\r
    keys(): IterableIterator<number>;\r
    /**\r
     * Returns an list of values in the array\r
     */\r
    values(): IterableIterator<number>;\r
}\r
\r
interface Uint32ArrayConstructor {\r
    new (elements: Iterable<number>): Uint32Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Uint32Array;\r
}\r
\r
interface Float32Array {\r
    [Symbol.iterator](): IterableIterator<number>;\r
    /**\r
     * Returns an array of key, value pairs for every entry in the array\r
     */\r
    entries(): IterableIterator<[number, number]>;\r
    /**\r
     * Returns an list of keys in the array\r
     */\r
    keys(): IterableIterator<number>;\r
    /**\r
     * Returns an list of values in the array\r
     */\r
    values(): IterableIterator<number>;\r
}\r
\r
interface Float32ArrayConstructor {\r
    new (elements: Iterable<number>): Float32Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Float32Array;\r
}\r
\r
interface Float64Array {\r
    [Symbol.iterator](): IterableIterator<number>;\r
    /**\r
     * Returns an array of key, value pairs for every entry in the array\r
     */\r
    entries(): IterableIterator<[number, number]>;\r
    /**\r
     * Returns an list of keys in the array\r
     */\r
    keys(): IterableIterator<number>;\r
    /**\r
     * Returns an list of values in the array\r
     */\r
    values(): IterableIterator<number>;\r
}\r
\r
interface Float64ArrayConstructor {\r
    new (elements: Iterable<number>): Float64Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Float64Array;\r
}\r
`},71017:S=>{"use strict";S.exports=`/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */



/// <reference no-default-lib="true"/>\r


interface PromiseConstructor {\r
    /**\r
     * A reference to the prototype.\r
     */\r
    readonly prototype: Promise<any>;\r
\r
    /**\r
     * Creates a new Promise.\r
     * @param executor A callback used to initialize the promise. This callback is passed two arguments:\r
     * a resolve callback used to resolve the promise with a value or the result of another promise,\r
     * and a reject callback used to reject the promise with a provided reason or error.\r
     */\r
    new <T>(executor: (resolve: (value: T | PromiseLike<T>) => void, reject: (reason?: any) => void) => void): Promise<T>;\r
\r
    /**\r
     * Creates a Promise that is resolved with an array of results when all of the provided Promises\r
     * resolve, or rejected when any Promise is rejected.\r
     * @param values An array of Promises.\r
     * @returns A new Promise.\r
     */\r
    all<T extends readonly unknown[] | []>(values: T): Promise<{ -readonly [P in keyof T]: Awaited<T[P]> }>;\r
\r
    // see: lib.es2015.iterable.d.ts\r
    // all<T>(values: Iterable<T | PromiseLike<T>>): Promise<Awaited<T>[]>;\r
\r
    /**\r
     * Creates a Promise that is resolved or rejected when any of the provided Promises are resolved\r
     * or rejected.\r
     * @param values An array of Promises.\r
     * @returns A new Promise.\r
     */\r
    race<T extends readonly unknown[] | []>(values: T): Promise<Awaited<T[number]>>;\r
\r
    // see: lib.es2015.iterable.d.ts\r
    // race<T>(values: Iterable<T | PromiseLike<T>>): Promise<Awaited<T>>;\r
\r
    /**\r
     * Creates a new rejected promise for the provided reason.\r
     * @param reason The reason the promise was rejected.\r
     * @returns A new rejected Promise.\r
     */\r
    reject<T = never>(reason?: any): Promise<T>;\r
\r
    /**\r
     * Creates a new resolved promise.\r
     * @returns A resolved promise.\r
     */\r
    resolve(): Promise<void>;\r
    /**\r
     * Creates a new resolved promise for the provided value.\r
     * @param value A promise.\r
     * @returns A promise whose internal state matches the provided promise.\r
     */\r
    resolve<T>(value: T): Promise<Awaited<T>>;\r
    /**\r
     * Creates a new resolved promise for the provided value.\r
     * @param value A promise.\r
     * @returns A promise whose internal state matches the provided promise.\r
     */\r
    resolve<T>(value: T | PromiseLike<T>): Promise<Awaited<T>>;\r
}\r
\r
declare var Promise: PromiseConstructor;\r
`},57376:S=>{"use strict";S.exports=`/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */



/// <reference no-default-lib="true"/>\r


interface ProxyHandler<T extends object> {\r
    /**\r
     * A trap method for a function call.\r
     * @param target The original callable object which is being proxied.\r
     */\r
    apply?(target: T, thisArg: any, argArray: any[]): any;\r
\r
    /**\r
     * A trap for the \`new\` operator.\r
     * @param target The original object which is being proxied.\r
     * @param newTarget The constructor that was originally called.\r
     */\r
    construct?(target: T, argArray: any[], newTarget: Function): object;\r
\r
    /**\r
     * A trap for \`Object.defineProperty()\`.\r
     * @param target The original object which is being proxied.\r
     * @returns A \`Boolean\` indicating whether or not the property has been defined.\r
     */\r
    defineProperty?(target: T, property: string | symbol, attributes: PropertyDescriptor): boolean;\r
\r
    /**\r
     * A trap for the \`delete\` operator.\r
     * @param target The original object which is being proxied.\r
     * @param p The name or \`Symbol\` of the property to delete.\r
     * @returns A \`Boolean\` indicating whether or not the property was deleted.\r
     */\r
    deleteProperty?(target: T, p: string | symbol): boolean;\r
\r
    /**\r
     * A trap for getting a property value.\r
     * @param target The original object which is being proxied.\r
     * @param p The name or \`Symbol\` of the property to get.\r
     * @param receiver The proxy or an object that inherits from the proxy.\r
     */\r
    get?(target: T, p: string | symbol, receiver: any): any;\r
\r
    /**\r
     * A trap for \`Object.getOwnPropertyDescriptor()\`.\r
     * @param target The original object which is being proxied.\r
     * @param p The name of the property whose description should be retrieved.\r
     */\r
    getOwnPropertyDescriptor?(target: T, p: string | symbol): PropertyDescriptor | undefined;\r
\r
    /**\r
     * A trap for the \`[[GetPrototypeOf]]\` internal method.\r
     * @param target The original object which is being proxied.\r
     */\r
    getPrototypeOf?(target: T): object | null;\r
\r
    /**\r
     * A trap for the \`in\` operator.\r
     * @param target The original object which is being proxied.\r
     * @param p The name or \`Symbol\` of the property to check for existence.\r
     */\r
    has?(target: T, p: string | symbol): boolean;\r
\r
    /**\r
     * A trap for \`Object.isExtensible()\`.\r
     * @param target The original object which is being proxied.\r
     */\r
    isExtensible?(target: T): boolean;\r
\r
    /**\r
     * A trap for \`Reflect.ownKeys()\`.\r
     * @param target The original object which is being proxied.\r
     */\r
    ownKeys?(target: T): ArrayLike<string | symbol>;\r
\r
    /**\r
     * A trap for \`Object.preventExtensions()\`.\r
     * @param target The original object which is being proxied.\r
     */\r
    preventExtensions?(target: T): boolean;\r
\r
    /**\r
     * A trap for setting a property value.\r
     * @param target The original object which is being proxied.\r
     * @param p The name or \`Symbol\` of the property to set.\r
     * @param receiver The object to which the assignment was originally directed.\r
     * @returns A \`Boolean\` indicating whether or not the property was set.\r
     */\r
    set?(target: T, p: string | symbol, newValue: any, receiver: any): boolean;\r
\r
    /**\r
     * A trap for \`Object.setPrototypeOf()\`.\r
     * @param target The original object which is being proxied.\r
     * @param newPrototype The object's new prototype or \`null\`.\r
     */\r
    setPrototypeOf?(target: T, v: object | null): boolean;\r
}\r
\r
interface ProxyConstructor {\r
    /**\r
     * Creates a revocable Proxy object.\r
     * @param target A target object to wrap with Proxy.\r
     * @param handler An object whose properties define the behavior of Proxy when an operation is attempted on it.\r
     */\r
    revocable<T extends object>(target: T, handler: ProxyHandler<T>): { proxy: T; revoke: () => void; };\r
\r
    /**\r
     * Creates a Proxy object. The Proxy object allows you to create an object that can be used in place of the\r
     * original object, but which may redefine fundamental Object operations like getting, setting, and defining\r
     * properties. Proxy objects are commonly used to log property accesses, validate, format, or sanitize inputs.\r
     * @param target A target object to wrap with Proxy.\r
     * @param handler An object whose properties define the behavior of Proxy when an operation is attempted on it.\r
     */\r
    new <T extends object>(target: T, handler: ProxyHandler<T>): T;\r
}\r
declare var Proxy: ProxyConstructor;\r
`},22513:S=>{"use strict";S.exports=`/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */



/// <reference no-default-lib="true"/>\r


declare namespace Reflect {\r
    /**\r
     * Calls the function with the specified object as the this value\r
     * and the elements of specified array as the arguments.\r
     * @param target The function to call.\r
     * @param thisArgument The object to be used as the this object.\r
     * @param argumentsList An array of argument values to be passed to the function.\r
     */\r
    function apply<T, A extends readonly any[], R>(\r
        target: (this: T, ...args: A) => R,\r
        thisArgument: T,\r
        argumentsList: Readonly<A>,\r
    ): R;\r
    function apply(target: Function, thisArgument: any, argumentsList: ArrayLike<any>): any;\r
\r
    /**\r
     * Constructs the target with the elements of specified array as the arguments\r
     * and the specified constructor as the \`new.target\` value.\r
     * @param target The constructor to invoke.\r
     * @param argumentsList An array of argument values to be passed to the constructor.\r
     * @param newTarget The constructor to be used as the \`new.target\` object.\r
     */\r
    function construct<A extends readonly any[], R>(\r
        target: new (...args: A) => R,\r
        argumentsList: Readonly<A>,\r
        newTarget?: new (...args: any) => any,\r
    ): R;\r
    function construct(target: Function, argumentsList: ArrayLike<any>, newTarget?: Function): any;\r
\r
    /**\r
     * Adds a property to an object, or modifies attributes of an existing property.\r
     * @param target Object on which to add or modify the property. This can be a native JavaScript object\r
     *        (that is, a user-defined object or a built in object) or a DOM object.\r
     * @param propertyKey The property name.\r
     * @param attributes Descriptor for the property. It can be for a data property or an accessor property.\r
     */\r
    function defineProperty(target: object, propertyKey: PropertyKey, attributes: PropertyDescriptor & ThisType<any>): boolean;\r
\r
    /**\r
     * Removes a property from an object, equivalent to \`delete target[propertyKey]\`,\r
     * except it won't throw if \`target[propertyKey]\` is non-configurable.\r
     * @param target Object from which to remove the own property.\r
     * @param propertyKey The property name.\r
     */\r
    function deleteProperty(target: object, propertyKey: PropertyKey): boolean;\r
\r
    /**\r
     * Gets the property of target, equivalent to \`target[propertyKey]\` when \`receiver === target\`.\r
     * @param target Object that contains the property on itself or in its prototype chain.\r
     * @param propertyKey The property name.\r
     * @param receiver The reference to use as the \`this\` value in the getter function,\r
     *        if \`target[propertyKey]\` is an accessor property.\r
     */\r
    function get<T extends object, P extends PropertyKey>(\r
        target: T,\r
        propertyKey: P,\r
        receiver?: unknown,\r
    ): P extends keyof T ? T[P] : any;\r
\r
    /**\r
     * Gets the own property descriptor of the specified object.\r
     * An own property descriptor is one that is defined directly on the object and is not inherited from the object's prototype.\r
     * @param target Object that contains the property.\r
     * @param propertyKey The property name.\r
     */\r
    function getOwnPropertyDescriptor<T extends object, P extends PropertyKey>(\r
        target: T,\r
        propertyKey: P,\r
    ): TypedPropertyDescriptor<P extends keyof T ? T[P] : any> | undefined;\r
\r
    /**\r
     * Returns the prototype of an object.\r
     * @param target The object that references the prototype.\r
     */\r
    function getPrototypeOf(target: object): object | null;\r
\r
    /**\r
     * Equivalent to \`propertyKey in target\`.\r
     * @param target Object that contains the property on itself or in its prototype chain.\r
     * @param propertyKey Name of the property.\r
     */\r
    function has(target: object, propertyKey: PropertyKey): boolean;\r
\r
    /**\r
     * Returns a value that indicates whether new properties can be added to an object.\r
     * @param target Object to test.\r
     */\r
    function isExtensible(target: object): boolean;\r
\r
    /**\r
     * Returns the string and symbol keys of the own properties of an object. The own properties of an object\r
     * are those that are defined directly on that object, and are not inherited from the object's prototype.\r
     * @param target Object that contains the own properties.\r
     */\r
    function ownKeys(target: object): (string | symbol)[];\r
\r
    /**\r
     * Prevents the addition of new properties to an object.\r
     * @param target Object to make non-extensible.\r
     * @return Whether the object has been made non-extensible.\r
     */\r
    function preventExtensions(target: object): boolean;\r
\r
    /**\r
     * Sets the property of target, equivalent to \`target[propertyKey] = value\` when \`receiver === target\`.\r
     * @param target Object that contains the property on itself or in its prototype chain.\r
     * @param propertyKey Name of the property.\r
     * @param receiver The reference to use as the \`this\` value in the setter function,\r
     *        if \`target[propertyKey]\` is an accessor property.\r
     */\r
    function set<T extends object, P extends PropertyKey>(\r
        target: T,\r
        propertyKey: P,\r
        value: P extends keyof T ? T[P] : any,\r
        receiver?: any,\r
    ): boolean;\r
    function set(target: object, propertyKey: PropertyKey, value: any, receiver?: any): boolean;\r
\r
    /**\r
     * Sets the prototype of a specified object o to object proto or null.\r
     * @param target The object to change its prototype.\r
     * @param proto The value of the new prototype or null.\r
     * @return Whether setting the prototype was successful.\r
     */\r
    function setPrototypeOf(target: object, proto: object | null): boolean;\r
}\r
`},76362:S=>{"use strict";S.exports=`/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */



/// <reference no-default-lib="true"/>\r


interface SymbolConstructor {\r
    /**\r
     * A reference to the prototype.\r
     */\r
    readonly prototype: Symbol;\r
\r
    /**\r
     * Returns a new unique Symbol value.\r
     * @param  description Description of the new Symbol object.\r
     */\r
    (description?: string | number): symbol;\r
\r
    /**\r
     * Returns a Symbol object from the global symbol registry matching the given key if found.\r
     * Otherwise, returns a new symbol with this key.\r
     * @param key key to search for.\r
     */\r
    for(key: string): symbol;\r
\r
    /**\r
     * Returns a key from the global symbol registry matching the given Symbol if found.\r
     * Otherwise, returns a undefined.\r
     * @param sym Symbol to find the key for.\r
     */\r
    keyFor(sym: symbol): string | undefined;\r
}\r
\r
declare var Symbol: SymbolConstructor;`},17931:S=>{"use strict";S.exports=`/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */



/// <reference no-default-lib="true"/>\r


/// <reference lib="es2015.symbol" />\r
\r
interface SymbolConstructor {\r
    /**\r
     * A method that determines if a constructor object recognizes an object as one of the\r
     * constructor\u2019s instances. Called by the semantics of the instanceof operator.\r
     */\r
    readonly hasInstance: unique symbol;\r
\r
    /**\r
     * A Boolean value that if true indicates that an object should flatten to its array elements\r
     * by Array.prototype.concat.\r
     */\r
    readonly isConcatSpreadable: unique symbol;\r
\r
    /**\r
     * A regular expression method that matches the regular expression against a string. Called\r
     * by the String.prototype.match method.\r
     */\r
    readonly match: unique symbol;\r
\r
    /**\r
     * A regular expression method that replaces matched substrings of a string. Called by the\r
     * String.prototype.replace method.\r
     */\r
    readonly replace: unique symbol;\r
\r
    /**\r
     * A regular expression method that returns the index within a string that matches the\r
     * regular expression. Called by the String.prototype.search method.\r
     */\r
    readonly search: unique symbol;\r
\r
    /**\r
     * A function valued property that is the constructor function that is used to create\r
     * derived objects.\r
     */\r
    readonly species: unique symbol;\r
\r
    /**\r
     * A regular expression method that splits a string at the indices that match the regular\r
     * expression. Called by the String.prototype.split method.\r
     */\r
    readonly split: unique symbol;\r
\r
    /**\r
     * A method that converts an object to a corresponding primitive value.\r
     * Called by the ToPrimitive abstract operation.\r
     */\r
    readonly toPrimitive: unique symbol;\r
\r
    /**\r
     * A String value that is used in the creation of the default string description of an object.\r
     * Called by the built-in method Object.prototype.toString.\r
     */\r
    readonly toStringTag: unique symbol;\r
\r
    /**\r
     * An Object whose own property names are property names that are excluded from the 'with'\r
     * environment bindings of the associated objects.\r
     */\r
    readonly unscopables: unique symbol;\r
}\r
\r
interface Symbol {\r
    /**\r
     * Converts a Symbol object to a symbol.\r
     */\r
    [Symbol.toPrimitive](hint: string): symbol;\r
\r
    readonly [Symbol.toStringTag]: string;\r
}\r
\r
interface Array<T> {\r
    /**\r
     * Returns an object whose properties have the value 'true'\r
     * when they will be absent when used in a 'with' statement.\r
     */\r
    [Symbol.unscopables](): {\r
        copyWithin: boolean;\r
        entries: boolean;\r
        fill: boolean;\r
        find: boolean;\r
        findIndex: boolean;\r
        keys: boolean;\r
        values: boolean;\r
    };\r
}\r
\r
interface Date {\r
    /**\r
     * Converts a Date object to a string.\r
     */\r
    [Symbol.toPrimitive](hint: "default"): string;\r
    /**\r
     * Converts a Date object to a string.\r
     */\r
    [Symbol.toPrimitive](hint: "string"): string;\r
    /**\r
     * Converts a Date object to a number.\r
     */\r
    [Symbol.toPrimitive](hint: "number"): number;\r
    /**\r
     * Converts a Date object to a string or number.\r
     *\r
     * @param hint The strings "number", "string", or "default" to specify what primitive to return.\r
     *\r
     * @throws {TypeError} If 'hint' was given something other than "number", "string", or "default".\r
     * @returns A number if 'hint' was "number", a string if 'hint' was "string" or "default".\r
     */\r
    [Symbol.toPrimitive](hint: string): string | number;\r
}\r
\r
interface Map<K, V> {\r
    readonly [Symbol.toStringTag]: string;\r
}\r
\r
interface WeakMap<K extends object, V> {\r
    readonly [Symbol.toStringTag]: string;\r
}\r
\r
interface Set<T> {\r
    readonly [Symbol.toStringTag]: string;\r
}\r
\r
interface WeakSet<T extends object> {\r
    readonly [Symbol.toStringTag]: string;\r
}\r
\r
interface JSON {\r
    readonly [Symbol.toStringTag]: string;\r
}\r
\r
interface Function {\r
    /**\r
     * Determines whether the given value inherits from this function if this function was used\r
     * as a constructor function.\r
     *\r
     * A constructor function can control which objects are recognized as its instances by\r
     * 'instanceof' by overriding this method.\r
     */\r
    [Symbol.hasInstance](value: any): boolean;\r
}\r
\r
interface GeneratorFunction {\r
    readonly [Symbol.toStringTag]: string;\r
}\r
\r
interface Math {\r
    readonly [Symbol.toStringTag]: string;\r
}\r
\r
interface Promise<T> {\r
    readonly [Symbol.toStringTag]: string;\r
}\r
\r
interface PromiseConstructor {\r
    readonly [Symbol.species]: PromiseConstructor;\r
}\r
\r
interface RegExp {\r
    /**\r
     * Matches a string with this regular expression, and returns an array containing the results of\r
     * that search.\r
     * @param string A string to search within.\r
     */\r
    [Symbol.match](string: string): RegExpMatchArray | null;\r
\r
    /**\r
     * Replaces text in a string, using this regular expression.\r
     * @param string A String object or string literal whose contents matching against\r
     *               this regular expression will be replaced\r
     * @param replaceValue A String object or string literal containing the text to replace for every\r
     *                     successful match of this regular expression.\r
     */\r
    [Symbol.replace](string: string, replaceValue: string): string;\r
\r
    /**\r
     * Replaces text in a string, using this regular expression.\r
     * @param string A String object or string literal whose contents matching against\r
     *               this regular expression will be replaced\r
     * @param replacer A function that returns the replacement text.\r
     */\r
    [Symbol.replace](string: string, replacer: (substring: string, ...args: any[]) => string): string;\r
\r
    /**\r
     * Finds the position beginning first substring match in a regular expression search\r
     * using this regular expression.\r
     *\r
     * @param string The string to search within.\r
     */\r
    [Symbol.search](string: string): number;\r
\r
    /**\r
     * Returns an array of substrings that were delimited by strings in the original input that\r
     * match against this regular expression.\r
     *\r
     * If the regular expression contains capturing parentheses, then each time this\r
     * regular expression matches, the results (including any undefined results) of the\r
     * capturing parentheses are spliced.\r
     *\r
     * @param string string value to split\r
     * @param limit if not undefined, the output array is truncated so that it contains no more\r
     * than 'limit' elements.\r
     */\r
    [Symbol.split](string: string, limit?: number): string[];\r
}\r
\r
interface RegExpConstructor {\r
    readonly [Symbol.species]: RegExpConstructor;\r
}\r
\r
interface String {\r
    /**\r
     * Matches a string or an object that supports being matched against, and returns an array\r
     * containing the results of that search, or null if no matches are found.\r
     * @param matcher An object that supports being matched against.\r
     */\r
    match(matcher: { [Symbol.match](string: string): RegExpMatchArray | null; }): RegExpMatchArray | null;\r
\r
    /**\r
     * Passes a string and {@linkcode replaceValue} to the \`[Symbol.replace]\` method on {@linkcode searchValue}. This method is expected to implement its own replacement algorithm.\r
     * @param searchValue An object that supports searching for and replacing matches within a string.\r
     * @param replaceValue The replacement text.\r
     */\r
    replace(searchValue: { [Symbol.replace](string: string, replaceValue: string): string; }, replaceValue: string): string;\r
\r
    /**\r
     * Replaces text in a string, using an object that supports replacement within a string.\r
     * @param searchValue A object can search for and replace matches within a string.\r
     * @param replacer A function that returns the replacement text.\r
     */\r
    replace(searchValue: { [Symbol.replace](string: string, replacer: (substring: string, ...args: any[]) => string): string; }, replacer: (substring: string, ...args: any[]) => string): string;\r
\r
    /**\r
     * Finds the first substring match in a regular expression search.\r
     * @param searcher An object which supports searching within a string.\r
     */\r
    search(searcher: { [Symbol.search](string: string): number; }): number;\r
\r
    /**\r
     * Split a string into substrings using the specified separator and return them as an array.\r
     * @param splitter An object that can split a string.\r
     * @param limit A value used to limit the number of elements returned in the array.\r
     */\r
    split(splitter: { [Symbol.split](string: string, limit?: number): string[]; }, limit?: number): string[];\r
}\r
\r
interface ArrayBuffer {\r
    readonly [Symbol.toStringTag]: string;\r
}\r
\r
interface DataView {\r
    readonly [Symbol.toStringTag]: string;\r
}\r
\r
interface Int8Array {\r
    readonly [Symbol.toStringTag]: "Int8Array";\r
}\r
\r
interface Uint8Array {\r
    readonly [Symbol.toStringTag]: "Uint8Array";\r
}\r
\r
interface Uint8ClampedArray {\r
    readonly [Symbol.toStringTag]: "Uint8ClampedArray";\r
}\r
\r
interface Int16Array {\r
    readonly [Symbol.toStringTag]: "Int16Array";\r
}\r
\r
interface Uint16Array {\r
    readonly [Symbol.toStringTag]: "Uint16Array";\r
}\r
\r
interface Int32Array {\r
    readonly [Symbol.toStringTag]: "Int32Array";\r
}\r
\r
interface Uint32Array {\r
    readonly [Symbol.toStringTag]: "Uint32Array";\r
}\r
\r
interface Float32Array {\r
    readonly [Symbol.toStringTag]: "Float32Array";\r
}\r
\r
interface Float64Array {\r
    readonly [Symbol.toStringTag]: "Float64Array";\r
}\r
\r
interface ArrayConstructor {\r
    readonly [Symbol.species]: ArrayConstructor;\r
}\r
interface MapConstructor {\r
    readonly [Symbol.species]: MapConstructor;\r
}\r
interface SetConstructor {\r
    readonly [Symbol.species]: SetConstructor;\r
}\r
interface ArrayBufferConstructor {\r
    readonly [Symbol.species]: ArrayBufferConstructor;\r
}\r
`},5679:S=>{"use strict";S.exports=`/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */



/// <reference no-default-lib="true"/>\r


/////////////////////////////\r
/// ECMAScript APIs\r
/////////////////////////////\r
\r
declare var NaN: number;\r
declare var Infinity: number;\r
\r
/**\r
 * Evaluates JavaScript code and executes it.\r
 * @param x A String value that contains valid JavaScript code.\r
 */\r
declare function eval(x: string): any;\r
\r
/**\r
 * Converts a string to an integer.\r
 * @param string A string to convert into a number.\r
 * @param radix A value between 2 and 36 that specifies the base of the number in \`string\`.\r
 * If this argument is not supplied, strings with a prefix of '0x' are considered hexadecimal.\r
 * All other strings are considered decimal.\r
 */\r
declare function parseInt(string: string, radix?: number): number;\r
\r
/**\r
 * Converts a string to a floating-point number.\r
 * @param string A string that contains a floating-point number.\r
 */\r
declare function parseFloat(string: string): number;\r
\r
/**\r
 * Returns a Boolean value that indicates whether a value is the reserved value NaN (not a number).\r
 * @param number A numeric value.\r
 */\r
declare function isNaN(number: number): boolean;\r
\r
/**\r
 * Determines whether a supplied number is finite.\r
 * @param number Any numeric value.\r
 */\r
declare function isFinite(number: number): boolean;\r
\r
/**\r
 * Gets the unencoded version of an encoded Uniform Resource Identifier (URI).\r
 * @param encodedURI A value representing an encoded URI.\r
 */\r
declare function decodeURI(encodedURI: string): string;\r
\r
/**\r
 * Gets the unencoded version of an encoded component of a Uniform Resource Identifier (URI).\r
 * @param encodedURIComponent A value representing an encoded URI component.\r
 */\r
declare function decodeURIComponent(encodedURIComponent: string): string;\r
\r
/**\r
 * Encodes a text string as a valid Uniform Resource Identifier (URI)\r
 * @param uri A value representing an unencoded URI.\r
 */\r
declare function encodeURI(uri: string): string;\r
\r
/**\r
 * Encodes a text string as a valid component of a Uniform Resource Identifier (URI).\r
 * @param uriComponent A value representing an unencoded URI component.\r
 */\r
declare function encodeURIComponent(uriComponent: string | number | boolean): string;\r
\r
/**\r
 * Computes a new string in which certain characters have been replaced by a hexadecimal escape sequence.\r
 * @deprecated A legacy feature for browser compatibility\r
 * @param string A string value\r
 */\r
declare function escape(string: string): string;\r
\r
/**\r
 * Computes a new string in which hexadecimal escape sequences are replaced with the character that it represents.\r
 * @deprecated A legacy feature for browser compatibility\r
 * @param string A string value\r
 */\r
declare function unescape(string: string): string;\r
\r
interface Symbol {\r
    /** Returns a string representation of an object. */\r
    toString(): string;\r
\r
    /** Returns the primitive value of the specified object. */\r
    valueOf(): symbol;\r
}\r
\r
declare type PropertyKey = string | number | symbol;\r
\r
interface PropertyDescriptor {\r
    configurable?: boolean;\r
    enumerable?: boolean;\r
    value?: any;\r
    writable?: boolean;\r
    get?(): any;\r
    set?(v: any): void;\r
}\r
\r
interface PropertyDescriptorMap {\r
    [key: PropertyKey]: PropertyDescriptor;\r
}\r
\r
interface Object {\r
    /** The initial value of Object.prototype.constructor is the standard built-in Object constructor. */\r
    constructor: Function;\r
\r
    /** Returns a string representation of an object. */\r
    toString(): string;\r
\r
    /** Returns a date converted to a string using the current locale. */\r
    toLocaleString(): string;\r
\r
    /** Returns the primitive value of the specified object. */\r
    valueOf(): Object;\r
\r
    /**\r
     * Determines whether an object has a property with the specified name.\r
     * @param v A property name.\r
     */\r
    hasOwnProperty(v: PropertyKey): boolean;\r
\r
    /**\r
     * Determines whether an object exists in another object's prototype chain.\r
     * @param v Another object whose prototype chain is to be checked.\r
     */\r
    isPrototypeOf(v: Object): boolean;\r
\r
    /**\r
     * Determines whether a specified property is enumerable.\r
     * @param v A property name.\r
     */\r
    propertyIsEnumerable(v: PropertyKey): boolean;\r
}\r
\r
interface ObjectConstructor {\r
    new(value?: any): Object;\r
    (): any;\r
    (value: any): any;\r
\r
    /** A reference to the prototype for a class of objects. */\r
    readonly prototype: Object;\r
\r
    /**\r
     * Returns the prototype of an object.\r
     * @param o The object that references the prototype.\r
     */\r
    getPrototypeOf(o: any): any;\r
\r
    /**\r
     * Gets the own property descriptor of the specified object.\r
     * An own property descriptor is one that is defined directly on the object and is not inherited from the object's prototype.\r
     * @param o Object that contains the property.\r
     * @param p Name of the property.\r
     */\r
    getOwnPropertyDescriptor(o: any, p: PropertyKey): PropertyDescriptor | undefined;\r
\r
    /**\r
     * Returns the names of the own properties of an object. The own properties of an object are those that are defined directly\r
     * on that object, and are not inherited from the object's prototype. The properties of an object include both fields (objects) and functions.\r
     * @param o Object that contains the own properties.\r
     */\r
    getOwnPropertyNames(o: any): string[];\r
\r
    /**\r
     * Creates an object that has the specified prototype or that has null prototype.\r
     * @param o Object to use as a prototype. May be null.\r
     */\r
    create(o: object | null): any;\r
\r
    /**\r
     * Creates an object that has the specified prototype, and that optionally contains specified properties.\r
     * @param o Object to use as a prototype. May be null\r
     * @param properties JavaScript object that contains one or more property descriptors.\r
     */\r
    create(o: object | null, properties: PropertyDescriptorMap & ThisType<any>): any;\r
\r
    /**\r
     * Adds a property to an object, or modifies attributes of an existing property.\r
     * @param o Object on which to add or modify the property. This can be a native JavaScript object (that is, a user-defined object or a built in object) or a DOM object.\r
     * @param p The property name.\r
     * @param attributes Descriptor for the property. It can be for a data property or an accessor property.\r
     */\r
    defineProperty<T>(o: T, p: PropertyKey, attributes: PropertyDescriptor & ThisType<any>): T;\r
\r
    /**\r
     * Adds one or more properties to an object, and/or modifies attributes of existing properties.\r
     * @param o Object on which to add or modify the properties. This can be a native JavaScript object or a DOM object.\r
     * @param properties JavaScript object that contains one or more descriptor objects. Each descriptor object describes a data property or an accessor property.\r
     */\r
    defineProperties<T>(o: T, properties: PropertyDescriptorMap & ThisType<any>): T;\r
\r
    /**\r
     * Prevents the modification of attributes of existing properties, and prevents the addition of new properties.\r
     * @param o Object on which to lock the attributes.\r
     */\r
    seal<T>(o: T): T;\r
\r
    /**\r
     * Prevents the modification of existing property attributes and values, and prevents the addition of new properties.\r
     * @param f Object on which to lock the attributes.\r
     */\r
    freeze<T extends Function>(f: T): T;\r
\r
    /**\r
     * Prevents the modification of existing property attributes and values, and prevents the addition of new properties.\r
     * @param o Object on which to lock the attributes.\r
     */\r
    freeze<T extends {[idx: string]: U | null | undefined | object}, U extends string | bigint | number | boolean | symbol>(o: T): Readonly<T>;\r
\r
    /**\r
     * Prevents the modification of existing property attributes and values, and prevents the addition of new properties.\r
     * @param o Object on which to lock the attributes.\r
     */\r
    freeze<T>(o: T): Readonly<T>;\r
\r
    /**\r
     * Prevents the addition of new properties to an object.\r
     * @param o Object to make non-extensible.\r
     */\r
    preventExtensions<T>(o: T): T;\r
\r
    /**\r
     * Returns true if existing property attributes cannot be modified in an object and new properties cannot be added to the object.\r
     * @param o Object to test.\r
     */\r
    isSealed(o: any): boolean;\r
\r
    /**\r
     * Returns true if existing property attributes and values cannot be modified in an object, and new properties cannot be added to the object.\r
     * @param o Object to test.\r
     */\r
    isFrozen(o: any): boolean;\r
\r
    /**\r
     * Returns a value that indicates whether new properties can be added to an object.\r
     * @param o Object to test.\r
     */\r
    isExtensible(o: any): boolean;\r
\r
    /**\r
     * Returns the names of the enumerable string properties and methods of an object.\r
     * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\r
     */\r
    keys(o: object): string[];\r
}\r
\r
/**\r
 * Provides functionality common to all JavaScript objects.\r
 */\r
declare var Object: ObjectConstructor;\r
\r
/**\r
 * Creates a new function.\r
 */\r
interface Function {\r
    /**\r
     * Calls the function, substituting the specified object for the this value of the function, and the specified array for the arguments of the function.\r
     * @param thisArg The object to be used as the this object.\r
     * @param argArray A set of arguments to be passed to the function.\r
     */\r
    apply(this: Function, thisArg: any, argArray?: any): any;\r
\r
    /**\r
     * Calls a method of an object, substituting another object for the current object.\r
     * @param thisArg The object to be used as the current object.\r
     * @param argArray A list of arguments to be passed to the method.\r
     */\r
    call(this: Function, thisArg: any, ...argArray: any[]): any;\r
\r
    /**\r
     * For a given function, creates a bound function that has the same body as the original function.\r
     * The this object of the bound function is associated with the specified object, and has the specified initial parameters.\r
     * @param thisArg An object to which the this keyword can refer inside the new function.\r
     * @param argArray A list of arguments to be passed to the new function.\r
     */\r
    bind(this: Function, thisArg: any, ...argArray: any[]): any;\r
\r
    /** Returns a string representation of a function. */\r
    toString(): string;\r
\r
    prototype: any;\r
    readonly length: number;\r
\r
    // Non-standard extensions\r
    arguments: any;\r
    caller: Function;\r
}\r
\r
interface FunctionConstructor {\r
    /**\r
     * Creates a new function.\r
     * @param args A list of arguments the function accepts.\r
     */\r
    new(...args: string[]): Function;\r
    (...args: string[]): Function;\r
    readonly prototype: Function;\r
}\r
\r
declare var Function: FunctionConstructor;\r
\r
/**\r
 * Extracts the type of the 'this' parameter of a function type, or 'unknown' if the function type has no 'this' parameter.\r
 */\r
type ThisParameterType<T> = T extends (this: infer U, ...args: never) => any ? U : unknown;\r
\r
/**\r
 * Removes the 'this' parameter from a function type.\r
 */\r
type OmitThisParameter<T> = unknown extends ThisParameterType<T> ? T : T extends (...args: infer A) => infer R ? (...args: A) => R : T;\r
\r
interface CallableFunction extends Function {\r
    /**\r
     * Calls the function with the specified object as the this value and the elements of specified array as the arguments.\r
     * @param thisArg The object to be used as the this object.\r
     * @param args An array of argument values to be passed to the function.\r
     */\r
    apply<T, R>(this: (this: T) => R, thisArg: T): R;\r
    apply<T, A extends any[], R>(this: (this: T, ...args: A) => R, thisArg: T, args: A): R;\r
\r
    /**\r
     * Calls the function with the specified object as the this value and the specified rest arguments as the arguments.\r
     * @param thisArg The object to be used as the this object.\r
     * @param args Argument values to be passed to the function.\r
     */\r
    call<T, A extends any[], R>(this: (this: T, ...args: A) => R, thisArg: T, ...args: A): R;\r
\r
    /**\r
     * For a given function, creates a bound function that has the same body as the original function.\r
     * The this object of the bound function is associated with the specified object, and has the specified initial parameters.\r
     * @param thisArg The object to be used as the this object.\r
     * @param args Arguments to bind to the parameters of the function.\r
     */\r
    bind<T>(this: T, thisArg: ThisParameterType<T>): OmitThisParameter<T>;\r
    bind<T, A0, A extends any[], R>(this: (this: T, arg0: A0, ...args: A) => R, thisArg: T, arg0: A0): (...args: A) => R;\r
    bind<T, A0, A1, A extends any[], R>(this: (this: T, arg0: A0, arg1: A1, ...args: A) => R, thisArg: T, arg0: A0, arg1: A1): (...args: A) => R;\r
    bind<T, A0, A1, A2, A extends any[], R>(this: (this: T, arg0: A0, arg1: A1, arg2: A2, ...args: A) => R, thisArg: T, arg0: A0, arg1: A1, arg2: A2): (...args: A) => R;\r
    bind<T, A0, A1, A2, A3, A extends any[], R>(this: (this: T, arg0: A0, arg1: A1, arg2: A2, arg3: A3, ...args: A) => R, thisArg: T, arg0: A0, arg1: A1, arg2: A2, arg3: A3): (...args: A) => R;\r
    bind<T, AX, R>(this: (this: T, ...args: AX[]) => R, thisArg: T, ...args: AX[]): (...args: AX[]) => R;\r
}\r
\r
interface NewableFunction extends Function {\r
    /**\r
     * Calls the function with the specified object as the this value and the elements of specified array as the arguments.\r
     * @param thisArg The object to be used as the this object.\r
     * @param args An array of argument values to be passed to the function.\r
     */\r
    apply<T>(this: new () => T, thisArg: T): void;\r
    apply<T, A extends any[]>(this: new (...args: A) => T, thisArg: T, args: A): void;\r
\r
    /**\r
     * Calls the function with the specified object as the this value and the specified rest arguments as the arguments.\r
     * @param thisArg The object to be used as the this object.\r
     * @param args Argument values to be passed to the function.\r
     */\r
    call<T, A extends any[]>(this: new (...args: A) => T, thisArg: T, ...args: A): void;\r
\r
    /**\r
     * For a given function, creates a bound function that has the same body as the original function.\r
     * The this object of the bound function is associated with the specified object, and has the specified initial parameters.\r
     * @param thisArg The object to be used as the this object.\r
     * @param args Arguments to bind to the parameters of the function.\r
     */\r
    bind<T>(this: T, thisArg: any): T;\r
    bind<A0, A extends any[], R>(this: new (arg0: A0, ...args: A) => R, thisArg: any, arg0: A0): new (...args: A) => R;\r
    bind<A0, A1, A extends any[], R>(this: new (arg0: A0, arg1: A1, ...args: A) => R, thisArg: any, arg0: A0, arg1: A1): new (...args: A) => R;\r
    bind<A0, A1, A2, A extends any[], R>(this: new (arg0: A0, arg1: A1, arg2: A2, ...args: A) => R, thisArg: any, arg0: A0, arg1: A1, arg2: A2): new (...args: A) => R;\r
    bind<A0, A1, A2, A3, A extends any[], R>(this: new (arg0: A0, arg1: A1, arg2: A2, arg3: A3, ...args: A) => R, thisArg: any, arg0: A0, arg1: A1, arg2: A2, arg3: A3): new (...args: A) => R;\r
    bind<AX, R>(this: new (...args: AX[]) => R, thisArg: any, ...args: AX[]): new (...args: AX[]) => R;\r
}\r
\r
interface IArguments {\r
    [index: number]: any;\r
    length: number;\r
    callee: Function;\r
}\r
\r
interface String {\r
    /** Returns a string representation of a string. */\r
    toString(): string;\r
\r
    /**\r
     * Returns the character at the specified index.\r
     * @param pos The zero-based index of the desired character.\r
     */\r
    charAt(pos: number): string;\r
\r
    /**\r
     * Returns the Unicode value of the character at the specified location.\r
     * @param index The zero-based index of the desired character. If there is no character at the specified index, NaN is returned.\r
     */\r
    charCodeAt(index: number): number;\r
\r
    /**\r
     * Returns a string that contains the concatenation of two or more strings.\r
     * @param strings The strings to append to the end of the string.\r
     */\r
    concat(...strings: string[]): string;\r
\r
    /**\r
     * Returns the position of the first occurrence of a substring.\r
     * @param searchString The substring to search for in the string\r
     * @param position The index at which to begin searching the String object. If omitted, search starts at the beginning of the string.\r
     */\r
    indexOf(searchString: string, position?: number): number;\r
\r
    /**\r
     * Returns the last occurrence of a substring in the string.\r
     * @param searchString The substring to search for.\r
     * @param position The index at which to begin searching. If omitted, the search begins at the end of the string.\r
     */\r
    lastIndexOf(searchString: string, position?: number): number;\r
\r
    /**\r
     * Determines whether two strings are equivalent in the current locale.\r
     * @param that String to compare to target string\r
     */\r
    localeCompare(that: string): number;\r
\r
    /**\r
     * Matches a string with a regular expression, and returns an array containing the results of that search.\r
     * @param regexp A variable name or string literal containing the regular expression pattern and flags.\r
     */\r
    match(regexp: string | RegExp): RegExpMatchArray | null;\r
\r
    /**\r
     * Replaces text in a string, using a regular expression or search string.\r
     * @param searchValue A string or regular expression to search for.\r
     * @param replaceValue A string containing the text to replace. When the {@linkcode searchValue} is a \`RegExp\`, all matches are replaced if the \`g\` flag is set (or only those matches at the beginning, if the \`y\` flag is also present). Otherwise, only the first match of {@linkcode searchValue} is replaced.\r
     */\r
    replace(searchValue: string | RegExp, replaceValue: string): string;\r
\r
    /**\r
     * Replaces text in a string, using a regular expression or search string.\r
     * @param searchValue A string to search for.\r
     * @param replacer A function that returns the replacement text.\r
     */\r
    replace(searchValue: string | RegExp, replacer: (substring: string, ...args: any[]) => string): string;\r
\r
    /**\r
     * Finds the first substring match in a regular expression search.\r
     * @param regexp The regular expression pattern and applicable flags.\r
     */\r
    search(regexp: string | RegExp): number;\r
\r
    /**\r
     * Returns a section of a string.\r
     * @param start The index to the beginning of the specified portion of stringObj.\r
     * @param end The index to the end of the specified portion of stringObj. The substring includes the characters up to, but not including, the character indicated by end.\r
     * If this value is not specified, the substring continues to the end of stringObj.\r
     */\r
    slice(start?: number, end?: number): string;\r
\r
    /**\r
     * Split a string into substrings using the specified separator and return them as an array.\r
     * @param separator A string that identifies character or characters to use in separating the string. If omitted, a single-element array containing the entire string is returned.\r
     * @param limit A value used to limit the number of elements returned in the array.\r
     */\r
    split(separator: string | RegExp, limit?: number): string[];\r
\r
    /**\r
     * Returns the substring at the specified location within a String object.\r
     * @param start The zero-based index number indicating the beginning of the substring.\r
     * @param end Zero-based index number indicating the end of the substring. The substring includes the characters up to, but not including, the character indicated by end.\r
     * If end is omitted, the characters from start through the end of the original string are returned.\r
     */\r
    substring(start: number, end?: number): string;\r
\r
    /** Converts all the alphabetic characters in a string to lowercase. */\r
    toLowerCase(): string;\r
\r
    /** Converts all alphabetic characters to lowercase, taking into account the host environment's current locale. */\r
    toLocaleLowerCase(locales?: string | string[]): string;\r
\r
    /** Converts all the alphabetic characters in a string to uppercase. */\r
    toUpperCase(): string;\r
\r
    /** Returns a string where all alphabetic characters have been converted to uppercase, taking into account the host environment's current locale. */\r
    toLocaleUpperCase(locales?: string | string[]): string;\r
\r
    /** Removes the leading and trailing white space and line terminator characters from a string. */\r
    trim(): string;\r
\r
    /** Returns the length of a String object. */\r
    readonly length: number;\r
\r
    // IE extensions\r
    /**\r
     * Gets a substring beginning at the specified location and having the specified length.\r
     * @deprecated A legacy feature for browser compatibility\r
     * @param from The starting position of the desired substring. The index of the first character in the string is zero.\r
     * @param length The number of characters to include in the returned substring.\r
     */\r
    substr(from: number, length?: number): string;\r
\r
    /** Returns the primitive value of the specified object. */\r
    valueOf(): string;\r
\r
    readonly [index: number]: string;\r
}\r
\r
interface StringConstructor {\r
    new(value?: any): String;\r
    (value?: any): string;\r
    readonly prototype: String;\r
    fromCharCode(...codes: number[]): string;\r
}\r
\r
/**\r
 * Allows manipulation and formatting of text strings and determination and location of substrings within strings.\r
 */\r
declare var String: StringConstructor;\r
\r
interface Boolean {\r
    /** Returns the primitive value of the specified object. */\r
    valueOf(): boolean;\r
}\r
\r
interface BooleanConstructor {\r
    new(value?: any): Boolean;\r
    <T>(value?: T): boolean;\r
    readonly prototype: Boolean;\r
}\r
\r
declare var Boolean: BooleanConstructor;\r
\r
interface Number {\r
    /**\r
     * Returns a string representation of an object.\r
     * @param radix Specifies a radix for converting numeric values to strings. This value is only used for numbers.\r
     */\r
    toString(radix?: number): string;\r
\r
    /**\r
     * Returns a string representing a number in fixed-point notation.\r
     * @param fractionDigits Number of digits after the decimal point. Must be in the range 0 - 20, inclusive.\r
     */\r
    toFixed(fractionDigits?: number): string;\r
\r
    /**\r
     * Returns a string containing a number represented in exponential notation.\r
     * @param fractionDigits Number of digits after the decimal point. Must be in the range 0 - 20, inclusive.\r
     */\r
    toExponential(fractionDigits?: number): string;\r
\r
    /**\r
     * Returns a string containing a number represented either in exponential or fixed-point notation with a specified number of digits.\r
     * @param precision Number of significant digits. Must be in the range 1 - 21, inclusive.\r
     */\r
    toPrecision(precision?: number): string;\r
\r
    /** Returns the primitive value of the specified object. */\r
    valueOf(): number;\r
}\r
\r
interface NumberConstructor {\r
    new(value?: any): Number;\r
    (value?: any): number;\r
    readonly prototype: Number;\r
\r
    /** The largest number that can be represented in JavaScript. Equal to approximately 1.79E+308. */\r
    readonly MAX_VALUE: number;\r
\r
    /** The closest number to zero that can be represented in JavaScript. Equal to approximately 5.00E-324. */\r
    readonly MIN_VALUE: number;\r
\r
    /**\r
     * A value that is not a number.\r
     * In equality comparisons, NaN does not equal any value, including itself. To test whether a value is equivalent to NaN, use the isNaN function.\r
     */\r
    readonly NaN: number;\r
\r
    /**\r
     * A value that is less than the largest negative number that can be represented in JavaScript.\r
     * JavaScript displays NEGATIVE_INFINITY values as -infinity.\r
     */\r
    readonly NEGATIVE_INFINITY: number;\r
\r
    /**\r
     * A value greater than the largest number that can be represented in JavaScript.\r
     * JavaScript displays POSITIVE_INFINITY values as infinity.\r
     */\r
    readonly POSITIVE_INFINITY: number;\r
}\r
\r
/** An object that represents a number of any kind. All JavaScript numbers are 64-bit floating-point numbers. */\r
declare var Number: NumberConstructor;\r
\r
interface TemplateStringsArray extends ReadonlyArray<string> {\r
    readonly raw: readonly string[];\r
}\r
\r
/**\r
 * The type of \`import.meta\`.\r
 *\r
 * If you need to declare that a given property exists on \`import.meta\`,\r
 * this type may be augmented via interface merging.\r
 */\r
interface ImportMeta {\r
}\r
\r
/**\r
 * The type for the optional second argument to \`import()\`.\r
 *\r
 * If your host environment supports additional options, this type may be\r
 * augmented via interface merging.\r
 */\r
interface ImportCallOptions {\r
    assert?: ImportAssertions;\r
}\r
\r
/**\r
 * The type for the \`assert\` property of the optional second argument to \`import()\`.\r
 */\r
interface ImportAssertions {\r
    [key: string]: string;\r
}\r
\r
interface Math {\r
    /** The mathematical constant e. This is Euler's number, the base of natural logarithms. */\r
    readonly E: number;\r
    /** The natural logarithm of 10. */\r
    readonly LN10: number;\r
    /** The natural logarithm of 2. */\r
    readonly LN2: number;\r
    /** The base-2 logarithm of e. */\r
    readonly LOG2E: number;\r
    /** The base-10 logarithm of e. */\r
    readonly LOG10E: number;\r
    /** Pi. This is the ratio of the circumference of a circle to its diameter. */\r
    readonly PI: number;\r
    /** The square root of 0.5, or, equivalently, one divided by the square root of 2. */\r
    readonly SQRT1_2: number;\r
    /** The square root of 2. */\r
    readonly SQRT2: number;\r
    /**\r
     * Returns the absolute value of a number (the value without regard to whether it is positive or negative).\r
     * For example, the absolute value of -5 is the same as the absolute value of 5.\r
     * @param x A numeric expression for which the absolute value is needed.\r
     */\r
    abs(x: number): number;\r
    /**\r
     * Returns the arc cosine (or inverse cosine) of a number.\r
     * @param x A numeric expression.\r
     */\r
    acos(x: number): number;\r
    /**\r
     * Returns the arcsine of a number.\r
     * @param x A numeric expression.\r
     */\r
    asin(x: number): number;\r
    /**\r
     * Returns the arctangent of a number.\r
     * @param x A numeric expression for which the arctangent is needed.\r
     */\r
    atan(x: number): number;\r
    /**\r
     * Returns the angle (in radians) from the X axis to a point.\r
     * @param y A numeric expression representing the cartesian y-coordinate.\r
     * @param x A numeric expression representing the cartesian x-coordinate.\r
     */\r
    atan2(y: number, x: number): number;\r
    /**\r
     * Returns the smallest integer greater than or equal to its numeric argument.\r
     * @param x A numeric expression.\r
     */\r
    ceil(x: number): number;\r
    /**\r
     * Returns the cosine of a number.\r
     * @param x A numeric expression that contains an angle measured in radians.\r
     */\r
    cos(x: number): number;\r
    /**\r
     * Returns e (the base of natural logarithms) raised to a power.\r
     * @param x A numeric expression representing the power of e.\r
     */\r
    exp(x: number): number;\r
    /**\r
     * Returns the greatest integer less than or equal to its numeric argument.\r
     * @param x A numeric expression.\r
     */\r
    floor(x: number): number;\r
    /**\r
     * Returns the natural logarithm (base e) of a number.\r
     * @param x A numeric expression.\r
     */\r
    log(x: number): number;\r
    /**\r
     * Returns the larger of a set of supplied numeric expressions.\r
     * @param values Numeric expressions to be evaluated.\r
     */\r
    max(...values: number[]): number;\r
    /**\r
     * Returns the smaller of a set of supplied numeric expressions.\r
     * @param values Numeric expressions to be evaluated.\r
     */\r
    min(...values: number[]): number;\r
    /**\r
     * Returns the value of a base expression taken to a specified power.\r
     * @param x The base value of the expression.\r
     * @param y The exponent value of the expression.\r
     */\r
    pow(x: number, y: number): number;\r
    /** Returns a pseudorandom number between 0 and 1. */\r
    random(): number;\r
    /**\r
     * Returns a supplied numeric expression rounded to the nearest integer.\r
     * @param x The value to be rounded to the nearest integer.\r
     */\r
    round(x: number): number;\r
    /**\r
     * Returns the sine of a number.\r
     * @param x A numeric expression that contains an angle measured in radians.\r
     */\r
    sin(x: number): number;\r
    /**\r
     * Returns the square root of a number.\r
     * @param x A numeric expression.\r
     */\r
    sqrt(x: number): number;\r
    /**\r
     * Returns the tangent of a number.\r
     * @param x A numeric expression that contains an angle measured in radians.\r
     */\r
    tan(x: number): number;\r
}\r
/** An intrinsic object that provides basic mathematics functionality and constants. */\r
declare var Math: Math;\r
\r
/** Enables basic storage and retrieval of dates and times. */\r
interface Date {\r
    /** Returns a string representation of a date. The format of the string depends on the locale. */\r
    toString(): string;\r
    /** Returns a date as a string value. */\r
    toDateString(): string;\r
    /** Returns a time as a string value. */\r
    toTimeString(): string;\r
    /** Returns a value as a string value appropriate to the host environment's current locale. */\r
    toLocaleString(): string;\r
    /** Returns a date as a string value appropriate to the host environment's current locale. */\r
    toLocaleDateString(): string;\r
    /** Returns a time as a string value appropriate to the host environment's current locale. */\r
    toLocaleTimeString(): string;\r
    /** Returns the stored time value in milliseconds since midnight, January 1, 1970 UTC. */\r
    valueOf(): number;\r
    /** Gets the time value in milliseconds. */\r
    getTime(): number;\r
    /** Gets the year, using local time. */\r
    getFullYear(): number;\r
    /** Gets the year using Universal Coordinated Time (UTC). */\r
    getUTCFullYear(): number;\r
    /** Gets the month, using local time. */\r
    getMonth(): number;\r
    /** Gets the month of a Date object using Universal Coordinated Time (UTC). */\r
    getUTCMonth(): number;\r
    /** Gets the day-of-the-month, using local time. */\r
    getDate(): number;\r
    /** Gets the day-of-the-month, using Universal Coordinated Time (UTC). */\r
    getUTCDate(): number;\r
    /** Gets the day of the week, using local time. */\r
    getDay(): number;\r
    /** Gets the day of the week using Universal Coordinated Time (UTC). */\r
    getUTCDay(): number;\r
    /** Gets the hours in a date, using local time. */\r
    getHours(): number;\r
    /** Gets the hours value in a Date object using Universal Coordinated Time (UTC). */\r
    getUTCHours(): number;\r
    /** Gets the minutes of a Date object, using local time. */\r
    getMinutes(): number;\r
    /** Gets the minutes of a Date object using Universal Coordinated Time (UTC). */\r
    getUTCMinutes(): number;\r
    /** Gets the seconds of a Date object, using local time. */\r
    getSeconds(): number;\r
    /** Gets the seconds of a Date object using Universal Coordinated Time (UTC). */\r
    getUTCSeconds(): number;\r
    /** Gets the milliseconds of a Date, using local time. */\r
    getMilliseconds(): number;\r
    /** Gets the milliseconds of a Date object using Universal Coordinated Time (UTC). */\r
    getUTCMilliseconds(): number;\r
    /** Gets the difference in minutes between the time on the local computer and Universal Coordinated Time (UTC). */\r
    getTimezoneOffset(): number;\r
    /**\r
     * Sets the date and time value in the Date object.\r
     * @param time A numeric value representing the number of elapsed milliseconds since midnight, January 1, 1970 GMT.\r
     */\r
    setTime(time: number): number;\r
    /**\r
     * Sets the milliseconds value in the Date object using local time.\r
     * @param ms A numeric value equal to the millisecond value.\r
     */\r
    setMilliseconds(ms: number): number;\r
    /**\r
     * Sets the milliseconds value in the Date object using Universal Coordinated Time (UTC).\r
     * @param ms A numeric value equal to the millisecond value.\r
     */\r
    setUTCMilliseconds(ms: number): number;\r
\r
    /**\r
     * Sets the seconds value in the Date object using local time.\r
     * @param sec A numeric value equal to the seconds value.\r
     * @param ms A numeric value equal to the milliseconds value.\r
     */\r
    setSeconds(sec: number, ms?: number): number;\r
    /**\r
     * Sets the seconds value in the Date object using Universal Coordinated Time (UTC).\r
     * @param sec A numeric value equal to the seconds value.\r
     * @param ms A numeric value equal to the milliseconds value.\r
     */\r
    setUTCSeconds(sec: number, ms?: number): number;\r
    /**\r
     * Sets the minutes value in the Date object using local time.\r
     * @param min A numeric value equal to the minutes value.\r
     * @param sec A numeric value equal to the seconds value.\r
     * @param ms A numeric value equal to the milliseconds value.\r
     */\r
    setMinutes(min: number, sec?: number, ms?: number): number;\r
    /**\r
     * Sets the minutes value in the Date object using Universal Coordinated Time (UTC).\r
     * @param min A numeric value equal to the minutes value.\r
     * @param sec A numeric value equal to the seconds value.\r
     * @param ms A numeric value equal to the milliseconds value.\r
     */\r
    setUTCMinutes(min: number, sec?: number, ms?: number): number;\r
    /**\r
     * Sets the hour value in the Date object using local time.\r
     * @param hours A numeric value equal to the hours value.\r
     * @param min A numeric value equal to the minutes value.\r
     * @param sec A numeric value equal to the seconds value.\r
     * @param ms A numeric value equal to the milliseconds value.\r
     */\r
    setHours(hours: number, min?: number, sec?: number, ms?: number): number;\r
    /**\r
     * Sets the hours value in the Date object using Universal Coordinated Time (UTC).\r
     * @param hours A numeric value equal to the hours value.\r
     * @param min A numeric value equal to the minutes value.\r
     * @param sec A numeric value equal to the seconds value.\r
     * @param ms A numeric value equal to the milliseconds value.\r
     */\r
    setUTCHours(hours: number, min?: number, sec?: number, ms?: number): number;\r
    /**\r
     * Sets the numeric day-of-the-month value of the Date object using local time.\r
     * @param date A numeric value equal to the day of the month.\r
     */\r
    setDate(date: number): number;\r
    /**\r
     * Sets the numeric day of the month in the Date object using Universal Coordinated Time (UTC).\r
     * @param date A numeric value equal to the day of the month.\r
     */\r
    setUTCDate(date: number): number;\r
    /**\r
     * Sets the month value in the Date object using local time.\r
     * @param month A numeric value equal to the month. The value for January is 0, and other month values follow consecutively.\r
     * @param date A numeric value representing the day of the month. If this value is not supplied, the value from a call to the getDate method is used.\r
     */\r
    setMonth(month: number, date?: number): number;\r
    /**\r
     * Sets the month value in the Date object using Universal Coordinated Time (UTC).\r
     * @param month A numeric value equal to the month. The value for January is 0, and other month values follow consecutively.\r
     * @param date A numeric value representing the day of the month. If it is not supplied, the value from a call to the getUTCDate method is used.\r
     */\r
    setUTCMonth(month: number, date?: number): number;\r
    /**\r
     * Sets the year of the Date object using local time.\r
     * @param year A numeric value for the year.\r
     * @param month A zero-based numeric value for the month (0 for January, 11 for December). Must be specified if numDate is specified.\r
     * @param date A numeric value equal for the day of the month.\r
     */\r
    setFullYear(year: number, month?: number, date?: number): number;\r
    /**\r
     * Sets the year value in the Date object using Universal Coordinated Time (UTC).\r
     * @param year A numeric value equal to the year.\r
     * @param month A numeric value equal to the month. The value for January is 0, and other month values follow consecutively. Must be supplied if numDate is supplied.\r
     * @param date A numeric value equal to the day of the month.\r
     */\r
    setUTCFullYear(year: number, month?: number, date?: number): number;\r
    /** Returns a date converted to a string using Universal Coordinated Time (UTC). */\r
    toUTCString(): string;\r
    /** Returns a date as a string value in ISO format. */\r
    toISOString(): string;\r
    /** Used by the JSON.stringify method to enable the transformation of an object's data for JavaScript Object Notation (JSON) serialization. */\r
    toJSON(key?: any): string;\r
}\r
\r
interface DateConstructor {\r
    new(): Date;\r
    new(value: number | string): Date;\r
    /**\r
     * Creates a new Date.\r
     * @param year The full year designation is required for cross-century date accuracy. If year is between 0 and 99 is used, then year is assumed to be 1900 + year.\r
     * @param monthIndex The month as a number between 0 and 11 (January to December).\r
     * @param date The date as a number between 1 and 31.\r
     * @param hours Must be supplied if minutes is supplied. A number from 0 to 23 (midnight to 11pm) that specifies the hour.\r
     * @param minutes Must be supplied if seconds is supplied. A number from 0 to 59 that specifies the minutes.\r
     * @param seconds Must be supplied if milliseconds is supplied. A number from 0 to 59 that specifies the seconds.\r
     * @param ms A number from 0 to 999 that specifies the milliseconds.\r
     */\r
    new(year: number, monthIndex: number, date?: number, hours?: number, minutes?: number, seconds?: number, ms?: number): Date;\r
    (): string;\r
    readonly prototype: Date;\r
    /**\r
     * Parses a string containing a date, and returns the number of milliseconds between that date and midnight, January 1, 1970.\r
     * @param s A date string\r
     */\r
    parse(s: string): number;\r
    /**\r
     * Returns the number of milliseconds between midnight, January 1, 1970 Universal Coordinated Time (UTC) (or GMT) and the specified date.\r
     * @param year The full year designation is required for cross-century date accuracy. If year is between 0 and 99 is used, then year is assumed to be 1900 + year.\r
     * @param monthIndex The month as a number between 0 and 11 (January to December).\r
     * @param date The date as a number between 1 and 31.\r
     * @param hours Must be supplied if minutes is supplied. A number from 0 to 23 (midnight to 11pm) that specifies the hour.\r
     * @param minutes Must be supplied if seconds is supplied. A number from 0 to 59 that specifies the minutes.\r
     * @param seconds Must be supplied if milliseconds is supplied. A number from 0 to 59 that specifies the seconds.\r
     * @param ms A number from 0 to 999 that specifies the milliseconds.\r
     */\r
    UTC(year: number, monthIndex: number, date?: number, hours?: number, minutes?: number, seconds?: number, ms?: number): number;\r
    /** Returns the number of milliseconds elapsed since midnight, January 1, 1970 Universal Coordinated Time (UTC). */\r
    now(): number;\r
}\r
\r
declare var Date: DateConstructor;\r
\r
interface RegExpMatchArray extends Array<string> {\r
    /**\r
     * The index of the search at which the result was found.\r
     */\r
    index?: number;\r
    /**\r
     * A copy of the search string.\r
     */\r
    input?: string;\r
    /**\r
     * The first match. This will always be present because \`null\` will be returned if there are no matches.\r
     */\r
    0: string;\r
}\r
\r
interface RegExpExecArray extends Array<string> {\r
    /**\r
     * The index of the search at which the result was found.\r
     */\r
    index: number;\r
    /**\r
     * A copy of the search string.\r
     */\r
    input: string;\r
    /**\r
     * The first match. This will always be present because \`null\` will be returned if there are no matches.\r
     */\r
    0: string;\r
}\r
\r
interface RegExp {\r
    /**\r
     * Executes a search on a string using a regular expression pattern, and returns an array containing the results of that search.\r
     * @param string The String object or string literal on which to perform the search.\r
     */\r
    exec(string: string): RegExpExecArray | null;\r
\r
    /**\r
     * Returns a Boolean value that indicates whether or not a pattern exists in a searched string.\r
     * @param string String on which to perform the search.\r
     */\r
    test(string: string): boolean;\r
\r
    /** Returns a copy of the text of the regular expression pattern. Read-only. The regExp argument is a Regular expression object. It can be a variable name or a literal. */\r
    readonly source: string;\r
\r
    /** Returns a Boolean value indicating the state of the global flag (g) used with a regular expression. Default is false. Read-only. */\r
    readonly global: boolean;\r
\r
    /** Returns a Boolean value indicating the state of the ignoreCase flag (i) used with a regular expression. Default is false. Read-only. */\r
    readonly ignoreCase: boolean;\r
\r
    /** Returns a Boolean value indicating the state of the multiline flag (m) used with a regular expression. Default is false. Read-only. */\r
    readonly multiline: boolean;\r
\r
    lastIndex: number;\r
\r
    // Non-standard extensions\r
    /** @deprecated A legacy feature for browser compatibility */\r
    compile(pattern: string, flags?: string): this;\r
}\r
\r
interface RegExpConstructor {\r
    new(pattern: RegExp | string): RegExp;\r
    new(pattern: string, flags?: string): RegExp;\r
    (pattern: RegExp | string): RegExp;\r
    (pattern: string, flags?: string): RegExp;\r
    readonly prototype: RegExp;\r
\r
    // Non-standard extensions\r
    /** @deprecated A legacy feature for browser compatibility */\r
    $1: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    $2: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    $3: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    $4: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    $5: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    $6: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    $7: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    $8: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    $9: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    input: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    $_: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    lastMatch: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    "$&": string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    lastParen: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    "$+": string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    leftContext: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    "$\`": string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    rightContext: string;\r
    /** @deprecated A legacy feature for browser compatibility */\r
    "$'": string;\r
}\r
\r
declare var RegExp: RegExpConstructor;\r
\r
interface Error {\r
    name: string;\r
    message: string;\r
    stack?: string;\r
}\r
\r
interface ErrorConstructor {\r
    new(message?: string): Error;\r
    (message?: string): Error;\r
    readonly prototype: Error;\r
}\r
\r
declare var Error: ErrorConstructor;\r
\r
interface EvalError extends Error {\r
}\r
\r
interface EvalErrorConstructor extends ErrorConstructor {\r
    new(message?: string): EvalError;\r
    (message?: string): EvalError;\r
    readonly prototype: EvalError;\r
}\r
\r
declare var EvalError: EvalErrorConstructor;\r
\r
interface RangeError extends Error {\r
}\r
\r
interface RangeErrorConstructor extends ErrorConstructor {\r
    new(message?: string): RangeError;\r
    (message?: string): RangeError;\r
    readonly prototype: RangeError;\r
}\r
\r
declare var RangeError: RangeErrorConstructor;\r
\r
interface ReferenceError extends Error {\r
}\r
\r
interface ReferenceErrorConstructor extends ErrorConstructor {\r
    new(message?: string): ReferenceError;\r
    (message?: string): ReferenceError;\r
    readonly prototype: ReferenceError;\r
}\r
\r
declare var ReferenceError: ReferenceErrorConstructor;\r
\r
interface SyntaxError extends Error {\r
}\r
\r
interface SyntaxErrorConstructor extends ErrorConstructor {\r
    new(message?: string): SyntaxError;\r
    (message?: string): SyntaxError;\r
    readonly prototype: SyntaxError;\r
}\r
\r
declare var SyntaxError: SyntaxErrorConstructor;\r
\r
interface TypeError extends Error {\r
}\r
\r
interface TypeErrorConstructor extends ErrorConstructor {\r
    new(message?: string): TypeError;\r
    (message?: string): TypeError;\r
    readonly prototype: TypeError;\r
}\r
\r
declare var TypeError: TypeErrorConstructor;\r
\r
interface URIError extends Error {\r
}\r
\r
interface URIErrorConstructor extends ErrorConstructor {\r
    new(message?: string): URIError;\r
    (message?: string): URIError;\r
    readonly prototype: URIError;\r
}\r
\r
declare var URIError: URIErrorConstructor;\r
\r
interface JSON {\r
    /**\r
     * Converts a JavaScript Object Notation (JSON) string into an object.\r
     * @param text A valid JSON string.\r
     * @param reviver A function that transforms the results. This function is called for each member of the object.\r
     * If a member contains nested objects, the nested objects are transformed before the parent object is.\r
     */\r
    parse(text: string, reviver?: (this: any, key: string, value: any) => any): any;\r
    /**\r
     * Converts a JavaScript value to a JavaScript Object Notation (JSON) string.\r
     * @param value A JavaScript value, usually an object or array, to be converted.\r
     * @param replacer A function that transforms the results.\r
     * @param space Adds indentation, white space, and line break characters to the return-value JSON text to make it easier to read.\r
     */\r
    stringify(value: any, replacer?: (this: any, key: string, value: any) => any, space?: string | number): string;\r
    /**\r
     * Converts a JavaScript value to a JavaScript Object Notation (JSON) string.\r
     * @param value A JavaScript value, usually an object or array, to be converted.\r
     * @param replacer An array of strings and numbers that acts as an approved list for selecting the object properties that will be stringified.\r
     * @param space Adds indentation, white space, and line break characters to the return-value JSON text to make it easier to read.\r
     */\r
    stringify(value: any, replacer?: (number | string)[] | null, space?: string | number): string;\r
}\r
\r
/**\r
 * An intrinsic object that provides functions to convert JavaScript values to and from the JavaScript Object Notation (JSON) format.\r
 */\r
declare var JSON: JSON;\r
\r
\r
/////////////////////////////\r
/// ECMAScript Array API (specially handled by compiler)\r
/////////////////////////////\r
\r
interface ReadonlyArray<T> {\r
    /**\r
     * Gets the length of the array. This is a number one higher than the highest element defined in an array.\r
     */\r
    readonly length: number;\r
    /**\r
     * Returns a string representation of an array.\r
     */\r
    toString(): string;\r
    /**\r
     * Returns a string representation of an array. The elements are converted to string using their toLocaleString methods.\r
     */\r
    toLocaleString(): string;\r
    /**\r
     * Combines two or more arrays.\r
     * @param items Additional items to add to the end of array1.\r
     */\r
    concat(...items: ConcatArray<T>[]): T[];\r
    /**\r
     * Combines two or more arrays.\r
     * @param items Additional items to add to the end of array1.\r
     */\r
    concat(...items: (T | ConcatArray<T>)[]): T[];\r
    /**\r
     * Adds all the elements of an array separated by the specified separator string.\r
     * @param separator A string used to separate one element of an array from the next in the resulting String. If omitted, the array elements are separated with a comma.\r
     */\r
    join(separator?: string): string;\r
    /**\r
     * Returns a section of an array.\r
     * @param start The beginning of the specified portion of the array.\r
     * @param end The end of the specified portion of the array. This is exclusive of the element at the index 'end'.\r
     */\r
    slice(start?: number, end?: number): T[];\r
    /**\r
     * Returns the index of the first occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the search starts at index 0.\r
     */\r
    indexOf(searchElement: T, fromIndex?: number): number;\r
    /**\r
     * Returns the index of the last occurrence of a specified value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the search starts at the last index in the array.\r
     */\r
    lastIndexOf(searchElement: T, fromIndex?: number): number;\r
    /**\r
     * Determines whether all the members of an array satisfy the specified test.\r
     * @param predicate A function that accepts up to three arguments. The every method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value false, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    every<S extends T>(predicate: (value: T, index: number, array: readonly T[]) => value is S, thisArg?: any): this is readonly S[];\r
    /**\r
     * Determines whether all the members of an array satisfy the specified test.\r
     * @param predicate A function that accepts up to three arguments. The every method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value false, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    every(predicate: (value: T, index: number, array: readonly T[]) => unknown, thisArg?: any): boolean;\r
    /**\r
     * Determines whether the specified callback function returns true for any element of an array.\r
     * @param predicate A function that accepts up to three arguments. The some method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value true, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    some(predicate: (value: T, index: number, array: readonly T[]) => unknown, thisArg?: any): boolean;\r
    /**\r
     * Performs the specified action for each element in an array.\r
     * @param callbackfn  A function that accepts up to three arguments. forEach calls the callbackfn function one time for each element in the array.\r
     * @param thisArg  An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.\r
     */\r
    forEach(callbackfn: (value: T, index: number, array: readonly T[]) => void, thisArg?: any): void;\r
    /**\r
     * Calls a defined callback function on each element of an array, and returns an array that contains the results.\r
     * @param callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.\r
     */\r
    map<U>(callbackfn: (value: T, index: number, array: readonly T[]) => U, thisArg?: any): U[];\r
    /**\r
     * Returns the elements of an array that meet the condition specified in a callback function.\r
     * @param predicate A function that accepts up to three arguments. The filter method calls the predicate function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function. If thisArg is omitted, undefined is used as the this value.\r
     */\r
    filter<S extends T>(predicate: (value: T, index: number, array: readonly T[]) => value is S, thisArg?: any): S[];\r
    /**\r
     * Returns the elements of an array that meet the condition specified in a callback function.\r
     * @param predicate A function that accepts up to three arguments. The filter method calls the predicate function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function. If thisArg is omitted, undefined is used as the this value.\r
     */\r
    filter(predicate: (value: T, index: number, array: readonly T[]) => unknown, thisArg?: any): T[];\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\r
     */\r
    reduce(callbackfn: (previousValue: T, currentValue: T, currentIndex: number, array: readonly T[]) => T): T;\r
    reduce(callbackfn: (previousValue: T, currentValue: T, currentIndex: number, array: readonly T[]) => T, initialValue: T): T;\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\r
     */\r
    reduce<U>(callbackfn: (previousValue: U, currentValue: T, currentIndex: number, array: readonly T[]) => U, initialValue: U): U;\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\r
     */\r
    reduceRight(callbackfn: (previousValue: T, currentValue: T, currentIndex: number, array: readonly T[]) => T): T;\r
    reduceRight(callbackfn: (previousValue: T, currentValue: T, currentIndex: number, array: readonly T[]) => T, initialValue: T): T;\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\r
     */\r
    reduceRight<U>(callbackfn: (previousValue: U, currentValue: T, currentIndex: number, array: readonly T[]) => U, initialValue: U): U;\r
\r
    readonly [n: number]: T;\r
}\r
\r
interface ConcatArray<T> {\r
    readonly length: number;\r
    readonly [n: number]: T;\r
    join(separator?: string): string;\r
    slice(start?: number, end?: number): T[];\r
}\r
\r
interface Array<T> {\r
    /**\r
     * Gets or sets the length of the array. This is a number one higher than the highest index in the array.\r
     */\r
    length: number;\r
    /**\r
     * Returns a string representation of an array.\r
     */\r
    toString(): string;\r
    /**\r
     * Returns a string representation of an array. The elements are converted to string using their toLocaleString methods.\r
     */\r
    toLocaleString(): string;\r
    /**\r
     * Removes the last element from an array and returns it.\r
     * If the array is empty, undefined is returned and the array is not modified.\r
     */\r
    pop(): T | undefined;\r
    /**\r
     * Appends new elements to the end of an array, and returns the new length of the array.\r
     * @param items New elements to add to the array.\r
     */\r
    push(...items: T[]): number;\r
    /**\r
     * Combines two or more arrays.\r
     * This method returns a new array without modifying any existing arrays.\r
     * @param items Additional arrays and/or items to add to the end of the array.\r
     */\r
    concat(...items: ConcatArray<T>[]): T[];\r
    /**\r
     * Combines two or more arrays.\r
     * This method returns a new array without modifying any existing arrays.\r
     * @param items Additional arrays and/or items to add to the end of the array.\r
     */\r
    concat(...items: (T | ConcatArray<T>)[]): T[];\r
    /**\r
     * Adds all the elements of an array into a string, separated by the specified separator string.\r
     * @param separator A string used to separate one element of the array from the next in the resulting string. If omitted, the array elements are separated with a comma.\r
     */\r
    join(separator?: string): string;\r
    /**\r
     * Reverses the elements in an array in place.\r
     * This method mutates the array and returns a reference to the same array.\r
     */\r
    reverse(): T[];\r
    /**\r
     * Removes the first element from an array and returns it.\r
     * If the array is empty, undefined is returned and the array is not modified.\r
     */\r
    shift(): T | undefined;\r
    /**\r
     * Returns a copy of a section of an array.\r
     * For both start and end, a negative index can be used to indicate an offset from the end of the array.\r
     * For example, -2 refers to the second to last element of the array.\r
     * @param start The beginning index of the specified portion of the array.\r
     * If start is undefined, then the slice begins at index 0.\r
     * @param end The end index of the specified portion of the array. This is exclusive of the element at the index 'end'.\r
     * If end is undefined, then the slice extends to the end of the array.\r
     */\r
    slice(start?: number, end?: number): T[];\r
    /**\r
     * Sorts an array in place.\r
     * This method mutates the array and returns a reference to the same array.\r
     * @param compareFn Function used to determine the order of the elements. It is expected to return\r
     * a negative value if the first argument is less than the second argument, zero if they're equal, and a positive\r
     * value otherwise. If omitted, the elements are sorted in ascending, ASCII character order.\r
     * \`\`\`ts\r
     * [11,2,22,1].sort((a, b) => a - b)\r
     * \`\`\`\r
     */\r
    sort(compareFn?: (a: T, b: T) => number): this;\r
    /**\r
     * Removes elements from an array and, if necessary, inserts new elements in their place, returning the deleted elements.\r
     * @param start The zero-based location in the array from which to start removing elements.\r
     * @param deleteCount The number of elements to remove.\r
     * @returns An array containing the elements that were deleted.\r
     */\r
    splice(start: number, deleteCount?: number): T[];\r
    /**\r
     * Removes elements from an array and, if necessary, inserts new elements in their place, returning the deleted elements.\r
     * @param start The zero-based location in the array from which to start removing elements.\r
     * @param deleteCount The number of elements to remove.\r
     * @param items Elements to insert into the array in place of the deleted elements.\r
     * @returns An array containing the elements that were deleted.\r
     */\r
    splice(start: number, deleteCount: number, ...items: T[]): T[];\r
    /**\r
     * Inserts new elements at the start of an array, and returns the new length of the array.\r
     * @param items Elements to insert at the start of the array.\r
     */\r
    unshift(...items: T[]): number;\r
    /**\r
     * Returns the index of the first occurrence of a value in an array, or -1 if it is not present.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the search starts at index 0.\r
     */\r
    indexOf(searchElement: T, fromIndex?: number): number;\r
    /**\r
     * Returns the index of the last occurrence of a specified value in an array, or -1 if it is not present.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin searching backward. If fromIndex is omitted, the search starts at the last index in the array.\r
     */\r
    lastIndexOf(searchElement: T, fromIndex?: number): number;\r
    /**\r
     * Determines whether all the members of an array satisfy the specified test.\r
     * @param predicate A function that accepts up to three arguments. The every method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value false, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    every<S extends T>(predicate: (value: T, index: number, array: T[]) => value is S, thisArg?: any): this is S[];\r
    /**\r
     * Determines whether all the members of an array satisfy the specified test.\r
     * @param predicate A function that accepts up to three arguments. The every method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value false, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    every(predicate: (value: T, index: number, array: T[]) => unknown, thisArg?: any): boolean;\r
    /**\r
     * Determines whether the specified callback function returns true for any element of an array.\r
     * @param predicate A function that accepts up to three arguments. The some method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value true, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    some(predicate: (value: T, index: number, array: T[]) => unknown, thisArg?: any): boolean;\r
    /**\r
     * Performs the specified action for each element in an array.\r
     * @param callbackfn  A function that accepts up to three arguments. forEach calls the callbackfn function one time for each element in the array.\r
     * @param thisArg  An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.\r
     */\r
    forEach(callbackfn: (value: T, index: number, array: T[]) => void, thisArg?: any): void;\r
    /**\r
     * Calls a defined callback function on each element of an array, and returns an array that contains the results.\r
     * @param callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.\r
     */\r
    map<U>(callbackfn: (value: T, index: number, array: T[]) => U, thisArg?: any): U[];\r
    /**\r
     * Returns the elements of an array that meet the condition specified in a callback function.\r
     * @param predicate A function that accepts up to three arguments. The filter method calls the predicate function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function. If thisArg is omitted, undefined is used as the this value.\r
     */\r
    filter<S extends T>(predicate: (value: T, index: number, array: T[]) => value is S, thisArg?: any): S[];\r
    /**\r
     * Returns the elements of an array that meet the condition specified in a callback function.\r
     * @param predicate A function that accepts up to three arguments. The filter method calls the predicate function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function. If thisArg is omitted, undefined is used as the this value.\r
     */\r
    filter(predicate: (value: T, index: number, array: T[]) => unknown, thisArg?: any): T[];\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\r
     */\r
    reduce(callbackfn: (previousValue: T, currentValue: T, currentIndex: number, array: T[]) => T): T;\r
    reduce(callbackfn: (previousValue: T, currentValue: T, currentIndex: number, array: T[]) => T, initialValue: T): T;\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\r
     */\r
    reduce<U>(callbackfn: (previousValue: U, currentValue: T, currentIndex: number, array: T[]) => U, initialValue: U): U;\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\r
     */\r
    reduceRight(callbackfn: (previousValue: T, currentValue: T, currentIndex: number, array: T[]) => T): T;\r
    reduceRight(callbackfn: (previousValue: T, currentValue: T, currentIndex: number, array: T[]) => T, initialValue: T): T;\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\r
     */\r
    reduceRight<U>(callbackfn: (previousValue: U, currentValue: T, currentIndex: number, array: T[]) => U, initialValue: U): U;\r
\r
    [n: number]: T;\r
}\r
\r
interface ArrayConstructor {\r
    new(arrayLength?: number): any[];\r
    new <T>(arrayLength: number): T[];\r
    new <T>(...items: T[]): T[];\r
    (arrayLength?: number): any[];\r
    <T>(arrayLength: number): T[];\r
    <T>(...items: T[]): T[];\r
    isArray(arg: any): arg is any[];\r
    readonly prototype: any[];\r
}\r
\r
declare var Array: ArrayConstructor;\r
\r
interface TypedPropertyDescriptor<T> {\r
    enumerable?: boolean;\r
    configurable?: boolean;\r
    writable?: boolean;\r
    value?: T;\r
    get?: () => T;\r
    set?: (value: T) => void;\r
}\r
\r
declare type ClassDecorator = <TFunction extends Function>(target: TFunction) => TFunction | void;\r
declare type PropertyDecorator = (target: Object, propertyKey: string | symbol) => void;\r
declare type MethodDecorator = <T>(target: Object, propertyKey: string | symbol, descriptor: TypedPropertyDescriptor<T>) => TypedPropertyDescriptor<T> | void;\r
declare type ParameterDecorator = (target: Object, propertyKey: string | symbol, parameterIndex: number) => void;\r
\r
declare type PromiseConstructorLike = new <T>(executor: (resolve: (value: T | PromiseLike<T>) => void, reject: (reason?: any) => void) => void) => PromiseLike<T>;\r
\r
interface PromiseLike<T> {\r
    /**\r
     * Attaches callbacks for the resolution and/or rejection of the Promise.\r
     * @param onfulfilled The callback to execute when the Promise is resolved.\r
     * @param onrejected The callback to execute when the Promise is rejected.\r
     * @returns A Promise for the completion of which ever callback is executed.\r
     */\r
    then<TResult1 = T, TResult2 = never>(onfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null, onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null): PromiseLike<TResult1 | TResult2>;\r
}\r
\r
/**\r
 * Represents the completion of an asynchronous operation\r
 */\r
interface Promise<T> {\r
    /**\r
     * Attaches callbacks for the resolution and/or rejection of the Promise.\r
     * @param onfulfilled The callback to execute when the Promise is resolved.\r
     * @param onrejected The callback to execute when the Promise is rejected.\r
     * @returns A Promise for the completion of which ever callback is executed.\r
     */\r
    then<TResult1 = T, TResult2 = never>(onfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null, onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null): Promise<TResult1 | TResult2>;\r
\r
    /**\r
     * Attaches a callback for only the rejection of the Promise.\r
     * @param onrejected The callback to execute when the Promise is rejected.\r
     * @returns A Promise for the completion of the callback.\r
     */\r
    catch<TResult = never>(onrejected?: ((reason: any) => TResult | PromiseLike<TResult>) | undefined | null): Promise<T | TResult>;\r
}\r
\r
/**\r
 * Recursively unwraps the "awaited type" of a type. Non-promise "thenables" should resolve to \`never\`. This emulates the behavior of \`await\`.\r
 */\r
type Awaited<T> =\r
    T extends null | undefined ? T : // special case for \`null | undefined\` when not in \`--strictNullChecks\` mode\r
        T extends object & { then(onfulfilled: infer F, ...args: infer _): any } ? // \`await\` only unwraps object types with a callable \`then\`. Non-object types are not unwrapped\r
            F extends ((value: infer V, ...args: infer _) => any) ? // if the argument to \`then\` is callable, extracts the first argument\r
                Awaited<V> : // recursively unwrap the value\r
                never : // the argument to \`then\` was not callable\r
        T; // non-object or non-thenable\r
\r
interface ArrayLike<T> {\r
    readonly length: number;\r
    readonly [n: number]: T;\r
}\r
\r
/**\r
 * Make all properties in T optional\r
 */\r
type Partial<T> = {\r
    [P in keyof T]?: T[P];\r
};\r
\r
/**\r
 * Make all properties in T required\r
 */\r
type Required<T> = {\r
    [P in keyof T]-?: T[P];\r
};\r
\r
/**\r
 * Make all properties in T readonly\r
 */\r
type Readonly<T> = {\r
    readonly [P in keyof T]: T[P];\r
};\r
\r
/**\r
 * From T, pick a set of properties whose keys are in the union K\r
 */\r
type Pick<T, K extends keyof T> = {\r
    [P in K]: T[P];\r
};\r
\r
/**\r
 * Construct a type with a set of properties K of type T\r
 */\r
type Record<K extends keyof any, T> = {\r
    [P in K]: T;\r
};\r
\r
/**\r
 * Exclude from T those types that are assignable to U\r
 */\r
type Exclude<T, U> = T extends U ? never : T;\r
\r
/**\r
 * Extract from T those types that are assignable to U\r
 */\r
type Extract<T, U> = T extends U ? T : never;\r
\r
/**\r
 * Construct a type with the properties of T except for those in type K.\r
 */\r
type Omit<T, K extends keyof any> = Pick<T, Exclude<keyof T, K>>;\r
\r
/**\r
 * Exclude null and undefined from T\r
 */\r
type NonNullable<T> = T & {};\r
\r
/**\r
 * Obtain the parameters of a function type in a tuple\r
 */\r
type Parameters<T extends (...args: any) => any> = T extends (...args: infer P) => any ? P : never;\r
\r
/**\r
 * Obtain the parameters of a constructor function type in a tuple\r
 */\r
type ConstructorParameters<T extends abstract new (...args: any) => any> = T extends abstract new (...args: infer P) => any ? P : never;\r
\r
/**\r
 * Obtain the return type of a function type\r
 */\r
type ReturnType<T extends (...args: any) => any> = T extends (...args: any) => infer R ? R : any;\r
\r
/**\r
 * Obtain the return type of a constructor function type\r
 */\r
type InstanceType<T extends abstract new (...args: any) => any> = T extends abstract new (...args: any) => infer R ? R : any;\r
\r
/**\r
 * Convert string literal type to uppercase\r
 */\r
type Uppercase<S extends string> = intrinsic;\r
\r
/**\r
 * Convert string literal type to lowercase\r
 */\r
type Lowercase<S extends string> = intrinsic;\r
\r
/**\r
 * Convert first character of string literal type to uppercase\r
 */\r
type Capitalize<S extends string> = intrinsic;\r
\r
/**\r
 * Convert first character of string literal type to lowercase\r
 */\r
type Uncapitalize<S extends string> = intrinsic;\r
\r
/**\r
 * Marker for contextual 'this' type\r
 */\r
interface ThisType<T> { }\r
\r
/**\r
 * Represents a raw buffer of binary data, which is used to store data for the\r
 * different typed arrays. ArrayBuffers cannot be read from or written to directly,\r
 * but can be passed to a typed array or DataView Object to interpret the raw\r
 * buffer as needed.\r
 */\r
interface ArrayBuffer {\r
    /**\r
     * Read-only. The length of the ArrayBuffer (in bytes).\r
     */\r
    readonly byteLength: number;\r
\r
    /**\r
     * Returns a section of an ArrayBuffer.\r
     */\r
    slice(begin: number, end?: number): ArrayBuffer;\r
}\r
\r
/**\r
 * Allowed ArrayBuffer types for the buffer of an ArrayBufferView and related Typed Arrays.\r
 */\r
interface ArrayBufferTypes {\r
    ArrayBuffer: ArrayBuffer;\r
}\r
type ArrayBufferLike = ArrayBufferTypes[keyof ArrayBufferTypes];\r
\r
interface ArrayBufferConstructor {\r
    readonly prototype: ArrayBuffer;\r
    new(byteLength: number): ArrayBuffer;\r
    isView(arg: any): arg is ArrayBufferView;\r
}\r
declare var ArrayBuffer: ArrayBufferConstructor;\r
\r
interface ArrayBufferView {\r
    /**\r
     * The ArrayBuffer instance referenced by the array.\r
     */\r
    buffer: ArrayBufferLike;\r
\r
    /**\r
     * The length in bytes of the array.\r
     */\r
    byteLength: number;\r
\r
    /**\r
     * The offset in bytes of the array.\r
     */\r
    byteOffset: number;\r
}\r
\r
interface DataView {\r
    readonly buffer: ArrayBuffer;\r
    readonly byteLength: number;\r
    readonly byteOffset: number;\r
    /**\r
     * Gets the Float32 value at the specified byte offset from the start of the view. There is\r
     * no alignment constraint; multi-byte values may be fetched from any offset.\r
     * @param byteOffset The place in the buffer at which the value should be retrieved.\r
     * @param littleEndian If false or undefined, a big-endian value should be read.\r
     */\r
    getFloat32(byteOffset: number, littleEndian?: boolean): number;\r
\r
    /**\r
     * Gets the Float64 value at the specified byte offset from the start of the view. There is\r
     * no alignment constraint; multi-byte values may be fetched from any offset.\r
     * @param byteOffset The place in the buffer at which the value should be retrieved.\r
     * @param littleEndian If false or undefined, a big-endian value should be read.\r
     */\r
    getFloat64(byteOffset: number, littleEndian?: boolean): number;\r
\r
    /**\r
     * Gets the Int8 value at the specified byte offset from the start of the view. There is\r
     * no alignment constraint; multi-byte values may be fetched from any offset.\r
     * @param byteOffset The place in the buffer at which the value should be retrieved.\r
     */\r
    getInt8(byteOffset: number): number;\r
\r
    /**\r
     * Gets the Int16 value at the specified byte offset from the start of the view. There is\r
     * no alignment constraint; multi-byte values may be fetched from any offset.\r
     * @param byteOffset The place in the buffer at which the value should be retrieved.\r
     * @param littleEndian If false or undefined, a big-endian value should be read.\r
     */\r
    getInt16(byteOffset: number, littleEndian?: boolean): number;\r
    /**\r
     * Gets the Int32 value at the specified byte offset from the start of the view. There is\r
     * no alignment constraint; multi-byte values may be fetched from any offset.\r
     * @param byteOffset The place in the buffer at which the value should be retrieved.\r
     * @param littleEndian If false or undefined, a big-endian value should be read.\r
     */\r
    getInt32(byteOffset: number, littleEndian?: boolean): number;\r
\r
    /**\r
     * Gets the Uint8 value at the specified byte offset from the start of the view. There is\r
     * no alignment constraint; multi-byte values may be fetched from any offset.\r
     * @param byteOffset The place in the buffer at which the value should be retrieved.\r
     */\r
    getUint8(byteOffset: number): number;\r
\r
    /**\r
     * Gets the Uint16 value at the specified byte offset from the start of the view. There is\r
     * no alignment constraint; multi-byte values may be fetched from any offset.\r
     * @param byteOffset The place in the buffer at which the value should be retrieved.\r
     * @param littleEndian If false or undefined, a big-endian value should be read.\r
     */\r
    getUint16(byteOffset: number, littleEndian?: boolean): number;\r
\r
    /**\r
     * Gets the Uint32 value at the specified byte offset from the start of the view. There is\r
     * no alignment constraint; multi-byte values may be fetched from any offset.\r
     * @param byteOffset The place in the buffer at which the value should be retrieved.\r
     * @param littleEndian If false or undefined, a big-endian value should be read.\r
     */\r
    getUint32(byteOffset: number, littleEndian?: boolean): number;\r
\r
    /**\r
     * Stores an Float32 value at the specified byte offset from the start of the view.\r
     * @param byteOffset The place in the buffer at which the value should be set.\r
     * @param value The value to set.\r
     * @param littleEndian If false or undefined, a big-endian value should be written.\r
     */\r
    setFloat32(byteOffset: number, value: number, littleEndian?: boolean): void;\r
\r
    /**\r
     * Stores an Float64 value at the specified byte offset from the start of the view.\r
     * @param byteOffset The place in the buffer at which the value should be set.\r
     * @param value The value to set.\r
     * @param littleEndian If false or undefined, a big-endian value should be written.\r
     */\r
    setFloat64(byteOffset: number, value: number, littleEndian?: boolean): void;\r
\r
    /**\r
     * Stores an Int8 value at the specified byte offset from the start of the view.\r
     * @param byteOffset The place in the buffer at which the value should be set.\r
     * @param value The value to set.\r
     */\r
    setInt8(byteOffset: number, value: number): void;\r
\r
    /**\r
     * Stores an Int16 value at the specified byte offset from the start of the view.\r
     * @param byteOffset The place in the buffer at which the value should be set.\r
     * @param value The value to set.\r
     * @param littleEndian If false or undefined, a big-endian value should be written.\r
     */\r
    setInt16(byteOffset: number, value: number, littleEndian?: boolean): void;\r
\r
    /**\r
     * Stores an Int32 value at the specified byte offset from the start of the view.\r
     * @param byteOffset The place in the buffer at which the value should be set.\r
     * @param value The value to set.\r
     * @param littleEndian If false or undefined, a big-endian value should be written.\r
     */\r
    setInt32(byteOffset: number, value: number, littleEndian?: boolean): void;\r
\r
    /**\r
     * Stores an Uint8 value at the specified byte offset from the start of the view.\r
     * @param byteOffset The place in the buffer at which the value should be set.\r
     * @param value The value to set.\r
     */\r
    setUint8(byteOffset: number, value: number): void;\r
\r
    /**\r
     * Stores an Uint16 value at the specified byte offset from the start of the view.\r
     * @param byteOffset The place in the buffer at which the value should be set.\r
     * @param value The value to set.\r
     * @param littleEndian If false or undefined, a big-endian value should be written.\r
     */\r
    setUint16(byteOffset: number, value: number, littleEndian?: boolean): void;\r
\r
    /**\r
     * Stores an Uint32 value at the specified byte offset from the start of the view.\r
     * @param byteOffset The place in the buffer at which the value should be set.\r
     * @param value The value to set.\r
     * @param littleEndian If false or undefined, a big-endian value should be written.\r
     */\r
    setUint32(byteOffset: number, value: number, littleEndian?: boolean): void;\r
}\r
\r
interface DataViewConstructor {\r
    readonly prototype: DataView;\r
    new(buffer: ArrayBufferLike, byteOffset?: number, byteLength?: number): DataView;\r
}\r
declare var DataView: DataViewConstructor;\r
\r
/**\r
 * A typed array of 8-bit integer values. The contents are initialized to 0. If the requested\r
 * number of bytes could not be allocated an exception is raised.\r
 */\r
interface Int8Array {\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * The ArrayBuffer instance referenced by the array.\r
     */\r
    readonly buffer: ArrayBufferLike;\r
\r
    /**\r
     * The length in bytes of the array.\r
     */\r
    readonly byteLength: number;\r
\r
    /**\r
     * The offset in bytes of the array.\r
     */\r
    readonly byteOffset: number;\r
\r
    /**\r
     * Returns the this object after copying a section of the array identified by start and end\r
     * to the same array starting at position target\r
     * @param target If target is negative, it is treated as length+target where length is the\r
     * length of the array.\r
     * @param start If start is negative, it is treated as length+start. If end is negative, it\r
     * is treated as length+end.\r
     * @param end If not specified, length of the this object is used as its default value.\r
     */\r
    copyWithin(target: number, start: number, end?: number): this;\r
\r
    /**\r
     * Determines whether all the members of an array satisfy the specified test.\r
     * @param predicate A function that accepts up to three arguments. The every method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value false, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    every(predicate: (value: number, index: number, array: Int8Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Changes all array elements from \`start\` to \`end\` index to a static \`value\` and returns the modified array\r
     * @param value value to fill array section with\r
     * @param start index to start filling the array at. If start is negative, it is treated as\r
     * length+start where length is the length of the array.\r
     * @param end index to stop filling the array at. If end is negative, it is treated as\r
     * length+end.\r
     */\r
    fill(value: number, start?: number, end?: number): this;\r
\r
    /**\r
     * Returns the elements of an array that meet the condition specified in a callback function.\r
     * @param predicate A function that accepts up to three arguments. The filter method calls\r
     * the predicate function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    filter(predicate: (value: number, index: number, array: Int8Array) => any, thisArg?: any): Int8Array;\r
\r
    /**\r
     * Returns the value of the first element in the array where predicate is true, and undefined\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found, find\r
     * immediately returns that element value. Otherwise, find returns undefined.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    find(predicate: (value: number, index: number, obj: Int8Array) => boolean, thisArg?: any): number | undefined;\r
\r
    /**\r
     * Returns the index of the first element in the array where predicate is true, and -1\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found,\r
     * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    findIndex(predicate: (value: number, index: number, obj: Int8Array) => boolean, thisArg?: any): number;\r
\r
    /**\r
     * Performs the specified action for each element in an array.\r
     * @param callbackfn  A function that accepts up to three arguments. forEach calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg  An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    forEach(callbackfn: (value: number, index: number, array: Int8Array) => void, thisArg?: any): void;\r
\r
    /**\r
     * Returns the index of the first occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     *  search starts at index 0.\r
     */\r
    indexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * Adds all the elements of an array separated by the specified separator string.\r
     * @param separator A string used to separate one element of an array from the next in the\r
     * resulting String. If omitted, the array elements are separated with a comma.\r
     */\r
    join(separator?: string): string;\r
\r
    /**\r
     * Returns the index of the last occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     * search starts at index 0.\r
     */\r
    lastIndexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * The length of the array.\r
     */\r
    readonly length: number;\r
\r
    /**\r
     * Calls a defined callback function on each element of an array, and returns an array that\r
     * contains the results.\r
     * @param callbackfn A function that accepts up to three arguments. The map method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    map(callbackfn: (value: number, index: number, array: Int8Array) => number, thisArg?: any): Int8Array;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Int8Array) => number): number;\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Int8Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Int8Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an\r
     * argument instead of an array value.\r
     */\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Int8Array) => number): number;\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Int8Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduceRight<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Int8Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Reverses the elements in an Array.\r
     */\r
    reverse(): Int8Array;\r
\r
    /**\r
     * Sets a value or an array of values.\r
     * @param array A typed or untyped array of values to set.\r
     * @param offset The index in the current array at which the values are to be written.\r
     */\r
    set(array: ArrayLike<number>, offset?: number): void;\r
\r
    /**\r
     * Returns a section of an array.\r
     * @param start The beginning of the specified portion of the array.\r
     * @param end The end of the specified portion of the array. This is exclusive of the element at the index 'end'.\r
     */\r
    slice(start?: number, end?: number): Int8Array;\r
\r
    /**\r
     * Determines whether the specified callback function returns true for any element of an array.\r
     * @param predicate A function that accepts up to three arguments. The some method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value true, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    some(predicate: (value: number, index: number, array: Int8Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Sorts an array.\r
     * @param compareFn Function used to determine the order of the elements. It is expected to return\r
     * a negative value if first argument is less than second argument, zero if they're equal and a positive\r
     * value otherwise. If omitted, the elements are sorted in ascending order.\r
     * \`\`\`ts\r
     * [11,2,22,1].sort((a, b) => a - b)\r
     * \`\`\`\r
     */\r
    sort(compareFn?: (a: number, b: number) => number): this;\r
\r
    /**\r
     * Gets a new Int8Array view of the ArrayBuffer store for this array, referencing the elements\r
     * at begin, inclusive, up to end, exclusive.\r
     * @param begin The index of the beginning of the array.\r
     * @param end The index of the end of the array.\r
     */\r
    subarray(begin?: number, end?: number): Int8Array;\r
\r
    /**\r
     * Converts a number to a string by using the current locale.\r
     */\r
    toLocaleString(): string;\r
\r
    /**\r
     * Returns a string representation of an array.\r
     */\r
    toString(): string;\r
\r
    /** Returns the primitive value of the specified object. */\r
    valueOf(): Int8Array;\r
\r
    [index: number]: number;\r
}\r
interface Int8ArrayConstructor {\r
    readonly prototype: Int8Array;\r
    new(length: number): Int8Array;\r
    new(array: ArrayLike<number> | ArrayBufferLike): Int8Array;\r
    new(buffer: ArrayBufferLike, byteOffset?: number, length?: number): Int8Array;\r
\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * Returns a new array from a set of elements.\r
     * @param items A set of elements to include in the new array object.\r
     */\r
    of(...items: number[]): Int8Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     */\r
    from(arrayLike: ArrayLike<number>): Int8Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from<T>(arrayLike: ArrayLike<T>, mapfn: (v: T, k: number) => number, thisArg?: any): Int8Array;\r
\r
\r
}\r
declare var Int8Array: Int8ArrayConstructor;\r
\r
/**\r
 * A typed array of 8-bit unsigned integer values. The contents are initialized to 0. If the\r
 * requested number of bytes could not be allocated an exception is raised.\r
 */\r
interface Uint8Array {\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * The ArrayBuffer instance referenced by the array.\r
     */\r
    readonly buffer: ArrayBufferLike;\r
\r
    /**\r
     * The length in bytes of the array.\r
     */\r
    readonly byteLength: number;\r
\r
    /**\r
     * The offset in bytes of the array.\r
     */\r
    readonly byteOffset: number;\r
\r
    /**\r
     * Returns the this object after copying a section of the array identified by start and end\r
     * to the same array starting at position target\r
     * @param target If target is negative, it is treated as length+target where length is the\r
     * length of the array.\r
     * @param start If start is negative, it is treated as length+start. If end is negative, it\r
     * is treated as length+end.\r
     * @param end If not specified, length of the this object is used as its default value.\r
     */\r
    copyWithin(target: number, start: number, end?: number): this;\r
\r
    /**\r
     * Determines whether all the members of an array satisfy the specified test.\r
     * @param predicate A function that accepts up to three arguments. The every method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value false, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    every(predicate: (value: number, index: number, array: Uint8Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Changes all array elements from \`start\` to \`end\` index to a static \`value\` and returns the modified array\r
     * @param value value to fill array section with\r
     * @param start index to start filling the array at. If start is negative, it is treated as\r
     * length+start where length is the length of the array.\r
     * @param end index to stop filling the array at. If end is negative, it is treated as\r
     * length+end.\r
     */\r
    fill(value: number, start?: number, end?: number): this;\r
\r
    /**\r
     * Returns the elements of an array that meet the condition specified in a callback function.\r
     * @param predicate A function that accepts up to three arguments. The filter method calls\r
     * the predicate function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    filter(predicate: (value: number, index: number, array: Uint8Array) => any, thisArg?: any): Uint8Array;\r
\r
    /**\r
     * Returns the value of the first element in the array where predicate is true, and undefined\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found, find\r
     * immediately returns that element value. Otherwise, find returns undefined.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    find(predicate: (value: number, index: number, obj: Uint8Array) => boolean, thisArg?: any): number | undefined;\r
\r
    /**\r
     * Returns the index of the first element in the array where predicate is true, and -1\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found,\r
     * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    findIndex(predicate: (value: number, index: number, obj: Uint8Array) => boolean, thisArg?: any): number;\r
\r
    /**\r
     * Performs the specified action for each element in an array.\r
     * @param callbackfn  A function that accepts up to three arguments. forEach calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg  An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    forEach(callbackfn: (value: number, index: number, array: Uint8Array) => void, thisArg?: any): void;\r
\r
    /**\r
     * Returns the index of the first occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     *  search starts at index 0.\r
     */\r
    indexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * Adds all the elements of an array separated by the specified separator string.\r
     * @param separator A string used to separate one element of an array from the next in the\r
     * resulting String. If omitted, the array elements are separated with a comma.\r
     */\r
    join(separator?: string): string;\r
\r
    /**\r
     * Returns the index of the last occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     * search starts at index 0.\r
     */\r
    lastIndexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * The length of the array.\r
     */\r
    readonly length: number;\r
\r
    /**\r
     * Calls a defined callback function on each element of an array, and returns an array that\r
     * contains the results.\r
     * @param callbackfn A function that accepts up to three arguments. The map method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    map(callbackfn: (value: number, index: number, array: Uint8Array) => number, thisArg?: any): Uint8Array;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint8Array) => number): number;\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint8Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Uint8Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an\r
     * argument instead of an array value.\r
     */\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint8Array) => number): number;\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint8Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduceRight<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Uint8Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Reverses the elements in an Array.\r
     */\r
    reverse(): Uint8Array;\r
\r
    /**\r
     * Sets a value or an array of values.\r
     * @param array A typed or untyped array of values to set.\r
     * @param offset The index in the current array at which the values are to be written.\r
     */\r
    set(array: ArrayLike<number>, offset?: number): void;\r
\r
    /**\r
     * Returns a section of an array.\r
     * @param start The beginning of the specified portion of the array.\r
     * @param end The end of the specified portion of the array. This is exclusive of the element at the index 'end'.\r
     */\r
    slice(start?: number, end?: number): Uint8Array;\r
\r
    /**\r
     * Determines whether the specified callback function returns true for any element of an array.\r
     * @param predicate A function that accepts up to three arguments. The some method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value true, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    some(predicate: (value: number, index: number, array: Uint8Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Sorts an array.\r
     * @param compareFn Function used to determine the order of the elements. It is expected to return\r
     * a negative value if first argument is less than second argument, zero if they're equal and a positive\r
     * value otherwise. If omitted, the elements are sorted in ascending order.\r
     * \`\`\`ts\r
     * [11,2,22,1].sort((a, b) => a - b)\r
     * \`\`\`\r
     */\r
    sort(compareFn?: (a: number, b: number) => number): this;\r
\r
    /**\r
     * Gets a new Uint8Array view of the ArrayBuffer store for this array, referencing the elements\r
     * at begin, inclusive, up to end, exclusive.\r
     * @param begin The index of the beginning of the array.\r
     * @param end The index of the end of the array.\r
     */\r
    subarray(begin?: number, end?: number): Uint8Array;\r
\r
    /**\r
     * Converts a number to a string by using the current locale.\r
     */\r
    toLocaleString(): string;\r
\r
    /**\r
     * Returns a string representation of an array.\r
     */\r
    toString(): string;\r
\r
    /** Returns the primitive value of the specified object. */\r
    valueOf(): Uint8Array;\r
\r
    [index: number]: number;\r
}\r
\r
interface Uint8ArrayConstructor {\r
    readonly prototype: Uint8Array;\r
    new(length: number): Uint8Array;\r
    new(array: ArrayLike<number> | ArrayBufferLike): Uint8Array;\r
    new(buffer: ArrayBufferLike, byteOffset?: number, length?: number): Uint8Array;\r
\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * Returns a new array from a set of elements.\r
     * @param items A set of elements to include in the new array object.\r
     */\r
    of(...items: number[]): Uint8Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     */\r
    from(arrayLike: ArrayLike<number>): Uint8Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from<T>(arrayLike: ArrayLike<T>, mapfn: (v: T, k: number) => number, thisArg?: any): Uint8Array;\r
\r
}\r
declare var Uint8Array: Uint8ArrayConstructor;\r
\r
/**\r
 * A typed array of 8-bit unsigned integer (clamped) values. The contents are initialized to 0.\r
 * If the requested number of bytes could not be allocated an exception is raised.\r
 */\r
interface Uint8ClampedArray {\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * The ArrayBuffer instance referenced by the array.\r
     */\r
    readonly buffer: ArrayBufferLike;\r
\r
    /**\r
     * The length in bytes of the array.\r
     */\r
    readonly byteLength: number;\r
\r
    /**\r
     * The offset in bytes of the array.\r
     */\r
    readonly byteOffset: number;\r
\r
    /**\r
     * Returns the this object after copying a section of the array identified by start and end\r
     * to the same array starting at position target\r
     * @param target If target is negative, it is treated as length+target where length is the\r
     * length of the array.\r
     * @param start If start is negative, it is treated as length+start. If end is negative, it\r
     * is treated as length+end.\r
     * @param end If not specified, length of the this object is used as its default value.\r
     */\r
    copyWithin(target: number, start: number, end?: number): this;\r
\r
    /**\r
     * Determines whether all the members of an array satisfy the specified test.\r
     * @param predicate A function that accepts up to three arguments. The every method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value false, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    every(predicate: (value: number, index: number, array: Uint8ClampedArray) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Changes all array elements from \`start\` to \`end\` index to a static \`value\` and returns the modified array\r
     * @param value value to fill array section with\r
     * @param start index to start filling the array at. If start is negative, it is treated as\r
     * length+start where length is the length of the array.\r
     * @param end index to stop filling the array at. If end is negative, it is treated as\r
     * length+end.\r
     */\r
    fill(value: number, start?: number, end?: number): this;\r
\r
    /**\r
     * Returns the elements of an array that meet the condition specified in a callback function.\r
     * @param predicate A function that accepts up to three arguments. The filter method calls\r
     * the predicate function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    filter(predicate: (value: number, index: number, array: Uint8ClampedArray) => any, thisArg?: any): Uint8ClampedArray;\r
\r
    /**\r
     * Returns the value of the first element in the array where predicate is true, and undefined\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found, find\r
     * immediately returns that element value. Otherwise, find returns undefined.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    find(predicate: (value: number, index: number, obj: Uint8ClampedArray) => boolean, thisArg?: any): number | undefined;\r
\r
    /**\r
     * Returns the index of the first element in the array where predicate is true, and -1\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found,\r
     * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    findIndex(predicate: (value: number, index: number, obj: Uint8ClampedArray) => boolean, thisArg?: any): number;\r
\r
    /**\r
     * Performs the specified action for each element in an array.\r
     * @param callbackfn  A function that accepts up to three arguments. forEach calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg  An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    forEach(callbackfn: (value: number, index: number, array: Uint8ClampedArray) => void, thisArg?: any): void;\r
\r
    /**\r
     * Returns the index of the first occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     *  search starts at index 0.\r
     */\r
    indexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * Adds all the elements of an array separated by the specified separator string.\r
     * @param separator A string used to separate one element of an array from the next in the\r
     * resulting String. If omitted, the array elements are separated with a comma.\r
     */\r
    join(separator?: string): string;\r
\r
    /**\r
     * Returns the index of the last occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     * search starts at index 0.\r
     */\r
    lastIndexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * The length of the array.\r
     */\r
    readonly length: number;\r
\r
    /**\r
     * Calls a defined callback function on each element of an array, and returns an array that\r
     * contains the results.\r
     * @param callbackfn A function that accepts up to three arguments. The map method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    map(callbackfn: (value: number, index: number, array: Uint8ClampedArray) => number, thisArg?: any): Uint8ClampedArray;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint8ClampedArray) => number): number;\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint8ClampedArray) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Uint8ClampedArray) => U, initialValue: U): U;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an\r
     * argument instead of an array value.\r
     */\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint8ClampedArray) => number): number;\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint8ClampedArray) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduceRight<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Uint8ClampedArray) => U, initialValue: U): U;\r
\r
    /**\r
     * Reverses the elements in an Array.\r
     */\r
    reverse(): Uint8ClampedArray;\r
\r
    /**\r
     * Sets a value or an array of values.\r
     * @param array A typed or untyped array of values to set.\r
     * @param offset The index in the current array at which the values are to be written.\r
     */\r
    set(array: ArrayLike<number>, offset?: number): void;\r
\r
    /**\r
     * Returns a section of an array.\r
     * @param start The beginning of the specified portion of the array.\r
     * @param end The end of the specified portion of the array. This is exclusive of the element at the index 'end'.\r
     */\r
    slice(start?: number, end?: number): Uint8ClampedArray;\r
\r
    /**\r
     * Determines whether the specified callback function returns true for any element of an array.\r
     * @param predicate A function that accepts up to three arguments. The some method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value true, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    some(predicate: (value: number, index: number, array: Uint8ClampedArray) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Sorts an array.\r
     * @param compareFn Function used to determine the order of the elements. It is expected to return\r
     * a negative value if first argument is less than second argument, zero if they're equal and a positive\r
     * value otherwise. If omitted, the elements are sorted in ascending order.\r
     * \`\`\`ts\r
     * [11,2,22,1].sort((a, b) => a - b)\r
     * \`\`\`\r
     */\r
    sort(compareFn?: (a: number, b: number) => number): this;\r
\r
    /**\r
     * Gets a new Uint8ClampedArray view of the ArrayBuffer store for this array, referencing the elements\r
     * at begin, inclusive, up to end, exclusive.\r
     * @param begin The index of the beginning of the array.\r
     * @param end The index of the end of the array.\r
     */\r
    subarray(begin?: number, end?: number): Uint8ClampedArray;\r
\r
    /**\r
     * Converts a number to a string by using the current locale.\r
     */\r
    toLocaleString(): string;\r
\r
    /**\r
     * Returns a string representation of an array.\r
     */\r
    toString(): string;\r
\r
    /** Returns the primitive value of the specified object. */\r
    valueOf(): Uint8ClampedArray;\r
\r
    [index: number]: number;\r
}\r
\r
interface Uint8ClampedArrayConstructor {\r
    readonly prototype: Uint8ClampedArray;\r
    new(length: number): Uint8ClampedArray;\r
    new(array: ArrayLike<number> | ArrayBufferLike): Uint8ClampedArray;\r
    new(buffer: ArrayBufferLike, byteOffset?: number, length?: number): Uint8ClampedArray;\r
\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * Returns a new array from a set of elements.\r
     * @param items A set of elements to include in the new array object.\r
     */\r
    of(...items: number[]): Uint8ClampedArray;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     */\r
    from(arrayLike: ArrayLike<number>): Uint8ClampedArray;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from<T>(arrayLike: ArrayLike<T>, mapfn: (v: T, k: number) => number, thisArg?: any): Uint8ClampedArray;\r
}\r
declare var Uint8ClampedArray: Uint8ClampedArrayConstructor;\r
\r
/**\r
 * A typed array of 16-bit signed integer values. The contents are initialized to 0. If the\r
 * requested number of bytes could not be allocated an exception is raised.\r
 */\r
interface Int16Array {\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * The ArrayBuffer instance referenced by the array.\r
     */\r
    readonly buffer: ArrayBufferLike;\r
\r
    /**\r
     * The length in bytes of the array.\r
     */\r
    readonly byteLength: number;\r
\r
    /**\r
     * The offset in bytes of the array.\r
     */\r
    readonly byteOffset: number;\r
\r
    /**\r
     * Returns the this object after copying a section of the array identified by start and end\r
     * to the same array starting at position target\r
     * @param target If target is negative, it is treated as length+target where length is the\r
     * length of the array.\r
     * @param start If start is negative, it is treated as length+start. If end is negative, it\r
     * is treated as length+end.\r
     * @param end If not specified, length of the this object is used as its default value.\r
     */\r
    copyWithin(target: number, start: number, end?: number): this;\r
\r
    /**\r
     * Determines whether all the members of an array satisfy the specified test.\r
     * @param predicate A function that accepts up to three arguments. The every method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value false, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    every(predicate: (value: number, index: number, array: Int16Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Changes all array elements from \`start\` to \`end\` index to a static \`value\` and returns the modified array\r
     * @param value value to fill array section with\r
     * @param start index to start filling the array at. If start is negative, it is treated as\r
     * length+start where length is the length of the array.\r
     * @param end index to stop filling the array at. If end is negative, it is treated as\r
     * length+end.\r
     */\r
    fill(value: number, start?: number, end?: number): this;\r
\r
    /**\r
     * Returns the elements of an array that meet the condition specified in a callback function.\r
     * @param predicate A function that accepts up to three arguments. The filter method calls\r
     * the predicate function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    filter(predicate: (value: number, index: number, array: Int16Array) => any, thisArg?: any): Int16Array;\r
\r
    /**\r
     * Returns the value of the first element in the array where predicate is true, and undefined\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found, find\r
     * immediately returns that element value. Otherwise, find returns undefined.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    find(predicate: (value: number, index: number, obj: Int16Array) => boolean, thisArg?: any): number | undefined;\r
\r
    /**\r
     * Returns the index of the first element in the array where predicate is true, and -1\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found,\r
     * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    findIndex(predicate: (value: number, index: number, obj: Int16Array) => boolean, thisArg?: any): number;\r
\r
    /**\r
     * Performs the specified action for each element in an array.\r
     * @param callbackfn  A function that accepts up to three arguments. forEach calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg  An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    forEach(callbackfn: (value: number, index: number, array: Int16Array) => void, thisArg?: any): void;\r
    /**\r
     * Returns the index of the first occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     *  search starts at index 0.\r
     */\r
    indexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * Adds all the elements of an array separated by the specified separator string.\r
     * @param separator A string used to separate one element of an array from the next in the\r
     * resulting String. If omitted, the array elements are separated with a comma.\r
     */\r
    join(separator?: string): string;\r
\r
    /**\r
     * Returns the index of the last occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     * search starts at index 0.\r
     */\r
    lastIndexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * The length of the array.\r
     */\r
    readonly length: number;\r
\r
    /**\r
     * Calls a defined callback function on each element of an array, and returns an array that\r
     * contains the results.\r
     * @param callbackfn A function that accepts up to three arguments. The map method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    map(callbackfn: (value: number, index: number, array: Int16Array) => number, thisArg?: any): Int16Array;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Int16Array) => number): number;\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Int16Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Int16Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an\r
     * argument instead of an array value.\r
     */\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Int16Array) => number): number;\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Int16Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduceRight<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Int16Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Reverses the elements in an Array.\r
     */\r
    reverse(): Int16Array;\r
\r
    /**\r
     * Sets a value or an array of values.\r
     * @param array A typed or untyped array of values to set.\r
     * @param offset The index in the current array at which the values are to be written.\r
     */\r
    set(array: ArrayLike<number>, offset?: number): void;\r
\r
    /**\r
     * Returns a section of an array.\r
     * @param start The beginning of the specified portion of the array.\r
     * @param end The end of the specified portion of the array. This is exclusive of the element at the index 'end'.\r
     */\r
    slice(start?: number, end?: number): Int16Array;\r
\r
    /**\r
     * Determines whether the specified callback function returns true for any element of an array.\r
     * @param predicate A function that accepts up to three arguments. The some method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value true, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    some(predicate: (value: number, index: number, array: Int16Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Sorts an array.\r
     * @param compareFn Function used to determine the order of the elements. It is expected to return\r
     * a negative value if first argument is less than second argument, zero if they're equal and a positive\r
     * value otherwise. If omitted, the elements are sorted in ascending order.\r
     * \`\`\`ts\r
     * [11,2,22,1].sort((a, b) => a - b)\r
     * \`\`\`\r
     */\r
    sort(compareFn?: (a: number, b: number) => number): this;\r
\r
    /**\r
     * Gets a new Int16Array view of the ArrayBuffer store for this array, referencing the elements\r
     * at begin, inclusive, up to end, exclusive.\r
     * @param begin The index of the beginning of the array.\r
     * @param end The index of the end of the array.\r
     */\r
    subarray(begin?: number, end?: number): Int16Array;\r
\r
    /**\r
     * Converts a number to a string by using the current locale.\r
     */\r
    toLocaleString(): string;\r
\r
    /**\r
     * Returns a string representation of an array.\r
     */\r
    toString(): string;\r
\r
    /** Returns the primitive value of the specified object. */\r
    valueOf(): Int16Array;\r
\r
    [index: number]: number;\r
}\r
\r
interface Int16ArrayConstructor {\r
    readonly prototype: Int16Array;\r
    new(length: number): Int16Array;\r
    new(array: ArrayLike<number> | ArrayBufferLike): Int16Array;\r
    new(buffer: ArrayBufferLike, byteOffset?: number, length?: number): Int16Array;\r
\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * Returns a new array from a set of elements.\r
     * @param items A set of elements to include in the new array object.\r
     */\r
    of(...items: number[]): Int16Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     */\r
    from(arrayLike: ArrayLike<number>): Int16Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from<T>(arrayLike: ArrayLike<T>, mapfn: (v: T, k: number) => number, thisArg?: any): Int16Array;\r
\r
\r
}\r
declare var Int16Array: Int16ArrayConstructor;\r
\r
/**\r
 * A typed array of 16-bit unsigned integer values. The contents are initialized to 0. If the\r
 * requested number of bytes could not be allocated an exception is raised.\r
 */\r
interface Uint16Array {\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * The ArrayBuffer instance referenced by the array.\r
     */\r
    readonly buffer: ArrayBufferLike;\r
\r
    /**\r
     * The length in bytes of the array.\r
     */\r
    readonly byteLength: number;\r
\r
    /**\r
     * The offset in bytes of the array.\r
     */\r
    readonly byteOffset: number;\r
\r
    /**\r
     * Returns the this object after copying a section of the array identified by start and end\r
     * to the same array starting at position target\r
     * @param target If target is negative, it is treated as length+target where length is the\r
     * length of the array.\r
     * @param start If start is negative, it is treated as length+start. If end is negative, it\r
     * is treated as length+end.\r
     * @param end If not specified, length of the this object is used as its default value.\r
     */\r
    copyWithin(target: number, start: number, end?: number): this;\r
\r
    /**\r
     * Determines whether all the members of an array satisfy the specified test.\r
     * @param predicate A function that accepts up to three arguments. The every method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value false, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    every(predicate: (value: number, index: number, array: Uint16Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Changes all array elements from \`start\` to \`end\` index to a static \`value\` and returns the modified array\r
     * @param value value to fill array section with\r
     * @param start index to start filling the array at. If start is negative, it is treated as\r
     * length+start where length is the length of the array.\r
     * @param end index to stop filling the array at. If end is negative, it is treated as\r
     * length+end.\r
     */\r
    fill(value: number, start?: number, end?: number): this;\r
\r
    /**\r
     * Returns the elements of an array that meet the condition specified in a callback function.\r
     * @param predicate A function that accepts up to three arguments. The filter method calls\r
     * the predicate function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    filter(predicate: (value: number, index: number, array: Uint16Array) => any, thisArg?: any): Uint16Array;\r
\r
    /**\r
     * Returns the value of the first element in the array where predicate is true, and undefined\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found, find\r
     * immediately returns that element value. Otherwise, find returns undefined.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    find(predicate: (value: number, index: number, obj: Uint16Array) => boolean, thisArg?: any): number | undefined;\r
\r
    /**\r
     * Returns the index of the first element in the array where predicate is true, and -1\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found,\r
     * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    findIndex(predicate: (value: number, index: number, obj: Uint16Array) => boolean, thisArg?: any): number;\r
\r
    /**\r
     * Performs the specified action for each element in an array.\r
     * @param callbackfn  A function that accepts up to three arguments. forEach calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg  An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    forEach(callbackfn: (value: number, index: number, array: Uint16Array) => void, thisArg?: any): void;\r
\r
    /**\r
     * Returns the index of the first occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     *  search starts at index 0.\r
     */\r
    indexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * Adds all the elements of an array separated by the specified separator string.\r
     * @param separator A string used to separate one element of an array from the next in the\r
     * resulting String. If omitted, the array elements are separated with a comma.\r
     */\r
    join(separator?: string): string;\r
\r
    /**\r
     * Returns the index of the last occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     * search starts at index 0.\r
     */\r
    lastIndexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * The length of the array.\r
     */\r
    readonly length: number;\r
\r
    /**\r
     * Calls a defined callback function on each element of an array, and returns an array that\r
     * contains the results.\r
     * @param callbackfn A function that accepts up to three arguments. The map method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    map(callbackfn: (value: number, index: number, array: Uint16Array) => number, thisArg?: any): Uint16Array;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint16Array) => number): number;\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint16Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Uint16Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an\r
     * argument instead of an array value.\r
     */\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint16Array) => number): number;\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint16Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduceRight<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Uint16Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Reverses the elements in an Array.\r
     */\r
    reverse(): Uint16Array;\r
\r
    /**\r
     * Sets a value or an array of values.\r
     * @param array A typed or untyped array of values to set.\r
     * @param offset The index in the current array at which the values are to be written.\r
     */\r
    set(array: ArrayLike<number>, offset?: number): void;\r
\r
    /**\r
     * Returns a section of an array.\r
     * @param start The beginning of the specified portion of the array.\r
     * @param end The end of the specified portion of the array. This is exclusive of the element at the index 'end'.\r
     */\r
    slice(start?: number, end?: number): Uint16Array;\r
\r
    /**\r
     * Determines whether the specified callback function returns true for any element of an array.\r
     * @param predicate A function that accepts up to three arguments. The some method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value true, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    some(predicate: (value: number, index: number, array: Uint16Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Sorts an array.\r
     * @param compareFn Function used to determine the order of the elements. It is expected to return\r
     * a negative value if first argument is less than second argument, zero if they're equal and a positive\r
     * value otherwise. If omitted, the elements are sorted in ascending order.\r
     * \`\`\`ts\r
     * [11,2,22,1].sort((a, b) => a - b)\r
     * \`\`\`\r
     */\r
    sort(compareFn?: (a: number, b: number) => number): this;\r
\r
    /**\r
     * Gets a new Uint16Array view of the ArrayBuffer store for this array, referencing the elements\r
     * at begin, inclusive, up to end, exclusive.\r
     * @param begin The index of the beginning of the array.\r
     * @param end The index of the end of the array.\r
     */\r
    subarray(begin?: number, end?: number): Uint16Array;\r
\r
    /**\r
     * Converts a number to a string by using the current locale.\r
     */\r
    toLocaleString(): string;\r
\r
    /**\r
     * Returns a string representation of an array.\r
     */\r
    toString(): string;\r
\r
    /** Returns the primitive value of the specified object. */\r
    valueOf(): Uint16Array;\r
\r
    [index: number]: number;\r
}\r
\r
interface Uint16ArrayConstructor {\r
    readonly prototype: Uint16Array;\r
    new(length: number): Uint16Array;\r
    new(array: ArrayLike<number> | ArrayBufferLike): Uint16Array;\r
    new(buffer: ArrayBufferLike, byteOffset?: number, length?: number): Uint16Array;\r
\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * Returns a new array from a set of elements.\r
     * @param items A set of elements to include in the new array object.\r
     */\r
    of(...items: number[]): Uint16Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     */\r
    from(arrayLike: ArrayLike<number>): Uint16Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from<T>(arrayLike: ArrayLike<T>, mapfn: (v: T, k: number) => number, thisArg?: any): Uint16Array;\r
\r
\r
}\r
declare var Uint16Array: Uint16ArrayConstructor;\r
/**\r
 * A typed array of 32-bit signed integer values. The contents are initialized to 0. If the\r
 * requested number of bytes could not be allocated an exception is raised.\r
 */\r
interface Int32Array {\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * The ArrayBuffer instance referenced by the array.\r
     */\r
    readonly buffer: ArrayBufferLike;\r
\r
    /**\r
     * The length in bytes of the array.\r
     */\r
    readonly byteLength: number;\r
\r
    /**\r
     * The offset in bytes of the array.\r
     */\r
    readonly byteOffset: number;\r
\r
    /**\r
     * Returns the this object after copying a section of the array identified by start and end\r
     * to the same array starting at position target\r
     * @param target If target is negative, it is treated as length+target where length is the\r
     * length of the array.\r
     * @param start If start is negative, it is treated as length+start. If end is negative, it\r
     * is treated as length+end.\r
     * @param end If not specified, length of the this object is used as its default value.\r
     */\r
    copyWithin(target: number, start: number, end?: number): this;\r
\r
    /**\r
     * Determines whether all the members of an array satisfy the specified test.\r
     * @param predicate A function that accepts up to three arguments. The every method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value false, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    every(predicate: (value: number, index: number, array: Int32Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Changes all array elements from \`start\` to \`end\` index to a static \`value\` and returns the modified array\r
     * @param value value to fill array section with\r
     * @param start index to start filling the array at. If start is negative, it is treated as\r
     * length+start where length is the length of the array.\r
     * @param end index to stop filling the array at. If end is negative, it is treated as\r
     * length+end.\r
     */\r
    fill(value: number, start?: number, end?: number): this;\r
\r
    /**\r
     * Returns the elements of an array that meet the condition specified in a callback function.\r
     * @param predicate A function that accepts up to three arguments. The filter method calls\r
     * the predicate function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    filter(predicate: (value: number, index: number, array: Int32Array) => any, thisArg?: any): Int32Array;\r
\r
    /**\r
     * Returns the value of the first element in the array where predicate is true, and undefined\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found, find\r
     * immediately returns that element value. Otherwise, find returns undefined.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    find(predicate: (value: number, index: number, obj: Int32Array) => boolean, thisArg?: any): number | undefined;\r
\r
    /**\r
     * Returns the index of the first element in the array where predicate is true, and -1\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found,\r
     * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    findIndex(predicate: (value: number, index: number, obj: Int32Array) => boolean, thisArg?: any): number;\r
\r
    /**\r
     * Performs the specified action for each element in an array.\r
     * @param callbackfn  A function that accepts up to three arguments. forEach calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg  An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    forEach(callbackfn: (value: number, index: number, array: Int32Array) => void, thisArg?: any): void;\r
\r
    /**\r
     * Returns the index of the first occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     *  search starts at index 0.\r
     */\r
    indexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * Adds all the elements of an array separated by the specified separator string.\r
     * @param separator A string used to separate one element of an array from the next in the\r
     * resulting String. If omitted, the array elements are separated with a comma.\r
     */\r
    join(separator?: string): string;\r
\r
    /**\r
     * Returns the index of the last occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     * search starts at index 0.\r
     */\r
    lastIndexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * The length of the array.\r
     */\r
    readonly length: number;\r
\r
    /**\r
     * Calls a defined callback function on each element of an array, and returns an array that\r
     * contains the results.\r
     * @param callbackfn A function that accepts up to three arguments. The map method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    map(callbackfn: (value: number, index: number, array: Int32Array) => number, thisArg?: any): Int32Array;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Int32Array) => number): number;\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Int32Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Int32Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an\r
     * argument instead of an array value.\r
     */\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Int32Array) => number): number;\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Int32Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduceRight<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Int32Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Reverses the elements in an Array.\r
     */\r
    reverse(): Int32Array;\r
\r
    /**\r
     * Sets a value or an array of values.\r
     * @param array A typed or untyped array of values to set.\r
     * @param offset The index in the current array at which the values are to be written.\r
     */\r
    set(array: ArrayLike<number>, offset?: number): void;\r
\r
    /**\r
     * Returns a section of an array.\r
     * @param start The beginning of the specified portion of the array.\r
     * @param end The end of the specified portion of the array. This is exclusive of the element at the index 'end'.\r
     */\r
    slice(start?: number, end?: number): Int32Array;\r
\r
    /**\r
     * Determines whether the specified callback function returns true for any element of an array.\r
     * @param predicate A function that accepts up to three arguments. The some method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value true, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    some(predicate: (value: number, index: number, array: Int32Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Sorts an array.\r
     * @param compareFn Function used to determine the order of the elements. It is expected to return\r
     * a negative value if first argument is less than second argument, zero if they're equal and a positive\r
     * value otherwise. If omitted, the elements are sorted in ascending order.\r
     * \`\`\`ts\r
     * [11,2,22,1].sort((a, b) => a - b)\r
     * \`\`\`\r
     */\r
    sort(compareFn?: (a: number, b: number) => number): this;\r
\r
    /**\r
     * Gets a new Int32Array view of the ArrayBuffer store for this array, referencing the elements\r
     * at begin, inclusive, up to end, exclusive.\r
     * @param begin The index of the beginning of the array.\r
     * @param end The index of the end of the array.\r
     */\r
    subarray(begin?: number, end?: number): Int32Array;\r
\r
    /**\r
     * Converts a number to a string by using the current locale.\r
     */\r
    toLocaleString(): string;\r
\r
    /**\r
     * Returns a string representation of an array.\r
     */\r
    toString(): string;\r
\r
    /** Returns the primitive value of the specified object. */\r
    valueOf(): Int32Array;\r
\r
    [index: number]: number;\r
}\r
\r
interface Int32ArrayConstructor {\r
    readonly prototype: Int32Array;\r
    new(length: number): Int32Array;\r
    new(array: ArrayLike<number> | ArrayBufferLike): Int32Array;\r
    new(buffer: ArrayBufferLike, byteOffset?: number, length?: number): Int32Array;\r
\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * Returns a new array from a set of elements.\r
     * @param items A set of elements to include in the new array object.\r
     */\r
    of(...items: number[]): Int32Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     */\r
    from(arrayLike: ArrayLike<number>): Int32Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from<T>(arrayLike: ArrayLike<T>, mapfn: (v: T, k: number) => number, thisArg?: any): Int32Array;\r
\r
}\r
declare var Int32Array: Int32ArrayConstructor;\r
\r
/**\r
 * A typed array of 32-bit unsigned integer values. The contents are initialized to 0. If the\r
 * requested number of bytes could not be allocated an exception is raised.\r
 */\r
interface Uint32Array {\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * The ArrayBuffer instance referenced by the array.\r
     */\r
    readonly buffer: ArrayBufferLike;\r
\r
    /**\r
     * The length in bytes of the array.\r
     */\r
    readonly byteLength: number;\r
\r
    /**\r
     * The offset in bytes of the array.\r
     */\r
    readonly byteOffset: number;\r
\r
    /**\r
     * Returns the this object after copying a section of the array identified by start and end\r
     * to the same array starting at position target\r
     * @param target If target is negative, it is treated as length+target where length is the\r
     * length of the array.\r
     * @param start If start is negative, it is treated as length+start. If end is negative, it\r
     * is treated as length+end.\r
     * @param end If not specified, length of the this object is used as its default value.\r
     */\r
    copyWithin(target: number, start: number, end?: number): this;\r
\r
    /**\r
     * Determines whether all the members of an array satisfy the specified test.\r
     * @param predicate A function that accepts up to three arguments. The every method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value false, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    every(predicate: (value: number, index: number, array: Uint32Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Changes all array elements from \`start\` to \`end\` index to a static \`value\` and returns the modified array\r
     * @param value value to fill array section with\r
     * @param start index to start filling the array at. If start is negative, it is treated as\r
     * length+start where length is the length of the array.\r
     * @param end index to stop filling the array at. If end is negative, it is treated as\r
     * length+end.\r
     */\r
    fill(value: number, start?: number, end?: number): this;\r
\r
    /**\r
     * Returns the elements of an array that meet the condition specified in a callback function.\r
     * @param predicate A function that accepts up to three arguments. The filter method calls\r
     * the predicate function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    filter(predicate: (value: number, index: number, array: Uint32Array) => any, thisArg?: any): Uint32Array;\r
\r
    /**\r
     * Returns the value of the first element in the array where predicate is true, and undefined\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found, find\r
     * immediately returns that element value. Otherwise, find returns undefined.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    find(predicate: (value: number, index: number, obj: Uint32Array) => boolean, thisArg?: any): number | undefined;\r
\r
    /**\r
     * Returns the index of the first element in the array where predicate is true, and -1\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found,\r
     * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    findIndex(predicate: (value: number, index: number, obj: Uint32Array) => boolean, thisArg?: any): number;\r
\r
    /**\r
     * Performs the specified action for each element in an array.\r
     * @param callbackfn  A function that accepts up to three arguments. forEach calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg  An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    forEach(callbackfn: (value: number, index: number, array: Uint32Array) => void, thisArg?: any): void;\r
    /**\r
     * Returns the index of the first occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     *  search starts at index 0.\r
     */\r
    indexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * Adds all the elements of an array separated by the specified separator string.\r
     * @param separator A string used to separate one element of an array from the next in the\r
     * resulting String. If omitted, the array elements are separated with a comma.\r
     */\r
    join(separator?: string): string;\r
\r
    /**\r
     * Returns the index of the last occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     * search starts at index 0.\r
     */\r
    lastIndexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * The length of the array.\r
     */\r
    readonly length: number;\r
\r
    /**\r
     * Calls a defined callback function on each element of an array, and returns an array that\r
     * contains the results.\r
     * @param callbackfn A function that accepts up to three arguments. The map method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    map(callbackfn: (value: number, index: number, array: Uint32Array) => number, thisArg?: any): Uint32Array;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint32Array) => number): number;\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint32Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Uint32Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an\r
     * argument instead of an array value.\r
     */\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint32Array) => number): number;\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Uint32Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduceRight<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Uint32Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Reverses the elements in an Array.\r
     */\r
    reverse(): Uint32Array;\r
\r
    /**\r
     * Sets a value or an array of values.\r
     * @param array A typed or untyped array of values to set.\r
     * @param offset The index in the current array at which the values are to be written.\r
     */\r
    set(array: ArrayLike<number>, offset?: number): void;\r
\r
    /**\r
     * Returns a section of an array.\r
     * @param start The beginning of the specified portion of the array.\r
     * @param end The end of the specified portion of the array. This is exclusive of the element at the index 'end'.\r
     */\r
    slice(start?: number, end?: number): Uint32Array;\r
\r
    /**\r
     * Determines whether the specified callback function returns true for any element of an array.\r
     * @param predicate A function that accepts up to three arguments. The some method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value true, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    some(predicate: (value: number, index: number, array: Uint32Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Sorts an array.\r
     * @param compareFn Function used to determine the order of the elements. It is expected to return\r
     * a negative value if first argument is less than second argument, zero if they're equal and a positive\r
     * value otherwise. If omitted, the elements are sorted in ascending order.\r
     * \`\`\`ts\r
     * [11,2,22,1].sort((a, b) => a - b)\r
     * \`\`\`\r
     */\r
    sort(compareFn?: (a: number, b: number) => number): this;\r
\r
    /**\r
     * Gets a new Uint32Array view of the ArrayBuffer store for this array, referencing the elements\r
     * at begin, inclusive, up to end, exclusive.\r
     * @param begin The index of the beginning of the array.\r
     * @param end The index of the end of the array.\r
     */\r
    subarray(begin?: number, end?: number): Uint32Array;\r
\r
    /**\r
     * Converts a number to a string by using the current locale.\r
     */\r
    toLocaleString(): string;\r
\r
    /**\r
     * Returns a string representation of an array.\r
     */\r
    toString(): string;\r
\r
    /** Returns the primitive value of the specified object. */\r
    valueOf(): Uint32Array;\r
\r
    [index: number]: number;\r
}\r
\r
interface Uint32ArrayConstructor {\r
    readonly prototype: Uint32Array;\r
    new(length: number): Uint32Array;\r
    new(array: ArrayLike<number> | ArrayBufferLike): Uint32Array;\r
    new(buffer: ArrayBufferLike, byteOffset?: number, length?: number): Uint32Array;\r
\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * Returns a new array from a set of elements.\r
     * @param items A set of elements to include in the new array object.\r
     */\r
    of(...items: number[]): Uint32Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     */\r
    from(arrayLike: ArrayLike<number>): Uint32Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from<T>(arrayLike: ArrayLike<T>, mapfn: (v: T, k: number) => number, thisArg?: any): Uint32Array;\r
\r
}\r
declare var Uint32Array: Uint32ArrayConstructor;\r
\r
/**\r
 * A typed array of 32-bit float values. The contents are initialized to 0. If the requested number\r
 * of bytes could not be allocated an exception is raised.\r
 */\r
interface Float32Array {\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * The ArrayBuffer instance referenced by the array.\r
     */\r
    readonly buffer: ArrayBufferLike;\r
\r
    /**\r
     * The length in bytes of the array.\r
     */\r
    readonly byteLength: number;\r
\r
    /**\r
     * The offset in bytes of the array.\r
     */\r
    readonly byteOffset: number;\r
\r
    /**\r
     * Returns the this object after copying a section of the array identified by start and end\r
     * to the same array starting at position target\r
     * @param target If target is negative, it is treated as length+target where length is the\r
     * length of the array.\r
     * @param start If start is negative, it is treated as length+start. If end is negative, it\r
     * is treated as length+end.\r
     * @param end If not specified, length of the this object is used as its default value.\r
     */\r
    copyWithin(target: number, start: number, end?: number): this;\r
\r
    /**\r
     * Determines whether all the members of an array satisfy the specified test.\r
     * @param predicate A function that accepts up to three arguments. The every method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value false, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    every(predicate: (value: number, index: number, array: Float32Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Changes all array elements from \`start\` to \`end\` index to a static \`value\` and returns the modified array\r
     * @param value value to fill array section with\r
     * @param start index to start filling the array at. If start is negative, it is treated as\r
     * length+start where length is the length of the array.\r
     * @param end index to stop filling the array at. If end is negative, it is treated as\r
     * length+end.\r
     */\r
    fill(value: number, start?: number, end?: number): this;\r
\r
    /**\r
     * Returns the elements of an array that meet the condition specified in a callback function.\r
     * @param predicate A function that accepts up to three arguments. The filter method calls\r
     * the predicate function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    filter(predicate: (value: number, index: number, array: Float32Array) => any, thisArg?: any): Float32Array;\r
\r
    /**\r
     * Returns the value of the first element in the array where predicate is true, and undefined\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found, find\r
     * immediately returns that element value. Otherwise, find returns undefined.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    find(predicate: (value: number, index: number, obj: Float32Array) => boolean, thisArg?: any): number | undefined;\r
\r
    /**\r
     * Returns the index of the first element in the array where predicate is true, and -1\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found,\r
     * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    findIndex(predicate: (value: number, index: number, obj: Float32Array) => boolean, thisArg?: any): number;\r
\r
    /**\r
     * Performs the specified action for each element in an array.\r
     * @param callbackfn  A function that accepts up to three arguments. forEach calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg  An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    forEach(callbackfn: (value: number, index: number, array: Float32Array) => void, thisArg?: any): void;\r
\r
    /**\r
     * Returns the index of the first occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     *  search starts at index 0.\r
     */\r
    indexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * Adds all the elements of an array separated by the specified separator string.\r
     * @param separator A string used to separate one element of an array from the next in the\r
     * resulting String. If omitted, the array elements are separated with a comma.\r
     */\r
    join(separator?: string): string;\r
\r
    /**\r
     * Returns the index of the last occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     * search starts at index 0.\r
     */\r
    lastIndexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * The length of the array.\r
     */\r
    readonly length: number;\r
\r
    /**\r
     * Calls a defined callback function on each element of an array, and returns an array that\r
     * contains the results.\r
     * @param callbackfn A function that accepts up to three arguments. The map method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    map(callbackfn: (value: number, index: number, array: Float32Array) => number, thisArg?: any): Float32Array;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Float32Array) => number): number;\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Float32Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Float32Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an\r
     * argument instead of an array value.\r
     */\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Float32Array) => number): number;\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Float32Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduceRight<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Float32Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Reverses the elements in an Array.\r
     */\r
    reverse(): Float32Array;\r
\r
    /**\r
     * Sets a value or an array of values.\r
     * @param array A typed or untyped array of values to set.\r
     * @param offset The index in the current array at which the values are to be written.\r
     */\r
    set(array: ArrayLike<number>, offset?: number): void;\r
\r
    /**\r
     * Returns a section of an array.\r
     * @param start The beginning of the specified portion of the array.\r
     * @param end The end of the specified portion of the array. This is exclusive of the element at the index 'end'.\r
     */\r
    slice(start?: number, end?: number): Float32Array;\r
\r
    /**\r
     * Determines whether the specified callback function returns true for any element of an array.\r
     * @param predicate A function that accepts up to three arguments. The some method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value true, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    some(predicate: (value: number, index: number, array: Float32Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Sorts an array.\r
     * @param compareFn Function used to determine the order of the elements. It is expected to return\r
     * a negative value if first argument is less than second argument, zero if they're equal and a positive\r
     * value otherwise. If omitted, the elements are sorted in ascending order.\r
     * \`\`\`ts\r
     * [11,2,22,1].sort((a, b) => a - b)\r
     * \`\`\`\r
     */\r
    sort(compareFn?: (a: number, b: number) => number): this;\r
\r
    /**\r
     * Gets a new Float32Array view of the ArrayBuffer store for this array, referencing the elements\r
     * at begin, inclusive, up to end, exclusive.\r
     * @param begin The index of the beginning of the array.\r
     * @param end The index of the end of the array.\r
     */\r
    subarray(begin?: number, end?: number): Float32Array;\r
\r
    /**\r
     * Converts a number to a string by using the current locale.\r
     */\r
    toLocaleString(): string;\r
\r
    /**\r
     * Returns a string representation of an array.\r
     */\r
    toString(): string;\r
\r
    /** Returns the primitive value of the specified object. */\r
    valueOf(): Float32Array;\r
\r
    [index: number]: number;\r
}\r
\r
interface Float32ArrayConstructor {\r
    readonly prototype: Float32Array;\r
    new(length: number): Float32Array;\r
    new(array: ArrayLike<number> | ArrayBufferLike): Float32Array;\r
    new(buffer: ArrayBufferLike, byteOffset?: number, length?: number): Float32Array;\r
\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * Returns a new array from a set of elements.\r
     * @param items A set of elements to include in the new array object.\r
     */\r
    of(...items: number[]): Float32Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     */\r
    from(arrayLike: ArrayLike<number>): Float32Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from<T>(arrayLike: ArrayLike<T>, mapfn: (v: T, k: number) => number, thisArg?: any): Float32Array;\r
\r
\r
}\r
declare var Float32Array: Float32ArrayConstructor;\r
\r
/**\r
 * A typed array of 64-bit float values. The contents are initialized to 0. If the requested\r
 * number of bytes could not be allocated an exception is raised.\r
 */\r
interface Float64Array {\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * The ArrayBuffer instance referenced by the array.\r
     */\r
    readonly buffer: ArrayBufferLike;\r
\r
    /**\r
     * The length in bytes of the array.\r
     */\r
    readonly byteLength: number;\r
\r
    /**\r
     * The offset in bytes of the array.\r
     */\r
    readonly byteOffset: number;\r
\r
    /**\r
     * Returns the this object after copying a section of the array identified by start and end\r
     * to the same array starting at position target\r
     * @param target If target is negative, it is treated as length+target where length is the\r
     * length of the array.\r
     * @param start If start is negative, it is treated as length+start. If end is negative, it\r
     * is treated as length+end.\r
     * @param end If not specified, length of the this object is used as its default value.\r
     */\r
    copyWithin(target: number, start: number, end?: number): this;\r
\r
    /**\r
     * Determines whether all the members of an array satisfy the specified test.\r
     * @param predicate A function that accepts up to three arguments. The every method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value false, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    every(predicate: (value: number, index: number, array: Float64Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Changes all array elements from \`start\` to \`end\` index to a static \`value\` and returns the modified array\r
     * @param value value to fill array section with\r
     * @param start index to start filling the array at. If start is negative, it is treated as\r
     * length+start where length is the length of the array.\r
     * @param end index to stop filling the array at. If end is negative, it is treated as\r
     * length+end.\r
     */\r
    fill(value: number, start?: number, end?: number): this;\r
\r
    /**\r
     * Returns the elements of an array that meet the condition specified in a callback function.\r
     * @param predicate A function that accepts up to three arguments. The filter method calls\r
     * the predicate function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    filter(predicate: (value: number, index: number, array: Float64Array) => any, thisArg?: any): Float64Array;\r
\r
    /**\r
     * Returns the value of the first element in the array where predicate is true, and undefined\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found, find\r
     * immediately returns that element value. Otherwise, find returns undefined.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    find(predicate: (value: number, index: number, obj: Float64Array) => boolean, thisArg?: any): number | undefined;\r
\r
    /**\r
     * Returns the index of the first element in the array where predicate is true, and -1\r
     * otherwise.\r
     * @param predicate find calls predicate once for each element of the array, in ascending\r
     * order, until it finds one where predicate returns true. If such an element is found,\r
     * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r
     * @param thisArg If provided, it will be used as the this value for each invocation of\r
     * predicate. If it is not provided, undefined is used instead.\r
     */\r
    findIndex(predicate: (value: number, index: number, obj: Float64Array) => boolean, thisArg?: any): number;\r
\r
    /**\r
     * Performs the specified action for each element in an array.\r
     * @param callbackfn  A function that accepts up to three arguments. forEach calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg  An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    forEach(callbackfn: (value: number, index: number, array: Float64Array) => void, thisArg?: any): void;\r
\r
    /**\r
     * Returns the index of the first occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     *  search starts at index 0.\r
     */\r
    indexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * Adds all the elements of an array separated by the specified separator string.\r
     * @param separator A string used to separate one element of an array from the next in the\r
     * resulting String. If omitted, the array elements are separated with a comma.\r
     */\r
    join(separator?: string): string;\r
\r
    /**\r
     * Returns the index of the last occurrence of a value in an array.\r
     * @param searchElement The value to locate in the array.\r
     * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the\r
     * search starts at index 0.\r
     */\r
    lastIndexOf(searchElement: number, fromIndex?: number): number;\r
\r
    /**\r
     * The length of the array.\r
     */\r
    readonly length: number;\r
\r
    /**\r
     * Calls a defined callback function on each element of an array, and returns an array that\r
     * contains the results.\r
     * @param callbackfn A function that accepts up to three arguments. The map method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param thisArg An object to which the this keyword can refer in the callbackfn function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    map(callbackfn: (value: number, index: number, array: Float64Array) => number, thisArg?: any): Float64Array;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Float64Array) => number): number;\r
    reduce(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Float64Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array. The return value of\r
     * the callback function is the accumulated result, and is provided as an argument in the next\r
     * call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduce method calls the\r
     * callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduce<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Float64Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an\r
     * argument instead of an array value.\r
     */\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Float64Array) => number): number;\r
    reduceRight(callbackfn: (previousValue: number, currentValue: number, currentIndex: number, array: Float64Array) => number, initialValue: number): number;\r
\r
    /**\r
     * Calls the specified callback function for all the elements in an array, in descending order.\r
     * The return value of the callback function is the accumulated result, and is provided as an\r
     * argument in the next call to the callback function.\r
     * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls\r
     * the callbackfn function one time for each element in the array.\r
     * @param initialValue If initialValue is specified, it is used as the initial value to start\r
     * the accumulation. The first call to the callbackfn function provides this value as an argument\r
     * instead of an array value.\r
     */\r
    reduceRight<U>(callbackfn: (previousValue: U, currentValue: number, currentIndex: number, array: Float64Array) => U, initialValue: U): U;\r
\r
    /**\r
     * Reverses the elements in an Array.\r
     */\r
    reverse(): Float64Array;\r
\r
    /**\r
     * Sets a value or an array of values.\r
     * @param array A typed or untyped array of values to set.\r
     * @param offset The index in the current array at which the values are to be written.\r
     */\r
    set(array: ArrayLike<number>, offset?: number): void;\r
\r
    /**\r
     * Returns a section of an array.\r
     * @param start The beginning of the specified portion of the array.\r
     * @param end The end of the specified portion of the array. This is exclusive of the element at the index 'end'.\r
     */\r
    slice(start?: number, end?: number): Float64Array;\r
\r
    /**\r
     * Determines whether the specified callback function returns true for any element of an array.\r
     * @param predicate A function that accepts up to three arguments. The some method calls\r
     * the predicate function for each element in the array until the predicate returns a value\r
     * which is coercible to the Boolean value true, or until the end of the array.\r
     * @param thisArg An object to which the this keyword can refer in the predicate function.\r
     * If thisArg is omitted, undefined is used as the this value.\r
     */\r
    some(predicate: (value: number, index: number, array: Float64Array) => unknown, thisArg?: any): boolean;\r
\r
    /**\r
     * Sorts an array.\r
     * @param compareFn Function used to determine the order of the elements. It is expected to return\r
     * a negative value if first argument is less than second argument, zero if they're equal and a positive\r
     * value otherwise. If omitted, the elements are sorted in ascending order.\r
     * \`\`\`ts\r
     * [11,2,22,1].sort((a, b) => a - b)\r
     * \`\`\`\r
     */\r
    sort(compareFn?: (a: number, b: number) => number): this;\r
\r
    /**\r
     * at begin, inclusive, up to end, exclusive.\r
     * @param begin The index of the beginning of the array.\r
     * @param end The index of the end of the array.\r
     */\r
    subarray(begin?: number, end?: number): Float64Array;\r
\r
    toString(): string;\r
\r
    /** Returns the primitive value of the specified object. */\r
    valueOf(): Float64Array;\r
\r
    [index: number]: number;\r
}\r
\r
interface Float64ArrayConstructor {\r
    readonly prototype: Float64Array;\r
    new(length: number): Float64Array;\r
    new(array: ArrayLike<number> | ArrayBufferLike): Float64Array;\r
    new(buffer: ArrayBufferLike, byteOffset?: number, length?: number): Float64Array;\r
\r
    /**\r
     * The size in bytes of each element in the array.\r
     */\r
    readonly BYTES_PER_ELEMENT: number;\r
\r
    /**\r
     * Returns a new array from a set of elements.\r
     * @param items A set of elements to include in the new array object.\r
     */\r
    of(...items: number[]): Float64Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     */\r
    from(arrayLike: ArrayLike<number>): Float64Array;\r
\r
    /**\r
     * Creates an array from an array-like or iterable object.\r
     * @param arrayLike An array-like or iterable object to convert to an array.\r
     * @param mapfn A mapping function to call on every element of the array.\r
     * @param thisArg Value of 'this' used to invoke the mapfn.\r
     */\r
    from<T>(arrayLike: ArrayLike<T>, mapfn: (v: T, k: number) => number, thisArg?: any): Float64Array;\r
\r
}\r
declare var Float64Array: Float64ArrayConstructor;\r
\r
/////////////////////////////\r
/// ECMAScript Internationalization API\r
/////////////////////////////\r
\r
declare namespace Intl {\r
    interface CollatorOptions {\r
        usage?: string | undefined;\r
        localeMatcher?: string | undefined;\r
        numeric?: boolean | undefined;\r
        caseFirst?: string | undefined;\r
        sensitivity?: string | undefined;\r
        ignorePunctuation?: boolean | undefined;\r
    }\r
\r
    interface ResolvedCollatorOptions {\r
        locale: string;\r
        usage: string;\r
        sensitivity: string;\r
        ignorePunctuation: boolean;\r
        collation: string;\r
        caseFirst: string;\r
        numeric: boolean;\r
    }\r
\r
    interface Collator {\r
        compare(x: string, y: string): number;\r
        resolvedOptions(): ResolvedCollatorOptions;\r
    }\r
    var Collator: {\r
        new(locales?: string | string[], options?: CollatorOptions): Collator;\r
        (locales?: string | string[], options?: CollatorOptions): Collator;\r
        supportedLocalesOf(locales: string | string[], options?: CollatorOptions): string[];\r
    };\r
\r
    interface NumberFormatOptions {\r
        localeMatcher?: string | undefined;\r
        style?: string | undefined;\r
        currency?: string | undefined;\r
        currencySign?: string | undefined;\r
        useGrouping?: boolean | undefined;\r
        minimumIntegerDigits?: number | undefined;\r
        minimumFractionDigits?: number | undefined;\r
        maximumFractionDigits?: number | undefined;\r
        minimumSignificantDigits?: number | undefined;\r
        maximumSignificantDigits?: number | undefined;\r
    }\r
\r
    interface ResolvedNumberFormatOptions {\r
        locale: string;\r
        numberingSystem: string;\r
        style: string;\r
        currency?: string;\r
        minimumIntegerDigits: number;\r
        minimumFractionDigits: number;\r
        maximumFractionDigits: number;\r
        minimumSignificantDigits?: number;\r
        maximumSignificantDigits?: number;\r
        useGrouping: boolean;\r
    }\r
\r
    interface NumberFormat {\r
        format(value: number): string;\r
        resolvedOptions(): ResolvedNumberFormatOptions;\r
    }\r
    var NumberFormat: {\r
        new(locales?: string | string[], options?: NumberFormatOptions): NumberFormat;\r
        (locales?: string | string[], options?: NumberFormatOptions): NumberFormat;\r
        supportedLocalesOf(locales: string | string[], options?: NumberFormatOptions): string[];\r
        readonly prototype: NumberFormat;\r
    };\r
\r
    interface DateTimeFormatOptions {\r
        localeMatcher?: "best fit" | "lookup" | undefined;\r
        weekday?: "long" | "short" | "narrow" | undefined;\r
        era?: "long" | "short" | "narrow" | undefined;\r
        year?: "numeric" | "2-digit" | undefined;\r
        month?: "numeric" | "2-digit" | "long" | "short" | "narrow" | undefined;\r
        day?: "numeric" | "2-digit" | undefined;\r
        hour?: "numeric" | "2-digit" | undefined;\r
        minute?: "numeric" | "2-digit" | undefined;\r
        second?: "numeric" | "2-digit" | undefined;\r
        timeZoneName?: "short" | "long" | "shortOffset" | "longOffset" | "shortGeneric" | "longGeneric" | undefined;\r
        formatMatcher?: "best fit" | "basic" | undefined;\r
        hour12?: boolean | undefined;\r
        timeZone?: string | undefined;\r
    }\r
\r
    interface ResolvedDateTimeFormatOptions {\r
        locale: string;\r
        calendar: string;\r
        numberingSystem: string;\r
        timeZone: string;\r
        hour12?: boolean;\r
        weekday?: string;\r
        era?: string;\r
        year?: string;\r
        month?: string;\r
        day?: string;\r
        hour?: string;\r
        minute?: string;\r
        second?: string;\r
        timeZoneName?: string;\r
    }\r
\r
    interface DateTimeFormat {\r
        format(date?: Date | number): string;\r
        resolvedOptions(): ResolvedDateTimeFormatOptions;\r
    }\r
    var DateTimeFormat: {\r
        new(locales?: string | string[], options?: DateTimeFormatOptions): DateTimeFormat;\r
        (locales?: string | string[], options?: DateTimeFormatOptions): DateTimeFormat;\r
        supportedLocalesOf(locales: string | string[], options?: DateTimeFormatOptions): string[];\r
        readonly prototype: DateTimeFormat;\r
    };\r
}\r
\r
interface String {\r
    /**\r
     * Determines whether two strings are equivalent in the current or specified locale.\r
     * @param that String to compare to target string\r
     * @param locales A locale string or array of locale strings that contain one or more language or locale tags. If you include more than one locale string, list them in descending order of priority so that the first entry is the preferred locale. If you omit this parameter, the default locale of the JavaScript runtime is used. This parameter must conform to BCP 47 standards; see the Intl.Collator object for details.\r
     * @param options An object that contains one or more properties that specify comparison options. see the Intl.Collator object for details.\r
     */\r
    localeCompare(that: string, locales?: string | string[], options?: Intl.CollatorOptions): number;\r
}\r
\r
interface Number {\r
    /**\r
     * Converts a number to a string by using the current or specified locale.\r
     * @param locales A locale string or array of locale strings that contain one or more language or locale tags. If you include more than one locale string, list them in descending order of priority so that the first entry is the preferred locale. If you omit this parameter, the default locale of the JavaScript runtime is used.\r
     * @param options An object that contains one or more properties that specify comparison options.\r
     */\r
    toLocaleString(locales?: string | string[], options?: Intl.NumberFormatOptions): string;\r
}\r
\r
interface Date {\r
    /**\r
     * Converts a date and time to a string by using the current or specified locale.\r
     * @param locales A locale string or array of locale strings that contain one or more language or locale tags. If you include more than one locale string, list them in descending order of priority so that the first entry is the preferred locale. If you omit this parameter, the default locale of the JavaScript runtime is used.\r
     * @param options An object that contains one or more properties that specify comparison options.\r
     */\r
    toLocaleString(locales?: string | string[], options?: Intl.DateTimeFormatOptions): string;\r
    /**\r
     * Converts a date to a string by using the current or specified locale.\r
     * @param locales A locale string or array of locale strings that contain one or more language or locale tags. If you include more than one locale string, list them in descending order of priority so that the first entry is the preferred locale. If you omit this parameter, the default locale of the JavaScript runtime is used.\r
     * @param options An object that contains one or more properties that specify comparison options.\r
     */\r
    toLocaleDateString(locales?: string | string[], options?: Intl.DateTimeFormatOptions): string;\r
\r
    /**\r
     * Converts a time to a string by using the current or specified locale.\r
     * @param locales A locale string or array of locale strings that contain one or more language or locale tags. If you include more than one locale string, list them in descending order of priority so that the first entry is the preferred locale. If you omit this parameter, the default locale of the JavaScript runtime is used.\r
     * @param options An object that contains one or more properties that specify comparison options.\r
     */\r
    toLocaleTimeString(locales?: string | string[], options?: Intl.DateTimeFormatOptions): string;\r
}\r
`},81356:S=>{"use strict";S.exports=`/**
 * Sends a request to the attached data source
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    // Update with custom logic or select a code sample.
    return {};
}

/**
 * Returns the resolver result
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    // Update with response logic
    return ctx.result;
}
`},43152:S=>{"use strict";S.exports=`/**
 * Starts the resolver execution
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the return value sent to the first AppSync function
 */
export function request(ctx) {
    return {};
}

/**
 * Returns the resolver result
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the return value of the last AppSync function response handler
 */
export function response(ctx) {
    return ctx.prev.result;
}
`},60965:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Deletes items from DynamoDB tables in batches with the provided \`id\` keys
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {import('@aws-appsync/utils').DynamoDBBatchDeleteItemRequest} the request
 */
export function request(ctx) {
    return {
        operation: 'BatchDeleteItem',
        tables: {
            Posts: ctx.args.ids.map((id) => util.dynamodb.toMapValues({ id })),
        },
    };
}

/**
 * Returns the BatchDeleteItem table results
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {[*]} the items
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result.data.Posts;
}
`},80240:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Gets items from the DynamoDB tables in batches with the provided \`id\` keys
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {import('@aws-appsync/utils').DynamoDBBatchGetItemRequest} the request
 */
export function request(ctx) {
    return {
        operation: 'BatchGetItem',
        tables: {
            Posts: {
                keys: ctx.args.ids.map((id) => util.dynamodb.toMapValues({ id })),
                consistentRead: true,
            },
        },
    };
}

/**
 * Returns the BatchGetItem table items
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {[*]} the items
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result.data.Posts;
}
`},80379:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Gets items from the DynamoDB tables in batches with the provided \`id\`\` keys
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {import('@aws-appsync/utils').DynamoDBBatchPutItemRequest} the request
 */
export function request(ctx) {
    return {
        operation: 'BatchPutItem',
        tables: {
            Posts: ctx.args.posts.map((post) => util.dynamodb.toMapValues(post)),
        },
    };
}

/**
 * Returns the BatchPutItem table results
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {[*]} the items
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result.data.Posts;
}
`},51876:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Deletes an item with id \`ctx.args.id\` from the DynamoDB table
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {import('@aws-appsync/utils').DynamoDBDeleteItemRequest} the request
 */
export function request(ctx) {
    return {
        operation: 'DeleteItem',
        key: util.dynamodb.toMapValues({ id: ctx.args.id }),
    };
}

/**
 * Returns the deleted item. Throws an error if the operation failed
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the deleted item
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result;
}
`},91355:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Sends a request to get an item with id \`ctx.args.id\`
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {import('@aws-appsync/utils').DynamoDBGetItemRequest} the request
 */
export function request(ctx) {
    return {
        operation: 'GetItem',
        key: util.dynamodb.toMapValues({ id: ctx.args.id }),
    };
}

/**
 * Returns the fetched DynamoDB item
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the DynamoDB item
 */
export function response(ctx) {
    return ctx.result;
}
`},5276:S=>{"use strict";S.exports=`/**
 * Scans the DynamoDB datasource. Scans up to the provided \`limit\` and stards from the provided \`NextToken\` (optional).
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {import('@aws-appsync/utils').DynamoDBScanRequest} the request
 */
export function request(ctx) {
    const { limit = 10, nextToken } = ctx.args;
    return { operation: 'Scan', limit, nextToken };
}

/**
 * Returns the scanned items
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} a flat list of results from the Scan operation
 */
export function response(ctx) {
    return ctx.result.items;
}
`},12514:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Puts an item into the DynamoDB table using an auto-generated ID.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {import('@aws-appsync/utils').DynamoDBPutItemRequest} the request
 */
export function request(ctx) {
    return {
        operation: 'PutItem',
        key: util.dynamodb.toMapValues({ id: util.autoId() }),
        attributeValues: util.dynamodb.toMapValues(ctx.args),
    };
}

/**
 * Returns the item or throws an error if the operation failed
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the inserted item
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result;
}
`},47890:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Queries a DynamoDB table and returns items created \`today\`
 * @param {import('@aws-appsync/utils').Context<{id: string}>} ctx the context
 * @returns {import('@aws-appsync/utils').DynamoDBQueryRequest} the request
 */
export function request(ctx) {
    const today = util.time.nowISO8601().substring(0, 10);
    const query = JSON.parse(
        util.transform.toDynamoDBConditionExpression({
            id: { eq: ctx.args.id },
            createdAt: { beginsWith: today },
        }),
    );
    return { operation: 'Query', query };
}

/**
 * Returns the query items
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {[*]} a flat list of result items
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result.items;
}
`},4480:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Queries a DynamoDB table, limits the number of returned items, and paginates with the provided \`nextToken\`
 * @param {import('@aws-appsync/utils').Context<{id: string; limit?: number; nextToken?:string}>} ctx the context
 * @returns {import('@aws-appsync/utils').DynamoDBQueryRequest} the request
 */
export function request(ctx) {
    const { id, limit = 20, nextToken } = ctx.args;
    const query = JSON.parse(
        util.transform.toDynamoDBConditionExpression({
            id: { eq: id },
        }),
    );
    return { operation: 'Query', query, limit, nextToken };
}

/**
 * Returns the query items
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {[*]} a flat list of result items
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result.items;
}
`},94651:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Queries a DynamoDB table for items based on the \`id\`
 * @param {import('@aws-appsync/utils').Context<{id: string}>} ctx the context
 * @returns {import('@aws-appsync/utils').DynamoDBQueryRequest} the request
 */
export function request(ctx) {
    return {
        operation: 'Query',
        query: {
            expression: '#id = :id',
            expressionNames: util.dynamodb.toMapValues({ '#id': 'id' }),
            expressionValues: util.dynamodb.toMapValues({ ':id': ctx.args.id }),
        },
    };
}

/**
 * Returns the query items
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {[*]} a flat list of result items
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result.items;
}
`},47879:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Queries a DynamoDB table for items based on the \`id\` and that contain the \`tag\`
 * @param {import('@aws-appsync/utils').Context<{id: string; tag:string}>} ctx the context
 * @returns {import('@aws-appsync/utils').DynamoDBQueryRequest} the request
 */
export function request(ctx) {
    const query = JSON.parse(
        util.transform.toDynamoDBConditionExpression({
            id: { eq: ctx.args.id },
        }),
    );

    const filter = JSON.parse(
        util.transform.toDynamoDBFilterExpression({
            tags: { contains: ctx.args.tag },
        }),
    );

    return { operation: 'Query', query, filter };
}

/**
 * Returns the query items
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {[*]} a flat list of result items
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result.items;
}
`},60924:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Queries a DynamoDB table for items based on the \`name\` and whose city contains \`city\`
 * @param {import('@aws-appsync/utils').Context<{name:string; city: string}>} ctx the context
 * @returns {import('@aws-appsync/utils').DynamoDBQueryRequest} the request
 */
export function request(ctx) {
    const query = JSON.parse(
        util.transform.toDynamoDBConditionExpression({
            name: { eq: ctx.args.name },
        }),
    );

    const filter = JSON.parse(
        util.transform.toDynamoDBFilterExpression({
            city: { contains: ctx.args.city },
        }),
    );

    return {
        operation: 'Query',
        index: 'name-index',
        query,
        filter,
    };
}

/**
 * Returns the query items
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {[*]} a flat list of result items
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result.items;
}
`},17857:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Queries a DynamoDB table for items created after a specified data (\`createdAt\`)
 * @param {import('@aws-appsync/utils').Context<{id: string; createdAt: string}>} ctx the context
 * @returns {import('@aws-appsync/utils').DynamoDBQueryRequest} the request
 */
export function request(ctx) {
    const { id, createdAt } = ctx.args;
    const query = JSON.parse(
        util.transform.toDynamoDBConditionExpression({
            id: { eq: id },
            createdAt: { gt: createdAt },
        }),
    );
    return { operation: 'Query', query };
}

/**
 * Returns the query items
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {[*]} a flat list of result items
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result.items;
}
`},75698:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Sends an event to Event Bridge
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    return {
        operation: 'PutEvents',
        events: [
            {
                source: ctx.source,
                detail: {
                    key1: [1, 2, 3, 4],
                    key2: 'strval',
                },
                detailType: 'sampleDetailType',
                resources: ['Resource1', 'Resource2'],
                time: util.time.nowISO8601(),
            },
        ],
    };
}

/**
 * Process the response
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the EventBridge response
 */
export function response(ctx) {
    return ctx.result;
}
`},61558:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Sends a GET request to retrieve a user's inforrmation
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns the request
 */
export function request(ctx) {
    return fetch('/my-path', {
        headers: util.http.copyHeaders(ctx.request.headers),
        body: ctx.args, // can include in the body
        query: ctx.args, // or in the query string
    });
}

/**
 * Process the HTTP response
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the publish response
 */
export function response(ctx) {
    const { statusCode, body } = ctx.result;
    // if response is 200, return the response
    if (statusCode === 200) {
        return body;
    }
    // if response is not 200, append the response to error block.
    util.appendError(body, statusCode);
}

/**
 * Sends an HTTP request
 * @param {string} resourcePath path of the request
 * @param {Object} [options] values to publish
 * @param {'PUT' | 'POST' | 'GET' | 'DELETE' | 'PATCH'} [options.method] the request method
 * @param {Object.<string, string>} [options.headers] the request headers
 * @param {string | Object.<string, any>} [options.body] the request body
 * @param {Object.<string, string>} [options.query] Key-value pairs that specify the query string
 * @returns {import('@aws-appsync/utils').HTTPRequest} the request
 */
function fetch(resourcePath, options) {
    const { method = 'GET', headers, body: _body, query } = options;
    const body = typeof _body === 'object' ? JSON.stringify(_body) : _body;
    return {
        resourcePath,
        method,
        params: { headers, query, body },
    };
}
`},67088:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Sends a GET request to retrieve a user's inforrmation
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns the request
 */
export function request(ctx) {
    return fetch(\`/v1/users/\${ctx.args.id}\`, {
        headers: {
            'Content-Type': 'application/json',
        },
    });
}

/**
 * Process the HTTP response
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the publish response
 */
export function response(ctx) {
    const { statusCode, body } = ctx.result;
    // if response is 200, return the response
    if (statusCode === 200) {
        return body;
    }
    // if response is not 200, append the response to error block.
    util.appendError(body, statusCode);
}

/**
 * Sends an HTTP request
 * @param {string} resourcePath path of the request
 * @param {Object} [options] values to publish
 * @param {'PUT' | 'POST' | 'GET' | 'DELETE' | 'PATCH'} [options.method] the request method
 * @param {Object.<string, string>} [options.headers] the request headers
 * @param {unknown} [options.body] the request body
 * @param {Object.<string, string>} [options.query] Key-value pairs that specify the query string
 * @returns {import('@aws-appsync/utils').HTTPRequest} the request
 */
function fetch(resourcePath, options) {
    const { method = 'GET', headers, body, query } = options;
    const params = { headers, query };
    if (method !== 'GET') {
        params.body = body;
    }
    return { resourcePath, method, params };
}
`},4589:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Sends a publish request to the SNS topic
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns the request
 */
export function request(ctx) {
    const TOPIC_ARN = '<your:topic:arn>';
    const { input: values } = ctx.args;
    return publishToSNSRequest(TOPIC_ARN, values);
}

/**
 * Process the publish response
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {string} the publish response
 */
export function response(ctx) {
    const {
        result: { statusCode, body },
    } = ctx;
    if (statusCode === 200) {
        // if response is 200
        // parse the xml response
        return util.xml.toMap(body).PublishResponse.PublishResult;
    }

    // if response is not 200, append the response to error block.
    util.appendError(body, \`\${statusCode}\`);
}

/**
 * Sends a publish request
 * @param {string} topicArn SNS topic ARN
 * @param {*} values values to publish
 * @returns {import('@aws-appsync/utils').HTTPRequest} the request
 */
function publishToSNSRequest(topicArn, values) {
    const arn = util.urlEncode(topicArn);
    const tmp = JSON.stringify(values);
    const message = util.urlEncode(tmp);
    const Body = {
        Action: 'Publish',
        Version: '2010-03-31',
        topicArn: arn,
        Message: message,
    };
    const body = Object.entries(Body)
        .map(([k, v]) => \`\${k}=\${v}\`)
        .join('&');

    return fetch('/', {
        method: 'POST',
        body,
        headers: {
            'content-type': 'application/x-www-form-urlencoded',
        },
    });
}

/**
 * Sends an HTTP request
 * @param {string} resourcePath path of the request
 * @param {Object} [options] values to publish
 * @param {'PUT' | 'POST' | 'GET' | 'DELETE' | 'PATCH'} [options.method] the request method
 * @param {Object.<string, string>} [options.headers] the request headers
 * @param {string | Object.<string, any>} [options.body] the request body
 * @param {Object.<string, string>} [options.query] Key-value pairs that specify the query string
 * @returns {import('@aws-appsync/utils').HTTPRequest} the request
 */
function fetch(resourcePath, options) {
    const { method = 'GET', headers, body: _body, query } = options;
    const body = typeof _body === 'object' ? JSON.stringify(_body) : _body;
    return {
        resourcePath,
        method,
        params: { headers, query, body },
    };
}
`},96955:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Sends a POST request to create a new user
 * @param {import('@aws-appsync/utils').Context<{input: {id: string; name:string}}>} ctx the context
 * @returns the request
 */
export function request(ctx) {
    return fetch(\`/v1/users\`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: ctx.args.input,
    });
}

/**
 * Process the HTTP response
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the publish response
 */
export function response(ctx) {
    const { statusCode, body } = ctx.result;
    // if response is 200, return the response
    if (statusCode === 200) {
        return body;
    }
    // if response is not 200, append the response to error block.
    util.appendError(body, statusCode);
}

/**
 * Sends an HTTP request
 * @param {string} resourcePath path of the request
 * @param {Object} [options] values to publish
 * @param {'PUT' | 'POST' | 'GET' | 'DELETE' | 'PATCH'} [options.method] the request method
 * @param {Object.<string, string>} [options.headers] the request headers
 * @param {string | Object.<string, any>} [options.body] the request body
 * @param {Object.<string, string>} [options.query] Key-value pairs that specify the query string
 * @returns {import('@aws-appsync/utils').HTTPRequest} the request
 */
function fetch(resourcePath, options) {
    const { method = 'GET', headers, body: _body, query } = options;
    const body = typeof _body === 'object' ? JSON.stringify(_body) : _body;
    return {
        resourcePath,
        method,
        params: { headers, query, body },
    };
}
`},45129:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Sends a tranlsate request to the Translate service
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns the request
 */
export function request(ctx) {
    const { text = 'Hello World!', source = 'EN', target = 'FR' } = ctx.args;
    return awsTranslateRequest(text, source, target);
}

/**
 * Process the translate response
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {string} the translated text
 */
export function response(ctx) {
    const { result } = ctx;
    if (result.statusCode !== 200) {
        return util.appendError(result.body, \`\${result.statusCode}\`);
    }
    const body = JSON.parse(result.body);
    return body.TranslatedText;
}

/**
 * Sends a request to the Translate service
 * @param {string} text text to translate
 * @param {string} source the source language code
 * @param {string} target the target language code
 * @returns {import('@aws-appsync/utils').HTTPRequest} the request
 */
function awsTranslateRequest(text, source, target) {
    return fetch('/', {
        method: 'POST',
        headers: {
            'content-type': 'application/x-amz-json-1.1',
            'x-amz-target': 'AWSShineFrontendService_20170701.TranslateText',
        },
        body: { Text: text, SourceLanguageCode: source, TargetLanguageCode: target },
    });
}

/**
 * Sends an HTTP request
 * @param {string} resourcePath path of the request
 * @param {Object} [options] values to publish
 * @param {'PUT' | 'POST' | 'GET' | 'DELETE' | 'PATCH'} [options.method] the request method
 * @param {Object.<string, string>} [options.headers] the request headers
 * @param {string | Object.<string, any>} [options.body] the request body
 * @param {Object.<string, string>} [options.query] Key-value pairs that specify the query string
 * @returns {import('@aws-appsync/utils').HTTPRequest} the request
 */
function fetch(resourcePath, options) {
    const { method = 'GET', headers, body: _body, query } = options;
    const body = typeof _body === 'object' ? JSON.stringify(_body) : _body;
    return {
        resourcePath,
        method,
        params: { headers, query, body },
    };
}
`},55960:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Sends a request to a Lambda function. Passes all information about the request from the \`info\` object.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {import('@aws-appsync/utils').LambdaRequest} the request
 */
export function request(ctx) {
    return {
        operation: 'Invoke',
        payload: {
            fieldName: ctx.info.fieldName,
            parentTypeName: ctx.info.parentTypeName,
            variables: ctx.info.variables,
            selectionSetList: ctx.info.selectionSetList,
            selectionSetGraphQL: ctx.info.selectionSetGraphQL,
        },
    };
}

/**
 * Process a Lambda function response
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the Lambda function response
 */
export function response(ctx) {
    const { result, error } = ctx;
    if (error) {
        util.error(error.message, error.type, result);
    }
    return result;
}
`},13720:S=>{"use strict";S.exports=`import { util, extensions } from '@aws-appsync/utils';

/**
 * Sends an empty payload as the subscription is established
 * @param {*} ctx the context
 * @returns {import('@aws-appsync/utils').NONERequest} the request
 */
export function request(ctx) {
    // noop
    return { payload: {} };
}

/**
 * Creates an enhanced subscription
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    // the logged in user group
    const groups = ['admin', 'operators'];
    // or use the user's own groups
    // const groups = ctx.identity.groups

    // This filter sets up a subscription that is triggered when:
    // - a mutation with severity >= 7 and priority high or medium is made
    // - or a mtuation with classification "security" is made and the user belongs to the "admin" or "operators" group
    const filter = util.transform.toSubscriptionFilter({
        or: [
            { and: [{ severity: { ge: 7 } }, { priority: { in: ['high', 'medium'] } }] },
            { and: [{ classification: { eq: 'security' } }, { group: { in: groups } }] },
        ],
    });
    console.log(filter);
    extensions.setSubscriptionFilter(filter);
    return null;
}
`},16337:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Publishes an event localy
 * @param {*} ctx the context
 * @returns {import('@aws-appsync/utils').NONERequest} the request
 */
export function request(ctx) {
    return {
        payload: {
            body: ctx.args.body,
            to: ctx.args.to,
            from: ctx.identity.username,
            sentAt: util.time.nowISO8601(),
        },
    };
}

/**
 * Forward the payload in the \`result\` object
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    return ctx.result;
}
`},73130:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Searches for all documents using Geodistance aggregation
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    // Replace with actual values, e.g.: post
    const index = '<index>';
    return {
        operation: 'GET',
        path: \`/\${index}/_search\`,
        params: {
            body: {
                query: {
                    filtered: {
                        query: { match_all: {} },
                        filter: {
                            geo_distance: {
                                distance: '20mi',
                                location: { lat: 47.6205, lon: 122.3493 },
                            },
                        },
                    },
                },
            },
        },
    };
}

/**
 * Returns the fetched items
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result.hits.hits.map((hit) => hit._source);
}
`},85254:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Gets a document by \`id\`
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    // e.g.: post
    const index = '<index>';
    return {
        operation: 'GET',
        path: \`/\${index}/_doc/\${ctx.args.id}\`,
    };
}

/**
 * Returns the fetched item
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result._source;
}
`},80052:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Paginates through search results using \`from\` and \`size\` arguments
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    // Replace with actual values, e.g.: post
    const index = '<index>';
    return {
        operation: 'GET',
        path: \`/\${index}/_search\`,
        params: {
            body: {
                from: ctx.args.from ?? 0,
                size: ctx.args.size ?? 50,
            },
        },
    };
}

/**
 * Returns the fetched items
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result.hits.hits.map((hit) => hit._source);
}
`},94027:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';

/**
 * Searches for documents by using an input term
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    // Replace with actual values, e.g.: post
    const index = '<index>';
    return {
        operation: 'GET',
        path: \`/\${index}/_search\`,
        params: {
            body: {
                from: 0,
                size: 50,
                query: {
                    term: {
                        '<field>': ctx.args.field, // replace with your field
                    },
                },
            },
        },
    };
}

/**
 * Returns the fetched items
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    if (ctx.error) {
        util.error(ctx.error.message, ctx.error.type);
    }
    return ctx.result.hits.hits.map((hit) => hit._source);
}
`},20952:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';
import { insert, select, createMySQLStatement, toJsonObject } from '@aws-appsync/utils/rds';

/**
 * Puts an item into the employees table using the supplied input.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    const { input } = ctx.args;
    const insertStatement = insert({
        table: 'employees',
        values: input,
    });
    const { emp_no } = input;
    const where = {
        emp_no: {
            eq: emp_no,
        },
    };
    const selectStatement = select({
        table: 'employees',
        columns: '*',
        where,
        limit: 1,
    });
    return createMySQLStatement(insertStatement, selectStatement);
}

/**
 * Returns the result or throws an error if the operation failed.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    const { error, result } = ctx;
    if (error) {
        return util.appendError(error.message, error.type, result);
    }
    return toJsonObject(result)[1][0];
}
`},61131:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';
import { remove, select, createMySQLStatement, toJsonObject } from '@aws-appsync/utils/rds';

/**
 * Deletes an item with emp_no \`ctx.args.input.emp_no\` from the employees table.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    const {
        input: { emp_no },
        condition = {},
    } = ctx.args;
    const where = {
        ...condition,
        emp_no: {
            eq: emp_no,
        },
    };
    const selectStatement = select({
        table: 'employees',
        columns: '*',
        where,
        limit: 1,
    });
    const deleteStatement = remove({
        table: 'employees',
        where,
    });
    return createMySQLStatement(selectStatement, deleteStatement);
}

/**
 * Returns the result or throws an error if the operation failed.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    const { error, result } = ctx;
    if (error) {
        return util.appendError(error.message, error.type, result);
    }
    return toJsonObject(result)[0][0];
}
`},35378:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';
import { select, createMySQLStatement, toJsonObject } from '@aws-appsync/utils/rds';

/**
 * Sends a request to get an item with emp_no \`ctx.args.emp_no\` from the employees table.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    const { emp_no } = ctx.args;
    const where = {
        emp_no: {
            eq: emp_no,
        },
    };
    const statement = select({
        table: 'employees',
        columns: '*',
        where,
        limit: 1,
    });
    return createMySQLStatement(statement);
}

/**
 * Returns the result or throws an error if the operation failed.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    const { error, result } = ctx;
    if (error) {
        return util.appendError(error.message, error.type, result);
    }
    return toJsonObject(result)[0][0];
}
`},38305:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';
import { select, createMySQLStatement, toJsonObject } from '@aws-appsync/utils/rds';

/**
 * Lists items in the table. Lists up to the provided \`limit\` and starts from the provided \`nextToken\` (optional).
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    const { filter = {}, limit = 100, nextToken } = ctx.args;
    const offset = nextToken ? +util.base64Decode(nextToken) : 0;
    const statement = select({
        table: 'employees',
        columns: '*',
        limit,
        offset,
        where: filter,
    });
    return createMySQLStatement(statement);
}

/**
 * Returns the result or throws an error if the operation failed.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    const {
        args: { limit = 100, nextToken },
        error,
        result,
    } = ctx;
    if (error) {
        return util.appendError(error.message, error.type, result);
    }
    const offset = nextToken ? +util.base64Decode(nextToken) : 0;
    const items = toJsonObject(result)[0];
    const endOfResults = items?.length < limit;
    const token = endOfResults ? null : util.base64Encode(\`\${offset + limit}\`);
    return {
        items,
        nextToken: token,
    };
}
`},94463:S=>{"use strict";S.exports=`import { sql, createMySQLStatement, toJsonObject } from '@aws-appsync/utils/rds';

/**
 * Given an \`employees\` table with columns \`last_name\` and \`hire_date\`:
 * selects the last name and count of employees whose last name starts
 * with \`ctx.args.name\` and were hired after $\`ctx.args.date\`.
 * @param {import('@aws-appsync/utils').Context} ctx
 * @returns a MySQL SQL statement
 */
export function request(ctx) {
    const query = sql\`
SELECT last_name, count(*)
FROM employees 
WHERE last_name like \${\`\${ctx.args.name}%\`} and hire_date > \${ctx.args.date}
GROUP BY last_name
\`;
    return createMySQLStatement(query);
}

/**
 * Returns the result of the query
 * @param {import('@aws-appsync/utils').Context} ctx
 * @returns the result
 */
export function response(ctx) {
    return toJsonObject(ctx.result)[0];
}
`},90837:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';
import { update, select, createMySQLStatement, toJsonObject } from '@aws-appsync/utils/rds';

/**
 * Updates an item in the employees table, if an item with the given key exists.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    const {
        input: { emp_no, ...values },
        condition = {},
    } = ctx.args;
    const where = {
        ...condition,
        emp_no: {
            eq: emp_no,
        },
    };
    const updateStatement = update({
        table: 'employees',
        values,
        where,
    });
    const selectStatement = select({
        table: 'employees',
        columns: '*',
        where,
        limit: 1,
    });
    return createMySQLStatement(updateStatement, selectStatement);
}

/**
 * Returns the result or throws an error if the operation failed.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    const { error, result } = ctx;
    if (error) {
        return util.appendError(error.message, error.type, result);
    }
    return toJsonObject(result)[1][0];
}
`},10591:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';
import { insert, createPgStatement, toJsonObject } from '@aws-appsync/utils/rds';

/**
 * Puts an item into the employees table using the supplied input.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    const { input } = ctx.args;
    const insertStatement = insert({
        table: 'employees',
        values: input,
        returning: '*',
    });
    return createPgStatement(insertStatement);
}

/**
 * Returns the result or throws an error if the operation failed.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    const { error, result } = ctx;
    if (error) {
        return util.appendError(error.message, error.type, result);
    }
    return toJsonObject(result)[0][0];
}
`},73888:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';
import { remove, createPgStatement, toJsonObject } from '@aws-appsync/utils/rds';

/**
 * Deletes an item with emp_no \`ctx.args.input.emp_no\` from the employees table.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    const {
        input: { emp_no },
        condition = {},
    } = ctx.args;
    const where = {
        ...condition,
        emp_no: {
            eq: emp_no,
        },
    };
    const deleteStatement = remove({
        table: 'employees',
        where,
        returning: '*',
    });
    return createPgStatement(deleteStatement);
}

/**
 * Returns the result or throws an error if the operation failed.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    const { error, result } = ctx;
    if (error) {
        return util.appendError(error.message, error.type, result);
    }
    return toJsonObject(result)[0][0];
}
`},49463:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';
import { select, createPgStatement, toJsonObject } from '@aws-appsync/utils/rds';

/**
 * Sends a request to get an item with emp_no \`ctx.args.emp_no\` from the employees table.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    const { emp_no } = ctx.args;
    const where = {
        emp_no: {
            eq: emp_no,
        },
    };
    const statement = select({
        table: 'employees',
        columns: '*',
        where,
        limit: 1,
    });
    return createPgStatement(statement);
}

/**
 * Returns the result or throws an error if the operation failed.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    const { error, result } = ctx;
    if (error) {
        return util.appendError(error.message, error.type, result);
    }
    return toJsonObject(result)[0][0];
}
`},37616:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';
import { select, createPgStatement, toJsonObject } from '@aws-appsync/utils/rds';

/**
 * Lists items in the table. Lists up to the provided \`limit\` and starts from the provided \`nextToken\` (optional).
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    const { filter = {}, limit = 100, nextToken } = ctx.args;
    const offset = nextToken ? +util.base64Decode(nextToken) : 0;
    const statement = select({
        table: 'employees',
        columns: '*',
        limit,
        offset,
        where: filter,
    });
    return createPgStatement(statement);
}

/**
 * Returns the result or throws an error if the operation failed.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    const {
        args: { limit = 100, nextToken },
        error,
        result,
    } = ctx;
    if (error) {
        return util.appendError(error.message, error.type, result);
    }
    const offset = nextToken ? +util.base64Decode(nextToken) : 0;
    const items = toJsonObject(result)[0];
    const endOfResults = items?.length < limit;
    const token = endOfResults ? null : util.base64Encode(\`\${offset + limit}\`);
    return {
        items,
        nextToken: token,
    };
}
`},96024:S=>{"use strict";S.exports=`import { sql, createPgStatement, toJsonObject } from '@aws-appsync/utils/rds';

/**
 * Given an \`employees\` table with columns \`last_name\` and \`hire_date\`:
 * selects the last name and count of employees whose last name starts
 * with \`ctx.args.name\` and were hired after $\`ctx.args.date\`.
 * @param {import('@aws-appsync/utils').Context} ctx
 * @returns a PostgreSQL statement
 */
export function request(ctx) {
    const query = sql\`
SELECT last_name, count(*)
FROM employees 
WHERE last_name like \${\`\${ctx.args.name}%\`} and hire_date > \${ctx.args.date}
GROUP BY last_name
\`;
    return createPgStatement(query);
}

/**
 * Returns the result of the query
 * @param {import('@aws-appsync/utils').Context} ctx
 * @returns the result
 */
export function response(ctx) {
    return toJsonObject(ctx.result)[0];
}
`},95174:S=>{"use strict";S.exports=`import { util } from '@aws-appsync/utils';
import { update, createPgStatement, toJsonObject } from '@aws-appsync/utils/rds';

/**
 * Updates an item in the employees table, if an item with the given key exists.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the request
 */
export function request(ctx) {
    const {
        input: { emp_no, ...values },
        condition = {},
    } = ctx.args;
    const where = {
        ...condition,
        emp_no: {
            eq: emp_no,
        },
    };
    const updateStatement = update({
        table: 'employees',
        values,
        where,
        returning: '*',
    });
    return createPgStatement(updateStatement);
}

/**
 * Returns the result or throws an error if the operation failed.
 * @param {import('@aws-appsync/utils').Context} ctx the context
 * @returns {*} the result
 */
export function response(ctx) {
    const { error, result } = ctx;
    if (error) {
        return util.appendError(error.message, error.type, result);
    }
    return toJsonObject(result)[0][0];
}
`}},yy={};function Ue(S){var we=yy[S];if(we!==void 0)return we.exports;var v=yy[S]={id:S,loaded:!1,exports:{}};return fy[S].call(v.exports,v,v.exports,Ue),v.loaded=!0,v.exports}Ue.m=fy,Ue.amdD=function(){throw new Error("define cannot be used indirect")},(()=>{var S=[];Ue.O=(we,v,i,$e)=>{if(v){$e=$e||0;for(var Se=S.length;Se>0&&S[Se-1][2]>$e;Se--)S[Se]=S[Se-1];S[Se]=[v,i,$e];return}for(var te=1/0,Se=0;Se<S.length;Se++){for(var[v,i,$e]=S[Se],Ye=!0,ce=0;ce<v.length;ce++)($e&!1||te>=$e)&&Object.keys(Ue.O).every(D=>Ue.O[D](v[ce]))?v.splice(ce--,1):(Ye=!1,$e<te&&(te=$e));if(Ye){S.splice(Se--,1);var T=i();T!==void 0&&(we=T)}}return we}})(),Ue.n=S=>{var we=S&&S.__esModule?()=>S.default:()=>S;return Ue.d(we,{a:we}),we},(()=>{var S=Object.getPrototypeOf?v=>Object.getPrototypeOf(v):v=>v.__proto__,we;Ue.t=function(v,i){if(i&1&&(v=this(v)),i&8||typeof v=="object"&&v&&(i&4&&v.__esModule||i&16&&typeof v.then=="function"))return v;var $e=Object.create(null);Ue.r($e);var Se={};we=we||[null,S({}),S([]),S(S)];for(var te=i&2&&v;typeof te=="object"&&!~we.indexOf(te);te=S(te))Object.getOwnPropertyNames(te).forEach(Ye=>Se[Ye]=()=>v[Ye]);return Se.default=()=>v,Ue.d($e,Se),$e}})(),Ue.d=(S,we)=>{for(var v in we)Ue.o(we,v)&&!Ue.o(S,v)&&Object.defineProperty(S,v,{enumerable:!0,get:we[v]})},Ue.f={},Ue.e=S=>Promise.all(Object.keys(Ue.f).reduce((we,v)=>(Ue.f[v](S,we),we),[])),Ue.u=S=>{if(S===952)return"952.js";if(S===2432)return"2432.js";if(S===47)return"47.js";if(S===3444)return"dynamic-common-3444.js";if(S===2160)return"2160.js";if(S===3459)return"3459.js";if(S===1221)return"1221.js";if(S===9340)return"9340.js";if(S===1657)return"1657.js";if(S===5011)return"5011.js";if(S===1496)return"1496.js";if(S===8533)return"8533.js";if(S===8586)return"8586.js";if(S===6503)return"6503.js";if(S===270)return"270.js";if(S===6181)return"6181.js";if(S===1137)return"1137.js";if(S===8628)return"8628.js";if(S===2030)return"2030.js";if(S===996)return"996.js";if(S===3419)return"3419.js";if(S===2067)return"2067.js";if(S===5677)return"5677.js";if(S===7826)return"7826.js";if(S===1450)return"1450.js";if(S===1001)return"1001.js";if(S===7406)return"7406.js";if(S===9517)return"9517.js";if(S===1843)return"1843.js";if(S===6199)return"6199.js";if(S===830)return"830.js";if(S===7145)return"7145.js";if(S===9417)return"9417.js";if(S===4420)return"4420.js";if(S===6627)return"6627.js";if(S===3158)return"3158.js";if(S===616)return"616.js";if(S===8996)return"8996.js";if(S===5113)return"5113.js";if(S===7936)return"7936.js";if(S===8470)return"8470.js";if(S===4570)return"4570.js";if(S===1507)return"1507.js";if(S===8918)return"8918.js";if(S===2376)return"2376.js";if(S===3135)return"3135.js";if(S===902)return"902.js";if(S===897)return"897.js";if(S===638)return"638.js";if(S===6809)return"6809.js";if(S===8506)return"8506.js";if(S===5814)return"5814.js";if(S===6746)return"6746.js";if(S===7247)return"7247.js";if(S===6811)return"6811.js";if(S===3452)return"3452.js";if(S===1255)return"1255.js";if(S===8749)return"8749.js";if(S===311)return"311.js";if(S===1183)return"1183.js";if(S===3781)return"3781.js";if(S===731)return"731.js";if(S===2887)return"2887.js";if(S===5883)return"5883.js";if(S===4499)return"4499.js";if(S===6623)return"6623.js";if(S===2797)return"2797.js";if(S===1305)return"1305.js";if(S===2361)return"2361.js";if(S===1293)return"1293.js";if(S===6187)return"6187.js";if(S===9072)return"9072.js";if(S===7772)return"7772.js";if(S===8507)return"8507.js";if(S===9687)return"9687.js";if(S===7665)return"7665.js";if(S===5399)return"5399.js";if(S===3622)return"3622.js";if(S===5243)return"5243.js";if(S===569)return"569.js";if(S===1766)return"1766.js";if(S===1004)return"1004.js";if(S===2327)return"2327.js";if(S===3780)return"3780.js";if(S===3537)return"3537.js";if(S===4108)return"4108.js";if(S===5025)return"5025.js";if(S===3236)return"3236.js";if(S===3204)return"3204.js";if(S===2540)return"2540.js";if(S===8297)return"8297.js";if(S===6679)return"6679.js";if(S===2628)return"2628.js";if(S===9249)return"9249.js";if(S===8769)return"8769.js";if(S===3124)return"3124.js";if(S===4413)return"4413.js";if(S===9669)return"9669.js";if(S===4330)return"4330.js";if(S===335)return"335.js";if(S===5408)return"5408.js";if(S===3471)return"3471.js";if(S===2045)return"2045.js";if(S===8)return"8.js";if(S===1281)return"1281.js";if(S===472)return"472.js";if(S===9010)return"9010.js";if(S===5029)return"5029.js";if(S===1239)return"1239.js";if(S===2586)return"2586.js";if(S===8382)return"8382.js";if(S===3097)return"3097.js";if(S===2555)return"2555.js";if(S===6902)return"6902.js";if(S===9685)return"9685.js";if(S===5085)return"5085.js";if(S===1842)return"1842.js";if(S===3082)return"3082.js";if(S===1170)return"1170.js";if(S===3257)return"3257.js";if(S===3477)return"3477.js";if(S===7633)return"7633.js";if(S===1788)return"1788.js";if(S===8045)return"8045.js";if(S===7e3)return"7000.js";if(S===4194)return"4194.js";if(S===8077)return"8077.js";if(S===7802)return"7802.js";if(S===1325)return"1325.js";if(S===5111)return"5111.js";if(S===4817)return"4817.js";if(S===2456)return"2456.js";if(S===9753)return"9753.js";if(S===1901)return"1901.js";if(S===1594)return"1594.js";if(S===7632)return"7632.js";if(S===2602)return"2602.js";if(S===8334)return"8334.js";if(S===1835)return"1835.js";if(S===975)return"975.js";if(S===499)return"499.js";if(S===4163)return"4163.js";if(S===2632)return"2632.js";if(S===3489)return"3489.js";if(S===8909)return"8909.js";if(S===5438)return"5438.js";if(S===7108)return"7108.js";if(S===2682)return"2682.js";if(S===9557)return"9557.js";if(S===7624)return"7624.js";if(S===7281)return"7281.js";if(S===6147)return"6147.js";if(S===2496)return"2496.js";if(S===4527)return"4527.js";if(S===4442)return"4442.js";if(S===7359)return"7359.js";if(S===3534)return"3534.js";if(S===6742)return"6742.js";if(S===9869)return"9869.js";if(S===4286)return"4286.js";if(S===9755)return"9755.js";if(S===6332)return"6332.js";if(S===1057)return"1057.js";if(S===9159)return"9159.js";if(S===7387)return"7387.js";if(S===7385)return"7385.js";if(S===471)return"471.js";if(S===316)return"316.js";if(S===4973)return"4973.js";if(S===262)return"262.js";if(S===3767)return"3767.js";if(S===6667)return"6667.js";if(S===3330)return"3330.js";if(S===9170)return"9170.js";if(S===2049)return"2049.js";if(S===8648)return"8648.js";if(S===2070)return"2070.js";if(S===5692)return"5692.js";if(S===5477)return"5477.js";if(S===846)return"846.js";if(S===1723)return"1723.js";if(S===8992)return"8992.js";if(S===4854)return"4854.js";if(S===2499)return"2499.js";if(S===4142)return"4142.js";if(S===470)return"470.js";if(S===1079)return"1079.js";if(S===1655)return"1655.js";if(S===9258)return"9258.js";if(S===4417)return"4417.js";if(S===1777)return"1777.js";if(S===9776)return"9776.js";if(S===7705)return"7705.js";if(S===766)return"766.js";if(S===9115)return"9115.js";if(S===2823)return"2823.js";if(S===5588)return"translations-de-json.js";if(S===5116)return"translations-en-json.js";if(S===1163)return"translations-es-json.js";if(S===8479)return"translations-fr-json.js";if(S===22)return"translations-id-json.js";if(S===8998)return"translations-it-json.js";if(S===4662)return"translations-ja-json.js";if(S===9897)return"translations-ko-json.js";if(S===2858)return"translations-pt_BR-json.js";if(S===8611)return"translations-th-json.js";if(S===649)return"translations-tr-json.js";if(S===1518)return"translations-translation-schema-json.js";if(S===8397)return"translations-zh_CN-json.js";if(S===4665)return"translations-zh_TW-json.js"},Ue.miniCssF=S=>{},Ue.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Ue.o=(S,we)=>Object.prototype.hasOwnProperty.call(S,we),(()=>{var S={},we="@amzn/awsappsyncconsole:";Ue.l=(v,i,$e,Se)=>{if(S[v]){S[v].push(i);return}var te,Ye;if($e!==void 0)for(var ce=document.getElementsByTagName("script"),T=0;T<ce.length;T++){var dt=ce[T];if(dt.getAttribute("src")==v||dt.getAttribute("data-webpack")==we+$e){te=dt;break}}te||(Ye=!0,te=document.createElement("script"),te.charset="utf-8",te.timeout=120,Ue.nc&&te.setAttribute("nonce",Ue.nc),te.setAttribute("data-webpack",we+$e),te.src=v),S[v]=[i];var je=(Re,D)=>{te.onerror=te.onload=null,clearTimeout(lt);var k=S[v];if(delete S[v],te.parentNode&&te.parentNode.removeChild(te),k&&k.forEach(Ne=>Ne(D)),Re)return Re(D)},lt=setTimeout(je.bind(null,void 0,{type:"timeout",target:te}),12e4);te.onerror=je.bind(null,te.onerror),te.onload=je.bind(null,te.onload),Ye&&document.head.appendChild(te)}})(),Ue.r=S=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})},Ue.nmd=S=>(S.paths=[],S.children||(S.children=[]),S),(()=>{var S;Ue.g.importScripts&&(S=Ue.g.location+"");var we=Ue.g.document;if(!S&&we&&(we.currentScript&&(S=we.currentScript.src),!S)){var v=we.getElementsByTagName("script");if(v.length)for(var i=v.length-1;i>-1&&(!S||!/^http(s?):/.test(S));)S=v[i--].src}if(!S)throw new Error("Automatic publicPath is not supported in this browser");S=S.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),Ue.p=S})(),(()=>{var S={8792:0};Ue.f.j=(i,$e)=>{var Se=Ue.o(S,i)?S[i]:void 0;if(Se!==0)if(Se)$e.push(Se[2]);else{var te=new Promise((dt,je)=>Se=S[i]=[dt,je]);$e.push(Se[2]=te);var Ye=Ue.p+Ue.u(i),ce=new Error,T=dt=>{if(Ue.o(S,i)&&(Se=S[i],Se!==0&&(S[i]=void 0),Se)){var je=dt&&(dt.type==="load"?"missing":dt.type),lt=dt&&dt.target&&dt.target.src;ce.message="Loading chunk "+i+` failed.
(`+je+": "+lt+")",ce.name="ChunkLoadError",ce.type=je,ce.request=lt,Se[1](ce)}};Ue.l(Ye,T,"chunk-"+i,i)}},Ue.O.j=i=>S[i]===0;var we=(i,$e)=>{var[Se,te,Ye]=$e,ce,T,dt=0;if(Se.some(lt=>S[lt]!==0)){for(ce in te)Ue.o(te,ce)&&(Ue.m[ce]=te[ce]);if(Ye)var je=Ye(Ue)}for(i&&i($e);dt<Se.length;dt++)T=Se[dt],Ue.o(S,T)&&S[T]&&S[T][0](),S[T]=0;return Ue.O(je)},v=globalThis.webpackChunk_amzn_awsappsyncconsole=globalThis.webpackChunk_amzn_awsappsyncconsole||[];v.forEach(we.bind(null,0)),v.push=we.bind(null,v.push.bind(v))})();var gy=Ue.O(void 0,[3827,8096,774],()=>Ue(71713));gy=Ue.O(gy)})();

//# sourceMappingURL=main.js.map